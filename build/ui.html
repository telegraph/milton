<div id="app"></div>
<script>(() => {
  var __defineProperty = Object.defineProperty;
  var __hasOwnProperty = Object.prototype.hasOwnProperty;
  var __assign = Object.assign;
  var __commonJS = (callback, module) => () => {
    if (!module) {
      module = {exports: {}};
      callback(module.exports, module);
    }
    return module.exports;
  };
  var __markAsModule = (target) => {
    return __defineProperty(target, "__esModule", {value: true});
  };
  var __exportStar = (target, module) => {
    __markAsModule(target);
    if (typeof module === "object" || typeof module === "function") {
      for (let key in module)
        if (!__hasOwnProperty.call(target, key) && key !== "default")
          __defineProperty(target, key, {get: () => module[key], enumerable: true});
    }
    return target;
  };
  var __toModule = (module) => {
    if (module && module.__esModule)
      return module;
    return __exportStar(__defineProperty({}, "default", {value: module, enumerable: true}), module);
  };

  // node_modules/pako/lib/utils/common.js
  var require_common = __commonJS((exports) => {
    "use strict";
    var TYPED_OK = typeof Uint8Array !== "undefined" && typeof Uint16Array !== "undefined" && typeof Int32Array !== "undefined";
    function _has(obj, key) {
      return Object.prototype.hasOwnProperty.call(obj, key);
    }
    exports.assign = function(obj) {
      var sources = Array.prototype.slice.call(arguments, 1);
      while (sources.length) {
        var source = sources.shift();
        if (!source) {
          continue;
        }
        if (typeof source !== "object") {
          throw new TypeError(source + "must be non-object");
        }
        for (var p3 in source) {
          if (_has(source, p3)) {
            obj[p3] = source[p3];
          }
        }
      }
      return obj;
    };
    exports.shrinkBuf = function(buf, size) {
      if (buf.length === size) {
        return buf;
      }
      if (buf.subarray) {
        return buf.subarray(0, size);
      }
      buf.length = size;
      return buf;
    };
    var fnTyped = {
      arraySet: function(dest, src, src_offs, len, dest_offs) {
        if (src.subarray && dest.subarray) {
          dest.set(src.subarray(src_offs, src_offs + len), dest_offs);
          return;
        }
        for (var i3 = 0; i3 < len; i3++) {
          dest[dest_offs + i3] = src[src_offs + i3];
        }
      },
      flattenChunks: function(chunks) {
        var i3, l3, len, pos, chunk, result;
        len = 0;
        for (i3 = 0, l3 = chunks.length; i3 < l3; i3++) {
          len += chunks[i3].length;
        }
        result = new Uint8Array(len);
        pos = 0;
        for (i3 = 0, l3 = chunks.length; i3 < l3; i3++) {
          chunk = chunks[i3];
          result.set(chunk, pos);
          pos += chunk.length;
        }
        return result;
      }
    };
    var fnUntyped = {
      arraySet: function(dest, src, src_offs, len, dest_offs) {
        for (var i3 = 0; i3 < len; i3++) {
          dest[dest_offs + i3] = src[src_offs + i3];
        }
      },
      flattenChunks: function(chunks) {
        return [].concat.apply([], chunks);
      }
    };
    exports.setTyped = function(on) {
      if (on) {
        exports.Buf8 = Uint8Array;
        exports.Buf16 = Uint16Array;
        exports.Buf32 = Int32Array;
        exports.assign(exports, fnTyped);
      } else {
        exports.Buf8 = Array;
        exports.Buf16 = Array;
        exports.Buf32 = Array;
        exports.assign(exports, fnUntyped);
      }
    };
    exports.setTyped(TYPED_OK);
  });

  // node_modules/pako/lib/zlib/trees.js
  var require_trees = __commonJS((exports) => {
    "use strict";
    var utils = require_common();
    var Z_FIXED = 4;
    var Z_BINARY = 0;
    var Z_TEXT = 1;
    var Z_UNKNOWN = 2;
    function zero(buf) {
      var len = buf.length;
      while (--len >= 0) {
        buf[len] = 0;
      }
    }
    var STORED_BLOCK = 0;
    var STATIC_TREES = 1;
    var DYN_TREES = 2;
    var MIN_MATCH = 3;
    var MAX_MATCH = 258;
    var LENGTH_CODES = 29;
    var LITERALS = 256;
    var L_CODES = LITERALS + 1 + LENGTH_CODES;
    var D_CODES = 30;
    var BL_CODES = 19;
    var HEAP_SIZE = 2 * L_CODES + 1;
    var MAX_BITS = 15;
    var Buf_size = 16;
    var MAX_BL_BITS = 7;
    var END_BLOCK = 256;
    var REP_3_6 = 16;
    var REPZ_3_10 = 17;
    var REPZ_11_138 = 18;
    var extra_lbits = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0];
    var extra_dbits = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13];
    var extra_blbits = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7];
    var bl_order = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
    var DIST_CODE_LEN = 512;
    var static_ltree = new Array((L_CODES + 2) * 2);
    zero(static_ltree);
    var static_dtree = new Array(D_CODES * 2);
    zero(static_dtree);
    var _dist_code = new Array(DIST_CODE_LEN);
    zero(_dist_code);
    var _length_code = new Array(MAX_MATCH - MIN_MATCH + 1);
    zero(_length_code);
    var base_length = new Array(LENGTH_CODES);
    zero(base_length);
    var base_dist = new Array(D_CODES);
    zero(base_dist);
    function StaticTreeDesc(static_tree, extra_bits, extra_base, elems, max_length) {
      this.static_tree = static_tree;
      this.extra_bits = extra_bits;
      this.extra_base = extra_base;
      this.elems = elems;
      this.max_length = max_length;
      this.has_stree = static_tree && static_tree.length;
    }
    var static_l_desc;
    var static_d_desc;
    var static_bl_desc;
    function TreeDesc(dyn_tree, stat_desc) {
      this.dyn_tree = dyn_tree;
      this.max_code = 0;
      this.stat_desc = stat_desc;
    }
    function d_code(dist) {
      return dist < 256 ? _dist_code[dist] : _dist_code[256 + (dist >>> 7)];
    }
    function put_short(s3, w2) {
      s3.pending_buf[s3.pending++] = w2 & 255;
      s3.pending_buf[s3.pending++] = w2 >>> 8 & 255;
    }
    function send_bits(s3, value, length) {
      if (s3.bi_valid > Buf_size - length) {
        s3.bi_buf |= value << s3.bi_valid & 65535;
        put_short(s3, s3.bi_buf);
        s3.bi_buf = value >> Buf_size - s3.bi_valid;
        s3.bi_valid += length - Buf_size;
      } else {
        s3.bi_buf |= value << s3.bi_valid & 65535;
        s3.bi_valid += length;
      }
    }
    function send_code(s3, c3, tree) {
      send_bits(s3, tree[c3 * 2], tree[c3 * 2 + 1]);
    }
    function bi_reverse(code, len) {
      var res = 0;
      do {
        res |= code & 1;
        code >>>= 1;
        res <<= 1;
      } while (--len > 0);
      return res >>> 1;
    }
    function bi_flush(s3) {
      if (s3.bi_valid === 16) {
        put_short(s3, s3.bi_buf);
        s3.bi_buf = 0;
        s3.bi_valid = 0;
      } else if (s3.bi_valid >= 8) {
        s3.pending_buf[s3.pending++] = s3.bi_buf & 255;
        s3.bi_buf >>= 8;
        s3.bi_valid -= 8;
      }
    }
    function gen_bitlen(s3, desc) {
      var tree = desc.dyn_tree;
      var max_code = desc.max_code;
      var stree = desc.stat_desc.static_tree;
      var has_stree = desc.stat_desc.has_stree;
      var extra = desc.stat_desc.extra_bits;
      var base = desc.stat_desc.extra_base;
      var max_length = desc.stat_desc.max_length;
      var h3;
      var n3, m2;
      var bits;
      var xbits;
      var f3;
      var overflow = 0;
      for (bits = 0; bits <= MAX_BITS; bits++) {
        s3.bl_count[bits] = 0;
      }
      tree[s3.heap[s3.heap_max] * 2 + 1] = 0;
      for (h3 = s3.heap_max + 1; h3 < HEAP_SIZE; h3++) {
        n3 = s3.heap[h3];
        bits = tree[tree[n3 * 2 + 1] * 2 + 1] + 1;
        if (bits > max_length) {
          bits = max_length;
          overflow++;
        }
        tree[n3 * 2 + 1] = bits;
        if (n3 > max_code) {
          continue;
        }
        s3.bl_count[bits]++;
        xbits = 0;
        if (n3 >= base) {
          xbits = extra[n3 - base];
        }
        f3 = tree[n3 * 2];
        s3.opt_len += f3 * (bits + xbits);
        if (has_stree) {
          s3.static_len += f3 * (stree[n3 * 2 + 1] + xbits);
        }
      }
      if (overflow === 0) {
        return;
      }
      do {
        bits = max_length - 1;
        while (s3.bl_count[bits] === 0) {
          bits--;
        }
        s3.bl_count[bits]--;
        s3.bl_count[bits + 1] += 2;
        s3.bl_count[max_length]--;
        overflow -= 2;
      } while (overflow > 0);
      for (bits = max_length; bits !== 0; bits--) {
        n3 = s3.bl_count[bits];
        while (n3 !== 0) {
          m2 = s3.heap[--h3];
          if (m2 > max_code) {
            continue;
          }
          if (tree[m2 * 2 + 1] !== bits) {
            s3.opt_len += (bits - tree[m2 * 2 + 1]) * tree[m2 * 2];
            tree[m2 * 2 + 1] = bits;
          }
          n3--;
        }
      }
    }
    function gen_codes(tree, max_code, bl_count) {
      var next_code = new Array(MAX_BITS + 1);
      var code = 0;
      var bits;
      var n3;
      for (bits = 1; bits <= MAX_BITS; bits++) {
        next_code[bits] = code = code + bl_count[bits - 1] << 1;
      }
      for (n3 = 0; n3 <= max_code; n3++) {
        var len = tree[n3 * 2 + 1];
        if (len === 0) {
          continue;
        }
        tree[n3 * 2] = bi_reverse(next_code[len]++, len);
      }
    }
    function tr_static_init() {
      var n3;
      var bits;
      var length;
      var code;
      var dist;
      var bl_count = new Array(MAX_BITS + 1);
      length = 0;
      for (code = 0; code < LENGTH_CODES - 1; code++) {
        base_length[code] = length;
        for (n3 = 0; n3 < 1 << extra_lbits[code]; n3++) {
          _length_code[length++] = code;
        }
      }
      _length_code[length - 1] = code;
      dist = 0;
      for (code = 0; code < 16; code++) {
        base_dist[code] = dist;
        for (n3 = 0; n3 < 1 << extra_dbits[code]; n3++) {
          _dist_code[dist++] = code;
        }
      }
      dist >>= 7;
      for (; code < D_CODES; code++) {
        base_dist[code] = dist << 7;
        for (n3 = 0; n3 < 1 << extra_dbits[code] - 7; n3++) {
          _dist_code[256 + dist++] = code;
        }
      }
      for (bits = 0; bits <= MAX_BITS; bits++) {
        bl_count[bits] = 0;
      }
      n3 = 0;
      while (n3 <= 143) {
        static_ltree[n3 * 2 + 1] = 8;
        n3++;
        bl_count[8]++;
      }
      while (n3 <= 255) {
        static_ltree[n3 * 2 + 1] = 9;
        n3++;
        bl_count[9]++;
      }
      while (n3 <= 279) {
        static_ltree[n3 * 2 + 1] = 7;
        n3++;
        bl_count[7]++;
      }
      while (n3 <= 287) {
        static_ltree[n3 * 2 + 1] = 8;
        n3++;
        bl_count[8]++;
      }
      gen_codes(static_ltree, L_CODES + 1, bl_count);
      for (n3 = 0; n3 < D_CODES; n3++) {
        static_dtree[n3 * 2 + 1] = 5;
        static_dtree[n3 * 2] = bi_reverse(n3, 5);
      }
      static_l_desc = new StaticTreeDesc(static_ltree, extra_lbits, LITERALS + 1, L_CODES, MAX_BITS);
      static_d_desc = new StaticTreeDesc(static_dtree, extra_dbits, 0, D_CODES, MAX_BITS);
      static_bl_desc = new StaticTreeDesc(new Array(0), extra_blbits, 0, BL_CODES, MAX_BL_BITS);
    }
    function init_block(s3) {
      var n3;
      for (n3 = 0; n3 < L_CODES; n3++) {
        s3.dyn_ltree[n3 * 2] = 0;
      }
      for (n3 = 0; n3 < D_CODES; n3++) {
        s3.dyn_dtree[n3 * 2] = 0;
      }
      for (n3 = 0; n3 < BL_CODES; n3++) {
        s3.bl_tree[n3 * 2] = 0;
      }
      s3.dyn_ltree[END_BLOCK * 2] = 1;
      s3.opt_len = s3.static_len = 0;
      s3.last_lit = s3.matches = 0;
    }
    function bi_windup(s3) {
      if (s3.bi_valid > 8) {
        put_short(s3, s3.bi_buf);
      } else if (s3.bi_valid > 0) {
        s3.pending_buf[s3.pending++] = s3.bi_buf;
      }
      s3.bi_buf = 0;
      s3.bi_valid = 0;
    }
    function copy_block(s3, buf, len, header) {
      bi_windup(s3);
      if (header) {
        put_short(s3, len);
        put_short(s3, ~len);
      }
      utils.arraySet(s3.pending_buf, s3.window, buf, len, s3.pending);
      s3.pending += len;
    }
    function smaller(tree, n3, m2, depth) {
      var _n2 = n3 * 2;
      var _m2 = m2 * 2;
      return tree[_n2] < tree[_m2] || tree[_n2] === tree[_m2] && depth[n3] <= depth[m2];
    }
    function pqdownheap(s3, tree, k2) {
      var v3 = s3.heap[k2];
      var j2 = k2 << 1;
      while (j2 <= s3.heap_len) {
        if (j2 < s3.heap_len && smaller(tree, s3.heap[j2 + 1], s3.heap[j2], s3.depth)) {
          j2++;
        }
        if (smaller(tree, v3, s3.heap[j2], s3.depth)) {
          break;
        }
        s3.heap[k2] = s3.heap[j2];
        k2 = j2;
        j2 <<= 1;
      }
      s3.heap[k2] = v3;
    }
    function compress_block(s3, ltree, dtree) {
      var dist;
      var lc;
      var lx = 0;
      var code;
      var extra;
      if (s3.last_lit !== 0) {
        do {
          dist = s3.pending_buf[s3.d_buf + lx * 2] << 8 | s3.pending_buf[s3.d_buf + lx * 2 + 1];
          lc = s3.pending_buf[s3.l_buf + lx];
          lx++;
          if (dist === 0) {
            send_code(s3, lc, ltree);
          } else {
            code = _length_code[lc];
            send_code(s3, code + LITERALS + 1, ltree);
            extra = extra_lbits[code];
            if (extra !== 0) {
              lc -= base_length[code];
              send_bits(s3, lc, extra);
            }
            dist--;
            code = d_code(dist);
            send_code(s3, code, dtree);
            extra = extra_dbits[code];
            if (extra !== 0) {
              dist -= base_dist[code];
              send_bits(s3, dist, extra);
            }
          }
        } while (lx < s3.last_lit);
      }
      send_code(s3, END_BLOCK, ltree);
    }
    function build_tree(s3, desc) {
      var tree = desc.dyn_tree;
      var stree = desc.stat_desc.static_tree;
      var has_stree = desc.stat_desc.has_stree;
      var elems = desc.stat_desc.elems;
      var n3, m2;
      var max_code = -1;
      var node;
      s3.heap_len = 0;
      s3.heap_max = HEAP_SIZE;
      for (n3 = 0; n3 < elems; n3++) {
        if (tree[n3 * 2] !== 0) {
          s3.heap[++s3.heap_len] = max_code = n3;
          s3.depth[n3] = 0;
        } else {
          tree[n3 * 2 + 1] = 0;
        }
      }
      while (s3.heap_len < 2) {
        node = s3.heap[++s3.heap_len] = max_code < 2 ? ++max_code : 0;
        tree[node * 2] = 1;
        s3.depth[node] = 0;
        s3.opt_len--;
        if (has_stree) {
          s3.static_len -= stree[node * 2 + 1];
        }
      }
      desc.max_code = max_code;
      for (n3 = s3.heap_len >> 1; n3 >= 1; n3--) {
        pqdownheap(s3, tree, n3);
      }
      node = elems;
      do {
        n3 = s3.heap[1];
        s3.heap[1] = s3.heap[s3.heap_len--];
        pqdownheap(s3, tree, 1);
        m2 = s3.heap[1];
        s3.heap[--s3.heap_max] = n3;
        s3.heap[--s3.heap_max] = m2;
        tree[node * 2] = tree[n3 * 2] + tree[m2 * 2];
        s3.depth[node] = (s3.depth[n3] >= s3.depth[m2] ? s3.depth[n3] : s3.depth[m2]) + 1;
        tree[n3 * 2 + 1] = tree[m2 * 2 + 1] = node;
        s3.heap[1] = node++;
        pqdownheap(s3, tree, 1);
      } while (s3.heap_len >= 2);
      s3.heap[--s3.heap_max] = s3.heap[1];
      gen_bitlen(s3, desc);
      gen_codes(tree, max_code, s3.bl_count);
    }
    function scan_tree(s3, tree, max_code) {
      var n3;
      var prevlen = -1;
      var curlen;
      var nextlen = tree[0 * 2 + 1];
      var count = 0;
      var max_count = 7;
      var min_count = 4;
      if (nextlen === 0) {
        max_count = 138;
        min_count = 3;
      }
      tree[(max_code + 1) * 2 + 1] = 65535;
      for (n3 = 0; n3 <= max_code; n3++) {
        curlen = nextlen;
        nextlen = tree[(n3 + 1) * 2 + 1];
        if (++count < max_count && curlen === nextlen) {
          continue;
        } else if (count < min_count) {
          s3.bl_tree[curlen * 2] += count;
        } else if (curlen !== 0) {
          if (curlen !== prevlen) {
            s3.bl_tree[curlen * 2]++;
          }
          s3.bl_tree[REP_3_6 * 2]++;
        } else if (count <= 10) {
          s3.bl_tree[REPZ_3_10 * 2]++;
        } else {
          s3.bl_tree[REPZ_11_138 * 2]++;
        }
        count = 0;
        prevlen = curlen;
        if (nextlen === 0) {
          max_count = 138;
          min_count = 3;
        } else if (curlen === nextlen) {
          max_count = 6;
          min_count = 3;
        } else {
          max_count = 7;
          min_count = 4;
        }
      }
    }
    function send_tree(s3, tree, max_code) {
      var n3;
      var prevlen = -1;
      var curlen;
      var nextlen = tree[0 * 2 + 1];
      var count = 0;
      var max_count = 7;
      var min_count = 4;
      if (nextlen === 0) {
        max_count = 138;
        min_count = 3;
      }
      for (n3 = 0; n3 <= max_code; n3++) {
        curlen = nextlen;
        nextlen = tree[(n3 + 1) * 2 + 1];
        if (++count < max_count && curlen === nextlen) {
          continue;
        } else if (count < min_count) {
          do {
            send_code(s3, curlen, s3.bl_tree);
          } while (--count !== 0);
        } else if (curlen !== 0) {
          if (curlen !== prevlen) {
            send_code(s3, curlen, s3.bl_tree);
            count--;
          }
          send_code(s3, REP_3_6, s3.bl_tree);
          send_bits(s3, count - 3, 2);
        } else if (count <= 10) {
          send_code(s3, REPZ_3_10, s3.bl_tree);
          send_bits(s3, count - 3, 3);
        } else {
          send_code(s3, REPZ_11_138, s3.bl_tree);
          send_bits(s3, count - 11, 7);
        }
        count = 0;
        prevlen = curlen;
        if (nextlen === 0) {
          max_count = 138;
          min_count = 3;
        } else if (curlen === nextlen) {
          max_count = 6;
          min_count = 3;
        } else {
          max_count = 7;
          min_count = 4;
        }
      }
    }
    function build_bl_tree(s3) {
      var max_blindex;
      scan_tree(s3, s3.dyn_ltree, s3.l_desc.max_code);
      scan_tree(s3, s3.dyn_dtree, s3.d_desc.max_code);
      build_tree(s3, s3.bl_desc);
      for (max_blindex = BL_CODES - 1; max_blindex >= 3; max_blindex--) {
        if (s3.bl_tree[bl_order[max_blindex] * 2 + 1] !== 0) {
          break;
        }
      }
      s3.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4;
      return max_blindex;
    }
    function send_all_trees(s3, lcodes, dcodes, blcodes) {
      var rank;
      send_bits(s3, lcodes - 257, 5);
      send_bits(s3, dcodes - 1, 5);
      send_bits(s3, blcodes - 4, 4);
      for (rank = 0; rank < blcodes; rank++) {
        send_bits(s3, s3.bl_tree[bl_order[rank] * 2 + 1], 3);
      }
      send_tree(s3, s3.dyn_ltree, lcodes - 1);
      send_tree(s3, s3.dyn_dtree, dcodes - 1);
    }
    function detect_data_type(s3) {
      var black_mask = 4093624447;
      var n3;
      for (n3 = 0; n3 <= 31; n3++, black_mask >>>= 1) {
        if (black_mask & 1 && s3.dyn_ltree[n3 * 2] !== 0) {
          return Z_BINARY;
        }
      }
      if (s3.dyn_ltree[9 * 2] !== 0 || s3.dyn_ltree[10 * 2] !== 0 || s3.dyn_ltree[13 * 2] !== 0) {
        return Z_TEXT;
      }
      for (n3 = 32; n3 < LITERALS; n3++) {
        if (s3.dyn_ltree[n3 * 2] !== 0) {
          return Z_TEXT;
        }
      }
      return Z_BINARY;
    }
    var static_init_done = false;
    function _tr_init(s3) {
      if (!static_init_done) {
        tr_static_init();
        static_init_done = true;
      }
      s3.l_desc = new TreeDesc(s3.dyn_ltree, static_l_desc);
      s3.d_desc = new TreeDesc(s3.dyn_dtree, static_d_desc);
      s3.bl_desc = new TreeDesc(s3.bl_tree, static_bl_desc);
      s3.bi_buf = 0;
      s3.bi_valid = 0;
      init_block(s3);
    }
    function _tr_stored_block(s3, buf, stored_len, last) {
      send_bits(s3, (STORED_BLOCK << 1) + (last ? 1 : 0), 3);
      copy_block(s3, buf, stored_len, true);
    }
    function _tr_align(s3) {
      send_bits(s3, STATIC_TREES << 1, 3);
      send_code(s3, END_BLOCK, static_ltree);
      bi_flush(s3);
    }
    function _tr_flush_block(s3, buf, stored_len, last) {
      var opt_lenb, static_lenb;
      var max_blindex = 0;
      if (s3.level > 0) {
        if (s3.strm.data_type === Z_UNKNOWN) {
          s3.strm.data_type = detect_data_type(s3);
        }
        build_tree(s3, s3.l_desc);
        build_tree(s3, s3.d_desc);
        max_blindex = build_bl_tree(s3);
        opt_lenb = s3.opt_len + 3 + 7 >>> 3;
        static_lenb = s3.static_len + 3 + 7 >>> 3;
        if (static_lenb <= opt_lenb) {
          opt_lenb = static_lenb;
        }
      } else {
        opt_lenb = static_lenb = stored_len + 5;
      }
      if (stored_len + 4 <= opt_lenb && buf !== -1) {
        _tr_stored_block(s3, buf, stored_len, last);
      } else if (s3.strategy === Z_FIXED || static_lenb === opt_lenb) {
        send_bits(s3, (STATIC_TREES << 1) + (last ? 1 : 0), 3);
        compress_block(s3, static_ltree, static_dtree);
      } else {
        send_bits(s3, (DYN_TREES << 1) + (last ? 1 : 0), 3);
        send_all_trees(s3, s3.l_desc.max_code + 1, s3.d_desc.max_code + 1, max_blindex + 1);
        compress_block(s3, s3.dyn_ltree, s3.dyn_dtree);
      }
      init_block(s3);
      if (last) {
        bi_windup(s3);
      }
    }
    function _tr_tally(s3, dist, lc) {
      s3.pending_buf[s3.d_buf + s3.last_lit * 2] = dist >>> 8 & 255;
      s3.pending_buf[s3.d_buf + s3.last_lit * 2 + 1] = dist & 255;
      s3.pending_buf[s3.l_buf + s3.last_lit] = lc & 255;
      s3.last_lit++;
      if (dist === 0) {
        s3.dyn_ltree[lc * 2]++;
      } else {
        s3.matches++;
        dist--;
        s3.dyn_ltree[(_length_code[lc] + LITERALS + 1) * 2]++;
        s3.dyn_dtree[d_code(dist) * 2]++;
      }
      return s3.last_lit === s3.lit_bufsize - 1;
    }
    exports._tr_init = _tr_init;
    exports._tr_stored_block = _tr_stored_block;
    exports._tr_flush_block = _tr_flush_block;
    exports._tr_tally = _tr_tally;
    exports._tr_align = _tr_align;
  });

  // node_modules/pako/lib/zlib/adler32.js
  var require_adler32 = __commonJS((exports, module) => {
    "use strict";
    function adler32(adler, buf, len, pos) {
      var s1 = adler & 65535 | 0, s22 = adler >>> 16 & 65535 | 0, n3 = 0;
      while (len !== 0) {
        n3 = len > 2e3 ? 2e3 : len;
        len -= n3;
        do {
          s1 = s1 + buf[pos++] | 0;
          s22 = s22 + s1 | 0;
        } while (--n3);
        s1 %= 65521;
        s22 %= 65521;
      }
      return s1 | s22 << 16 | 0;
    }
    module.exports = adler32;
  });

  // node_modules/pako/lib/zlib/crc32.js
  var require_crc32 = __commonJS((exports, module) => {
    "use strict";
    function makeTable() {
      var c3, table = [];
      for (var n3 = 0; n3 < 256; n3++) {
        c3 = n3;
        for (var k2 = 0; k2 < 8; k2++) {
          c3 = c3 & 1 ? 3988292384 ^ c3 >>> 1 : c3 >>> 1;
        }
        table[n3] = c3;
      }
      return table;
    }
    var crcTable = makeTable();
    function crc32(crc, buf, len, pos) {
      var t2 = crcTable, end = pos + len;
      crc ^= -1;
      for (var i3 = pos; i3 < end; i3++) {
        crc = crc >>> 8 ^ t2[(crc ^ buf[i3]) & 255];
      }
      return crc ^ -1;
    }
    module.exports = crc32;
  });

  // node_modules/pako/lib/zlib/messages.js
  var require_messages = __commonJS((exports, module) => {
    "use strict";
    module.exports = {
      2: "need dictionary",
      1: "stream end",
      0: "",
      "-1": "file error",
      "-2": "stream error",
      "-3": "data error",
      "-4": "insufficient memory",
      "-5": "buffer error",
      "-6": "incompatible version"
    };
  });

  // node_modules/pako/lib/zlib/deflate.js
  var require_deflate = __commonJS((exports) => {
    "use strict";
    var utils = require_common();
    var trees = require_trees();
    var adler32 = require_adler32();
    var crc32 = require_crc32();
    var msg = require_messages();
    var Z_NO_FLUSH = 0;
    var Z_PARTIAL_FLUSH = 1;
    var Z_FULL_FLUSH = 3;
    var Z_FINISH = 4;
    var Z_BLOCK = 5;
    var Z_OK = 0;
    var Z_STREAM_END = 1;
    var Z_STREAM_ERROR = -2;
    var Z_DATA_ERROR = -3;
    var Z_BUF_ERROR = -5;
    var Z_DEFAULT_COMPRESSION = -1;
    var Z_FILTERED = 1;
    var Z_HUFFMAN_ONLY = 2;
    var Z_RLE = 3;
    var Z_FIXED = 4;
    var Z_DEFAULT_STRATEGY = 0;
    var Z_UNKNOWN = 2;
    var Z_DEFLATED = 8;
    var MAX_MEM_LEVEL = 9;
    var MAX_WBITS = 15;
    var DEF_MEM_LEVEL = 8;
    var LENGTH_CODES = 29;
    var LITERALS = 256;
    var L_CODES = LITERALS + 1 + LENGTH_CODES;
    var D_CODES = 30;
    var BL_CODES = 19;
    var HEAP_SIZE = 2 * L_CODES + 1;
    var MAX_BITS = 15;
    var MIN_MATCH = 3;
    var MAX_MATCH = 258;
    var MIN_LOOKAHEAD = MAX_MATCH + MIN_MATCH + 1;
    var PRESET_DICT = 32;
    var INIT_STATE = 42;
    var EXTRA_STATE = 69;
    var NAME_STATE = 73;
    var COMMENT_STATE = 91;
    var HCRC_STATE = 103;
    var BUSY_STATE = 113;
    var FINISH_STATE = 666;
    var BS_NEED_MORE = 1;
    var BS_BLOCK_DONE = 2;
    var BS_FINISH_STARTED = 3;
    var BS_FINISH_DONE = 4;
    var OS_CODE = 3;
    function err(strm, errorCode) {
      strm.msg = msg[errorCode];
      return errorCode;
    }
    function rank(f3) {
      return (f3 << 1) - (f3 > 4 ? 9 : 0);
    }
    function zero(buf) {
      var len = buf.length;
      while (--len >= 0) {
        buf[len] = 0;
      }
    }
    function flush_pending(strm) {
      var s3 = strm.state;
      var len = s3.pending;
      if (len > strm.avail_out) {
        len = strm.avail_out;
      }
      if (len === 0) {
        return;
      }
      utils.arraySet(strm.output, s3.pending_buf, s3.pending_out, len, strm.next_out);
      strm.next_out += len;
      s3.pending_out += len;
      strm.total_out += len;
      strm.avail_out -= len;
      s3.pending -= len;
      if (s3.pending === 0) {
        s3.pending_out = 0;
      }
    }
    function flush_block_only(s3, last) {
      trees._tr_flush_block(s3, s3.block_start >= 0 ? s3.block_start : -1, s3.strstart - s3.block_start, last);
      s3.block_start = s3.strstart;
      flush_pending(s3.strm);
    }
    function put_byte(s3, b) {
      s3.pending_buf[s3.pending++] = b;
    }
    function putShortMSB(s3, b) {
      s3.pending_buf[s3.pending++] = b >>> 8 & 255;
      s3.pending_buf[s3.pending++] = b & 255;
    }
    function read_buf(strm, buf, start, size) {
      var len = strm.avail_in;
      if (len > size) {
        len = size;
      }
      if (len === 0) {
        return 0;
      }
      strm.avail_in -= len;
      utils.arraySet(buf, strm.input, strm.next_in, len, start);
      if (strm.state.wrap === 1) {
        strm.adler = adler32(strm.adler, buf, len, start);
      } else if (strm.state.wrap === 2) {
        strm.adler = crc32(strm.adler, buf, len, start);
      }
      strm.next_in += len;
      strm.total_in += len;
      return len;
    }
    function longest_match(s3, cur_match) {
      var chain_length = s3.max_chain_length;
      var scan = s3.strstart;
      var match;
      var len;
      var best_len = s3.prev_length;
      var nice_match = s3.nice_match;
      var limit = s3.strstart > s3.w_size - MIN_LOOKAHEAD ? s3.strstart - (s3.w_size - MIN_LOOKAHEAD) : 0;
      var _win = s3.window;
      var wmask = s3.w_mask;
      var prev = s3.prev;
      var strend = s3.strstart + MAX_MATCH;
      var scan_end1 = _win[scan + best_len - 1];
      var scan_end = _win[scan + best_len];
      if (s3.prev_length >= s3.good_match) {
        chain_length >>= 2;
      }
      if (nice_match > s3.lookahead) {
        nice_match = s3.lookahead;
      }
      do {
        match = cur_match;
        if (_win[match + best_len] !== scan_end || _win[match + best_len - 1] !== scan_end1 || _win[match] !== _win[scan] || _win[++match] !== _win[scan + 1]) {
          continue;
        }
        scan += 2;
        match++;
        do {
        } while (_win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && scan < strend);
        len = MAX_MATCH - (strend - scan);
        scan = strend - MAX_MATCH;
        if (len > best_len) {
          s3.match_start = cur_match;
          best_len = len;
          if (len >= nice_match) {
            break;
          }
          scan_end1 = _win[scan + best_len - 1];
          scan_end = _win[scan + best_len];
        }
      } while ((cur_match = prev[cur_match & wmask]) > limit && --chain_length !== 0);
      if (best_len <= s3.lookahead) {
        return best_len;
      }
      return s3.lookahead;
    }
    function fill_window(s3) {
      var _w_size = s3.w_size;
      var p3, n3, m2, more, str;
      do {
        more = s3.window_size - s3.lookahead - s3.strstart;
        if (s3.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {
          utils.arraySet(s3.window, s3.window, _w_size, _w_size, 0);
          s3.match_start -= _w_size;
          s3.strstart -= _w_size;
          s3.block_start -= _w_size;
          n3 = s3.hash_size;
          p3 = n3;
          do {
            m2 = s3.head[--p3];
            s3.head[p3] = m2 >= _w_size ? m2 - _w_size : 0;
          } while (--n3);
          n3 = _w_size;
          p3 = n3;
          do {
            m2 = s3.prev[--p3];
            s3.prev[p3] = m2 >= _w_size ? m2 - _w_size : 0;
          } while (--n3);
          more += _w_size;
        }
        if (s3.strm.avail_in === 0) {
          break;
        }
        n3 = read_buf(s3.strm, s3.window, s3.strstart + s3.lookahead, more);
        s3.lookahead += n3;
        if (s3.lookahead + s3.insert >= MIN_MATCH) {
          str = s3.strstart - s3.insert;
          s3.ins_h = s3.window[str];
          s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[str + 1]) & s3.hash_mask;
          while (s3.insert) {
            s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[str + MIN_MATCH - 1]) & s3.hash_mask;
            s3.prev[str & s3.w_mask] = s3.head[s3.ins_h];
            s3.head[s3.ins_h] = str;
            str++;
            s3.insert--;
            if (s3.lookahead + s3.insert < MIN_MATCH) {
              break;
            }
          }
        }
      } while (s3.lookahead < MIN_LOOKAHEAD && s3.strm.avail_in !== 0);
    }
    function deflate_stored(s3, flush) {
      var max_block_size = 65535;
      if (max_block_size > s3.pending_buf_size - 5) {
        max_block_size = s3.pending_buf_size - 5;
      }
      for (; ; ) {
        if (s3.lookahead <= 1) {
          fill_window(s3);
          if (s3.lookahead === 0 && flush === Z_NO_FLUSH) {
            return BS_NEED_MORE;
          }
          if (s3.lookahead === 0) {
            break;
          }
        }
        s3.strstart += s3.lookahead;
        s3.lookahead = 0;
        var max_start = s3.block_start + max_block_size;
        if (s3.strstart === 0 || s3.strstart >= max_start) {
          s3.lookahead = s3.strstart - max_start;
          s3.strstart = max_start;
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
        if (s3.strstart - s3.block_start >= s3.w_size - MIN_LOOKAHEAD) {
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
      }
      s3.insert = 0;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.strstart > s3.block_start) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_NEED_MORE;
    }
    function deflate_fast(s3, flush) {
      var hash_head;
      var bflush;
      for (; ; ) {
        if (s3.lookahead < MIN_LOOKAHEAD) {
          fill_window(s3);
          if (s3.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
            return BS_NEED_MORE;
          }
          if (s3.lookahead === 0) {
            break;
          }
        }
        hash_head = 0;
        if (s3.lookahead >= MIN_MATCH) {
          s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + MIN_MATCH - 1]) & s3.hash_mask;
          hash_head = s3.prev[s3.strstart & s3.w_mask] = s3.head[s3.ins_h];
          s3.head[s3.ins_h] = s3.strstart;
        }
        if (hash_head !== 0 && s3.strstart - hash_head <= s3.w_size - MIN_LOOKAHEAD) {
          s3.match_length = longest_match(s3, hash_head);
        }
        if (s3.match_length >= MIN_MATCH) {
          bflush = trees._tr_tally(s3, s3.strstart - s3.match_start, s3.match_length - MIN_MATCH);
          s3.lookahead -= s3.match_length;
          if (s3.match_length <= s3.max_lazy_match && s3.lookahead >= MIN_MATCH) {
            s3.match_length--;
            do {
              s3.strstart++;
              s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + MIN_MATCH - 1]) & s3.hash_mask;
              hash_head = s3.prev[s3.strstart & s3.w_mask] = s3.head[s3.ins_h];
              s3.head[s3.ins_h] = s3.strstart;
            } while (--s3.match_length !== 0);
            s3.strstart++;
          } else {
            s3.strstart += s3.match_length;
            s3.match_length = 0;
            s3.ins_h = s3.window[s3.strstart];
            s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + 1]) & s3.hash_mask;
          }
        } else {
          bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart]);
          s3.lookahead--;
          s3.strstart++;
        }
        if (bflush) {
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
      }
      s3.insert = s3.strstart < MIN_MATCH - 1 ? s3.strstart : MIN_MATCH - 1;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.last_lit) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_BLOCK_DONE;
    }
    function deflate_slow(s3, flush) {
      var hash_head;
      var bflush;
      var max_insert;
      for (; ; ) {
        if (s3.lookahead < MIN_LOOKAHEAD) {
          fill_window(s3);
          if (s3.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
            return BS_NEED_MORE;
          }
          if (s3.lookahead === 0) {
            break;
          }
        }
        hash_head = 0;
        if (s3.lookahead >= MIN_MATCH) {
          s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + MIN_MATCH - 1]) & s3.hash_mask;
          hash_head = s3.prev[s3.strstart & s3.w_mask] = s3.head[s3.ins_h];
          s3.head[s3.ins_h] = s3.strstart;
        }
        s3.prev_length = s3.match_length;
        s3.prev_match = s3.match_start;
        s3.match_length = MIN_MATCH - 1;
        if (hash_head !== 0 && s3.prev_length < s3.max_lazy_match && s3.strstart - hash_head <= s3.w_size - MIN_LOOKAHEAD) {
          s3.match_length = longest_match(s3, hash_head);
          if (s3.match_length <= 5 && (s3.strategy === Z_FILTERED || s3.match_length === MIN_MATCH && s3.strstart - s3.match_start > 4096)) {
            s3.match_length = MIN_MATCH - 1;
          }
        }
        if (s3.prev_length >= MIN_MATCH && s3.match_length <= s3.prev_length) {
          max_insert = s3.strstart + s3.lookahead - MIN_MATCH;
          bflush = trees._tr_tally(s3, s3.strstart - 1 - s3.prev_match, s3.prev_length - MIN_MATCH);
          s3.lookahead -= s3.prev_length - 1;
          s3.prev_length -= 2;
          do {
            if (++s3.strstart <= max_insert) {
              s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[s3.strstart + MIN_MATCH - 1]) & s3.hash_mask;
              hash_head = s3.prev[s3.strstart & s3.w_mask] = s3.head[s3.ins_h];
              s3.head[s3.ins_h] = s3.strstart;
            }
          } while (--s3.prev_length !== 0);
          s3.match_available = 0;
          s3.match_length = MIN_MATCH - 1;
          s3.strstart++;
          if (bflush) {
            flush_block_only(s3, false);
            if (s3.strm.avail_out === 0) {
              return BS_NEED_MORE;
            }
          }
        } else if (s3.match_available) {
          bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart - 1]);
          if (bflush) {
            flush_block_only(s3, false);
          }
          s3.strstart++;
          s3.lookahead--;
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        } else {
          s3.match_available = 1;
          s3.strstart++;
          s3.lookahead--;
        }
      }
      if (s3.match_available) {
        bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart - 1]);
        s3.match_available = 0;
      }
      s3.insert = s3.strstart < MIN_MATCH - 1 ? s3.strstart : MIN_MATCH - 1;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.last_lit) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_BLOCK_DONE;
    }
    function deflate_rle(s3, flush) {
      var bflush;
      var prev;
      var scan, strend;
      var _win = s3.window;
      for (; ; ) {
        if (s3.lookahead <= MAX_MATCH) {
          fill_window(s3);
          if (s3.lookahead <= MAX_MATCH && flush === Z_NO_FLUSH) {
            return BS_NEED_MORE;
          }
          if (s3.lookahead === 0) {
            break;
          }
        }
        s3.match_length = 0;
        if (s3.lookahead >= MIN_MATCH && s3.strstart > 0) {
          scan = s3.strstart - 1;
          prev = _win[scan];
          if (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan]) {
            strend = s3.strstart + MAX_MATCH;
            do {
            } while (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && scan < strend);
            s3.match_length = MAX_MATCH - (strend - scan);
            if (s3.match_length > s3.lookahead) {
              s3.match_length = s3.lookahead;
            }
          }
        }
        if (s3.match_length >= MIN_MATCH) {
          bflush = trees._tr_tally(s3, 1, s3.match_length - MIN_MATCH);
          s3.lookahead -= s3.match_length;
          s3.strstart += s3.match_length;
          s3.match_length = 0;
        } else {
          bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart]);
          s3.lookahead--;
          s3.strstart++;
        }
        if (bflush) {
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
      }
      s3.insert = 0;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.last_lit) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_BLOCK_DONE;
    }
    function deflate_huff(s3, flush) {
      var bflush;
      for (; ; ) {
        if (s3.lookahead === 0) {
          fill_window(s3);
          if (s3.lookahead === 0) {
            if (flush === Z_NO_FLUSH) {
              return BS_NEED_MORE;
            }
            break;
          }
        }
        s3.match_length = 0;
        bflush = trees._tr_tally(s3, 0, s3.window[s3.strstart]);
        s3.lookahead--;
        s3.strstart++;
        if (bflush) {
          flush_block_only(s3, false);
          if (s3.strm.avail_out === 0) {
            return BS_NEED_MORE;
          }
        }
      }
      s3.insert = 0;
      if (flush === Z_FINISH) {
        flush_block_only(s3, true);
        if (s3.strm.avail_out === 0) {
          return BS_FINISH_STARTED;
        }
        return BS_FINISH_DONE;
      }
      if (s3.last_lit) {
        flush_block_only(s3, false);
        if (s3.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
      return BS_BLOCK_DONE;
    }
    function Config(good_length, max_lazy, nice_length, max_chain, func) {
      this.good_length = good_length;
      this.max_lazy = max_lazy;
      this.nice_length = nice_length;
      this.max_chain = max_chain;
      this.func = func;
    }
    var configuration_table;
    configuration_table = [
      new Config(0, 0, 0, 0, deflate_stored),
      new Config(4, 4, 8, 4, deflate_fast),
      new Config(4, 5, 16, 8, deflate_fast),
      new Config(4, 6, 32, 32, deflate_fast),
      new Config(4, 4, 16, 16, deflate_slow),
      new Config(8, 16, 32, 32, deflate_slow),
      new Config(8, 16, 128, 128, deflate_slow),
      new Config(8, 32, 128, 256, deflate_slow),
      new Config(32, 128, 258, 1024, deflate_slow),
      new Config(32, 258, 258, 4096, deflate_slow)
    ];
    function lm_init(s3) {
      s3.window_size = 2 * s3.w_size;
      zero(s3.head);
      s3.max_lazy_match = configuration_table[s3.level].max_lazy;
      s3.good_match = configuration_table[s3.level].good_length;
      s3.nice_match = configuration_table[s3.level].nice_length;
      s3.max_chain_length = configuration_table[s3.level].max_chain;
      s3.strstart = 0;
      s3.block_start = 0;
      s3.lookahead = 0;
      s3.insert = 0;
      s3.match_length = s3.prev_length = MIN_MATCH - 1;
      s3.match_available = 0;
      s3.ins_h = 0;
    }
    function DeflateState() {
      this.strm = null;
      this.status = 0;
      this.pending_buf = null;
      this.pending_buf_size = 0;
      this.pending_out = 0;
      this.pending = 0;
      this.wrap = 0;
      this.gzhead = null;
      this.gzindex = 0;
      this.method = Z_DEFLATED;
      this.last_flush = -1;
      this.w_size = 0;
      this.w_bits = 0;
      this.w_mask = 0;
      this.window = null;
      this.window_size = 0;
      this.prev = null;
      this.head = null;
      this.ins_h = 0;
      this.hash_size = 0;
      this.hash_bits = 0;
      this.hash_mask = 0;
      this.hash_shift = 0;
      this.block_start = 0;
      this.match_length = 0;
      this.prev_match = 0;
      this.match_available = 0;
      this.strstart = 0;
      this.match_start = 0;
      this.lookahead = 0;
      this.prev_length = 0;
      this.max_chain_length = 0;
      this.max_lazy_match = 0;
      this.level = 0;
      this.strategy = 0;
      this.good_match = 0;
      this.nice_match = 0;
      this.dyn_ltree = new utils.Buf16(HEAP_SIZE * 2);
      this.dyn_dtree = new utils.Buf16((2 * D_CODES + 1) * 2);
      this.bl_tree = new utils.Buf16((2 * BL_CODES + 1) * 2);
      zero(this.dyn_ltree);
      zero(this.dyn_dtree);
      zero(this.bl_tree);
      this.l_desc = null;
      this.d_desc = null;
      this.bl_desc = null;
      this.bl_count = new utils.Buf16(MAX_BITS + 1);
      this.heap = new utils.Buf16(2 * L_CODES + 1);
      zero(this.heap);
      this.heap_len = 0;
      this.heap_max = 0;
      this.depth = new utils.Buf16(2 * L_CODES + 1);
      zero(this.depth);
      this.l_buf = 0;
      this.lit_bufsize = 0;
      this.last_lit = 0;
      this.d_buf = 0;
      this.opt_len = 0;
      this.static_len = 0;
      this.matches = 0;
      this.insert = 0;
      this.bi_buf = 0;
      this.bi_valid = 0;
    }
    function deflateResetKeep(strm) {
      var s3;
      if (!strm || !strm.state) {
        return err(strm, Z_STREAM_ERROR);
      }
      strm.total_in = strm.total_out = 0;
      strm.data_type = Z_UNKNOWN;
      s3 = strm.state;
      s3.pending = 0;
      s3.pending_out = 0;
      if (s3.wrap < 0) {
        s3.wrap = -s3.wrap;
      }
      s3.status = s3.wrap ? INIT_STATE : BUSY_STATE;
      strm.adler = s3.wrap === 2 ? 0 : 1;
      s3.last_flush = Z_NO_FLUSH;
      trees._tr_init(s3);
      return Z_OK;
    }
    function deflateReset(strm) {
      var ret = deflateResetKeep(strm);
      if (ret === Z_OK) {
        lm_init(strm.state);
      }
      return ret;
    }
    function deflateSetHeader(strm, head) {
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      if (strm.state.wrap !== 2) {
        return Z_STREAM_ERROR;
      }
      strm.state.gzhead = head;
      return Z_OK;
    }
    function deflateInit2(strm, level, method, windowBits, memLevel, strategy) {
      if (!strm) {
        return Z_STREAM_ERROR;
      }
      var wrap = 1;
      if (level === Z_DEFAULT_COMPRESSION) {
        level = 6;
      }
      if (windowBits < 0) {
        wrap = 0;
        windowBits = -windowBits;
      } else if (windowBits > 15) {
        wrap = 2;
        windowBits -= 16;
      }
      if (memLevel < 1 || memLevel > MAX_MEM_LEVEL || method !== Z_DEFLATED || windowBits < 8 || windowBits > 15 || level < 0 || level > 9 || strategy < 0 || strategy > Z_FIXED) {
        return err(strm, Z_STREAM_ERROR);
      }
      if (windowBits === 8) {
        windowBits = 9;
      }
      var s3 = new DeflateState();
      strm.state = s3;
      s3.strm = strm;
      s3.wrap = wrap;
      s3.gzhead = null;
      s3.w_bits = windowBits;
      s3.w_size = 1 << s3.w_bits;
      s3.w_mask = s3.w_size - 1;
      s3.hash_bits = memLevel + 7;
      s3.hash_size = 1 << s3.hash_bits;
      s3.hash_mask = s3.hash_size - 1;
      s3.hash_shift = ~~((s3.hash_bits + MIN_MATCH - 1) / MIN_MATCH);
      s3.window = new utils.Buf8(s3.w_size * 2);
      s3.head = new utils.Buf16(s3.hash_size);
      s3.prev = new utils.Buf16(s3.w_size);
      s3.lit_bufsize = 1 << memLevel + 6;
      s3.pending_buf_size = s3.lit_bufsize * 4;
      s3.pending_buf = new utils.Buf8(s3.pending_buf_size);
      s3.d_buf = 1 * s3.lit_bufsize;
      s3.l_buf = (1 + 2) * s3.lit_bufsize;
      s3.level = level;
      s3.strategy = strategy;
      s3.method = method;
      return deflateReset(strm);
    }
    function deflateInit(strm, level) {
      return deflateInit2(strm, level, Z_DEFLATED, MAX_WBITS, DEF_MEM_LEVEL, Z_DEFAULT_STRATEGY);
    }
    function deflate2(strm, flush) {
      var old_flush, s3;
      var beg, val;
      if (!strm || !strm.state || flush > Z_BLOCK || flush < 0) {
        return strm ? err(strm, Z_STREAM_ERROR) : Z_STREAM_ERROR;
      }
      s3 = strm.state;
      if (!strm.output || !strm.input && strm.avail_in !== 0 || s3.status === FINISH_STATE && flush !== Z_FINISH) {
        return err(strm, strm.avail_out === 0 ? Z_BUF_ERROR : Z_STREAM_ERROR);
      }
      s3.strm = strm;
      old_flush = s3.last_flush;
      s3.last_flush = flush;
      if (s3.status === INIT_STATE) {
        if (s3.wrap === 2) {
          strm.adler = 0;
          put_byte(s3, 31);
          put_byte(s3, 139);
          put_byte(s3, 8);
          if (!s3.gzhead) {
            put_byte(s3, 0);
            put_byte(s3, 0);
            put_byte(s3, 0);
            put_byte(s3, 0);
            put_byte(s3, 0);
            put_byte(s3, s3.level === 9 ? 2 : s3.strategy >= Z_HUFFMAN_ONLY || s3.level < 2 ? 4 : 0);
            put_byte(s3, OS_CODE);
            s3.status = BUSY_STATE;
          } else {
            put_byte(s3, (s3.gzhead.text ? 1 : 0) + (s3.gzhead.hcrc ? 2 : 0) + (!s3.gzhead.extra ? 0 : 4) + (!s3.gzhead.name ? 0 : 8) + (!s3.gzhead.comment ? 0 : 16));
            put_byte(s3, s3.gzhead.time & 255);
            put_byte(s3, s3.gzhead.time >> 8 & 255);
            put_byte(s3, s3.gzhead.time >> 16 & 255);
            put_byte(s3, s3.gzhead.time >> 24 & 255);
            put_byte(s3, s3.level === 9 ? 2 : s3.strategy >= Z_HUFFMAN_ONLY || s3.level < 2 ? 4 : 0);
            put_byte(s3, s3.gzhead.os & 255);
            if (s3.gzhead.extra && s3.gzhead.extra.length) {
              put_byte(s3, s3.gzhead.extra.length & 255);
              put_byte(s3, s3.gzhead.extra.length >> 8 & 255);
            }
            if (s3.gzhead.hcrc) {
              strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending, 0);
            }
            s3.gzindex = 0;
            s3.status = EXTRA_STATE;
          }
        } else {
          var header = Z_DEFLATED + (s3.w_bits - 8 << 4) << 8;
          var level_flags = -1;
          if (s3.strategy >= Z_HUFFMAN_ONLY || s3.level < 2) {
            level_flags = 0;
          } else if (s3.level < 6) {
            level_flags = 1;
          } else if (s3.level === 6) {
            level_flags = 2;
          } else {
            level_flags = 3;
          }
          header |= level_flags << 6;
          if (s3.strstart !== 0) {
            header |= PRESET_DICT;
          }
          header += 31 - header % 31;
          s3.status = BUSY_STATE;
          putShortMSB(s3, header);
          if (s3.strstart !== 0) {
            putShortMSB(s3, strm.adler >>> 16);
            putShortMSB(s3, strm.adler & 65535);
          }
          strm.adler = 1;
        }
      }
      if (s3.status === EXTRA_STATE) {
        if (s3.gzhead.extra) {
          beg = s3.pending;
          while (s3.gzindex < (s3.gzhead.extra.length & 65535)) {
            if (s3.pending === s3.pending_buf_size) {
              if (s3.gzhead.hcrc && s3.pending > beg) {
                strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
              }
              flush_pending(strm);
              beg = s3.pending;
              if (s3.pending === s3.pending_buf_size) {
                break;
              }
            }
            put_byte(s3, s3.gzhead.extra[s3.gzindex] & 255);
            s3.gzindex++;
          }
          if (s3.gzhead.hcrc && s3.pending > beg) {
            strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
          }
          if (s3.gzindex === s3.gzhead.extra.length) {
            s3.gzindex = 0;
            s3.status = NAME_STATE;
          }
        } else {
          s3.status = NAME_STATE;
        }
      }
      if (s3.status === NAME_STATE) {
        if (s3.gzhead.name) {
          beg = s3.pending;
          do {
            if (s3.pending === s3.pending_buf_size) {
              if (s3.gzhead.hcrc && s3.pending > beg) {
                strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
              }
              flush_pending(strm);
              beg = s3.pending;
              if (s3.pending === s3.pending_buf_size) {
                val = 1;
                break;
              }
            }
            if (s3.gzindex < s3.gzhead.name.length) {
              val = s3.gzhead.name.charCodeAt(s3.gzindex++) & 255;
            } else {
              val = 0;
            }
            put_byte(s3, val);
          } while (val !== 0);
          if (s3.gzhead.hcrc && s3.pending > beg) {
            strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
          }
          if (val === 0) {
            s3.gzindex = 0;
            s3.status = COMMENT_STATE;
          }
        } else {
          s3.status = COMMENT_STATE;
        }
      }
      if (s3.status === COMMENT_STATE) {
        if (s3.gzhead.comment) {
          beg = s3.pending;
          do {
            if (s3.pending === s3.pending_buf_size) {
              if (s3.gzhead.hcrc && s3.pending > beg) {
                strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
              }
              flush_pending(strm);
              beg = s3.pending;
              if (s3.pending === s3.pending_buf_size) {
                val = 1;
                break;
              }
            }
            if (s3.gzindex < s3.gzhead.comment.length) {
              val = s3.gzhead.comment.charCodeAt(s3.gzindex++) & 255;
            } else {
              val = 0;
            }
            put_byte(s3, val);
          } while (val !== 0);
          if (s3.gzhead.hcrc && s3.pending > beg) {
            strm.adler = crc32(strm.adler, s3.pending_buf, s3.pending - beg, beg);
          }
          if (val === 0) {
            s3.status = HCRC_STATE;
          }
        } else {
          s3.status = HCRC_STATE;
        }
      }
      if (s3.status === HCRC_STATE) {
        if (s3.gzhead.hcrc) {
          if (s3.pending + 2 > s3.pending_buf_size) {
            flush_pending(strm);
          }
          if (s3.pending + 2 <= s3.pending_buf_size) {
            put_byte(s3, strm.adler & 255);
            put_byte(s3, strm.adler >> 8 & 255);
            strm.adler = 0;
            s3.status = BUSY_STATE;
          }
        } else {
          s3.status = BUSY_STATE;
        }
      }
      if (s3.pending !== 0) {
        flush_pending(strm);
        if (strm.avail_out === 0) {
          s3.last_flush = -1;
          return Z_OK;
        }
      } else if (strm.avail_in === 0 && rank(flush) <= rank(old_flush) && flush !== Z_FINISH) {
        return err(strm, Z_BUF_ERROR);
      }
      if (s3.status === FINISH_STATE && strm.avail_in !== 0) {
        return err(strm, Z_BUF_ERROR);
      }
      if (strm.avail_in !== 0 || s3.lookahead !== 0 || flush !== Z_NO_FLUSH && s3.status !== FINISH_STATE) {
        var bstate = s3.strategy === Z_HUFFMAN_ONLY ? deflate_huff(s3, flush) : s3.strategy === Z_RLE ? deflate_rle(s3, flush) : configuration_table[s3.level].func(s3, flush);
        if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {
          s3.status = FINISH_STATE;
        }
        if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {
          if (strm.avail_out === 0) {
            s3.last_flush = -1;
          }
          return Z_OK;
        }
        if (bstate === BS_BLOCK_DONE) {
          if (flush === Z_PARTIAL_FLUSH) {
            trees._tr_align(s3);
          } else if (flush !== Z_BLOCK) {
            trees._tr_stored_block(s3, 0, 0, false);
            if (flush === Z_FULL_FLUSH) {
              zero(s3.head);
              if (s3.lookahead === 0) {
                s3.strstart = 0;
                s3.block_start = 0;
                s3.insert = 0;
              }
            }
          }
          flush_pending(strm);
          if (strm.avail_out === 0) {
            s3.last_flush = -1;
            return Z_OK;
          }
        }
      }
      if (flush !== Z_FINISH) {
        return Z_OK;
      }
      if (s3.wrap <= 0) {
        return Z_STREAM_END;
      }
      if (s3.wrap === 2) {
        put_byte(s3, strm.adler & 255);
        put_byte(s3, strm.adler >> 8 & 255);
        put_byte(s3, strm.adler >> 16 & 255);
        put_byte(s3, strm.adler >> 24 & 255);
        put_byte(s3, strm.total_in & 255);
        put_byte(s3, strm.total_in >> 8 & 255);
        put_byte(s3, strm.total_in >> 16 & 255);
        put_byte(s3, strm.total_in >> 24 & 255);
      } else {
        putShortMSB(s3, strm.adler >>> 16);
        putShortMSB(s3, strm.adler & 65535);
      }
      flush_pending(strm);
      if (s3.wrap > 0) {
        s3.wrap = -s3.wrap;
      }
      return s3.pending !== 0 ? Z_OK : Z_STREAM_END;
    }
    function deflateEnd(strm) {
      var status;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      status = strm.state.status;
      if (status !== INIT_STATE && status !== EXTRA_STATE && status !== NAME_STATE && status !== COMMENT_STATE && status !== HCRC_STATE && status !== BUSY_STATE && status !== FINISH_STATE) {
        return err(strm, Z_STREAM_ERROR);
      }
      strm.state = null;
      return status === BUSY_STATE ? err(strm, Z_DATA_ERROR) : Z_OK;
    }
    function deflateSetDictionary(strm, dictionary) {
      var dictLength = dictionary.length;
      var s3;
      var str, n3;
      var wrap;
      var avail;
      var next;
      var input;
      var tmpDict;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      s3 = strm.state;
      wrap = s3.wrap;
      if (wrap === 2 || wrap === 1 && s3.status !== INIT_STATE || s3.lookahead) {
        return Z_STREAM_ERROR;
      }
      if (wrap === 1) {
        strm.adler = adler32(strm.adler, dictionary, dictLength, 0);
      }
      s3.wrap = 0;
      if (dictLength >= s3.w_size) {
        if (wrap === 0) {
          zero(s3.head);
          s3.strstart = 0;
          s3.block_start = 0;
          s3.insert = 0;
        }
        tmpDict = new utils.Buf8(s3.w_size);
        utils.arraySet(tmpDict, dictionary, dictLength - s3.w_size, s3.w_size, 0);
        dictionary = tmpDict;
        dictLength = s3.w_size;
      }
      avail = strm.avail_in;
      next = strm.next_in;
      input = strm.input;
      strm.avail_in = dictLength;
      strm.next_in = 0;
      strm.input = dictionary;
      fill_window(s3);
      while (s3.lookahead >= MIN_MATCH) {
        str = s3.strstart;
        n3 = s3.lookahead - (MIN_MATCH - 1);
        do {
          s3.ins_h = (s3.ins_h << s3.hash_shift ^ s3.window[str + MIN_MATCH - 1]) & s3.hash_mask;
          s3.prev[str & s3.w_mask] = s3.head[s3.ins_h];
          s3.head[s3.ins_h] = str;
          str++;
        } while (--n3);
        s3.strstart = str;
        s3.lookahead = MIN_MATCH - 1;
        fill_window(s3);
      }
      s3.strstart += s3.lookahead;
      s3.block_start = s3.strstart;
      s3.insert = s3.lookahead;
      s3.lookahead = 0;
      s3.match_length = s3.prev_length = MIN_MATCH - 1;
      s3.match_available = 0;
      strm.next_in = next;
      strm.input = input;
      strm.avail_in = avail;
      s3.wrap = wrap;
      return Z_OK;
    }
    exports.deflateInit = deflateInit;
    exports.deflateInit2 = deflateInit2;
    exports.deflateReset = deflateReset;
    exports.deflateResetKeep = deflateResetKeep;
    exports.deflateSetHeader = deflateSetHeader;
    exports.deflate = deflate2;
    exports.deflateEnd = deflateEnd;
    exports.deflateSetDictionary = deflateSetDictionary;
    exports.deflateInfo = "pako deflate (from Nodeca project)";
  });

  // node_modules/pako/lib/utils/strings.js
  var require_strings = __commonJS((exports) => {
    "use strict";
    var utils = require_common();
    var STR_APPLY_OK = true;
    var STR_APPLY_UIA_OK = true;
    try {
      String.fromCharCode.apply(null, [0]);
    } catch (__) {
      STR_APPLY_OK = false;
    }
    try {
      String.fromCharCode.apply(null, new Uint8Array(1));
    } catch (__) {
      STR_APPLY_UIA_OK = false;
    }
    var _utf8len = new utils.Buf8(256);
    for (var q = 0; q < 256; q++) {
      _utf8len[q] = q >= 252 ? 6 : q >= 248 ? 5 : q >= 240 ? 4 : q >= 224 ? 3 : q >= 192 ? 2 : 1;
    }
    _utf8len[254] = _utf8len[254] = 1;
    exports.string2buf = function(str) {
      var buf, c3, c22, m_pos, i3, str_len = str.length, buf_len = 0;
      for (m_pos = 0; m_pos < str_len; m_pos++) {
        c3 = str.charCodeAt(m_pos);
        if ((c3 & 64512) === 55296 && m_pos + 1 < str_len) {
          c22 = str.charCodeAt(m_pos + 1);
          if ((c22 & 64512) === 56320) {
            c3 = 65536 + (c3 - 55296 << 10) + (c22 - 56320);
            m_pos++;
          }
        }
        buf_len += c3 < 128 ? 1 : c3 < 2048 ? 2 : c3 < 65536 ? 3 : 4;
      }
      buf = new utils.Buf8(buf_len);
      for (i3 = 0, m_pos = 0; i3 < buf_len; m_pos++) {
        c3 = str.charCodeAt(m_pos);
        if ((c3 & 64512) === 55296 && m_pos + 1 < str_len) {
          c22 = str.charCodeAt(m_pos + 1);
          if ((c22 & 64512) === 56320) {
            c3 = 65536 + (c3 - 55296 << 10) + (c22 - 56320);
            m_pos++;
          }
        }
        if (c3 < 128) {
          buf[i3++] = c3;
        } else if (c3 < 2048) {
          buf[i3++] = 192 | c3 >>> 6;
          buf[i3++] = 128 | c3 & 63;
        } else if (c3 < 65536) {
          buf[i3++] = 224 | c3 >>> 12;
          buf[i3++] = 128 | c3 >>> 6 & 63;
          buf[i3++] = 128 | c3 & 63;
        } else {
          buf[i3++] = 240 | c3 >>> 18;
          buf[i3++] = 128 | c3 >>> 12 & 63;
          buf[i3++] = 128 | c3 >>> 6 & 63;
          buf[i3++] = 128 | c3 & 63;
        }
      }
      return buf;
    };
    function buf2binstring(buf, len) {
      if (len < 65534) {
        if (buf.subarray && STR_APPLY_UIA_OK || !buf.subarray && STR_APPLY_OK) {
          return String.fromCharCode.apply(null, utils.shrinkBuf(buf, len));
        }
      }
      var result = "";
      for (var i3 = 0; i3 < len; i3++) {
        result += String.fromCharCode(buf[i3]);
      }
      return result;
    }
    exports.buf2binstring = function(buf) {
      return buf2binstring(buf, buf.length);
    };
    exports.binstring2buf = function(str) {
      var buf = new utils.Buf8(str.length);
      for (var i3 = 0, len = buf.length; i3 < len; i3++) {
        buf[i3] = str.charCodeAt(i3);
      }
      return buf;
    };
    exports.buf2string = function(buf, max) {
      var i3, out, c3, c_len;
      var len = max || buf.length;
      var utf16buf = new Array(len * 2);
      for (out = 0, i3 = 0; i3 < len; ) {
        c3 = buf[i3++];
        if (c3 < 128) {
          utf16buf[out++] = c3;
          continue;
        }
        c_len = _utf8len[c3];
        if (c_len > 4) {
          utf16buf[out++] = 65533;
          i3 += c_len - 1;
          continue;
        }
        c3 &= c_len === 2 ? 31 : c_len === 3 ? 15 : 7;
        while (c_len > 1 && i3 < len) {
          c3 = c3 << 6 | buf[i3++] & 63;
          c_len--;
        }
        if (c_len > 1) {
          utf16buf[out++] = 65533;
          continue;
        }
        if (c3 < 65536) {
          utf16buf[out++] = c3;
        } else {
          c3 -= 65536;
          utf16buf[out++] = 55296 | c3 >> 10 & 1023;
          utf16buf[out++] = 56320 | c3 & 1023;
        }
      }
      return buf2binstring(utf16buf, out);
    };
    exports.utf8border = function(buf, max) {
      var pos;
      max = max || buf.length;
      if (max > buf.length) {
        max = buf.length;
      }
      pos = max - 1;
      while (pos >= 0 && (buf[pos] & 192) === 128) {
        pos--;
      }
      if (pos < 0) {
        return max;
      }
      if (pos === 0) {
        return max;
      }
      return pos + _utf8len[buf[pos]] > max ? pos : max;
    };
  });

  // node_modules/pako/lib/zlib/zstream.js
  var require_zstream = __commonJS((exports, module) => {
    "use strict";
    function ZStream() {
      this.input = null;
      this.next_in = 0;
      this.avail_in = 0;
      this.total_in = 0;
      this.output = null;
      this.next_out = 0;
      this.avail_out = 0;
      this.total_out = 0;
      this.msg = "";
      this.state = null;
      this.data_type = 2;
      this.adler = 0;
    }
    module.exports = ZStream;
  });

  // node_modules/pako/lib/deflate.js
  var require_deflate2 = __commonJS((exports) => {
    "use strict";
    var zlib_deflate = require_deflate();
    var utils = require_common();
    var strings = require_strings();
    var msg = require_messages();
    var ZStream = require_zstream();
    var toString = Object.prototype.toString;
    var Z_NO_FLUSH = 0;
    var Z_FINISH = 4;
    var Z_OK = 0;
    var Z_STREAM_END = 1;
    var Z_SYNC_FLUSH = 2;
    var Z_DEFAULT_COMPRESSION = -1;
    var Z_DEFAULT_STRATEGY = 0;
    var Z_DEFLATED = 8;
    function Deflate(options) {
      if (!(this instanceof Deflate))
        return new Deflate(options);
      this.options = utils.assign({
        level: Z_DEFAULT_COMPRESSION,
        method: Z_DEFLATED,
        chunkSize: 16384,
        windowBits: 15,
        memLevel: 8,
        strategy: Z_DEFAULT_STRATEGY,
        to: ""
      }, options || {});
      var opt = this.options;
      if (opt.raw && opt.windowBits > 0) {
        opt.windowBits = -opt.windowBits;
      } else if (opt.gzip && opt.windowBits > 0 && opt.windowBits < 16) {
        opt.windowBits += 16;
      }
      this.err = 0;
      this.msg = "";
      this.ended = false;
      this.chunks = [];
      this.strm = new ZStream();
      this.strm.avail_out = 0;
      var status = zlib_deflate.deflateInit2(this.strm, opt.level, opt.method, opt.windowBits, opt.memLevel, opt.strategy);
      if (status !== Z_OK) {
        throw new Error(msg[status]);
      }
      if (opt.header) {
        zlib_deflate.deflateSetHeader(this.strm, opt.header);
      }
      if (opt.dictionary) {
        var dict;
        if (typeof opt.dictionary === "string") {
          dict = strings.string2buf(opt.dictionary);
        } else if (toString.call(opt.dictionary) === "[object ArrayBuffer]") {
          dict = new Uint8Array(opt.dictionary);
        } else {
          dict = opt.dictionary;
        }
        status = zlib_deflate.deflateSetDictionary(this.strm, dict);
        if (status !== Z_OK) {
          throw new Error(msg[status]);
        }
        this._dict_set = true;
      }
    }
    Deflate.prototype.push = function(data, mode) {
      var strm = this.strm;
      var chunkSize = this.options.chunkSize;
      var status, _mode;
      if (this.ended) {
        return false;
      }
      _mode = mode === ~~mode ? mode : mode === true ? Z_FINISH : Z_NO_FLUSH;
      if (typeof data === "string") {
        strm.input = strings.string2buf(data);
      } else if (toString.call(data) === "[object ArrayBuffer]") {
        strm.input = new Uint8Array(data);
      } else {
        strm.input = data;
      }
      strm.next_in = 0;
      strm.avail_in = strm.input.length;
      do {
        if (strm.avail_out === 0) {
          strm.output = new utils.Buf8(chunkSize);
          strm.next_out = 0;
          strm.avail_out = chunkSize;
        }
        status = zlib_deflate.deflate(strm, _mode);
        if (status !== Z_STREAM_END && status !== Z_OK) {
          this.onEnd(status);
          this.ended = true;
          return false;
        }
        if (strm.avail_out === 0 || strm.avail_in === 0 && (_mode === Z_FINISH || _mode === Z_SYNC_FLUSH)) {
          if (this.options.to === "string") {
            this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output, strm.next_out)));
          } else {
            this.onData(utils.shrinkBuf(strm.output, strm.next_out));
          }
        }
      } while ((strm.avail_in > 0 || strm.avail_out === 0) && status !== Z_STREAM_END);
      if (_mode === Z_FINISH) {
        status = zlib_deflate.deflateEnd(this.strm);
        this.onEnd(status);
        this.ended = true;
        return status === Z_OK;
      }
      if (_mode === Z_SYNC_FLUSH) {
        this.onEnd(Z_OK);
        strm.avail_out = 0;
        return true;
      }
      return true;
    };
    Deflate.prototype.onData = function(chunk) {
      this.chunks.push(chunk);
    };
    Deflate.prototype.onEnd = function(status) {
      if (status === Z_OK) {
        if (this.options.to === "string") {
          this.result = this.chunks.join("");
        } else {
          this.result = utils.flattenChunks(this.chunks);
        }
      }
      this.chunks = [];
      this.err = status;
      this.msg = this.strm.msg;
    };
    function deflate2(input, options) {
      var deflator = new Deflate(options);
      deflator.push(input, true);
      if (deflator.err) {
        throw deflator.msg || msg[deflator.err];
      }
      return deflator.result;
    }
    function deflateRaw(input, options) {
      options = options || {};
      options.raw = true;
      return deflate2(input, options);
    }
    function gzip(input, options) {
      options = options || {};
      options.gzip = true;
      return deflate2(input, options);
    }
    exports.Deflate = Deflate;
    exports.deflate = deflate2;
    exports.deflateRaw = deflateRaw;
    exports.gzip = gzip;
  });

  // node_modules/pako/lib/zlib/inffast.js
  var require_inffast = __commonJS((exports, module) => {
    "use strict";
    var BAD = 30;
    var TYPE = 12;
    module.exports = function inflate_fast(strm, start) {
      var state;
      var _in;
      var last;
      var _out;
      var beg;
      var end;
      var dmax;
      var wsize;
      var whave;
      var wnext;
      var s_window;
      var hold;
      var bits;
      var lcode;
      var dcode;
      var lmask;
      var dmask;
      var here;
      var op;
      var len;
      var dist;
      var from;
      var from_source;
      var input, output;
      state = strm.state;
      _in = strm.next_in;
      input = strm.input;
      last = _in + (strm.avail_in - 5);
      _out = strm.next_out;
      output = strm.output;
      beg = _out - (start - strm.avail_out);
      end = _out + (strm.avail_out - 257);
      dmax = state.dmax;
      wsize = state.wsize;
      whave = state.whave;
      wnext = state.wnext;
      s_window = state.window;
      hold = state.hold;
      bits = state.bits;
      lcode = state.lencode;
      dcode = state.distcode;
      lmask = (1 << state.lenbits) - 1;
      dmask = (1 << state.distbits) - 1;
      top:
        do {
          if (bits < 15) {
            hold += input[_in++] << bits;
            bits += 8;
            hold += input[_in++] << bits;
            bits += 8;
          }
          here = lcode[hold & lmask];
          dolen:
            for (; ; ) {
              op = here >>> 24;
              hold >>>= op;
              bits -= op;
              op = here >>> 16 & 255;
              if (op === 0) {
                output[_out++] = here & 65535;
              } else if (op & 16) {
                len = here & 65535;
                op &= 15;
                if (op) {
                  if (bits < op) {
                    hold += input[_in++] << bits;
                    bits += 8;
                  }
                  len += hold & (1 << op) - 1;
                  hold >>>= op;
                  bits -= op;
                }
                if (bits < 15) {
                  hold += input[_in++] << bits;
                  bits += 8;
                  hold += input[_in++] << bits;
                  bits += 8;
                }
                here = dcode[hold & dmask];
                dodist:
                  for (; ; ) {
                    op = here >>> 24;
                    hold >>>= op;
                    bits -= op;
                    op = here >>> 16 & 255;
                    if (op & 16) {
                      dist = here & 65535;
                      op &= 15;
                      if (bits < op) {
                        hold += input[_in++] << bits;
                        bits += 8;
                        if (bits < op) {
                          hold += input[_in++] << bits;
                          bits += 8;
                        }
                      }
                      dist += hold & (1 << op) - 1;
                      if (dist > dmax) {
                        strm.msg = "invalid distance too far back";
                        state.mode = BAD;
                        break top;
                      }
                      hold >>>= op;
                      bits -= op;
                      op = _out - beg;
                      if (dist > op) {
                        op = dist - op;
                        if (op > whave) {
                          if (state.sane) {
                            strm.msg = "invalid distance too far back";
                            state.mode = BAD;
                            break top;
                          }
                        }
                        from = 0;
                        from_source = s_window;
                        if (wnext === 0) {
                          from += wsize - op;
                          if (op < len) {
                            len -= op;
                            do {
                              output[_out++] = s_window[from++];
                            } while (--op);
                            from = _out - dist;
                            from_source = output;
                          }
                        } else if (wnext < op) {
                          from += wsize + wnext - op;
                          op -= wnext;
                          if (op < len) {
                            len -= op;
                            do {
                              output[_out++] = s_window[from++];
                            } while (--op);
                            from = 0;
                            if (wnext < len) {
                              op = wnext;
                              len -= op;
                              do {
                                output[_out++] = s_window[from++];
                              } while (--op);
                              from = _out - dist;
                              from_source = output;
                            }
                          }
                        } else {
                          from += wnext - op;
                          if (op < len) {
                            len -= op;
                            do {
                              output[_out++] = s_window[from++];
                            } while (--op);
                            from = _out - dist;
                            from_source = output;
                          }
                        }
                        while (len > 2) {
                          output[_out++] = from_source[from++];
                          output[_out++] = from_source[from++];
                          output[_out++] = from_source[from++];
                          len -= 3;
                        }
                        if (len) {
                          output[_out++] = from_source[from++];
                          if (len > 1) {
                            output[_out++] = from_source[from++];
                          }
                        }
                      } else {
                        from = _out - dist;
                        do {
                          output[_out++] = output[from++];
                          output[_out++] = output[from++];
                          output[_out++] = output[from++];
                          len -= 3;
                        } while (len > 2);
                        if (len) {
                          output[_out++] = output[from++];
                          if (len > 1) {
                            output[_out++] = output[from++];
                          }
                        }
                      }
                    } else if ((op & 64) === 0) {
                      here = dcode[(here & 65535) + (hold & (1 << op) - 1)];
                      continue dodist;
                    } else {
                      strm.msg = "invalid distance code";
                      state.mode = BAD;
                      break top;
                    }
                    break;
                  }
              } else if ((op & 64) === 0) {
                here = lcode[(here & 65535) + (hold & (1 << op) - 1)];
                continue dolen;
              } else if (op & 32) {
                state.mode = TYPE;
                break top;
              } else {
                strm.msg = "invalid literal/length code";
                state.mode = BAD;
                break top;
              }
              break;
            }
        } while (_in < last && _out < end);
      len = bits >> 3;
      _in -= len;
      bits -= len << 3;
      hold &= (1 << bits) - 1;
      strm.next_in = _in;
      strm.next_out = _out;
      strm.avail_in = _in < last ? 5 + (last - _in) : 5 - (_in - last);
      strm.avail_out = _out < end ? 257 + (end - _out) : 257 - (_out - end);
      state.hold = hold;
      state.bits = bits;
      return;
    };
  });

  // node_modules/pako/lib/zlib/inftrees.js
  var require_inftrees = __commonJS((exports, module) => {
    "use strict";
    var utils = require_common();
    var MAXBITS = 15;
    var ENOUGH_LENS = 852;
    var ENOUGH_DISTS = 592;
    var CODES = 0;
    var LENS = 1;
    var DISTS = 2;
    var lbase = [
      3,
      4,
      5,
      6,
      7,
      8,
      9,
      10,
      11,
      13,
      15,
      17,
      19,
      23,
      27,
      31,
      35,
      43,
      51,
      59,
      67,
      83,
      99,
      115,
      131,
      163,
      195,
      227,
      258,
      0,
      0
    ];
    var lext = [
      16,
      16,
      16,
      16,
      16,
      16,
      16,
      16,
      17,
      17,
      17,
      17,
      18,
      18,
      18,
      18,
      19,
      19,
      19,
      19,
      20,
      20,
      20,
      20,
      21,
      21,
      21,
      21,
      16,
      72,
      78
    ];
    var dbase = [
      1,
      2,
      3,
      4,
      5,
      7,
      9,
      13,
      17,
      25,
      33,
      49,
      65,
      97,
      129,
      193,
      257,
      385,
      513,
      769,
      1025,
      1537,
      2049,
      3073,
      4097,
      6145,
      8193,
      12289,
      16385,
      24577,
      0,
      0
    ];
    var dext = [
      16,
      16,
      16,
      16,
      17,
      17,
      18,
      18,
      19,
      19,
      20,
      20,
      21,
      21,
      22,
      22,
      23,
      23,
      24,
      24,
      25,
      25,
      26,
      26,
      27,
      27,
      28,
      28,
      29,
      29,
      64,
      64
    ];
    module.exports = function inflate_table(type, lens, lens_index, codes, table, table_index, work, opts) {
      var bits = opts.bits;
      var len = 0;
      var sym = 0;
      var min = 0, max = 0;
      var root = 0;
      var curr = 0;
      var drop = 0;
      var left = 0;
      var used = 0;
      var huff = 0;
      var incr;
      var fill;
      var low;
      var mask;
      var next;
      var base = null;
      var base_index = 0;
      var end;
      var count = new utils.Buf16(MAXBITS + 1);
      var offs = new utils.Buf16(MAXBITS + 1);
      var extra = null;
      var extra_index = 0;
      var here_bits, here_op, here_val;
      for (len = 0; len <= MAXBITS; len++) {
        count[len] = 0;
      }
      for (sym = 0; sym < codes; sym++) {
        count[lens[lens_index + sym]]++;
      }
      root = bits;
      for (max = MAXBITS; max >= 1; max--) {
        if (count[max] !== 0) {
          break;
        }
      }
      if (root > max) {
        root = max;
      }
      if (max === 0) {
        table[table_index++] = 1 << 24 | 64 << 16 | 0;
        table[table_index++] = 1 << 24 | 64 << 16 | 0;
        opts.bits = 1;
        return 0;
      }
      for (min = 1; min < max; min++) {
        if (count[min] !== 0) {
          break;
        }
      }
      if (root < min) {
        root = min;
      }
      left = 1;
      for (len = 1; len <= MAXBITS; len++) {
        left <<= 1;
        left -= count[len];
        if (left < 0) {
          return -1;
        }
      }
      if (left > 0 && (type === CODES || max !== 1)) {
        return -1;
      }
      offs[1] = 0;
      for (len = 1; len < MAXBITS; len++) {
        offs[len + 1] = offs[len] + count[len];
      }
      for (sym = 0; sym < codes; sym++) {
        if (lens[lens_index + sym] !== 0) {
          work[offs[lens[lens_index + sym]]++] = sym;
        }
      }
      if (type === CODES) {
        base = extra = work;
        end = 19;
      } else if (type === LENS) {
        base = lbase;
        base_index -= 257;
        extra = lext;
        extra_index -= 257;
        end = 256;
      } else {
        base = dbase;
        extra = dext;
        end = -1;
      }
      huff = 0;
      sym = 0;
      len = min;
      next = table_index;
      curr = root;
      drop = 0;
      low = -1;
      used = 1 << root;
      mask = used - 1;
      if (type === LENS && used > ENOUGH_LENS || type === DISTS && used > ENOUGH_DISTS) {
        return 1;
      }
      for (; ; ) {
        here_bits = len - drop;
        if (work[sym] < end) {
          here_op = 0;
          here_val = work[sym];
        } else if (work[sym] > end) {
          here_op = extra[extra_index + work[sym]];
          here_val = base[base_index + work[sym]];
        } else {
          here_op = 32 + 64;
          here_val = 0;
        }
        incr = 1 << len - drop;
        fill = 1 << curr;
        min = fill;
        do {
          fill -= incr;
          table[next + (huff >> drop) + fill] = here_bits << 24 | here_op << 16 | here_val | 0;
        } while (fill !== 0);
        incr = 1 << len - 1;
        while (huff & incr) {
          incr >>= 1;
        }
        if (incr !== 0) {
          huff &= incr - 1;
          huff += incr;
        } else {
          huff = 0;
        }
        sym++;
        if (--count[len] === 0) {
          if (len === max) {
            break;
          }
          len = lens[lens_index + work[sym]];
        }
        if (len > root && (huff & mask) !== low) {
          if (drop === 0) {
            drop = root;
          }
          next += min;
          curr = len - drop;
          left = 1 << curr;
          while (curr + drop < max) {
            left -= count[curr + drop];
            if (left <= 0) {
              break;
            }
            curr++;
            left <<= 1;
          }
          used += 1 << curr;
          if (type === LENS && used > ENOUGH_LENS || type === DISTS && used > ENOUGH_DISTS) {
            return 1;
          }
          low = huff & mask;
          table[low] = root << 24 | curr << 16 | next - table_index | 0;
        }
      }
      if (huff !== 0) {
        table[next + huff] = len - drop << 24 | 64 << 16 | 0;
      }
      opts.bits = root;
      return 0;
    };
  });

  // node_modules/pako/lib/zlib/inflate.js
  var require_inflate = __commonJS((exports) => {
    "use strict";
    var utils = require_common();
    var adler32 = require_adler32();
    var crc32 = require_crc32();
    var inflate_fast = require_inffast();
    var inflate_table = require_inftrees();
    var CODES = 0;
    var LENS = 1;
    var DISTS = 2;
    var Z_FINISH = 4;
    var Z_BLOCK = 5;
    var Z_TREES = 6;
    var Z_OK = 0;
    var Z_STREAM_END = 1;
    var Z_NEED_DICT = 2;
    var Z_STREAM_ERROR = -2;
    var Z_DATA_ERROR = -3;
    var Z_MEM_ERROR = -4;
    var Z_BUF_ERROR = -5;
    var Z_DEFLATED = 8;
    var HEAD = 1;
    var FLAGS = 2;
    var TIME = 3;
    var OS = 4;
    var EXLEN = 5;
    var EXTRA = 6;
    var NAME = 7;
    var COMMENT = 8;
    var HCRC = 9;
    var DICTID = 10;
    var DICT = 11;
    var TYPE = 12;
    var TYPEDO = 13;
    var STORED = 14;
    var COPY_ = 15;
    var COPY = 16;
    var TABLE = 17;
    var LENLENS = 18;
    var CODELENS = 19;
    var LEN_ = 20;
    var LEN = 21;
    var LENEXT = 22;
    var DIST = 23;
    var DISTEXT = 24;
    var MATCH = 25;
    var LIT = 26;
    var CHECK = 27;
    var LENGTH = 28;
    var DONE = 29;
    var BAD = 30;
    var MEM = 31;
    var SYNC = 32;
    var ENOUGH_LENS = 852;
    var ENOUGH_DISTS = 592;
    var MAX_WBITS = 15;
    var DEF_WBITS = MAX_WBITS;
    function zswap32(q) {
      return (q >>> 24 & 255) + (q >>> 8 & 65280) + ((q & 65280) << 8) + ((q & 255) << 24);
    }
    function InflateState() {
      this.mode = 0;
      this.last = false;
      this.wrap = 0;
      this.havedict = false;
      this.flags = 0;
      this.dmax = 0;
      this.check = 0;
      this.total = 0;
      this.head = null;
      this.wbits = 0;
      this.wsize = 0;
      this.whave = 0;
      this.wnext = 0;
      this.window = null;
      this.hold = 0;
      this.bits = 0;
      this.length = 0;
      this.offset = 0;
      this.extra = 0;
      this.lencode = null;
      this.distcode = null;
      this.lenbits = 0;
      this.distbits = 0;
      this.ncode = 0;
      this.nlen = 0;
      this.ndist = 0;
      this.have = 0;
      this.next = null;
      this.lens = new utils.Buf16(320);
      this.work = new utils.Buf16(288);
      this.lendyn = null;
      this.distdyn = null;
      this.sane = 0;
      this.back = 0;
      this.was = 0;
    }
    function inflateResetKeep(strm) {
      var state;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      strm.total_in = strm.total_out = state.total = 0;
      strm.msg = "";
      if (state.wrap) {
        strm.adler = state.wrap & 1;
      }
      state.mode = HEAD;
      state.last = 0;
      state.havedict = 0;
      state.dmax = 32768;
      state.head = null;
      state.hold = 0;
      state.bits = 0;
      state.lencode = state.lendyn = new utils.Buf32(ENOUGH_LENS);
      state.distcode = state.distdyn = new utils.Buf32(ENOUGH_DISTS);
      state.sane = 1;
      state.back = -1;
      return Z_OK;
    }
    function inflateReset(strm) {
      var state;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      state.wsize = 0;
      state.whave = 0;
      state.wnext = 0;
      return inflateResetKeep(strm);
    }
    function inflateReset2(strm, windowBits) {
      var wrap;
      var state;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      if (windowBits < 0) {
        wrap = 0;
        windowBits = -windowBits;
      } else {
        wrap = (windowBits >> 4) + 1;
        if (windowBits < 48) {
          windowBits &= 15;
        }
      }
      if (windowBits && (windowBits < 8 || windowBits > 15)) {
        return Z_STREAM_ERROR;
      }
      if (state.window !== null && state.wbits !== windowBits) {
        state.window = null;
      }
      state.wrap = wrap;
      state.wbits = windowBits;
      return inflateReset(strm);
    }
    function inflateInit2(strm, windowBits) {
      var ret;
      var state;
      if (!strm) {
        return Z_STREAM_ERROR;
      }
      state = new InflateState();
      strm.state = state;
      state.window = null;
      ret = inflateReset2(strm, windowBits);
      if (ret !== Z_OK) {
        strm.state = null;
      }
      return ret;
    }
    function inflateInit(strm) {
      return inflateInit2(strm, DEF_WBITS);
    }
    var virgin = true;
    var lenfix;
    var distfix;
    function fixedtables(state) {
      if (virgin) {
        var sym;
        lenfix = new utils.Buf32(512);
        distfix = new utils.Buf32(32);
        sym = 0;
        while (sym < 144) {
          state.lens[sym++] = 8;
        }
        while (sym < 256) {
          state.lens[sym++] = 9;
        }
        while (sym < 280) {
          state.lens[sym++] = 7;
        }
        while (sym < 288) {
          state.lens[sym++] = 8;
        }
        inflate_table(LENS, state.lens, 0, 288, lenfix, 0, state.work, {bits: 9});
        sym = 0;
        while (sym < 32) {
          state.lens[sym++] = 5;
        }
        inflate_table(DISTS, state.lens, 0, 32, distfix, 0, state.work, {bits: 5});
        virgin = false;
      }
      state.lencode = lenfix;
      state.lenbits = 9;
      state.distcode = distfix;
      state.distbits = 5;
    }
    function updatewindow(strm, src, end, copy) {
      var dist;
      var state = strm.state;
      if (state.window === null) {
        state.wsize = 1 << state.wbits;
        state.wnext = 0;
        state.whave = 0;
        state.window = new utils.Buf8(state.wsize);
      }
      if (copy >= state.wsize) {
        utils.arraySet(state.window, src, end - state.wsize, state.wsize, 0);
        state.wnext = 0;
        state.whave = state.wsize;
      } else {
        dist = state.wsize - state.wnext;
        if (dist > copy) {
          dist = copy;
        }
        utils.arraySet(state.window, src, end - copy, dist, state.wnext);
        copy -= dist;
        if (copy) {
          utils.arraySet(state.window, src, end - copy, copy, 0);
          state.wnext = copy;
          state.whave = state.wsize;
        } else {
          state.wnext += dist;
          if (state.wnext === state.wsize) {
            state.wnext = 0;
          }
          if (state.whave < state.wsize) {
            state.whave += dist;
          }
        }
      }
      return 0;
    }
    function inflate(strm, flush) {
      var state;
      var input, output;
      var next;
      var put;
      var have, left;
      var hold;
      var bits;
      var _in, _out;
      var copy;
      var from;
      var from_source;
      var here = 0;
      var here_bits, here_op, here_val;
      var last_bits, last_op, last_val;
      var len;
      var ret;
      var hbuf = new utils.Buf8(4);
      var opts;
      var n3;
      var order = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
      if (!strm || !strm.state || !strm.output || !strm.input && strm.avail_in !== 0) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      if (state.mode === TYPE) {
        state.mode = TYPEDO;
      }
      put = strm.next_out;
      output = strm.output;
      left = strm.avail_out;
      next = strm.next_in;
      input = strm.input;
      have = strm.avail_in;
      hold = state.hold;
      bits = state.bits;
      _in = have;
      _out = left;
      ret = Z_OK;
      inf_leave:
        for (; ; ) {
          switch (state.mode) {
            case HEAD:
              if (state.wrap === 0) {
                state.mode = TYPEDO;
                break;
              }
              while (bits < 16) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if (state.wrap & 2 && hold === 35615) {
                state.check = 0;
                hbuf[0] = hold & 255;
                hbuf[1] = hold >>> 8 & 255;
                state.check = crc32(state.check, hbuf, 2, 0);
                hold = 0;
                bits = 0;
                state.mode = FLAGS;
                break;
              }
              state.flags = 0;
              if (state.head) {
                state.head.done = false;
              }
              if (!(state.wrap & 1) || (((hold & 255) << 8) + (hold >> 8)) % 31) {
                strm.msg = "incorrect header check";
                state.mode = BAD;
                break;
              }
              if ((hold & 15) !== Z_DEFLATED) {
                strm.msg = "unknown compression method";
                state.mode = BAD;
                break;
              }
              hold >>>= 4;
              bits -= 4;
              len = (hold & 15) + 8;
              if (state.wbits === 0) {
                state.wbits = len;
              } else if (len > state.wbits) {
                strm.msg = "invalid window size";
                state.mode = BAD;
                break;
              }
              state.dmax = 1 << len;
              strm.adler = state.check = 1;
              state.mode = hold & 512 ? DICTID : TYPE;
              hold = 0;
              bits = 0;
              break;
            case FLAGS:
              while (bits < 16) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              state.flags = hold;
              if ((state.flags & 255) !== Z_DEFLATED) {
                strm.msg = "unknown compression method";
                state.mode = BAD;
                break;
              }
              if (state.flags & 57344) {
                strm.msg = "unknown header flags set";
                state.mode = BAD;
                break;
              }
              if (state.head) {
                state.head.text = hold >> 8 & 1;
              }
              if (state.flags & 512) {
                hbuf[0] = hold & 255;
                hbuf[1] = hold >>> 8 & 255;
                state.check = crc32(state.check, hbuf, 2, 0);
              }
              hold = 0;
              bits = 0;
              state.mode = TIME;
            case TIME:
              while (bits < 32) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if (state.head) {
                state.head.time = hold;
              }
              if (state.flags & 512) {
                hbuf[0] = hold & 255;
                hbuf[1] = hold >>> 8 & 255;
                hbuf[2] = hold >>> 16 & 255;
                hbuf[3] = hold >>> 24 & 255;
                state.check = crc32(state.check, hbuf, 4, 0);
              }
              hold = 0;
              bits = 0;
              state.mode = OS;
            case OS:
              while (bits < 16) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if (state.head) {
                state.head.xflags = hold & 255;
                state.head.os = hold >> 8;
              }
              if (state.flags & 512) {
                hbuf[0] = hold & 255;
                hbuf[1] = hold >>> 8 & 255;
                state.check = crc32(state.check, hbuf, 2, 0);
              }
              hold = 0;
              bits = 0;
              state.mode = EXLEN;
            case EXLEN:
              if (state.flags & 1024) {
                while (bits < 16) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                state.length = hold;
                if (state.head) {
                  state.head.extra_len = hold;
                }
                if (state.flags & 512) {
                  hbuf[0] = hold & 255;
                  hbuf[1] = hold >>> 8 & 255;
                  state.check = crc32(state.check, hbuf, 2, 0);
                }
                hold = 0;
                bits = 0;
              } else if (state.head) {
                state.head.extra = null;
              }
              state.mode = EXTRA;
            case EXTRA:
              if (state.flags & 1024) {
                copy = state.length;
                if (copy > have) {
                  copy = have;
                }
                if (copy) {
                  if (state.head) {
                    len = state.head.extra_len - state.length;
                    if (!state.head.extra) {
                      state.head.extra = new Array(state.head.extra_len);
                    }
                    utils.arraySet(state.head.extra, input, next, copy, len);
                  }
                  if (state.flags & 512) {
                    state.check = crc32(state.check, input, copy, next);
                  }
                  have -= copy;
                  next += copy;
                  state.length -= copy;
                }
                if (state.length) {
                  break inf_leave;
                }
              }
              state.length = 0;
              state.mode = NAME;
            case NAME:
              if (state.flags & 2048) {
                if (have === 0) {
                  break inf_leave;
                }
                copy = 0;
                do {
                  len = input[next + copy++];
                  if (state.head && len && state.length < 65536) {
                    state.head.name += String.fromCharCode(len);
                  }
                } while (len && copy < have);
                if (state.flags & 512) {
                  state.check = crc32(state.check, input, copy, next);
                }
                have -= copy;
                next += copy;
                if (len) {
                  break inf_leave;
                }
              } else if (state.head) {
                state.head.name = null;
              }
              state.length = 0;
              state.mode = COMMENT;
            case COMMENT:
              if (state.flags & 4096) {
                if (have === 0) {
                  break inf_leave;
                }
                copy = 0;
                do {
                  len = input[next + copy++];
                  if (state.head && len && state.length < 65536) {
                    state.head.comment += String.fromCharCode(len);
                  }
                } while (len && copy < have);
                if (state.flags & 512) {
                  state.check = crc32(state.check, input, copy, next);
                }
                have -= copy;
                next += copy;
                if (len) {
                  break inf_leave;
                }
              } else if (state.head) {
                state.head.comment = null;
              }
              state.mode = HCRC;
            case HCRC:
              if (state.flags & 512) {
                while (bits < 16) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                if (hold !== (state.check & 65535)) {
                  strm.msg = "header crc mismatch";
                  state.mode = BAD;
                  break;
                }
                hold = 0;
                bits = 0;
              }
              if (state.head) {
                state.head.hcrc = state.flags >> 9 & 1;
                state.head.done = true;
              }
              strm.adler = state.check = 0;
              state.mode = TYPE;
              break;
            case DICTID:
              while (bits < 32) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              strm.adler = state.check = zswap32(hold);
              hold = 0;
              bits = 0;
              state.mode = DICT;
            case DICT:
              if (state.havedict === 0) {
                strm.next_out = put;
                strm.avail_out = left;
                strm.next_in = next;
                strm.avail_in = have;
                state.hold = hold;
                state.bits = bits;
                return Z_NEED_DICT;
              }
              strm.adler = state.check = 1;
              state.mode = TYPE;
            case TYPE:
              if (flush === Z_BLOCK || flush === Z_TREES) {
                break inf_leave;
              }
            case TYPEDO:
              if (state.last) {
                hold >>>= bits & 7;
                bits -= bits & 7;
                state.mode = CHECK;
                break;
              }
              while (bits < 3) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              state.last = hold & 1;
              hold >>>= 1;
              bits -= 1;
              switch (hold & 3) {
                case 0:
                  state.mode = STORED;
                  break;
                case 1:
                  fixedtables(state);
                  state.mode = LEN_;
                  if (flush === Z_TREES) {
                    hold >>>= 2;
                    bits -= 2;
                    break inf_leave;
                  }
                  break;
                case 2:
                  state.mode = TABLE;
                  break;
                case 3:
                  strm.msg = "invalid block type";
                  state.mode = BAD;
              }
              hold >>>= 2;
              bits -= 2;
              break;
            case STORED:
              hold >>>= bits & 7;
              bits -= bits & 7;
              while (bits < 32) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if ((hold & 65535) !== (hold >>> 16 ^ 65535)) {
                strm.msg = "invalid stored block lengths";
                state.mode = BAD;
                break;
              }
              state.length = hold & 65535;
              hold = 0;
              bits = 0;
              state.mode = COPY_;
              if (flush === Z_TREES) {
                break inf_leave;
              }
            case COPY_:
              state.mode = COPY;
            case COPY:
              copy = state.length;
              if (copy) {
                if (copy > have) {
                  copy = have;
                }
                if (copy > left) {
                  copy = left;
                }
                if (copy === 0) {
                  break inf_leave;
                }
                utils.arraySet(output, input, next, copy, put);
                have -= copy;
                next += copy;
                left -= copy;
                put += copy;
                state.length -= copy;
                break;
              }
              state.mode = TYPE;
              break;
            case TABLE:
              while (bits < 14) {
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              state.nlen = (hold & 31) + 257;
              hold >>>= 5;
              bits -= 5;
              state.ndist = (hold & 31) + 1;
              hold >>>= 5;
              bits -= 5;
              state.ncode = (hold & 15) + 4;
              hold >>>= 4;
              bits -= 4;
              if (state.nlen > 286 || state.ndist > 30) {
                strm.msg = "too many length or distance symbols";
                state.mode = BAD;
                break;
              }
              state.have = 0;
              state.mode = LENLENS;
            case LENLENS:
              while (state.have < state.ncode) {
                while (bits < 3) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                state.lens[order[state.have++]] = hold & 7;
                hold >>>= 3;
                bits -= 3;
              }
              while (state.have < 19) {
                state.lens[order[state.have++]] = 0;
              }
              state.lencode = state.lendyn;
              state.lenbits = 7;
              opts = {bits: state.lenbits};
              ret = inflate_table(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);
              state.lenbits = opts.bits;
              if (ret) {
                strm.msg = "invalid code lengths set";
                state.mode = BAD;
                break;
              }
              state.have = 0;
              state.mode = CODELENS;
            case CODELENS:
              while (state.have < state.nlen + state.ndist) {
                for (; ; ) {
                  here = state.lencode[hold & (1 << state.lenbits) - 1];
                  here_bits = here >>> 24;
                  here_op = here >>> 16 & 255;
                  here_val = here & 65535;
                  if (here_bits <= bits) {
                    break;
                  }
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                if (here_val < 16) {
                  hold >>>= here_bits;
                  bits -= here_bits;
                  state.lens[state.have++] = here_val;
                } else {
                  if (here_val === 16) {
                    n3 = here_bits + 2;
                    while (bits < n3) {
                      if (have === 0) {
                        break inf_leave;
                      }
                      have--;
                      hold += input[next++] << bits;
                      bits += 8;
                    }
                    hold >>>= here_bits;
                    bits -= here_bits;
                    if (state.have === 0) {
                      strm.msg = "invalid bit length repeat";
                      state.mode = BAD;
                      break;
                    }
                    len = state.lens[state.have - 1];
                    copy = 3 + (hold & 3);
                    hold >>>= 2;
                    bits -= 2;
                  } else if (here_val === 17) {
                    n3 = here_bits + 3;
                    while (bits < n3) {
                      if (have === 0) {
                        break inf_leave;
                      }
                      have--;
                      hold += input[next++] << bits;
                      bits += 8;
                    }
                    hold >>>= here_bits;
                    bits -= here_bits;
                    len = 0;
                    copy = 3 + (hold & 7);
                    hold >>>= 3;
                    bits -= 3;
                  } else {
                    n3 = here_bits + 7;
                    while (bits < n3) {
                      if (have === 0) {
                        break inf_leave;
                      }
                      have--;
                      hold += input[next++] << bits;
                      bits += 8;
                    }
                    hold >>>= here_bits;
                    bits -= here_bits;
                    len = 0;
                    copy = 11 + (hold & 127);
                    hold >>>= 7;
                    bits -= 7;
                  }
                  if (state.have + copy > state.nlen + state.ndist) {
                    strm.msg = "invalid bit length repeat";
                    state.mode = BAD;
                    break;
                  }
                  while (copy--) {
                    state.lens[state.have++] = len;
                  }
                }
              }
              if (state.mode === BAD) {
                break;
              }
              if (state.lens[256] === 0) {
                strm.msg = "invalid code -- missing end-of-block";
                state.mode = BAD;
                break;
              }
              state.lenbits = 9;
              opts = {bits: state.lenbits};
              ret = inflate_table(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);
              state.lenbits = opts.bits;
              if (ret) {
                strm.msg = "invalid literal/lengths set";
                state.mode = BAD;
                break;
              }
              state.distbits = 6;
              state.distcode = state.distdyn;
              opts = {bits: state.distbits};
              ret = inflate_table(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);
              state.distbits = opts.bits;
              if (ret) {
                strm.msg = "invalid distances set";
                state.mode = BAD;
                break;
              }
              state.mode = LEN_;
              if (flush === Z_TREES) {
                break inf_leave;
              }
            case LEN_:
              state.mode = LEN;
            case LEN:
              if (have >= 6 && left >= 258) {
                strm.next_out = put;
                strm.avail_out = left;
                strm.next_in = next;
                strm.avail_in = have;
                state.hold = hold;
                state.bits = bits;
                inflate_fast(strm, _out);
                put = strm.next_out;
                output = strm.output;
                left = strm.avail_out;
                next = strm.next_in;
                input = strm.input;
                have = strm.avail_in;
                hold = state.hold;
                bits = state.bits;
                if (state.mode === TYPE) {
                  state.back = -1;
                }
                break;
              }
              state.back = 0;
              for (; ; ) {
                here = state.lencode[hold & (1 << state.lenbits) - 1];
                here_bits = here >>> 24;
                here_op = here >>> 16 & 255;
                here_val = here & 65535;
                if (here_bits <= bits) {
                  break;
                }
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if (here_op && (here_op & 240) === 0) {
                last_bits = here_bits;
                last_op = here_op;
                last_val = here_val;
                for (; ; ) {
                  here = state.lencode[last_val + ((hold & (1 << last_bits + last_op) - 1) >> last_bits)];
                  here_bits = here >>> 24;
                  here_op = here >>> 16 & 255;
                  here_val = here & 65535;
                  if (last_bits + here_bits <= bits) {
                    break;
                  }
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                hold >>>= last_bits;
                bits -= last_bits;
                state.back += last_bits;
              }
              hold >>>= here_bits;
              bits -= here_bits;
              state.back += here_bits;
              state.length = here_val;
              if (here_op === 0) {
                state.mode = LIT;
                break;
              }
              if (here_op & 32) {
                state.back = -1;
                state.mode = TYPE;
                break;
              }
              if (here_op & 64) {
                strm.msg = "invalid literal/length code";
                state.mode = BAD;
                break;
              }
              state.extra = here_op & 15;
              state.mode = LENEXT;
            case LENEXT:
              if (state.extra) {
                n3 = state.extra;
                while (bits < n3) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                state.length += hold & (1 << state.extra) - 1;
                hold >>>= state.extra;
                bits -= state.extra;
                state.back += state.extra;
              }
              state.was = state.length;
              state.mode = DIST;
            case DIST:
              for (; ; ) {
                here = state.distcode[hold & (1 << state.distbits) - 1];
                here_bits = here >>> 24;
                here_op = here >>> 16 & 255;
                here_val = here & 65535;
                if (here_bits <= bits) {
                  break;
                }
                if (have === 0) {
                  break inf_leave;
                }
                have--;
                hold += input[next++] << bits;
                bits += 8;
              }
              if ((here_op & 240) === 0) {
                last_bits = here_bits;
                last_op = here_op;
                last_val = here_val;
                for (; ; ) {
                  here = state.distcode[last_val + ((hold & (1 << last_bits + last_op) - 1) >> last_bits)];
                  here_bits = here >>> 24;
                  here_op = here >>> 16 & 255;
                  here_val = here & 65535;
                  if (last_bits + here_bits <= bits) {
                    break;
                  }
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                hold >>>= last_bits;
                bits -= last_bits;
                state.back += last_bits;
              }
              hold >>>= here_bits;
              bits -= here_bits;
              state.back += here_bits;
              if (here_op & 64) {
                strm.msg = "invalid distance code";
                state.mode = BAD;
                break;
              }
              state.offset = here_val;
              state.extra = here_op & 15;
              state.mode = DISTEXT;
            case DISTEXT:
              if (state.extra) {
                n3 = state.extra;
                while (bits < n3) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                state.offset += hold & (1 << state.extra) - 1;
                hold >>>= state.extra;
                bits -= state.extra;
                state.back += state.extra;
              }
              if (state.offset > state.dmax) {
                strm.msg = "invalid distance too far back";
                state.mode = BAD;
                break;
              }
              state.mode = MATCH;
            case MATCH:
              if (left === 0) {
                break inf_leave;
              }
              copy = _out - left;
              if (state.offset > copy) {
                copy = state.offset - copy;
                if (copy > state.whave) {
                  if (state.sane) {
                    strm.msg = "invalid distance too far back";
                    state.mode = BAD;
                    break;
                  }
                }
                if (copy > state.wnext) {
                  copy -= state.wnext;
                  from = state.wsize - copy;
                } else {
                  from = state.wnext - copy;
                }
                if (copy > state.length) {
                  copy = state.length;
                }
                from_source = state.window;
              } else {
                from_source = output;
                from = put - state.offset;
                copy = state.length;
              }
              if (copy > left) {
                copy = left;
              }
              left -= copy;
              state.length -= copy;
              do {
                output[put++] = from_source[from++];
              } while (--copy);
              if (state.length === 0) {
                state.mode = LEN;
              }
              break;
            case LIT:
              if (left === 0) {
                break inf_leave;
              }
              output[put++] = state.length;
              left--;
              state.mode = LEN;
              break;
            case CHECK:
              if (state.wrap) {
                while (bits < 32) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold |= input[next++] << bits;
                  bits += 8;
                }
                _out -= left;
                strm.total_out += _out;
                state.total += _out;
                if (_out) {
                  strm.adler = state.check = state.flags ? crc32(state.check, output, _out, put - _out) : adler32(state.check, output, _out, put - _out);
                }
                _out = left;
                if ((state.flags ? hold : zswap32(hold)) !== state.check) {
                  strm.msg = "incorrect data check";
                  state.mode = BAD;
                  break;
                }
                hold = 0;
                bits = 0;
              }
              state.mode = LENGTH;
            case LENGTH:
              if (state.wrap && state.flags) {
                while (bits < 32) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                if (hold !== (state.total & 4294967295)) {
                  strm.msg = "incorrect length check";
                  state.mode = BAD;
                  break;
                }
                hold = 0;
                bits = 0;
              }
              state.mode = DONE;
            case DONE:
              ret = Z_STREAM_END;
              break inf_leave;
            case BAD:
              ret = Z_DATA_ERROR;
              break inf_leave;
            case MEM:
              return Z_MEM_ERROR;
            case SYNC:
            default:
              return Z_STREAM_ERROR;
          }
        }
      strm.next_out = put;
      strm.avail_out = left;
      strm.next_in = next;
      strm.avail_in = have;
      state.hold = hold;
      state.bits = bits;
      if (state.wsize || _out !== strm.avail_out && state.mode < BAD && (state.mode < CHECK || flush !== Z_FINISH)) {
        if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {
          state.mode = MEM;
          return Z_MEM_ERROR;
        }
      }
      _in -= strm.avail_in;
      _out -= strm.avail_out;
      strm.total_in += _in;
      strm.total_out += _out;
      state.total += _out;
      if (state.wrap && _out) {
        strm.adler = state.check = state.flags ? crc32(state.check, output, _out, strm.next_out - _out) : adler32(state.check, output, _out, strm.next_out - _out);
      }
      strm.data_type = state.bits + (state.last ? 64 : 0) + (state.mode === TYPE ? 128 : 0) + (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);
      if ((_in === 0 && _out === 0 || flush === Z_FINISH) && ret === Z_OK) {
        ret = Z_BUF_ERROR;
      }
      return ret;
    }
    function inflateEnd(strm) {
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      var state = strm.state;
      if (state.window) {
        state.window = null;
      }
      strm.state = null;
      return Z_OK;
    }
    function inflateGetHeader(strm, head) {
      var state;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      if ((state.wrap & 2) === 0) {
        return Z_STREAM_ERROR;
      }
      state.head = head;
      head.done = false;
      return Z_OK;
    }
    function inflateSetDictionary(strm, dictionary) {
      var dictLength = dictionary.length;
      var state;
      var dictid;
      var ret;
      if (!strm || !strm.state) {
        return Z_STREAM_ERROR;
      }
      state = strm.state;
      if (state.wrap !== 0 && state.mode !== DICT) {
        return Z_STREAM_ERROR;
      }
      if (state.mode === DICT) {
        dictid = 1;
        dictid = adler32(dictid, dictionary, dictLength, 0);
        if (dictid !== state.check) {
          return Z_DATA_ERROR;
        }
      }
      ret = updatewindow(strm, dictionary, dictLength, dictLength);
      if (ret) {
        state.mode = MEM;
        return Z_MEM_ERROR;
      }
      state.havedict = 1;
      return Z_OK;
    }
    exports.inflateReset = inflateReset;
    exports.inflateReset2 = inflateReset2;
    exports.inflateResetKeep = inflateResetKeep;
    exports.inflateInit = inflateInit;
    exports.inflateInit2 = inflateInit2;
    exports.inflate = inflate;
    exports.inflateEnd = inflateEnd;
    exports.inflateGetHeader = inflateGetHeader;
    exports.inflateSetDictionary = inflateSetDictionary;
    exports.inflateInfo = "pako inflate (from Nodeca project)";
  });

  // node_modules/pako/lib/zlib/constants.js
  var require_constants = __commonJS((exports, module) => {
    "use strict";
    module.exports = {
      Z_NO_FLUSH: 0,
      Z_PARTIAL_FLUSH: 1,
      Z_SYNC_FLUSH: 2,
      Z_FULL_FLUSH: 3,
      Z_FINISH: 4,
      Z_BLOCK: 5,
      Z_TREES: 6,
      Z_OK: 0,
      Z_STREAM_END: 1,
      Z_NEED_DICT: 2,
      Z_ERRNO: -1,
      Z_STREAM_ERROR: -2,
      Z_DATA_ERROR: -3,
      Z_BUF_ERROR: -5,
      Z_NO_COMPRESSION: 0,
      Z_BEST_SPEED: 1,
      Z_BEST_COMPRESSION: 9,
      Z_DEFAULT_COMPRESSION: -1,
      Z_FILTERED: 1,
      Z_HUFFMAN_ONLY: 2,
      Z_RLE: 3,
      Z_FIXED: 4,
      Z_DEFAULT_STRATEGY: 0,
      Z_BINARY: 0,
      Z_TEXT: 1,
      Z_UNKNOWN: 2,
      Z_DEFLATED: 8
    };
  });

  // node_modules/pako/lib/zlib/gzheader.js
  var require_gzheader = __commonJS((exports, module) => {
    "use strict";
    function GZheader() {
      this.text = 0;
      this.time = 0;
      this.xflags = 0;
      this.os = 0;
      this.extra = null;
      this.extra_len = 0;
      this.name = "";
      this.comment = "";
      this.hcrc = 0;
      this.done = false;
    }
    module.exports = GZheader;
  });

  // node_modules/pako/lib/inflate.js
  var require_inflate2 = __commonJS((exports) => {
    "use strict";
    var zlib_inflate = require_inflate();
    var utils = require_common();
    var strings = require_strings();
    var c3 = require_constants();
    var msg = require_messages();
    var ZStream = require_zstream();
    var GZheader = require_gzheader();
    var toString = Object.prototype.toString;
    function Inflate(options) {
      if (!(this instanceof Inflate))
        return new Inflate(options);
      this.options = utils.assign({
        chunkSize: 16384,
        windowBits: 0,
        to: ""
      }, options || {});
      var opt = this.options;
      if (opt.raw && opt.windowBits >= 0 && opt.windowBits < 16) {
        opt.windowBits = -opt.windowBits;
        if (opt.windowBits === 0) {
          opt.windowBits = -15;
        }
      }
      if (opt.windowBits >= 0 && opt.windowBits < 16 && !(options && options.windowBits)) {
        opt.windowBits += 32;
      }
      if (opt.windowBits > 15 && opt.windowBits < 48) {
        if ((opt.windowBits & 15) === 0) {
          opt.windowBits |= 15;
        }
      }
      this.err = 0;
      this.msg = "";
      this.ended = false;
      this.chunks = [];
      this.strm = new ZStream();
      this.strm.avail_out = 0;
      var status = zlib_inflate.inflateInit2(this.strm, opt.windowBits);
      if (status !== c3.Z_OK) {
        throw new Error(msg[status]);
      }
      this.header = new GZheader();
      zlib_inflate.inflateGetHeader(this.strm, this.header);
      if (opt.dictionary) {
        if (typeof opt.dictionary === "string") {
          opt.dictionary = strings.string2buf(opt.dictionary);
        } else if (toString.call(opt.dictionary) === "[object ArrayBuffer]") {
          opt.dictionary = new Uint8Array(opt.dictionary);
        }
        if (opt.raw) {
          status = zlib_inflate.inflateSetDictionary(this.strm, opt.dictionary);
          if (status !== c3.Z_OK) {
            throw new Error(msg[status]);
          }
        }
      }
    }
    Inflate.prototype.push = function(data, mode) {
      var strm = this.strm;
      var chunkSize = this.options.chunkSize;
      var dictionary = this.options.dictionary;
      var status, _mode;
      var next_out_utf8, tail, utf8str;
      var allowBufError = false;
      if (this.ended) {
        return false;
      }
      _mode = mode === ~~mode ? mode : mode === true ? c3.Z_FINISH : c3.Z_NO_FLUSH;
      if (typeof data === "string") {
        strm.input = strings.binstring2buf(data);
      } else if (toString.call(data) === "[object ArrayBuffer]") {
        strm.input = new Uint8Array(data);
      } else {
        strm.input = data;
      }
      strm.next_in = 0;
      strm.avail_in = strm.input.length;
      do {
        if (strm.avail_out === 0) {
          strm.output = new utils.Buf8(chunkSize);
          strm.next_out = 0;
          strm.avail_out = chunkSize;
        }
        status = zlib_inflate.inflate(strm, c3.Z_NO_FLUSH);
        if (status === c3.Z_NEED_DICT && dictionary) {
          status = zlib_inflate.inflateSetDictionary(this.strm, dictionary);
        }
        if (status === c3.Z_BUF_ERROR && allowBufError === true) {
          status = c3.Z_OK;
          allowBufError = false;
        }
        if (status !== c3.Z_STREAM_END && status !== c3.Z_OK) {
          this.onEnd(status);
          this.ended = true;
          return false;
        }
        if (strm.next_out) {
          if (strm.avail_out === 0 || status === c3.Z_STREAM_END || strm.avail_in === 0 && (_mode === c3.Z_FINISH || _mode === c3.Z_SYNC_FLUSH)) {
            if (this.options.to === "string") {
              next_out_utf8 = strings.utf8border(strm.output, strm.next_out);
              tail = strm.next_out - next_out_utf8;
              utf8str = strings.buf2string(strm.output, next_out_utf8);
              strm.next_out = tail;
              strm.avail_out = chunkSize - tail;
              if (tail) {
                utils.arraySet(strm.output, strm.output, next_out_utf8, tail, 0);
              }
              this.onData(utf8str);
            } else {
              this.onData(utils.shrinkBuf(strm.output, strm.next_out));
            }
          }
        }
        if (strm.avail_in === 0 && strm.avail_out === 0) {
          allowBufError = true;
        }
      } while ((strm.avail_in > 0 || strm.avail_out === 0) && status !== c3.Z_STREAM_END);
      if (status === c3.Z_STREAM_END) {
        _mode = c3.Z_FINISH;
      }
      if (_mode === c3.Z_FINISH) {
        status = zlib_inflate.inflateEnd(this.strm);
        this.onEnd(status);
        this.ended = true;
        return status === c3.Z_OK;
      }
      if (_mode === c3.Z_SYNC_FLUSH) {
        this.onEnd(c3.Z_OK);
        strm.avail_out = 0;
        return true;
      }
      return true;
    };
    Inflate.prototype.onData = function(chunk) {
      this.chunks.push(chunk);
    };
    Inflate.prototype.onEnd = function(status) {
      if (status === c3.Z_OK) {
        if (this.options.to === "string") {
          this.result = this.chunks.join("");
        } else {
          this.result = utils.flattenChunks(this.chunks);
        }
      }
      this.chunks = [];
      this.err = status;
      this.msg = this.strm.msg;
    };
    function inflate(input, options) {
      var inflator = new Inflate(options);
      inflator.push(input, true);
      if (inflator.err) {
        throw inflator.msg || msg[inflator.err];
      }
      return inflator.result;
    }
    function inflateRaw(input, options) {
      options = options || {};
      options.raw = true;
      return inflate(input, options);
    }
    exports.Inflate = Inflate;
    exports.inflate = inflate;
    exports.inflateRaw = inflateRaw;
    exports.ungzip = inflate;
  });

  // node_modules/pako/index.js
  var require_pako = __commonJS((exports, module) => {
    "use strict";
    var assign = require_common().assign;
    var deflate2 = require_deflate2();
    var inflate = require_inflate2();
    var constants5 = require_constants();
    var pako2 = {};
    assign(pako2, deflate2, inflate, constants5);
    module.exports = pako2;
  });

  // node_modules/lodash/isObject.js
  var require_isObject = __commonJS((exports, module) => {
    function isObject(value) {
      var type = typeof value;
      return value != null && (type == "object" || type == "function");
    }
    module.exports = isObject;
  });

  // node_modules/lodash/_freeGlobal.js
  var require_freeGlobal = __commonJS((exports, module) => {
    var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
    module.exports = freeGlobal;
  });

  // node_modules/lodash/_root.js
  var require_root = __commonJS((exports, module) => {
    var freeGlobal = require_freeGlobal();
    var freeSelf = typeof self == "object" && self && self.Object === Object && self;
    var root = freeGlobal || freeSelf || Function("return this")();
    module.exports = root;
  });

  // node_modules/lodash/now.js
  var require_now = __commonJS((exports, module) => {
    var root = require_root();
    var now = function() {
      return root.Date.now();
    };
    module.exports = now;
  });

  // node_modules/lodash/_Symbol.js
  var require_Symbol = __commonJS((exports, module) => {
    var root = require_root();
    var Symbol2 = root.Symbol;
    module.exports = Symbol2;
  });

  // node_modules/lodash/_getRawTag.js
  var require_getRawTag = __commonJS((exports, module) => {
    var Symbol2 = require_Symbol();
    var objectProto = Object.prototype;
    var hasOwnProperty = objectProto.hasOwnProperty;
    var nativeObjectToString = objectProto.toString;
    var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
    function getRawTag(value) {
      var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];
      try {
        value[symToStringTag] = void 0;
        var unmasked = true;
      } catch (e2) {
      }
      var result = nativeObjectToString.call(value);
      if (unmasked) {
        if (isOwn) {
          value[symToStringTag] = tag;
        } else {
          delete value[symToStringTag];
        }
      }
      return result;
    }
    module.exports = getRawTag;
  });

  // node_modules/lodash/_objectToString.js
  var require_objectToString = __commonJS((exports, module) => {
    var objectProto = Object.prototype;
    var nativeObjectToString = objectProto.toString;
    function objectToString(value) {
      return nativeObjectToString.call(value);
    }
    module.exports = objectToString;
  });

  // node_modules/lodash/_baseGetTag.js
  var require_baseGetTag = __commonJS((exports, module) => {
    var Symbol2 = require_Symbol();
    var getRawTag = require_getRawTag();
    var objectToString = require_objectToString();
    var nullTag = "[object Null]";
    var undefinedTag = "[object Undefined]";
    var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
    function baseGetTag(value) {
      if (value == null) {
        return value === void 0 ? undefinedTag : nullTag;
      }
      return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);
    }
    module.exports = baseGetTag;
  });

  // node_modules/lodash/isObjectLike.js
  var require_isObjectLike = __commonJS((exports, module) => {
    function isObjectLike(value) {
      return value != null && typeof value == "object";
    }
    module.exports = isObjectLike;
  });

  // node_modules/lodash/isSymbol.js
  var require_isSymbol = __commonJS((exports, module) => {
    var baseGetTag = require_baseGetTag();
    var isObjectLike = require_isObjectLike();
    var symbolTag = "[object Symbol]";
    function isSymbol(value) {
      return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag;
    }
    module.exports = isSymbol;
  });

  // node_modules/lodash/toNumber.js
  var require_toNumber = __commonJS((exports, module) => {
    var isObject = require_isObject();
    var isSymbol = require_isSymbol();
    var NAN = 0 / 0;
    var reTrim = /^\s+|\s+$/g;
    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
    var reIsBinary = /^0b[01]+$/i;
    var reIsOctal = /^0o[0-7]+$/i;
    var freeParseInt = parseInt;
    function toNumber(value) {
      if (typeof value == "number") {
        return value;
      }
      if (isSymbol(value)) {
        return NAN;
      }
      if (isObject(value)) {
        var other = typeof value.valueOf == "function" ? value.valueOf() : value;
        value = isObject(other) ? other + "" : other;
      }
      if (typeof value != "string") {
        return value === 0 ? value : +value;
      }
      value = value.replace(reTrim, "");
      var isBinary = reIsBinary.test(value);
      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
    }
    module.exports = toNumber;
  });

  // node_modules/lodash/debounce.js
  var require_debounce = __commonJS((exports, module) => {
    var isObject = require_isObject();
    var now = require_now();
    var toNumber = require_toNumber();
    var FUNC_ERROR_TEXT = "Expected a function";
    var nativeMax = Math.max;
    var nativeMin = Math.min;
    function debounce3(func, wait, options) {
      var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;
      if (typeof func != "function") {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      wait = toNumber(wait) || 0;
      if (isObject(options)) {
        leading = !!options.leading;
        maxing = "maxWait" in options;
        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
        trailing = "trailing" in options ? !!options.trailing : trailing;
      }
      function invokeFunc(time) {
        var args = lastArgs, thisArg = lastThis;
        lastArgs = lastThis = void 0;
        lastInvokeTime = time;
        result = func.apply(thisArg, args);
        return result;
      }
      function leadingEdge(time) {
        lastInvokeTime = time;
        timerId = setTimeout(timerExpired, wait);
        return leading ? invokeFunc(time) : result;
      }
      function remainingWait(time) {
        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;
        return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;
      }
      function shouldInvoke(time) {
        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;
        return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
      }
      function timerExpired() {
        var time = now();
        if (shouldInvoke(time)) {
          return trailingEdge(time);
        }
        timerId = setTimeout(timerExpired, remainingWait(time));
      }
      function trailingEdge(time) {
        timerId = void 0;
        if (trailing && lastArgs) {
          return invokeFunc(time);
        }
        lastArgs = lastThis = void 0;
        return result;
      }
      function cancel() {
        if (timerId !== void 0) {
          clearTimeout(timerId);
        }
        lastInvokeTime = 0;
        lastArgs = lastCallTime = lastThis = timerId = void 0;
      }
      function flush() {
        return timerId === void 0 ? result : trailingEdge(now());
      }
      function debounced() {
        var time = now(), isInvoking = shouldInvoke(time);
        lastArgs = arguments;
        lastThis = this;
        lastCallTime = time;
        if (isInvoking) {
          if (timerId === void 0) {
            return leadingEdge(lastCallTime);
          }
          if (maxing) {
            clearTimeout(timerId);
            timerId = setTimeout(timerExpired, wait);
            return invokeFunc(lastCallTime);
          }
        }
        if (timerId === void 0) {
          timerId = setTimeout(timerExpired, wait);
        }
        return result;
      }
      debounced.cancel = cancel;
      debounced.flush = flush;
      return debounced;
    }
    module.exports = debounce3;
  });

  // node_modules/file-saver/dist/FileSaver.min.js
  var require_FileSaver_min = __commonJS((exports, module) => {
    (function(a3, b) {
      if (typeof define == "function" && define.amd)
        define([], b);
      else if (typeof exports != "undefined")
        b();
      else {
        b(), a3.FileSaver = {exports: {}}.exports;
      }
    })(exports, function() {
      "use strict";
      function b(a4, b2) {
        return typeof b2 == "undefined" ? b2 = {autoBom: false} : typeof b2 != "object" && (console.warn("Deprecated: Expected third argument to be a object"), b2 = {autoBom: !b2}), b2.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a4.type) ? new Blob(["", a4], {type: a4.type}) : a4;
      }
      function c3(b2, c4, d3) {
        var e3 = new XMLHttpRequest();
        e3.open("GET", b2), e3.responseType = "blob", e3.onload = function() {
          a3(e3.response, c4, d3);
        }, e3.onerror = function() {
          console.error("could not download file");
        }, e3.send();
      }
      function d2(a4) {
        var b2 = new XMLHttpRequest();
        b2.open("HEAD", a4, false);
        try {
          b2.send();
        } catch (a5) {
        }
        return 200 <= b2.status && 299 >= b2.status;
      }
      function e2(a4) {
        try {
          a4.dispatchEvent(new MouseEvent("click"));
        } catch (c4) {
          var b2 = document.createEvent("MouseEvents");
          b2.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null), a4.dispatchEvent(b2);
        }
      }
      var f3 = typeof window == "object" && window.window === window ? window : typeof self == "object" && self.self === self ? self : typeof global == "object" && global.global === global ? global : void 0, a3 = f3.saveAs || (typeof window != "object" || window !== f3 ? function() {
      } : "download" in HTMLAnchorElement.prototype ? function(b2, g3, h3) {
        var i3 = f3.URL || f3.webkitURL, j2 = document.createElement("a");
        g3 = g3 || b2.name || "download", j2.download = g3, j2.rel = "noopener", typeof b2 == "string" ? (j2.href = b2, j2.origin === location.origin ? e2(j2) : d2(j2.href) ? c3(b2, g3, h3) : e2(j2, j2.target = "_blank")) : (j2.href = i3.createObjectURL(b2), setTimeout(function() {
          i3.revokeObjectURL(j2.href);
        }, 4e4), setTimeout(function() {
          e2(j2);
        }, 0));
      } : "msSaveOrOpenBlob" in navigator ? function(f4, g3, h3) {
        if (g3 = g3 || f4.name || "download", typeof f4 != "string")
          navigator.msSaveOrOpenBlob(b(f4, h3), g3);
        else if (d2(f4))
          c3(f4, g3, h3);
        else {
          var i3 = document.createElement("a");
          i3.href = f4, i3.target = "_blank", setTimeout(function() {
            e2(i3);
          });
        }
      } : function(a4, b2, d3, e3) {
        if (e3 = e3 || open("", "_blank"), e3 && (e3.document.title = e3.document.body.innerText = "downloading..."), typeof a4 == "string")
          return c3(a4, b2, d3);
        var g3 = a4.type === "application/octet-stream", h3 = /constructor/i.test(f3.HTMLElement) || f3.safari, i3 = /CriOS\/[\d]+/.test(navigator.userAgent);
        if ((i3 || g3 && h3) && typeof FileReader == "object") {
          var j2 = new FileReader();
          j2.onloadend = function() {
            var a5 = j2.result;
            a5 = i3 ? a5 : a5.replace(/^data:[^;]*;/, "data:attachment/file;"), e3 ? e3.location.href = a5 : location = a5, e3 = null;
          }, j2.readAsDataURL(a4);
        } else {
          var k2 = f3.URL || f3.webkitURL, l3 = k2.createObjectURL(a4);
          e3 ? e3.location = l3 : location.href = l3, e3 = null, setTimeout(function() {
            k2.revokeObjectURL(l3);
          }, 4e4);
        }
      });
      f3.saveAs = a3.saveAs = a3, typeof module != "undefined" && (module.exports = a3);
    });
  });

  // node_modules/pica/dist/pica.js
  var require_pica = __commonJS((exports, module) => {
    /*!
    
    pica
    https://github.com/nodeca/pica
    
    */
    (function(f3) {
      if (typeof exports === "object" && typeof module !== "undefined") {
        module.exports = f3();
      } else if (typeof define === "function" && define.amd) {
        define([], f3);
      } else {
        var g3;
        if (typeof window !== "undefined") {
          g3 = window;
        } else if (typeof global !== "undefined") {
          g3 = global;
        } else if (typeof self !== "undefined") {
          g3 = self;
        } else {
          g3 = this;
        }
        g3.pica = f3();
      }
    })(function() {
      var define2, module2, exports2;
      return function() {
        function r2(e2, n3, t2) {
          function o3(i4, f3) {
            if (!n3[i4]) {
              if (!e2[i4]) {
                var c3 = false;
                if (!f3 && c3)
                  return c3(i4, true);
                if (u3)
                  return u3(i4, true);
                var a3 = new Error("Cannot find module '" + i4 + "'");
                throw a3.code = "MODULE_NOT_FOUND", a3;
              }
              var p3 = n3[i4] = {exports: {}};
              e2[i4][0].call(p3.exports, function(r3) {
                var n4 = e2[i4][1][r3];
                return o3(n4 || r3);
              }, p3, p3.exports, r2, e2, n3, t2);
            }
            return n3[i4].exports;
          }
          for (var u3 = false, i3 = 0; i3 < t2.length; i3++)
            o3(t2[i3]);
          return o3;
        }
        return r2;
      }()({1: [function(_dereq_, module3, exports3) {
        "use strict";
        var inherits = _dereq_("inherits");
        var Multimath = _dereq_("multimath");
        var mm_unsharp_mask = _dereq_("multimath/lib/unsharp_mask");
        var mm_resize = _dereq_("./mm_resize");
        function MathLib(requested_features) {
          var __requested_features = requested_features || [];
          var features = {
            js: __requested_features.indexOf("js") >= 0,
            wasm: __requested_features.indexOf("wasm") >= 0
          };
          Multimath.call(this, features);
          this.features = {
            js: features.js,
            wasm: features.wasm && this.has_wasm()
          };
          this.use(mm_unsharp_mask);
          this.use(mm_resize);
        }
        inherits(MathLib, Multimath);
        MathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {
          var result = this.resize(options, cache);
          if (options.unsharpAmount) {
            this.unsharp_mask(result, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);
          }
          return result;
        };
        module3.exports = MathLib;
      }, {"./mm_resize": 4, inherits: 15, multimath: 16, "multimath/lib/unsharp_mask": 19}], 2: [function(_dereq_, module3, exports3) {
        "use strict";
        function clampTo8(i3) {
          return i3 < 0 ? 0 : i3 > 255 ? 255 : i3;
        }
        function convolveHorizontally(src, dest, srcW, srcH, destW, filters2) {
          var r2, g3, b, a3;
          var filterPtr, filterShift, filterSize;
          var srcPtr, srcY, destX, filterVal;
          var srcOffset = 0, destOffset = 0;
          for (srcY = 0; srcY < srcH; srcY++) {
            filterPtr = 0;
            for (destX = 0; destX < destW; destX++) {
              filterShift = filters2[filterPtr++];
              filterSize = filters2[filterPtr++];
              srcPtr = srcOffset + filterShift * 4 | 0;
              r2 = g3 = b = a3 = 0;
              for (; filterSize > 0; filterSize--) {
                filterVal = filters2[filterPtr++];
                a3 = a3 + filterVal * src[srcPtr + 3] | 0;
                b = b + filterVal * src[srcPtr + 2] | 0;
                g3 = g3 + filterVal * src[srcPtr + 1] | 0;
                r2 = r2 + filterVal * src[srcPtr] | 0;
                srcPtr = srcPtr + 4 | 0;
              }
              dest[destOffset + 3] = clampTo8(a3 + (1 << 13) >> 14);
              dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);
              dest[destOffset + 1] = clampTo8(g3 + (1 << 13) >> 14);
              dest[destOffset] = clampTo8(r2 + (1 << 13) >> 14);
              destOffset = destOffset + srcH * 4 | 0;
            }
            destOffset = (srcY + 1) * 4 | 0;
            srcOffset = (srcY + 1) * srcW * 4 | 0;
          }
        }
        function convolveVertically(src, dest, srcW, srcH, destW, filters2) {
          var r2, g3, b, a3;
          var filterPtr, filterShift, filterSize;
          var srcPtr, srcY, destX, filterVal;
          var srcOffset = 0, destOffset = 0;
          for (srcY = 0; srcY < srcH; srcY++) {
            filterPtr = 0;
            for (destX = 0; destX < destW; destX++) {
              filterShift = filters2[filterPtr++];
              filterSize = filters2[filterPtr++];
              srcPtr = srcOffset + filterShift * 4 | 0;
              r2 = g3 = b = a3 = 0;
              for (; filterSize > 0; filterSize--) {
                filterVal = filters2[filterPtr++];
                a3 = a3 + filterVal * src[srcPtr + 3] | 0;
                b = b + filterVal * src[srcPtr + 2] | 0;
                g3 = g3 + filterVal * src[srcPtr + 1] | 0;
                r2 = r2 + filterVal * src[srcPtr] | 0;
                srcPtr = srcPtr + 4 | 0;
              }
              dest[destOffset + 3] = clampTo8(a3 + (1 << 13) >> 14);
              dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);
              dest[destOffset + 1] = clampTo8(g3 + (1 << 13) >> 14);
              dest[destOffset] = clampTo8(r2 + (1 << 13) >> 14);
              destOffset = destOffset + srcH * 4 | 0;
            }
            destOffset = (srcY + 1) * 4 | 0;
            srcOffset = (srcY + 1) * srcW * 4 | 0;
          }
        }
        module3.exports = {
          convolveHorizontally,
          convolveVertically
        };
      }, {}], 3: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = "AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw==";
      }, {}], 4: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = {
          name: "resize",
          fn: _dereq_("./resize"),
          wasm_fn: _dereq_("./resize_wasm"),
          wasm_src: _dereq_("./convolve_wasm_base64")
        };
      }, {"./convolve_wasm_base64": 3, "./resize": 5, "./resize_wasm": 8}], 5: [function(_dereq_, module3, exports3) {
        "use strict";
        var createFilters = _dereq_("./resize_filter_gen");
        var convolveHorizontally = _dereq_("./convolve").convolveHorizontally;
        var convolveVertically = _dereq_("./convolve").convolveVertically;
        function resetAlpha(dst, width, height) {
          var ptr = 3, len = width * height * 4 | 0;
          while (ptr < len) {
            dst[ptr] = 255;
            ptr = ptr + 4 | 0;
          }
        }
        module3.exports = function resize(options) {
          var src = options.src;
          var srcW = options.width;
          var srcH = options.height;
          var destW = options.toWidth;
          var destH = options.toHeight;
          var scaleX = options.scaleX || options.toWidth / options.width;
          var scaleY = options.scaleY || options.toHeight / options.height;
          var offsetX = options.offsetX || 0;
          var offsetY = options.offsetY || 0;
          var dest = options.dest || new Uint8Array(destW * destH * 4);
          var quality = typeof options.quality === "undefined" ? 3 : options.quality;
          var alpha = options.alpha || false;
          var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX), filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);
          var tmp = new Uint8Array(destW * srcH * 4);
          convolveHorizontally(src, tmp, srcW, srcH, destW, filtersX);
          convolveVertically(tmp, dest, srcH, destW, destH, filtersY);
          if (!alpha)
            resetAlpha(dest, destW, destH);
          return dest;
        };
      }, {"./convolve": 2, "./resize_filter_gen": 6}], 6: [function(_dereq_, module3, exports3) {
        "use strict";
        var FILTER_INFO = _dereq_("./resize_filter_info");
        var FIXED_FRAC_BITS = 14;
        function toFixedPoint(num) {
          return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));
        }
        module3.exports = function resizeFilterGen(quality, srcSize, destSize, scale, offset) {
          var filterFunction = FILTER_INFO[quality].filter;
          var scaleInverted = 1 / scale;
          var scaleClamped = Math.min(1, scale);
          var srcWindow = FILTER_INFO[quality].win / scaleClamped;
          var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;
          var leftNotEmpty, rightNotEmpty, filterShift, filterSize;
          var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);
          var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);
          var packedFilterPtr = 0;
          var slowCopy = !packedFilter.subarray || !packedFilter.set;
          for (destPixel = 0; destPixel < destSize; destPixel++) {
            srcPixel = (destPixel + 0.5) * scaleInverted + offset;
            srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));
            srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));
            filterElementSize = srcLast - srcFirst + 1;
            floatFilter = new Float32Array(filterElementSize);
            fxpFilter = new Int16Array(filterElementSize);
            total = 0;
            for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {
              floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);
              total += floatVal;
              floatFilter[idx] = floatVal;
            }
            filterTotal = 0;
            for (idx = 0; idx < floatFilter.length; idx++) {
              filterVal = floatFilter[idx] / total;
              filterTotal += filterVal;
              fxpFilter[idx] = toFixedPoint(filterVal);
            }
            fxpFilter[destSize >> 1] += toFixedPoint(1 - filterTotal);
            leftNotEmpty = 0;
            while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {
              leftNotEmpty++;
            }
            if (leftNotEmpty < fxpFilter.length) {
              rightNotEmpty = fxpFilter.length - 1;
              while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {
                rightNotEmpty--;
              }
              filterShift = srcFirst + leftNotEmpty;
              filterSize = rightNotEmpty - leftNotEmpty + 1;
              packedFilter[packedFilterPtr++] = filterShift;
              packedFilter[packedFilterPtr++] = filterSize;
              if (!slowCopy) {
                packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);
                packedFilterPtr += filterSize;
              } else {
                for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {
                  packedFilter[packedFilterPtr++] = fxpFilter[idx];
                }
              }
            } else {
              packedFilter[packedFilterPtr++] = 0;
              packedFilter[packedFilterPtr++] = 0;
            }
          }
          return packedFilter;
        };
      }, {"./resize_filter_info": 7}], 7: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = [{
          win: 0.5,
          filter: function filter(x2) {
            return x2 >= -0.5 && x2 < 0.5 ? 1 : 0;
          }
        }, {
          win: 1,
          filter: function filter(x2) {
            if (x2 <= -1 || x2 >= 1) {
              return 0;
            }
            if (x2 > -11920929e-14 && x2 < 11920929e-14) {
              return 1;
            }
            var xpi = x2 * Math.PI;
            return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1));
          }
        }, {
          win: 2,
          filter: function filter(x2) {
            if (x2 <= -2 || x2 >= 2) {
              return 0;
            }
            if (x2 > -11920929e-14 && x2 < 11920929e-14) {
              return 1;
            }
            var xpi = x2 * Math.PI;
            return Math.sin(xpi) / xpi * Math.sin(xpi / 2) / (xpi / 2);
          }
        }, {
          win: 3,
          filter: function filter(x2) {
            if (x2 <= -3 || x2 >= 3) {
              return 0;
            }
            if (x2 > -11920929e-14 && x2 < 11920929e-14) {
              return 1;
            }
            var xpi = x2 * Math.PI;
            return Math.sin(xpi) / xpi * Math.sin(xpi / 3) / (xpi / 3);
          }
        }];
      }, {}], 8: [function(_dereq_, module3, exports3) {
        "use strict";
        var createFilters = _dereq_("./resize_filter_gen");
        function resetAlpha(dst, width, height) {
          var ptr = 3, len = width * height * 4 | 0;
          while (ptr < len) {
            dst[ptr] = 255;
            ptr = ptr + 4 | 0;
          }
        }
        function asUint8Array(src) {
          return new Uint8Array(src.buffer, 0, src.byteLength);
        }
        var IS_LE = true;
        try {
          IS_LE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;
        } catch (__) {
        }
        function copyInt16asLE(src, target, target_offset) {
          if (IS_LE) {
            target.set(asUint8Array(src), target_offset);
            return;
          }
          for (var ptr = target_offset, i3 = 0; i3 < src.length; i3++) {
            var data = src[i3];
            target[ptr++] = data & 255;
            target[ptr++] = data >> 8 & 255;
          }
        }
        module3.exports = function resize_wasm(options) {
          var src = options.src;
          var srcW = options.width;
          var srcH = options.height;
          var destW = options.toWidth;
          var destH = options.toHeight;
          var scaleX = options.scaleX || options.toWidth / options.width;
          var scaleY = options.scaleY || options.toHeight / options.height;
          var offsetX = options.offsetX || 0;
          var offsetY = options.offsetY || 0;
          var dest = options.dest || new Uint8Array(destW * destH * 4);
          var quality = typeof options.quality === "undefined" ? 3 : options.quality;
          var alpha = options.alpha || false;
          var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX), filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);
          var src_offset = 0;
          var tmp_offset = this.__align(src_offset + Math.max(src.byteLength, dest.byteLength));
          var filtersX_offset = this.__align(tmp_offset + srcH * destW * 4);
          var filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);
          var alloc_bytes = filtersY_offset + filtersY.byteLength;
          var instance = this.__instance("resize", alloc_bytes);
          var mem = new Uint8Array(this.__memory.buffer);
          var mem32 = new Uint32Array(this.__memory.buffer);
          var src32 = new Uint32Array(src.buffer);
          mem32.set(src32);
          copyInt16asLE(filtersX, mem, filtersX_offset);
          copyInt16asLE(filtersY, mem, filtersY_offset);
          var fn = instance.exports.convolveHV || instance.exports._convolveHV;
          fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH);
          var dest32 = new Uint32Array(dest.buffer);
          dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW));
          if (!alpha)
            resetAlpha(dest, destW, destH);
          return dest;
        };
      }, {"./resize_filter_gen": 6}], 9: [function(_dereq_, module3, exports3) {
        "use strict";
        var GC_INTERVAL = 100;
        function Pool(create, idle) {
          this.create = create;
          this.available = [];
          this.acquired = {};
          this.lastId = 1;
          this.timeoutId = 0;
          this.idle = idle || 2e3;
        }
        Pool.prototype.acquire = function() {
          var _this = this;
          var resource;
          if (this.available.length !== 0) {
            resource = this.available.pop();
          } else {
            resource = this.create();
            resource.id = this.lastId++;
            resource.release = function() {
              return _this.release(resource);
            };
          }
          this.acquired[resource.id] = resource;
          return resource;
        };
        Pool.prototype.release = function(resource) {
          var _this2 = this;
          delete this.acquired[resource.id];
          resource.lastUsed = Date.now();
          this.available.push(resource);
          if (this.timeoutId === 0) {
            this.timeoutId = setTimeout(function() {
              return _this2.gc();
            }, GC_INTERVAL);
          }
        };
        Pool.prototype.gc = function() {
          var _this3 = this;
          var now = Date.now();
          this.available = this.available.filter(function(resource) {
            if (now - resource.lastUsed > _this3.idle) {
              resource.destroy();
              return false;
            }
            return true;
          });
          if (this.available.length !== 0) {
            this.timeoutId = setTimeout(function() {
              return _this3.gc();
            }, GC_INTERVAL);
          } else {
            this.timeoutId = 0;
          }
        };
        module3.exports = Pool;
      }, {}], 10: [function(_dereq_, module3, exports3) {
        "use strict";
        var MIN_INNER_TILE_SIZE = 2;
        module3.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {
          var scaleX = toWidth / fromWidth;
          var scaleY = toHeight / fromHeight;
          var minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize;
          if (minScale > 0.5)
            return [[toWidth, toHeight]];
          var stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale));
          if (stageCount <= 1)
            return [[toWidth, toHeight]];
          var result = [];
          for (var i3 = 0; i3 < stageCount; i3++) {
            var width = Math.round(Math.pow(Math.pow(fromWidth, stageCount - i3 - 1) * Math.pow(toWidth, i3 + 1), 1 / stageCount));
            var height = Math.round(Math.pow(Math.pow(fromHeight, stageCount - i3 - 1) * Math.pow(toHeight, i3 + 1), 1 / stageCount));
            result.push([width, height]);
          }
          return result;
        };
      }, {}], 11: [function(_dereq_, module3, exports3) {
        "use strict";
        var PIXEL_EPSILON = 1e-5;
        function pixelFloor(x2) {
          var nearest = Math.round(x2);
          if (Math.abs(x2 - nearest) < PIXEL_EPSILON) {
            return nearest;
          }
          return Math.floor(x2);
        }
        function pixelCeil(x2) {
          var nearest = Math.round(x2);
          if (Math.abs(x2 - nearest) < PIXEL_EPSILON) {
            return nearest;
          }
          return Math.ceil(x2);
        }
        module3.exports = function createRegions(options) {
          var scaleX = options.toWidth / options.width;
          var scaleY = options.toHeight / options.height;
          var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;
          var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder;
          if (innerTileWidth < 1 || innerTileHeight < 1) {
            throw new Error("Internal error in pica: target tile width/height is too small.");
          }
          var x2, y2;
          var innerX, innerY, toTileWidth, toTileHeight;
          var tiles = [];
          var tile;
          for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {
            for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {
              x2 = innerX - options.destTileBorder;
              if (x2 < 0) {
                x2 = 0;
              }
              toTileWidth = innerX + innerTileWidth + options.destTileBorder - x2;
              if (x2 + toTileWidth >= options.toWidth) {
                toTileWidth = options.toWidth - x2;
              }
              y2 = innerY - options.destTileBorder;
              if (y2 < 0) {
                y2 = 0;
              }
              toTileHeight = innerY + innerTileHeight + options.destTileBorder - y2;
              if (y2 + toTileHeight >= options.toHeight) {
                toTileHeight = options.toHeight - y2;
              }
              tile = {
                toX: x2,
                toY: y2,
                toWidth: toTileWidth,
                toHeight: toTileHeight,
                toInnerX: innerX,
                toInnerY: innerY,
                toInnerWidth: innerTileWidth,
                toInnerHeight: innerTileHeight,
                offsetX: x2 / scaleX - pixelFloor(x2 / scaleX),
                offsetY: y2 / scaleY - pixelFloor(y2 / scaleY),
                scaleX,
                scaleY,
                x: pixelFloor(x2 / scaleX),
                y: pixelFloor(y2 / scaleY),
                width: pixelCeil(toTileWidth / scaleX),
                height: pixelCeil(toTileHeight / scaleY)
              };
              tiles.push(tile);
            }
          }
          return tiles;
        };
      }, {}], 12: [function(_dereq_, module3, exports3) {
        "use strict";
        function objClass(obj) {
          return Object.prototype.toString.call(obj);
        }
        module3.exports.isCanvas = function isCanvas(element) {
          var cname = objClass(element);
          return cname === "[object HTMLCanvasElement]" || cname === "[object OffscreenCanvas]" || cname === "[object Canvas]";
        };
        module3.exports.isImage = function isImage(element) {
          return objClass(element) === "[object HTMLImageElement]";
        };
        module3.exports.isImageBitmap = function isImageBitmap(element) {
          return objClass(element) === "[object ImageBitmap]";
        };
        module3.exports.limiter = function limiter(concurrency) {
          var active = 0, queue = [];
          function roll() {
            if (active < concurrency && queue.length) {
              active++;
              queue.shift()();
            }
          }
          return function limit(fn) {
            return new Promise(function(resolve, reject) {
              queue.push(function() {
                fn().then(function(result) {
                  resolve(result);
                  active--;
                  roll();
                }, function(err) {
                  reject(err);
                  active--;
                  roll();
                });
              });
              roll();
            });
          };
        };
        module3.exports.cib_quality_name = function cib_quality_name(num) {
          switch (num) {
            case 0:
              return "pixelated";
            case 1:
              return "low";
            case 2:
              return "medium";
          }
          return "high";
        };
        module3.exports.cib_support = function cib_support(createCanvas) {
          return Promise.resolve().then(function() {
            if (typeof createImageBitmap === "undefined") {
              return false;
            }
            var c3 = createCanvas(100, 100);
            return createImageBitmap(c3, 0, 0, 100, 100, {
              resizeWidth: 10,
              resizeHeight: 10,
              resizeQuality: "high"
            }).then(function(bitmap) {
              var status = bitmap.width === 10;
              bitmap.close();
              c3 = null;
              return status;
            });
          })["catch"](function() {
            return false;
          });
        };
      }, {}], 13: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = function() {
          var MathLib = _dereq_("./mathlib");
          var mathLib;
          onmessage = function onmessage2(ev) {
            var opts = ev.data.opts;
            if (!mathLib)
              mathLib = new MathLib(ev.data.features);
            var result = mathLib.resizeAndUnsharp(opts);
            postMessage({
              result
            }, [result.buffer]);
          };
        };
      }, {"./mathlib": 1}], 14: [function(_dereq_, module3, exports3) {
        var a0, a1, a22, a3, b1, b2, left_corner, right_corner;
        function gaussCoef(sigma) {
          if (sigma < 0.5) {
            sigma = 0.5;
          }
          var a4 = Math.exp(0.726 * 0.726) / sigma, g1 = Math.exp(-a4), g22 = Math.exp(-2 * a4), k2 = (1 - g1) * (1 - g1) / (1 + 2 * a4 * g1 - g22);
          a0 = k2;
          a1 = k2 * (a4 - 1) * g1;
          a22 = k2 * (a4 + 1) * g1;
          a3 = -k2 * g22;
          b1 = 2 * g1;
          b2 = -g22;
          left_corner = (a0 + a1) / (1 - b1 - b2);
          right_corner = (a22 + a3) / (1 - b1 - b2);
          return new Float32Array([a0, a1, a22, a3, b1, b2, left_corner, right_corner]);
        }
        function convolveMono16(src, out, line, coeff, width, height) {
          var prev_src, curr_src, curr_out, prev_out, prev_prev_out;
          var src_index, out_index, line_index;
          var i3, j2;
          var coeff_a0, coeff_a1, coeff_b1, coeff_b2;
          for (i3 = 0; i3 < height; i3++) {
            src_index = i3 * width;
            out_index = i3;
            line_index = 0;
            prev_src = src[src_index];
            prev_prev_out = prev_src * coeff[6];
            prev_out = prev_prev_out;
            coeff_a0 = coeff[0];
            coeff_a1 = coeff[1];
            coeff_b1 = coeff[4];
            coeff_b2 = coeff[5];
            for (j2 = 0; j2 < width; j2++) {
              curr_src = src[src_index];
              curr_out = curr_src * coeff_a0 + prev_src * coeff_a1 + prev_out * coeff_b1 + prev_prev_out * coeff_b2;
              prev_prev_out = prev_out;
              prev_out = curr_out;
              prev_src = curr_src;
              line[line_index] = prev_out;
              line_index++;
              src_index++;
            }
            src_index--;
            line_index--;
            out_index += height * (width - 1);
            prev_src = src[src_index];
            prev_prev_out = prev_src * coeff[7];
            prev_out = prev_prev_out;
            curr_src = prev_src;
            coeff_a0 = coeff[2];
            coeff_a1 = coeff[3];
            for (j2 = width - 1; j2 >= 0; j2--) {
              curr_out = curr_src * coeff_a0 + prev_src * coeff_a1 + prev_out * coeff_b1 + prev_prev_out * coeff_b2;
              prev_prev_out = prev_out;
              prev_out = curr_out;
              prev_src = curr_src;
              curr_src = src[src_index];
              out[out_index] = line[line_index] + prev_out;
              src_index--;
              line_index--;
              out_index -= height;
            }
          }
        }
        function blurMono16(src, width, height, radius) {
          if (!radius) {
            return;
          }
          var out = new Uint16Array(src.length), tmp_line = new Float32Array(Math.max(width, height));
          var coeff = gaussCoef(radius);
          convolveMono16(src, out, tmp_line, coeff, width, height, radius);
          convolveMono16(out, src, tmp_line, coeff, height, width, radius);
        }
        module3.exports = blurMono16;
      }, {}], 15: [function(_dereq_, module3, exports3) {
        if (typeof Object.create === "function") {
          module3.exports = function inherits(ctor, superCtor) {
            if (superCtor) {
              ctor.super_ = superCtor;
              ctor.prototype = Object.create(superCtor.prototype, {
                constructor: {
                  value: ctor,
                  enumerable: false,
                  writable: true,
                  configurable: true
                }
              });
            }
          };
        } else {
          module3.exports = function inherits(ctor, superCtor) {
            if (superCtor) {
              ctor.super_ = superCtor;
              var TempCtor = function() {
              };
              TempCtor.prototype = superCtor.prototype;
              ctor.prototype = new TempCtor();
              ctor.prototype.constructor = ctor;
            }
          };
        }
      }, {}], 16: [function(_dereq_, module3, exports3) {
        "use strict";
        var assign = _dereq_("object-assign");
        var base64decode = _dereq_("./lib/base64decode");
        var hasWebAssembly = _dereq_("./lib/wa_detect");
        var DEFAULT_OPTIONS = {
          js: true,
          wasm: true
        };
        function MultiMath(options) {
          if (!(this instanceof MultiMath))
            return new MultiMath(options);
          var opts = assign({}, DEFAULT_OPTIONS, options || {});
          this.options = opts;
          this.__cache = {};
          this.__init_promise = null;
          this.__modules = opts.modules || {};
          this.__memory = null;
          this.__wasm = {};
          this.__isLE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;
          if (!this.options.js && !this.options.wasm) {
            throw new Error('mathlib: at least "js" or "wasm" should be enabled');
          }
        }
        MultiMath.prototype.has_wasm = hasWebAssembly;
        MultiMath.prototype.use = function(module4) {
          this.__modules[module4.name] = module4;
          if (this.options.wasm && this.has_wasm() && module4.wasm_fn) {
            this[module4.name] = module4.wasm_fn;
          } else {
            this[module4.name] = module4.fn;
          }
          return this;
        };
        MultiMath.prototype.init = function() {
          if (this.__init_promise)
            return this.__init_promise;
          if (!this.options.js && this.options.wasm && !this.has_wasm()) {
            return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));
          }
          var self2 = this;
          this.__init_promise = Promise.all(Object.keys(self2.__modules).map(function(name) {
            var module4 = self2.__modules[name];
            if (!self2.options.wasm || !self2.has_wasm() || !module4.wasm_fn)
              return null;
            if (self2.__wasm[name])
              return null;
            return WebAssembly.compile(self2.__base64decode(module4.wasm_src)).then(function(m2) {
              self2.__wasm[name] = m2;
            });
          })).then(function() {
            return self2;
          });
          return this.__init_promise;
        };
        MultiMath.prototype.__base64decode = base64decode;
        MultiMath.prototype.__reallocate = function mem_grow_to(bytes) {
          if (!this.__memory) {
            this.__memory = new WebAssembly.Memory({
              initial: Math.ceil(bytes / (64 * 1024))
            });
            return this.__memory;
          }
          var mem_size = this.__memory.buffer.byteLength;
          if (mem_size < bytes) {
            this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));
          }
          return this.__memory;
        };
        MultiMath.prototype.__instance = function instance(name, memsize, env_extra) {
          if (memsize)
            this.__reallocate(memsize);
          if (!this.__wasm[name]) {
            var module4 = this.__modules[name];
            this.__wasm[name] = new WebAssembly.Module(this.__base64decode(module4.wasm_src));
          }
          if (!this.__cache[name]) {
            var env_base = {
              memoryBase: 0,
              memory: this.__memory,
              tableBase: 0,
              table: new WebAssembly.Table({initial: 0, element: "anyfunc"})
            };
            this.__cache[name] = new WebAssembly.Instance(this.__wasm[name], {
              env: assign(env_base, env_extra || {})
            });
          }
          return this.__cache[name];
        };
        MultiMath.prototype.__align = function align(number, base) {
          base = base || 8;
          var reminder = number % base;
          return number + (reminder ? base - reminder : 0);
        };
        module3.exports = MultiMath;
      }, {"./lib/base64decode": 17, "./lib/wa_detect": 23, "object-assign": 24}], 17: [function(_dereq_, module3, exports3) {
        "use strict";
        var BASE64_MAP = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
        module3.exports = function base64decode(str) {
          var input = str.replace(/[\r\n=]/g, ""), max = input.length;
          var out = new Uint8Array(max * 3 >> 2);
          var bits = 0;
          var ptr = 0;
          for (var idx = 0; idx < max; idx++) {
            if (idx % 4 === 0 && idx) {
              out[ptr++] = bits >> 16 & 255;
              out[ptr++] = bits >> 8 & 255;
              out[ptr++] = bits & 255;
            }
            bits = bits << 6 | BASE64_MAP.indexOf(input.charAt(idx));
          }
          var tailbits = max % 4 * 6;
          if (tailbits === 0) {
            out[ptr++] = bits >> 16 & 255;
            out[ptr++] = bits >> 8 & 255;
            out[ptr++] = bits & 255;
          } else if (tailbits === 18) {
            out[ptr++] = bits >> 10 & 255;
            out[ptr++] = bits >> 2 & 255;
          } else if (tailbits === 12) {
            out[ptr++] = bits >> 4 & 255;
          }
          return out;
        };
      }, {}], 18: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = function hsl_l16_js(img, width, height) {
          var size = width * height;
          var out = new Uint16Array(size);
          var r2, g3, b, min, max;
          for (var i3 = 0; i3 < size; i3++) {
            r2 = img[4 * i3];
            g3 = img[4 * i3 + 1];
            b = img[4 * i3 + 2];
            max = r2 >= g3 && r2 >= b ? r2 : g3 >= b && g3 >= r2 ? g3 : b;
            min = r2 <= g3 && r2 <= b ? r2 : g3 <= b && g3 <= r2 ? g3 : b;
            out[i3] = (max + min) * 257 >> 1;
          }
          return out;
        };
      }, {}], 19: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = {
          name: "unsharp_mask",
          fn: _dereq_("./unsharp_mask"),
          wasm_fn: _dereq_("./unsharp_mask_wasm"),
          wasm_src: _dereq_("./unsharp_mask_wasm_base64")
        };
      }, {"./unsharp_mask": 20, "./unsharp_mask_wasm": 21, "./unsharp_mask_wasm_base64": 22}], 20: [function(_dereq_, module3, exports3) {
        "use strict";
        var glur_mono16 = _dereq_("glur/mono16");
        var hsl_l16 = _dereq_("./hsl_l16");
        module3.exports = function unsharp(img, width, height, amount, radius, threshold) {
          var r2, g3, b;
          var h3, s3, l3;
          var min, max;
          var m1, m2, hShifted;
          var diff, iTimes4;
          if (amount === 0 || radius < 0.5) {
            return;
          }
          if (radius > 2) {
            radius = 2;
          }
          var lightness = hsl_l16(img, width, height);
          var blured = new Uint16Array(lightness);
          glur_mono16(blured, width, height, radius);
          var amountFp = amount / 100 * 4096 + 0.5 | 0;
          var thresholdFp = threshold * 257 | 0;
          var size = width * height;
          for (var i3 = 0; i3 < size; i3++) {
            diff = 2 * (lightness[i3] - blured[i3]);
            if (Math.abs(diff) >= thresholdFp) {
              iTimes4 = i3 * 4;
              r2 = img[iTimes4];
              g3 = img[iTimes4 + 1];
              b = img[iTimes4 + 2];
              max = r2 >= g3 && r2 >= b ? r2 : g3 >= r2 && g3 >= b ? g3 : b;
              min = r2 <= g3 && r2 <= b ? r2 : g3 <= r2 && g3 <= b ? g3 : b;
              l3 = (max + min) * 257 >> 1;
              if (min === max) {
                h3 = s3 = 0;
              } else {
                s3 = l3 <= 32767 ? (max - min) * 4095 / (max + min) | 0 : (max - min) * 4095 / (2 * 255 - max - min) | 0;
                h3 = r2 === max ? (g3 - b) * 65535 / (6 * (max - min)) | 0 : g3 === max ? 21845 + ((b - r2) * 65535 / (6 * (max - min)) | 0) : 43690 + ((r2 - g3) * 65535 / (6 * (max - min)) | 0);
              }
              l3 += amountFp * diff + 2048 >> 12;
              if (l3 > 65535) {
                l3 = 65535;
              } else if (l3 < 0) {
                l3 = 0;
              }
              if (s3 === 0) {
                r2 = g3 = b = l3 >> 8;
              } else {
                m2 = l3 <= 32767 ? l3 * (4096 + s3) + 2048 >> 12 : l3 + ((65535 - l3) * s3 + 2048 >> 12);
                m1 = 2 * l3 - m2 >> 8;
                m2 >>= 8;
                hShifted = h3 + 21845 & 65535;
                r2 = hShifted >= 43690 ? m1 : hShifted >= 32767 ? m1 + ((m2 - m1) * 6 * (43690 - hShifted) + 32768 >> 16) : hShifted >= 10922 ? m2 : m1 + ((m2 - m1) * 6 * hShifted + 32768 >> 16);
                hShifted = h3 & 65535;
                g3 = hShifted >= 43690 ? m1 : hShifted >= 32767 ? m1 + ((m2 - m1) * 6 * (43690 - hShifted) + 32768 >> 16) : hShifted >= 10922 ? m2 : m1 + ((m2 - m1) * 6 * hShifted + 32768 >> 16);
                hShifted = h3 - 21845 & 65535;
                b = hShifted >= 43690 ? m1 : hShifted >= 32767 ? m1 + ((m2 - m1) * 6 * (43690 - hShifted) + 32768 >> 16) : hShifted >= 10922 ? m2 : m1 + ((m2 - m1) * 6 * hShifted + 32768 >> 16);
              }
              img[iTimes4] = r2;
              img[iTimes4 + 1] = g3;
              img[iTimes4 + 2] = b;
            }
          }
        };
      }, {"./hsl_l16": 18, "glur/mono16": 14}], 21: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = function unsharp(img, width, height, amount, radius, threshold) {
          if (amount === 0 || radius < 0.5) {
            return;
          }
          if (radius > 2) {
            radius = 2;
          }
          var pixels = width * height;
          var img_bytes_cnt = pixels * 4;
          var hsl_bytes_cnt = pixels * 2;
          var blur_bytes_cnt = pixels * 2;
          var blur_line_byte_cnt = Math.max(width, height) * 4;
          var blur_coeffs_byte_cnt = 8 * 4;
          var img_offset = 0;
          var hsl_offset = img_bytes_cnt;
          var blur_offset = hsl_offset + hsl_bytes_cnt;
          var blur_tmp_offset = blur_offset + blur_bytes_cnt;
          var blur_line_offset = blur_tmp_offset + blur_bytes_cnt;
          var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;
          var instance = this.__instance("unsharp_mask", img_bytes_cnt + hsl_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt, {exp: Math.exp});
          var img32 = new Uint32Array(img.buffer);
          var mem32 = new Uint32Array(this.__memory.buffer);
          mem32.set(img32);
          var fn = instance.exports.hsl_l16 || instance.exports._hsl_l16;
          fn(img_offset, hsl_offset, width, height);
          fn = instance.exports.blurMono16 || instance.exports._blurMono16;
          fn(hsl_offset, blur_offset, blur_tmp_offset, blur_line_offset, blur_coeffs_offset, width, height, radius);
          fn = instance.exports.unsharp || instance.exports._unsharp;
          fn(img_offset, img_offset, hsl_offset, blur_offset, width, height, amount, threshold);
          img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));
        };
      }, {}], 22: [function(_dereq_, module3, exports3) {
        "use strict";
        module3.exports = "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";
      }, {}], 23: [function(_dereq_, module3, exports3) {
        "use strict";
        var wa;
        module3.exports = function hasWebAssembly() {
          if (typeof wa !== "undefined")
            return wa;
          wa = false;
          if (typeof WebAssembly === "undefined")
            return wa;
          try {
            var bin = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 6, 1, 96, 1, 127, 1, 127, 3, 2, 1, 0, 5, 3, 1, 0, 1, 7, 8, 1, 4, 116, 101, 115, 116, 0, 0, 10, 16, 1, 14, 0, 32, 0, 65, 1, 54, 2, 0, 32, 0, 40, 2, 0, 11]);
            var module4 = new WebAssembly.Module(bin);
            var instance = new WebAssembly.Instance(module4, {});
            if (instance.exports.test(4) !== 0)
              wa = true;
            return wa;
          } catch (__) {
          }
          return wa;
        };
      }, {}], 24: [function(_dereq_, module3, exports3) {
        /*
        object-assign
        (c) Sindre Sorhus
        @license MIT
        */
        "use strict";
        var getOwnPropertySymbols = Object.getOwnPropertySymbols;
        var hasOwnProperty = Object.prototype.hasOwnProperty;
        var propIsEnumerable = Object.prototype.propertyIsEnumerable;
        function toObject(val) {
          if (val === null || val === void 0) {
            throw new TypeError("Object.assign cannot be called with null or undefined");
          }
          return Object(val);
        }
        function shouldUseNative() {
          try {
            if (!Object.assign) {
              return false;
            }
            var test1 = new String("abc");
            test1[5] = "de";
            if (Object.getOwnPropertyNames(test1)[0] === "5") {
              return false;
            }
            var test2 = {};
            for (var i3 = 0; i3 < 10; i3++) {
              test2["_" + String.fromCharCode(i3)] = i3;
            }
            var order2 = Object.getOwnPropertyNames(test2).map(function(n3) {
              return test2[n3];
            });
            if (order2.join("") !== "0123456789") {
              return false;
            }
            var test3 = {};
            "abcdefghijklmnopqrst".split("").forEach(function(letter) {
              test3[letter] = letter;
            });
            if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
              return false;
            }
            return true;
          } catch (err) {
            return false;
          }
        }
        module3.exports = shouldUseNative() ? Object.assign : function(target, source) {
          var from;
          var to = toObject(target);
          var symbols;
          for (var s3 = 1; s3 < arguments.length; s3++) {
            from = Object(arguments[s3]);
            for (var key in from) {
              if (hasOwnProperty.call(from, key)) {
                to[key] = from[key];
              }
            }
            if (getOwnPropertySymbols) {
              symbols = getOwnPropertySymbols(from);
              for (var i3 = 0; i3 < symbols.length; i3++) {
                if (propIsEnumerable.call(from, symbols[i3])) {
                  to[symbols[i3]] = from[symbols[i3]];
                }
              }
            }
          }
          return to;
        };
      }, {}], 25: [function(_dereq_, module3, exports3) {
        var bundleFn = arguments[3];
        var sources = arguments[4];
        var cache = arguments[5];
        var stringify = JSON.stringify;
        module3.exports = function(fn, options) {
          var wkey;
          var cacheKeys = Object.keys(cache);
          for (var i3 = 0, l3 = cacheKeys.length; i3 < l3; i3++) {
            var key = cacheKeys[i3];
            var exp = cache[key].exports;
            if (exp === fn || exp && exp.default === fn) {
              wkey = key;
              break;
            }
          }
          if (!wkey) {
            wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);
            var wcache = {};
            for (var i3 = 0, l3 = cacheKeys.length; i3 < l3; i3++) {
              var key = cacheKeys[i3];
              wcache[key] = key;
            }
            sources[wkey] = [
              "function(require,module,exports){" + fn + "(self); }",
              wcache
            ];
          }
          var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);
          var scache = {};
          scache[wkey] = wkey;
          sources[skey] = [
            "function(require,module,exports){var f = require(" + stringify(wkey) + ");(f.default ? f.default : f)(self);}",
            scache
          ];
          var workerSources = {};
          resolveSources(skey);
          function resolveSources(key2) {
            workerSources[key2] = true;
            for (var depPath in sources[key2][1]) {
              var depKey = sources[key2][1][depPath];
              if (!workerSources[depKey]) {
                resolveSources(depKey);
              }
            }
          }
          var src = "(" + bundleFn + ")({" + Object.keys(workerSources).map(function(key2) {
            return stringify(key2) + ":[" + sources[key2][0] + "," + stringify(sources[key2][1]) + "]";
          }).join(",") + "},{},[" + stringify(skey) + "])";
          var URL2 = window.URL || window.webkitURL || window.mozURL || window.msURL;
          var blob = new Blob([src], {type: "text/javascript"});
          if (options && options.bare) {
            return blob;
          }
          var workerUrl = URL2.createObjectURL(blob);
          var worker = new Worker(workerUrl);
          worker.objectURL = workerUrl;
          return worker;
        };
      }, {}], "/index.js": [function(_dereq_, module3, exports3) {
        "use strict";
        function _slicedToArray(arr, i3) {
          return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i3) || _unsupportedIterableToArray(arr, i3) || _nonIterableRest();
        }
        function _nonIterableRest() {
          throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        function _unsupportedIterableToArray(o3, minLen) {
          if (!o3)
            return;
          if (typeof o3 === "string")
            return _arrayLikeToArray(o3, minLen);
          var n3 = Object.prototype.toString.call(o3).slice(8, -1);
          if (n3 === "Object" && o3.constructor)
            n3 = o3.constructor.name;
          if (n3 === "Map" || n3 === "Set")
            return Array.from(o3);
          if (n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3))
            return _arrayLikeToArray(o3, minLen);
        }
        function _arrayLikeToArray(arr, len) {
          if (len == null || len > arr.length)
            len = arr.length;
          for (var i3 = 0, arr2 = new Array(len); i3 < len; i3++) {
            arr2[i3] = arr[i3];
          }
          return arr2;
        }
        function _iterableToArrayLimit(arr, i3) {
          if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr)))
            return;
          var _arr = [];
          var _n = true;
          var _d = false;
          var _e = void 0;
          try {
            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
              _arr.push(_s.value);
              if (i3 && _arr.length === i3)
                break;
            }
          } catch (err) {
            _d = true;
            _e = err;
          } finally {
            try {
              if (!_n && _i["return"] != null)
                _i["return"]();
            } finally {
              if (_d)
                throw _e;
            }
          }
          return _arr;
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr))
            return arr;
        }
        var assign = _dereq_("object-assign");
        var webworkify = _dereq_("webworkify");
        var MathLib = _dereq_("./lib/mathlib");
        var Pool = _dereq_("./lib/pool");
        var utils = _dereq_("./lib/utils");
        var worker = _dereq_("./lib/worker");
        var createStages = _dereq_("./lib/stepper");
        var createRegions = _dereq_("./lib/tiler");
        var singletones = {};
        var NEED_SAFARI_FIX = false;
        try {
          if (typeof navigator !== "undefined" && navigator.userAgent) {
            NEED_SAFARI_FIX = navigator.userAgent.indexOf("Safari") >= 0;
          }
        } catch (e2) {
        }
        var concurrency = 1;
        if (typeof navigator !== "undefined") {
          concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);
        }
        var DEFAULT_PICA_OPTS = {
          tile: 1024,
          concurrency,
          features: ["js", "wasm", "ww"],
          idle: 2e3,
          createCanvas: function createCanvas(width, height) {
            var tmpCanvas = document.createElement("canvas");
            tmpCanvas.width = width;
            tmpCanvas.height = height;
            return tmpCanvas;
          }
        };
        var DEFAULT_RESIZE_OPTS = {
          quality: 3,
          alpha: false,
          unsharpAmount: 0,
          unsharpRadius: 0,
          unsharpThreshold: 0
        };
        var CAN_NEW_IMAGE_DATA;
        var CAN_CREATE_IMAGE_BITMAP;
        function workerFabric() {
          return {
            value: webworkify(worker),
            destroy: function destroy() {
              this.value.terminate();
              if (typeof window !== "undefined") {
                var url = window.URL || window.webkitURL || window.mozURL || window.msURL;
                if (url && url.revokeObjectURL && this.value.objectURL) {
                  url.revokeObjectURL(this.value.objectURL);
                }
              }
            }
          };
        }
        function Pica2(options) {
          if (!(this instanceof Pica2))
            return new Pica2(options);
          this.options = assign({}, DEFAULT_PICA_OPTS, options || {});
          var limiter_key = "lk_".concat(this.options.concurrency);
          this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);
          if (!singletones[limiter_key])
            singletones[limiter_key] = this.__limit;
          this.features = {
            js: false,
            wasm: false,
            cib: false,
            ww: false
          };
          this.__workersPool = null;
          this.__requested_features = [];
          this.__mathlib = null;
        }
        Pica2.prototype.init = function() {
          var _this = this;
          if (this.__initPromise)
            return this.__initPromise;
          if (CAN_NEW_IMAGE_DATA !== false && CAN_NEW_IMAGE_DATA !== true) {
            CAN_NEW_IMAGE_DATA = false;
            if (typeof ImageData !== "undefined" && typeof Uint8ClampedArray !== "undefined") {
              try {
                new ImageData(new Uint8ClampedArray(400), 10, 10);
                CAN_NEW_IMAGE_DATA = true;
              } catch (__) {
              }
            }
          }
          if (CAN_CREATE_IMAGE_BITMAP !== false && CAN_CREATE_IMAGE_BITMAP !== true) {
            CAN_CREATE_IMAGE_BITMAP = false;
            if (typeof ImageBitmap !== "undefined") {
              if (ImageBitmap.prototype && ImageBitmap.prototype.close) {
                CAN_CREATE_IMAGE_BITMAP = true;
              } else {
                this.debug("ImageBitmap does not support .close(), disabled");
              }
            }
          }
          var features = this.options.features.slice();
          if (features.indexOf("all") >= 0) {
            features = ["cib", "wasm", "js", "ww"];
          }
          this.__requested_features = features;
          this.__mathlib = new MathLib(features);
          if (features.indexOf("ww") >= 0) {
            if (typeof window !== "undefined" && "Worker" in window) {
              try {
                var wkr = _dereq_("webworkify")(function() {
                });
                wkr.terminate();
                this.features.ww = true;
                var wpool_key = "wp_".concat(JSON.stringify(this.options));
                if (singletones[wpool_key]) {
                  this.__workersPool = singletones[wpool_key];
                } else {
                  this.__workersPool = new Pool(workerFabric, this.options.idle);
                  singletones[wpool_key] = this.__workersPool;
                }
              } catch (__) {
              }
            }
          }
          var initMath = this.__mathlib.init().then(function(mathlib) {
            assign(_this.features, mathlib.features);
          });
          var checkCibResize;
          if (!CAN_CREATE_IMAGE_BITMAP) {
            checkCibResize = Promise.resolve(false);
          } else {
            checkCibResize = utils.cib_support(this.options.createCanvas).then(function(status) {
              if (_this.features.cib && features.indexOf("cib") < 0) {
                _this.debug("createImageBitmap() resize supported, but disabled by config");
                return;
              }
              if (features.indexOf("cib") >= 0)
                _this.features.cib = status;
            });
          }
          this.__initPromise = Promise.all([initMath, checkCibResize]).then(function() {
            return _this;
          });
          return this.__initPromise;
        };
        Pica2.prototype.resize = function(from, to, options) {
          var _this2 = this;
          this.debug("Start resize...");
          var opts = assign({}, DEFAULT_RESIZE_OPTS);
          if (!isNaN(options)) {
            opts = assign(opts, {
              quality: options
            });
          } else if (options) {
            opts = assign(opts, options);
          }
          opts.toWidth = to.width;
          opts.toHeight = to.height;
          opts.width = from.naturalWidth || from.width;
          opts.height = from.naturalHeight || from.height;
          if (to.width === 0 || to.height === 0) {
            return Promise.reject(new Error("Invalid output size: ".concat(to.width, "x").concat(to.height)));
          }
          if (opts.unsharpRadius > 2)
            opts.unsharpRadius = 2;
          var canceled = false;
          var cancelToken = null;
          if (opts.cancelToken) {
            cancelToken = opts.cancelToken.then(function(data) {
              canceled = true;
              throw data;
            }, function(err) {
              canceled = true;
              throw err;
            });
          }
          var DEST_TILE_BORDER = 3;
          var destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius | 0));
          return this.init().then(function() {
            if (canceled)
              return cancelToken;
            if (_this2.features.cib) {
              var toCtx = to.getContext("2d", {
                alpha: Boolean(opts.alpha)
              });
              _this2.debug("Resize via createImageBitmap()");
              return createImageBitmap(from, {
                resizeWidth: opts.toWidth,
                resizeHeight: opts.toHeight,
                resizeQuality: utils.cib_quality_name(opts.quality)
              }).then(function(imageBitmap) {
                if (canceled)
                  return cancelToken;
                if (!opts.unsharpAmount) {
                  toCtx.drawImage(imageBitmap, 0, 0);
                  imageBitmap.close();
                  toCtx = null;
                  _this2.debug("Finished!");
                  return to;
                }
                _this2.debug("Unsharp result");
                var tmpCanvas = _this2.options.createCanvas(opts.toWidth, opts.toHeight);
                var tmpCtx = tmpCanvas.getContext("2d", {
                  alpha: Boolean(opts.alpha)
                });
                tmpCtx.drawImage(imageBitmap, 0, 0);
                imageBitmap.close();
                var iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);
                _this2.__mathlib.unsharp_mask(iData.data, opts.toWidth, opts.toHeight, opts.unsharpAmount, opts.unsharpRadius, opts.unsharpThreshold);
                toCtx.putImageData(iData, 0, 0);
                tmpCanvas.width = tmpCanvas.height = 0;
                iData = tmpCtx = tmpCanvas = toCtx = null;
                _this2.debug("Finished!");
                return to;
              });
            }
            var cache = {};
            var invokeResize = function invokeResize2(opts2) {
              return Promise.resolve().then(function() {
                if (!_this2.features.ww)
                  return _this2.__mathlib.resizeAndUnsharp(opts2, cache);
                return new Promise(function(resolve, reject) {
                  var w2 = _this2.__workersPool.acquire();
                  if (cancelToken)
                    cancelToken["catch"](function(err) {
                      return reject(err);
                    });
                  w2.value.onmessage = function(ev) {
                    w2.release();
                    if (ev.data.err)
                      reject(ev.data.err);
                    else
                      resolve(ev.data.result);
                  };
                  w2.value.postMessage({
                    opts: opts2,
                    features: _this2.__requested_features,
                    preload: {
                      wasm_nodule: _this2.__mathlib.__
                    }
                  }, [opts2.src.buffer]);
                });
              });
            };
            var tileAndResize = function tileAndResize2(from2, to2, opts2) {
              var srcCtx;
              var srcImageBitmap;
              var isImageBitmapReused = false;
              var toCtx2;
              var processTile = function processTile2(tile) {
                return _this2.__limit(function() {
                  if (canceled)
                    return cancelToken;
                  var srcImageData;
                  if (utils.isCanvas(from2)) {
                    _this2.debug("Get tile pixel data");
                    srcImageData = srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height);
                  } else {
                    _this2.debug("Draw tile imageBitmap/image to temporary canvas");
                    var tmpCanvas = _this2.options.createCanvas(tile.width, tile.height);
                    var tmpCtx = tmpCanvas.getContext("2d", {
                      alpha: Boolean(opts2.alpha)
                    });
                    tmpCtx.globalCompositeOperation = "copy";
                    tmpCtx.drawImage(srcImageBitmap || from2, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);
                    _this2.debug("Get tile pixel data");
                    srcImageData = tmpCtx.getImageData(0, 0, tile.width, tile.height);
                    tmpCanvas.width = tmpCanvas.height = 0;
                    tmpCtx = tmpCanvas = null;
                  }
                  var o3 = {
                    src: srcImageData.data,
                    width: tile.width,
                    height: tile.height,
                    toWidth: tile.toWidth,
                    toHeight: tile.toHeight,
                    scaleX: tile.scaleX,
                    scaleY: tile.scaleY,
                    offsetX: tile.offsetX,
                    offsetY: tile.offsetY,
                    quality: opts2.quality,
                    alpha: opts2.alpha,
                    unsharpAmount: opts2.unsharpAmount,
                    unsharpRadius: opts2.unsharpRadius,
                    unsharpThreshold: opts2.unsharpThreshold
                  };
                  _this2.debug("Invoke resize math");
                  return Promise.resolve().then(function() {
                    return invokeResize(o3);
                  }).then(function(result) {
                    if (canceled)
                      return cancelToken;
                    srcImageData = null;
                    var toImageData;
                    _this2.debug("Convert raw rgba tile result to ImageData");
                    if (CAN_NEW_IMAGE_DATA) {
                      toImageData = new ImageData(new Uint8ClampedArray(result), tile.toWidth, tile.toHeight);
                    } else {
                      toImageData = toCtx2.createImageData(tile.toWidth, tile.toHeight);
                      if (toImageData.data.set) {
                        toImageData.data.set(result);
                      } else {
                        for (var i3 = toImageData.data.length - 1; i3 >= 0; i3--) {
                          toImageData.data[i3] = result[i3];
                        }
                      }
                    }
                    _this2.debug("Draw tile");
                    if (NEED_SAFARI_FIX) {
                      toCtx2.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);
                    } else {
                      toCtx2.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);
                    }
                    return null;
                  });
                });
              };
              return Promise.resolve().then(function() {
                toCtx2 = to2.getContext("2d", {
                  alpha: Boolean(opts2.alpha)
                });
                if (utils.isCanvas(from2)) {
                  srcCtx = from2.getContext("2d", {
                    alpha: Boolean(opts2.alpha)
                  });
                  return null;
                }
                if (utils.isImageBitmap(from2)) {
                  srcImageBitmap = from2;
                  isImageBitmapReused = true;
                  return null;
                }
                if (utils.isImage(from2)) {
                  if (!CAN_CREATE_IMAGE_BITMAP)
                    return null;
                  _this2.debug("Decode image via createImageBitmap");
                  return createImageBitmap(from2).then(function(imageBitmap) {
                    srcImageBitmap = imageBitmap;
                  })["catch"](function(e2) {
                    return null;
                  });
                }
                throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap');
              }).then(function() {
                if (canceled)
                  return cancelToken;
                _this2.debug("Calculate tiles");
                var regions = createRegions({
                  width: opts2.width,
                  height: opts2.height,
                  srcTileSize: _this2.options.tile,
                  toWidth: opts2.toWidth,
                  toHeight: opts2.toHeight,
                  destTileBorder
                });
                var jobs = regions.map(function(tile) {
                  return processTile(tile);
                });
                function cleanup() {
                  if (srcImageBitmap) {
                    if (!isImageBitmapReused)
                      srcImageBitmap.close();
                    srcImageBitmap = null;
                  }
                }
                _this2.debug("Process tiles");
                return Promise.all(jobs).then(function() {
                  _this2.debug("Finished!");
                  cleanup();
                  return to2;
                }, function(err) {
                  cleanup();
                  throw err;
                });
              });
            };
            var processStages = function processStages2(stages2, from2, to2, opts2) {
              if (canceled)
                return cancelToken;
              var _stages$shift = stages2.shift(), _stages$shift2 = _slicedToArray(_stages$shift, 2), toWidth = _stages$shift2[0], toHeight = _stages$shift2[1];
              var isLastStage = stages2.length === 0;
              opts2 = assign({}, opts2, {
                toWidth,
                toHeight,
                quality: isLastStage ? opts2.quality : Math.min(1, opts2.quality)
              });
              var tmpCanvas;
              if (!isLastStage) {
                tmpCanvas = _this2.options.createCanvas(toWidth, toHeight);
              }
              return tileAndResize(from2, isLastStage ? to2 : tmpCanvas, opts2).then(function() {
                if (isLastStage)
                  return to2;
                opts2.width = toWidth;
                opts2.height = toHeight;
                return processStages2(stages2, tmpCanvas, to2, opts2);
              }).then(function(res) {
                if (tmpCanvas) {
                  tmpCanvas.width = tmpCanvas.height = 0;
                }
                return res;
              });
            };
            var stages = createStages(opts.width, opts.height, opts.toWidth, opts.toHeight, _this2.options.tile, destTileBorder);
            return processStages(stages, from, to, opts);
          });
        };
        Pica2.prototype.resizeBuffer = function(options) {
          var _this3 = this;
          var opts = assign({}, DEFAULT_RESIZE_OPTS, options);
          return this.init().then(function() {
            return _this3.__mathlib.resizeAndUnsharp(opts);
          });
        };
        Pica2.prototype.toBlob = function(canvas, mimeType, quality) {
          mimeType = mimeType || "image/png";
          return new Promise(function(resolve) {
            if (canvas.toBlob) {
              canvas.toBlob(function(blob) {
                return resolve(blob);
              }, mimeType, quality);
              return;
            }
            if (canvas.convertToBlob) {
              resolve(canvas.convertToBlob({
                type: mimeType,
                quality
              }));
              return;
            }
            var asString = atob(canvas.toDataURL(mimeType, quality).split(",")[1]);
            var len = asString.length;
            var asBuffer = new Uint8Array(len);
            for (var i3 = 0; i3 < len; i3++) {
              asBuffer[i3] = asString.charCodeAt(i3);
            }
            resolve(new Blob([asBuffer], {
              type: mimeType
            }));
          });
        };
        Pica2.prototype.debug = function() {
        };
        module3.exports = Pica2;
      }, {"./lib/mathlib": 1, "./lib/pool": 9, "./lib/stepper": 10, "./lib/tiler": 11, "./lib/utils": 12, "./lib/worker": 13, "object-assign": 24, webworkify: 25}]}, {}, [])("/index.js");
    });
  });

  // node_modules/upng-js/UPNG.js
  var require_UPNG = __commonJS((exports, module) => {
    (function() {
      var UPNG2 = {};
      var pako2;
      if (typeof module == "object") {
        module.exports = UPNG2;
      } else {
        window.UPNG = UPNG2;
      }
      if (true) {
        pako2 = require_pako();
      } else {
        pako2 = window.pako;
      }
      function log() {
        if (typeof process == "undefined" || true)
          console.log.apply(console, arguments);
      }
      (function(UPNG3, pako3) {
        UPNG3.toRGBA8 = function(out) {
          var w2 = out.width, h3 = out.height;
          if (out.tabs.acTL == null)
            return [UPNG3.toRGBA8.decodeImage(out.data, w2, h3, out).buffer];
          var frms = [];
          if (out.frames[0].data == null)
            out.frames[0].data = out.data;
          var img, empty = new Uint8Array(w2 * h3 * 4);
          for (var i3 = 0; i3 < out.frames.length; i3++) {
            var frm = out.frames[i3];
            var fx = frm.rect.x, fy = frm.rect.y, fw = frm.rect.width, fh = frm.rect.height;
            var fdata = UPNG3.toRGBA8.decodeImage(frm.data, fw, fh, out);
            if (i3 == 0)
              img = fdata;
            else if (frm.blend == 0)
              UPNG3._copyTile(fdata, fw, fh, img, w2, h3, fx, fy, 0);
            else if (frm.blend == 1)
              UPNG3._copyTile(fdata, fw, fh, img, w2, h3, fx, fy, 1);
            frms.push(img.buffer);
            img = img.slice(0);
            if (frm.dispose == 0) {
            } else if (frm.dispose == 1)
              UPNG3._copyTile(empty, fw, fh, img, w2, h3, fx, fy, 0);
            else if (frm.dispose == 2) {
              var pi = i3 - 1;
              while (out.frames[pi].dispose == 2)
                pi--;
              img = new Uint8Array(frms[pi]).slice(0);
            }
          }
          return frms;
        };
        UPNG3.toRGBA8.decodeImage = function(data, w2, h3, out) {
          var area = w2 * h3, bpp = UPNG3.decode._getBPP(out);
          var bpl = Math.ceil(w2 * bpp / 8);
          var bf = new Uint8Array(area * 4), bf32 = new Uint32Array(bf.buffer);
          var ctype = out.ctype, depth = out.depth;
          var rs = UPNG3._bin.readUshort;
          if (ctype == 6) {
            var qarea = area << 2;
            if (depth == 8)
              for (var i3 = 0; i3 < qarea; i3++) {
                bf[i3] = data[i3];
              }
            if (depth == 16)
              for (var i3 = 0; i3 < qarea; i3++) {
                bf[i3] = data[i3 << 1];
              }
          } else if (ctype == 2) {
            var ts = out.tabs["tRNS"], tr = -1, tg = -1, tb = -1;
            if (ts) {
              tr = ts[0];
              tg = ts[1];
              tb = ts[2];
            }
            if (depth == 8)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, ti = i3 * 3;
                bf[qi] = data[ti];
                bf[qi + 1] = data[ti + 1];
                bf[qi + 2] = data[ti + 2];
                bf[qi + 3] = 255;
                if (tr != -1 && data[ti] == tr && data[ti + 1] == tg && data[ti + 2] == tb)
                  bf[qi + 3] = 0;
              }
            if (depth == 16)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, ti = i3 * 6;
                bf[qi] = data[ti];
                bf[qi + 1] = data[ti + 2];
                bf[qi + 2] = data[ti + 4];
                bf[qi + 3] = 255;
                if (tr != -1 && rs(data, ti) == tr && rs(data, ti + 2) == tg && rs(data, ti + 4) == tb)
                  bf[qi + 3] = 0;
              }
          } else if (ctype == 3) {
            var p3 = out.tabs["PLTE"], ap = out.tabs["tRNS"], tl = ap ? ap.length : 0;
            if (depth == 1)
              for (var y2 = 0; y2 < h3; y2++) {
                var s0 = y2 * bpl, t0 = y2 * w2;
                for (var i3 = 0; i3 < w2; i3++) {
                  var qi = t0 + i3 << 2, j2 = data[s0 + (i3 >> 3)] >> 7 - ((i3 & 7) << 0) & 1, cj = 3 * j2;
                  bf[qi] = p3[cj];
                  bf[qi + 1] = p3[cj + 1];
                  bf[qi + 2] = p3[cj + 2];
                  bf[qi + 3] = j2 < tl ? ap[j2] : 255;
                }
              }
            if (depth == 2)
              for (var y2 = 0; y2 < h3; y2++) {
                var s0 = y2 * bpl, t0 = y2 * w2;
                for (var i3 = 0; i3 < w2; i3++) {
                  var qi = t0 + i3 << 2, j2 = data[s0 + (i3 >> 2)] >> 6 - ((i3 & 3) << 1) & 3, cj = 3 * j2;
                  bf[qi] = p3[cj];
                  bf[qi + 1] = p3[cj + 1];
                  bf[qi + 2] = p3[cj + 2];
                  bf[qi + 3] = j2 < tl ? ap[j2] : 255;
                }
              }
            if (depth == 4)
              for (var y2 = 0; y2 < h3; y2++) {
                var s0 = y2 * bpl, t0 = y2 * w2;
                for (var i3 = 0; i3 < w2; i3++) {
                  var qi = t0 + i3 << 2, j2 = data[s0 + (i3 >> 1)] >> 4 - ((i3 & 1) << 2) & 15, cj = 3 * j2;
                  bf[qi] = p3[cj];
                  bf[qi + 1] = p3[cj + 1];
                  bf[qi + 2] = p3[cj + 2];
                  bf[qi + 3] = j2 < tl ? ap[j2] : 255;
                }
              }
            if (depth == 8)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, j2 = data[i3], cj = 3 * j2;
                bf[qi] = p3[cj];
                bf[qi + 1] = p3[cj + 1];
                bf[qi + 2] = p3[cj + 2];
                bf[qi + 3] = j2 < tl ? ap[j2] : 255;
              }
          } else if (ctype == 4) {
            if (depth == 8)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, di = i3 << 1, gr = data[di];
                bf[qi] = gr;
                bf[qi + 1] = gr;
                bf[qi + 2] = gr;
                bf[qi + 3] = data[di + 1];
              }
            if (depth == 16)
              for (var i3 = 0; i3 < area; i3++) {
                var qi = i3 << 2, di = i3 << 2, gr = data[di];
                bf[qi] = gr;
                bf[qi + 1] = gr;
                bf[qi + 2] = gr;
                bf[qi + 3] = data[di + 2];
              }
          } else if (ctype == 0) {
            var tr = out.tabs["tRNS"] ? out.tabs["tRNS"] : -1;
            if (depth == 1)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = 255 * (data[i3 >> 3] >> 7 - (i3 & 7) & 1), al = gr == tr * 255 ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
            if (depth == 2)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = 85 * (data[i3 >> 2] >> 6 - ((i3 & 3) << 1) & 3), al = gr == tr * 85 ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
            if (depth == 4)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = 17 * (data[i3 >> 1] >> 4 - ((i3 & 1) << 2) & 15), al = gr == tr * 17 ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
            if (depth == 8)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = data[i3], al = gr == tr ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
            if (depth == 16)
              for (var i3 = 0; i3 < area; i3++) {
                var gr = data[i3 << 1], al = rs(data, i3 << 1) == tr ? 0 : 255;
                bf32[i3] = al << 24 | gr << 16 | gr << 8 | gr;
              }
          }
          return bf;
        };
        UPNG3.decode = function(buff) {
          var data = new Uint8Array(buff), offset = 8, bin = UPNG3._bin, rUs = bin.readUshort, rUi = bin.readUint;
          var out = {tabs: {}, frames: []};
          var dd = new Uint8Array(data.length), doff = 0;
          var fd, foff = 0;
          var mgck = [137, 80, 78, 71, 13, 10, 26, 10];
          for (var i3 = 0; i3 < 8; i3++)
            if (data[i3] != mgck[i3])
              throw "The input is not a PNG file!";
          while (offset < data.length) {
            var len = bin.readUint(data, offset);
            offset += 4;
            var type = bin.readASCII(data, offset, 4);
            offset += 4;
            if (type == "IHDR") {
              UPNG3.decode._IHDR(data, offset, out);
            } else if (type == "IDAT") {
              for (var i3 = 0; i3 < len; i3++)
                dd[doff + i3] = data[offset + i3];
              doff += len;
            } else if (type == "acTL") {
              out.tabs[type] = {num_frames: rUi(data, offset), num_plays: rUi(data, offset + 4)};
              fd = new Uint8Array(data.length);
            } else if (type == "fcTL") {
              if (foff != 0) {
                var fr = out.frames[out.frames.length - 1];
                fr.data = UPNG3.decode._decompress(out, fd.slice(0, foff), fr.rect.width, fr.rect.height);
                foff = 0;
              }
              var rct = {x: rUi(data, offset + 12), y: rUi(data, offset + 16), width: rUi(data, offset + 4), height: rUi(data, offset + 8)};
              var del = rUs(data, offset + 22);
              del = rUs(data, offset + 20) / (del == 0 ? 100 : del);
              var frm = {rect: rct, delay: Math.round(del * 1e3), dispose: data[offset + 24], blend: data[offset + 25]};
              out.frames.push(frm);
            } else if (type == "fdAT") {
              for (var i3 = 0; i3 < len - 4; i3++)
                fd[foff + i3] = data[offset + i3 + 4];
              foff += len - 4;
            } else if (type == "pHYs") {
              out.tabs[type] = [bin.readUint(data, offset), bin.readUint(data, offset + 4), data[offset + 8]];
            } else if (type == "cHRM") {
              out.tabs[type] = [];
              for (var i3 = 0; i3 < 8; i3++)
                out.tabs[type].push(bin.readUint(data, offset + i3 * 4));
            } else if (type == "tEXt") {
              if (out.tabs[type] == null)
                out.tabs[type] = {};
              var nz = bin.nextZero(data, offset);
              var keyw = bin.readASCII(data, offset, nz - offset);
              var text = bin.readASCII(data, nz + 1, offset + len - nz - 1);
              out.tabs[type][keyw] = text;
            } else if (type == "iTXt") {
              if (out.tabs[type] == null)
                out.tabs[type] = {};
              var nz = 0, off = offset;
              nz = bin.nextZero(data, off);
              var keyw = bin.readASCII(data, off, nz - off);
              off = nz + 1;
              var cflag = data[off], cmeth = data[off + 1];
              off += 2;
              nz = bin.nextZero(data, off);
              var ltag = bin.readASCII(data, off, nz - off);
              off = nz + 1;
              nz = bin.nextZero(data, off);
              var tkeyw = bin.readUTF8(data, off, nz - off);
              off = nz + 1;
              var text = bin.readUTF8(data, off, len - (off - offset));
              out.tabs[type][keyw] = text;
            } else if (type == "PLTE") {
              out.tabs[type] = bin.readBytes(data, offset, len);
            } else if (type == "hIST") {
              var pl = out.tabs["PLTE"].length / 3;
              out.tabs[type] = [];
              for (var i3 = 0; i3 < pl; i3++)
                out.tabs[type].push(rUs(data, offset + i3 * 2));
            } else if (type == "tRNS") {
              if (out.ctype == 3)
                out.tabs[type] = bin.readBytes(data, offset, len);
              else if (out.ctype == 0)
                out.tabs[type] = rUs(data, offset);
              else if (out.ctype == 2)
                out.tabs[type] = [rUs(data, offset), rUs(data, offset + 2), rUs(data, offset + 4)];
            } else if (type == "gAMA")
              out.tabs[type] = bin.readUint(data, offset) / 1e5;
            else if (type == "sRGB")
              out.tabs[type] = data[offset];
            else if (type == "bKGD") {
              if (out.ctype == 0 || out.ctype == 4)
                out.tabs[type] = [rUs(data, offset)];
              else if (out.ctype == 2 || out.ctype == 6)
                out.tabs[type] = [rUs(data, offset), rUs(data, offset + 2), rUs(data, offset + 4)];
              else if (out.ctype == 3)
                out.tabs[type] = data[offset];
            } else if (type == "IEND") {
              if (foff != 0) {
                var fr = out.frames[out.frames.length - 1];
                fr.data = UPNG3.decode._decompress(out, fd.slice(0, foff), fr.rect.width, fr.rect.height);
                foff = 0;
              }
              out.data = UPNG3.decode._decompress(out, dd, out.width, out.height);
              break;
            }
            offset += len;
            var crc = bin.readUint(data, offset);
            offset += 4;
          }
          delete out.compress;
          delete out.interlace;
          delete out.filter;
          return out;
        };
        UPNG3.decode._decompress = function(out, dd, w2, h3) {
          if (out.compress == 0)
            dd = UPNG3.decode._inflate(dd);
          if (out.interlace == 0)
            dd = UPNG3.decode._filterZero(dd, out, 0, w2, h3);
          else if (out.interlace == 1)
            dd = UPNG3.decode._readInterlace(dd, out);
          return dd;
        };
        UPNG3.decode._inflate = function(data) {
          return pako3["inflate"](data);
        };
        UPNG3.decode._readInterlace = function(data, out) {
          var w2 = out.width, h3 = out.height;
          var bpp = UPNG3.decode._getBPP(out), cbpp = bpp >> 3, bpl = Math.ceil(w2 * bpp / 8);
          var img = new Uint8Array(h3 * bpl);
          var di = 0;
          var starting_row = [0, 0, 4, 0, 2, 0, 1];
          var starting_col = [0, 4, 0, 2, 0, 1, 0];
          var row_increment = [8, 8, 8, 4, 4, 2, 2];
          var col_increment = [8, 8, 4, 4, 2, 2, 1];
          var pass = 0;
          while (pass < 7) {
            var ri = row_increment[pass], ci = col_increment[pass];
            var sw = 0, sh = 0;
            var cr = starting_row[pass];
            while (cr < h3) {
              cr += ri;
              sh++;
            }
            var cc = starting_col[pass];
            while (cc < w2) {
              cc += ci;
              sw++;
            }
            var bpll = Math.ceil(sw * bpp / 8);
            UPNG3.decode._filterZero(data, out, di, sw, sh);
            var y2 = 0, row = starting_row[pass];
            while (row < h3) {
              var col = starting_col[pass];
              var cdi = di + y2 * bpll << 3;
              while (col < w2) {
                if (bpp == 1) {
                  var val = data[cdi >> 3];
                  val = val >> 7 - (cdi & 7) & 1;
                  img[row * bpl + (col >> 3)] |= val << 7 - ((col & 3) << 0);
                }
                if (bpp == 2) {
                  var val = data[cdi >> 3];
                  val = val >> 6 - (cdi & 7) & 3;
                  img[row * bpl + (col >> 2)] |= val << 6 - ((col & 3) << 1);
                }
                if (bpp == 4) {
                  var val = data[cdi >> 3];
                  val = val >> 4 - (cdi & 7) & 15;
                  img[row * bpl + (col >> 1)] |= val << 4 - ((col & 1) << 2);
                }
                if (bpp >= 8) {
                  var ii = row * bpl + col * cbpp;
                  for (var j2 = 0; j2 < cbpp; j2++)
                    img[ii + j2] = data[(cdi >> 3) + j2];
                }
                cdi += bpp;
                col += ci;
              }
              y2++;
              row += ri;
            }
            if (sw * sh != 0)
              di += sh * (1 + bpll);
            pass = pass + 1;
          }
          return img;
        };
        UPNG3.decode._getBPP = function(out) {
          var noc = [1, null, 3, 1, 2, null, 4][out.ctype];
          return noc * out.depth;
        };
        UPNG3.decode._filterZero = function(data, out, off, w2, h3) {
          var bpp = UPNG3.decode._getBPP(out), bpl = Math.ceil(w2 * bpp / 8), paeth = UPNG3.decode._paeth;
          bpp = Math.ceil(bpp / 8);
          for (var y2 = 0; y2 < h3; y2++) {
            var i3 = off + y2 * bpl, di = i3 + y2 + 1;
            var type = data[di - 1];
            if (type == 0)
              for (var x2 = 0; x2 < bpl; x2++)
                data[i3 + x2] = data[di + x2];
            else if (type == 1) {
              for (var x2 = 0; x2 < bpp; x2++)
                data[i3 + x2] = data[di + x2];
              for (var x2 = bpp; x2 < bpl; x2++)
                data[i3 + x2] = data[di + x2] + data[i3 + x2 - bpp] & 255;
            } else if (y2 == 0) {
              for (var x2 = 0; x2 < bpp; x2++)
                data[i3 + x2] = data[di + x2];
              if (type == 2)
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] & 255;
              if (type == 3)
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + (data[i3 + x2 - bpp] >> 1) & 255;
              if (type == 4)
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + paeth(data[i3 + x2 - bpp], 0, 0) & 255;
            } else {
              if (type == 2) {
                for (var x2 = 0; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + data[i3 + x2 - bpl] & 255;
              }
              if (type == 3) {
                for (var x2 = 0; x2 < bpp; x2++)
                  data[i3 + x2] = data[di + x2] + (data[i3 + x2 - bpl] >> 1) & 255;
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + (data[i3 + x2 - bpl] + data[i3 + x2 - bpp] >> 1) & 255;
              }
              if (type == 4) {
                for (var x2 = 0; x2 < bpp; x2++)
                  data[i3 + x2] = data[di + x2] + paeth(0, data[i3 + x2 - bpl], 0) & 255;
                for (var x2 = bpp; x2 < bpl; x2++)
                  data[i3 + x2] = data[di + x2] + paeth(data[i3 + x2 - bpp], data[i3 + x2 - bpl], data[i3 + x2 - bpp - bpl]) & 255;
              }
            }
          }
          return data;
        };
        UPNG3.decode._paeth = function(a3, b, c3) {
          var p3 = a3 + b - c3, pa = Math.abs(p3 - a3), pb = Math.abs(p3 - b), pc = Math.abs(p3 - c3);
          if (pa <= pb && pa <= pc)
            return a3;
          else if (pb <= pc)
            return b;
          return c3;
        };
        UPNG3.decode._IHDR = function(data, offset, out) {
          var bin = UPNG3._bin;
          out.width = bin.readUint(data, offset);
          offset += 4;
          out.height = bin.readUint(data, offset);
          offset += 4;
          out.depth = data[offset];
          offset++;
          out.ctype = data[offset];
          offset++;
          out.compress = data[offset];
          offset++;
          out.filter = data[offset];
          offset++;
          out.interlace = data[offset];
          offset++;
        };
        UPNG3._bin = {
          nextZero: function(data, p3) {
            while (data[p3] != 0)
              p3++;
            return p3;
          },
          readUshort: function(buff, p3) {
            return buff[p3] << 8 | buff[p3 + 1];
          },
          writeUshort: function(buff, p3, n3) {
            buff[p3] = n3 >> 8 & 255;
            buff[p3 + 1] = n3 & 255;
          },
          readUint: function(buff, p3) {
            return buff[p3] * (256 * 256 * 256) + (buff[p3 + 1] << 16 | buff[p3 + 2] << 8 | buff[p3 + 3]);
          },
          writeUint: function(buff, p3, n3) {
            buff[p3] = n3 >> 24 & 255;
            buff[p3 + 1] = n3 >> 16 & 255;
            buff[p3 + 2] = n3 >> 8 & 255;
            buff[p3 + 3] = n3 & 255;
          },
          readASCII: function(buff, p3, l3) {
            var s3 = "";
            for (var i3 = 0; i3 < l3; i3++)
              s3 += String.fromCharCode(buff[p3 + i3]);
            return s3;
          },
          writeASCII: function(data, p3, s3) {
            for (var i3 = 0; i3 < s3.length; i3++)
              data[p3 + i3] = s3.charCodeAt(i3);
          },
          readBytes: function(buff, p3, l3) {
            var arr = [];
            for (var i3 = 0; i3 < l3; i3++)
              arr.push(buff[p3 + i3]);
            return arr;
          },
          pad: function(n3) {
            return n3.length < 2 ? "0" + n3 : n3;
          },
          readUTF8: function(buff, p3, l3) {
            var s3 = "", ns;
            for (var i3 = 0; i3 < l3; i3++)
              s3 += "%" + UPNG3._bin.pad(buff[p3 + i3].toString(16));
            try {
              ns = decodeURIComponent(s3);
            } catch (e2) {
              return UPNG3._bin.readASCII(buff, p3, l3);
            }
            return ns;
          }
        };
        UPNG3._copyTile = function(sb, sw, sh, tb, tw, th, xoff, yoff, mode) {
          var w2 = Math.min(sw, tw), h3 = Math.min(sh, th);
          var si = 0, ti = 0;
          for (var y2 = 0; y2 < h3; y2++)
            for (var x2 = 0; x2 < w2; x2++) {
              if (xoff >= 0 && yoff >= 0) {
                si = y2 * sw + x2 << 2;
                ti = (yoff + y2) * tw + xoff + x2 << 2;
              } else {
                si = (-yoff + y2) * sw - xoff + x2 << 2;
                ti = y2 * tw + x2 << 2;
              }
              if (mode == 0) {
                tb[ti] = sb[si];
                tb[ti + 1] = sb[si + 1];
                tb[ti + 2] = sb[si + 2];
                tb[ti + 3] = sb[si + 3];
              } else if (mode == 1) {
                var fa = sb[si + 3] * (1 / 255), fr = sb[si] * fa, fg = sb[si + 1] * fa, fb = sb[si + 2] * fa;
                var ba = tb[ti + 3] * (1 / 255), br = tb[ti] * ba, bg = tb[ti + 1] * ba, bb = tb[ti + 2] * ba;
                var ifa = 1 - fa, oa = fa + ba * ifa, ioa = oa == 0 ? 0 : 1 / oa;
                tb[ti + 3] = 255 * oa;
                tb[ti + 0] = (fr + br * ifa) * ioa;
                tb[ti + 1] = (fg + bg * ifa) * ioa;
                tb[ti + 2] = (fb + bb * ifa) * ioa;
              } else if (mode == 2) {
                var fa = sb[si + 3], fr = sb[si], fg = sb[si + 1], fb = sb[si + 2];
                var ba = tb[ti + 3], br = tb[ti], bg = tb[ti + 1], bb = tb[ti + 2];
                if (fa == ba && fr == br && fg == bg && fb == bb) {
                  tb[ti] = 0;
                  tb[ti + 1] = 0;
                  tb[ti + 2] = 0;
                  tb[ti + 3] = 0;
                } else {
                  tb[ti] = fr;
                  tb[ti + 1] = fg;
                  tb[ti + 2] = fb;
                  tb[ti + 3] = fa;
                }
              } else if (mode == 3) {
                var fa = sb[si + 3], fr = sb[si], fg = sb[si + 1], fb = sb[si + 2];
                var ba = tb[ti + 3], br = tb[ti], bg = tb[ti + 1], bb = tb[ti + 2];
                if (fa == ba && fr == br && fg == bg && fb == bb)
                  continue;
                if (fa < 220 && ba > 20)
                  return false;
              }
            }
          return true;
        };
        UPNG3.encode = function(bufs, w2, h3, ps, dels, forbidPlte) {
          if (ps == null)
            ps = 0;
          if (forbidPlte == null)
            forbidPlte = false;
          var data = new Uint8Array(bufs[0].byteLength * bufs.length + 100);
          var wr = [137, 80, 78, 71, 13, 10, 26, 10];
          for (var i3 = 0; i3 < 8; i3++)
            data[i3] = wr[i3];
          var offset = 8, bin = UPNG3._bin, crc = UPNG3.crc.crc, wUi = bin.writeUint, wUs = bin.writeUshort, wAs = bin.writeASCII;
          var nimg = UPNG3.encode.compressPNG(bufs, w2, h3, ps, forbidPlte);
          wUi(data, offset, 13);
          offset += 4;
          wAs(data, offset, "IHDR");
          offset += 4;
          wUi(data, offset, w2);
          offset += 4;
          wUi(data, offset, h3);
          offset += 4;
          data[offset] = nimg.depth;
          offset++;
          data[offset] = nimg.ctype;
          offset++;
          data[offset] = 0;
          offset++;
          data[offset] = 0;
          offset++;
          data[offset] = 0;
          offset++;
          wUi(data, offset, crc(data, offset - 17, 17));
          offset += 4;
          wUi(data, offset, 1);
          offset += 4;
          wAs(data, offset, "sRGB");
          offset += 4;
          data[offset] = 1;
          offset++;
          wUi(data, offset, crc(data, offset - 5, 5));
          offset += 4;
          var anim = bufs.length > 1;
          if (anim) {
            wUi(data, offset, 8);
            offset += 4;
            wAs(data, offset, "acTL");
            offset += 4;
            wUi(data, offset, bufs.length);
            offset += 4;
            wUi(data, offset, 0);
            offset += 4;
            wUi(data, offset, crc(data, offset - 12, 12));
            offset += 4;
          }
          if (nimg.ctype == 3) {
            var dl = nimg.plte.length;
            wUi(data, offset, dl * 3);
            offset += 4;
            wAs(data, offset, "PLTE");
            offset += 4;
            for (var i3 = 0; i3 < dl; i3++) {
              var ti = i3 * 3, c3 = nimg.plte[i3], r2 = c3 & 255, g3 = c3 >> 8 & 255, b = c3 >> 16 & 255;
              data[offset + ti + 0] = r2;
              data[offset + ti + 1] = g3;
              data[offset + ti + 2] = b;
            }
            offset += dl * 3;
            wUi(data, offset, crc(data, offset - dl * 3 - 4, dl * 3 + 4));
            offset += 4;
            if (nimg.gotAlpha) {
              wUi(data, offset, dl);
              offset += 4;
              wAs(data, offset, "tRNS");
              offset += 4;
              for (var i3 = 0; i3 < dl; i3++)
                data[offset + i3] = nimg.plte[i3] >> 24 & 255;
              offset += dl;
              wUi(data, offset, crc(data, offset - dl - 4, dl + 4));
              offset += 4;
            }
          }
          var fi = 0;
          for (var j2 = 0; j2 < nimg.frames.length; j2++) {
            var fr = nimg.frames[j2];
            if (anim) {
              wUi(data, offset, 26);
              offset += 4;
              wAs(data, offset, "fcTL");
              offset += 4;
              wUi(data, offset, fi++);
              offset += 4;
              wUi(data, offset, fr.rect.width);
              offset += 4;
              wUi(data, offset, fr.rect.height);
              offset += 4;
              wUi(data, offset, fr.rect.x);
              offset += 4;
              wUi(data, offset, fr.rect.y);
              offset += 4;
              wUs(data, offset, dels[j2]);
              offset += 2;
              wUs(data, offset, 1e3);
              offset += 2;
              data[offset] = fr.dispose;
              offset++;
              data[offset] = fr.blend;
              offset++;
              wUi(data, offset, crc(data, offset - 30, 30));
              offset += 4;
            }
            var imgd = fr.cimg, dl = imgd.length;
            wUi(data, offset, dl + (j2 == 0 ? 0 : 4));
            offset += 4;
            var ioff = offset;
            wAs(data, offset, j2 == 0 ? "IDAT" : "fdAT");
            offset += 4;
            if (j2 != 0) {
              wUi(data, offset, fi++);
              offset += 4;
            }
            for (var i3 = 0; i3 < dl; i3++)
              data[offset + i3] = imgd[i3];
            offset += dl;
            wUi(data, offset, crc(data, ioff, offset - ioff));
            offset += 4;
          }
          wUi(data, offset, 0);
          offset += 4;
          wAs(data, offset, "IEND");
          offset += 4;
          wUi(data, offset, crc(data, offset - 4, 4));
          offset += 4;
          return data.buffer.slice(0, offset);
        };
        UPNG3.encode.compressPNG = function(bufs, w2, h3, ps, forbidPlte) {
          var out = UPNG3.encode.compress(bufs, w2, h3, ps, false, forbidPlte);
          for (var i3 = 0; i3 < bufs.length; i3++) {
            var frm = out.frames[i3], nw = frm.rect.width, nh = frm.rect.height, bpl = frm.bpl, bpp = frm.bpp;
            var fdata = new Uint8Array(nh * bpl + nh);
            frm.cimg = UPNG3.encode._filterZero(frm.img, nh, bpp, bpl, fdata);
          }
          return out;
        };
        UPNG3.encode.compress = function(bufs, w2, h3, ps, forGIF, forbidPlte) {
          if (forbidPlte == null)
            forbidPlte = false;
          var ctype = 6, depth = 8, bpp = 4, alphaAnd = 255;
          for (var j2 = 0; j2 < bufs.length; j2++) {
            var img = new Uint8Array(bufs[j2]), ilen = img.length;
            for (var i3 = 0; i3 < ilen; i3 += 4)
              alphaAnd &= img[i3 + 3];
          }
          var gotAlpha = alphaAnd != 255;
          var cmap = {}, plte = [];
          if (bufs.length != 0) {
            cmap[0] = 0;
            plte.push(0);
            if (ps != 0)
              ps--;
          }
          if (ps != 0) {
            var qres = UPNG3.quantize(bufs, ps, forGIF);
            bufs = qres.bufs;
            for (var i3 = 0; i3 < qres.plte.length; i3++) {
              var c3 = qres.plte[i3].est.rgba;
              if (cmap[c3] == null) {
                cmap[c3] = plte.length;
                plte.push(c3);
              }
            }
          } else {
            for (var j2 = 0; j2 < bufs.length; j2++) {
              var img32 = new Uint32Array(bufs[j2]), ilen = img32.length;
              for (var i3 = 0; i3 < ilen; i3++) {
                var c3 = img32[i3];
                if ((i3 < w2 || c3 != img32[i3 - 1] && c3 != img32[i3 - w2]) && cmap[c3] == null) {
                  cmap[c3] = plte.length;
                  plte.push(c3);
                  if (plte.length >= 300)
                    break;
                }
              }
            }
          }
          var brute = gotAlpha ? forGIF : false;
          var cc = plte.length;
          if (cc <= 256 && forbidPlte == false) {
            if (cc <= 2)
              depth = 1;
            else if (cc <= 4)
              depth = 2;
            else if (cc <= 16)
              depth = 4;
            else
              depth = 8;
            if (forGIF)
              depth = 8;
            gotAlpha = true;
          }
          var frms = [];
          for (var j2 = 0; j2 < bufs.length; j2++) {
            var cimg = new Uint8Array(bufs[j2]), cimg32 = new Uint32Array(cimg.buffer);
            var nx = 0, ny = 0, nw = w2, nh = h3, blend = 0;
            if (j2 != 0 && !brute) {
              var tlim = forGIF || j2 == 1 || frms[frms.length - 2].dispose == 2 ? 1 : 2, tstp = 0, tarea = 1e9;
              for (var it = 0; it < tlim; it++) {
                var pimg = new Uint8Array(bufs[j2 - 1 - it]), p32 = new Uint32Array(bufs[j2 - 1 - it]);
                var mix = w2, miy = h3, max = -1, may = -1;
                for (var y2 = 0; y2 < h3; y2++)
                  for (var x2 = 0; x2 < w2; x2++) {
                    var i3 = y2 * w2 + x2;
                    if (cimg32[i3] != p32[i3]) {
                      if (x2 < mix)
                        mix = x2;
                      if (x2 > max)
                        max = x2;
                      if (y2 < miy)
                        miy = y2;
                      if (y2 > may)
                        may = y2;
                    }
                  }
                var sarea = max == -1 ? 1 : (max - mix + 1) * (may - miy + 1);
                if (sarea < tarea) {
                  tarea = sarea;
                  tstp = it;
                  if (max == -1) {
                    nx = ny = 0;
                    nw = nh = 1;
                  } else {
                    nx = mix;
                    ny = miy;
                    nw = max - mix + 1;
                    nh = may - miy + 1;
                  }
                }
              }
              var pimg = new Uint8Array(bufs[j2 - 1 - tstp]);
              if (tstp == 1)
                frms[frms.length - 1].dispose = 2;
              var nimg = new Uint8Array(nw * nh * 4), nimg32 = new Uint32Array(nimg.buffer);
              UPNG3._copyTile(pimg, w2, h3, nimg, nw, nh, -nx, -ny, 0);
              if (UPNG3._copyTile(cimg, w2, h3, nimg, nw, nh, -nx, -ny, 3)) {
                UPNG3._copyTile(cimg, w2, h3, nimg, nw, nh, -nx, -ny, 2);
                blend = 1;
              } else {
                UPNG3._copyTile(cimg, w2, h3, nimg, nw, nh, -nx, -ny, 0);
                blend = 0;
              }
              cimg = nimg;
              cimg32 = new Uint32Array(cimg.buffer);
            }
            var bpl = 4 * nw;
            if (cc <= 256 && forbidPlte == false) {
              bpl = Math.ceil(depth * nw / 8);
              var nimg = new Uint8Array(bpl * nh);
              for (var y2 = 0; y2 < nh; y2++) {
                var i3 = y2 * bpl, ii = y2 * nw;
                if (depth == 8)
                  for (var x2 = 0; x2 < nw; x2++)
                    nimg[i3 + x2] = cmap[cimg32[ii + x2]];
                else if (depth == 4)
                  for (var x2 = 0; x2 < nw; x2++)
                    nimg[i3 + (x2 >> 1)] |= cmap[cimg32[ii + x2]] << 4 - (x2 & 1) * 4;
                else if (depth == 2)
                  for (var x2 = 0; x2 < nw; x2++)
                    nimg[i3 + (x2 >> 2)] |= cmap[cimg32[ii + x2]] << 6 - (x2 & 3) * 2;
                else if (depth == 1)
                  for (var x2 = 0; x2 < nw; x2++)
                    nimg[i3 + (x2 >> 3)] |= cmap[cimg32[ii + x2]] << 7 - (x2 & 7) * 1;
              }
              cimg = nimg;
              ctype = 3;
              bpp = 1;
            } else if (gotAlpha == false && bufs.length == 1) {
              var nimg = new Uint8Array(nw * nh * 3), area = nw * nh;
              for (var i3 = 0; i3 < area; i3++) {
                var ti = i3 * 3, qi = i3 * 4;
                nimg[ti] = cimg[qi];
                nimg[ti + 1] = cimg[qi + 1];
                nimg[ti + 2] = cimg[qi + 2];
              }
              cimg = nimg;
              ctype = 2;
              bpp = 3;
              bpl = 3 * nw;
            }
            frms.push({rect: {x: nx, y: ny, width: nw, height: nh}, img: cimg, bpl, bpp, blend, dispose: brute ? 1 : 0});
          }
          return {ctype, depth, plte, gotAlpha, frames: frms};
        };
        UPNG3.encode._filterZero = function(img, h3, bpp, bpl, data) {
          var fls = [];
          for (var t2 = 0; t2 < 5; t2++) {
            if (h3 * bpl > 5e5 && (t2 == 2 || t2 == 3 || t2 == 4))
              continue;
            for (var y2 = 0; y2 < h3; y2++)
              UPNG3.encode._filterLine(data, img, y2, bpl, bpp, t2);
            fls.push(pako3["deflate"](data));
            if (bpp == 1)
              break;
          }
          var ti, tsize = 1e9;
          for (var i3 = 0; i3 < fls.length; i3++)
            if (fls[i3].length < tsize) {
              ti = i3;
              tsize = fls[i3].length;
            }
          return fls[ti];
        };
        UPNG3.encode._filterLine = function(data, img, y2, bpl, bpp, type) {
          var i3 = y2 * bpl, di = i3 + y2, paeth = UPNG3.decode._paeth;
          data[di] = type;
          di++;
          if (type == 0)
            for (var x2 = 0; x2 < bpl; x2++)
              data[di + x2] = img[i3 + x2];
          else if (type == 1) {
            for (var x2 = 0; x2 < bpp; x2++)
              data[di + x2] = img[i3 + x2];
            for (var x2 = bpp; x2 < bpl; x2++)
              data[di + x2] = img[i3 + x2] - img[i3 + x2 - bpp] + 256 & 255;
          } else if (y2 == 0) {
            for (var x2 = 0; x2 < bpp; x2++)
              data[di + x2] = img[i3 + x2];
            if (type == 2)
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2];
            if (type == 3)
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] - (img[i3 + x2 - bpp] >> 1) + 256 & 255;
            if (type == 4)
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] - paeth(img[i3 + x2 - bpp], 0, 0) + 256 & 255;
          } else {
            if (type == 2) {
              for (var x2 = 0; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] + 256 - img[i3 + x2 - bpl] & 255;
            }
            if (type == 3) {
              for (var x2 = 0; x2 < bpp; x2++)
                data[di + x2] = img[i3 + x2] + 256 - (img[i3 + x2 - bpl] >> 1) & 255;
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] + 256 - (img[i3 + x2 - bpl] + img[i3 + x2 - bpp] >> 1) & 255;
            }
            if (type == 4) {
              for (var x2 = 0; x2 < bpp; x2++)
                data[di + x2] = img[i3 + x2] + 256 - paeth(0, img[i3 + x2 - bpl], 0) & 255;
              for (var x2 = bpp; x2 < bpl; x2++)
                data[di + x2] = img[i3 + x2] + 256 - paeth(img[i3 + x2 - bpp], img[i3 + x2 - bpl], img[i3 + x2 - bpp - bpl]) & 255;
            }
          }
        };
        UPNG3.crc = {
          table: function() {
            var tab = new Uint32Array(256);
            for (var n3 = 0; n3 < 256; n3++) {
              var c3 = n3;
              for (var k2 = 0; k2 < 8; k2++) {
                if (c3 & 1)
                  c3 = 3988292384 ^ c3 >>> 1;
                else
                  c3 = c3 >>> 1;
              }
              tab[n3] = c3;
            }
            return tab;
          }(),
          update: function(c3, buf, off, len) {
            for (var i3 = 0; i3 < len; i3++)
              c3 = UPNG3.crc.table[(c3 ^ buf[off + i3]) & 255] ^ c3 >>> 8;
            return c3;
          },
          crc: function(b, o3, l3) {
            return UPNG3.crc.update(4294967295, b, o3, l3) ^ 4294967295;
          }
        };
        UPNG3.quantize = function(bufs, ps, roundAlpha) {
          var imgs = [], totl = 0;
          for (var i3 = 0; i3 < bufs.length; i3++) {
            imgs.push(UPNG3.encode.alphaMul(new Uint8Array(bufs[i3]), roundAlpha));
            totl += bufs[i3].byteLength;
          }
          var nimg = new Uint8Array(totl), nimg32 = new Uint32Array(nimg.buffer), noff = 0;
          for (var i3 = 0; i3 < imgs.length; i3++) {
            var img = imgs[i3], il = img.length;
            for (var j2 = 0; j2 < il; j2++)
              nimg[noff + j2] = img[j2];
            noff += il;
          }
          var root = {i0: 0, i1: nimg.length, bst: null, est: null, tdst: 0, left: null, right: null};
          root.bst = UPNG3.quantize.stats(nimg, root.i0, root.i1);
          root.est = UPNG3.quantize.estats(root.bst);
          var leafs = [root];
          while (leafs.length < ps) {
            var maxL = 0, mi = 0;
            for (var i3 = 0; i3 < leafs.length; i3++)
              if (leafs[i3].est.L > maxL) {
                maxL = leafs[i3].est.L;
                mi = i3;
              }
            if (maxL < 1e-3)
              break;
            var node = leafs[mi];
            var s0 = UPNG3.quantize.splitPixels(nimg, nimg32, node.i0, node.i1, node.est.e, node.est.eMq255);
            var ln = {i0: node.i0, i1: s0, bst: null, est: null, tdst: 0, left: null, right: null};
            ln.bst = UPNG3.quantize.stats(nimg, ln.i0, ln.i1);
            ln.est = UPNG3.quantize.estats(ln.bst);
            var rn = {i0: s0, i1: node.i1, bst: null, est: null, tdst: 0, left: null, right: null};
            rn.bst = {R: [], m: [], N: node.bst.N - ln.bst.N};
            for (var i3 = 0; i3 < 16; i3++)
              rn.bst.R[i3] = node.bst.R[i3] - ln.bst.R[i3];
            for (var i3 = 0; i3 < 4; i3++)
              rn.bst.m[i3] = node.bst.m[i3] - ln.bst.m[i3];
            rn.est = UPNG3.quantize.estats(rn.bst);
            node.left = ln;
            node.right = rn;
            leafs[mi] = ln;
            leafs.push(rn);
          }
          leafs.sort(function(a4, b2) {
            return b2.bst.N - a4.bst.N;
          });
          for (var ii = 0; ii < imgs.length; ii++) {
            var planeDst = UPNG3.quantize.planeDst;
            var sb = new Uint8Array(imgs[ii].buffer), tb = new Uint32Array(imgs[ii].buffer), len = sb.length;
            var stack = [], si = 0;
            for (var i3 = 0; i3 < len; i3 += 4) {
              var r2 = sb[i3] * (1 / 255), g3 = sb[i3 + 1] * (1 / 255), b = sb[i3 + 2] * (1 / 255), a3 = sb[i3 + 3] * (1 / 255);
              var nd = root;
              while (nd.left)
                nd = planeDst(nd.est, r2, g3, b, a3) <= 0 ? nd.left : nd.right;
              tb[i3 >> 2] = nd.est.rgba;
            }
            imgs[ii] = tb.buffer;
          }
          return {bufs: imgs, plte: leafs};
        };
        UPNG3.quantize.getNearest = function(nd, r2, g3, b, a3) {
          if (nd.left == null) {
            nd.tdst = UPNG3.quantize.dist(nd.est.q, r2, g3, b, a3);
            return nd;
          }
          var planeDst = UPNG3.quantize.planeDst(nd.est, r2, g3, b, a3);
          var node0 = nd.left, node1 = nd.right;
          if (planeDst > 0) {
            node0 = nd.right;
            node1 = nd.left;
          }
          var ln = UPNG3.quantize.getNearest(node0, r2, g3, b, a3);
          if (ln.tdst <= planeDst * planeDst)
            return ln;
          var rn = UPNG3.quantize.getNearest(node1, r2, g3, b, a3);
          return rn.tdst < ln.tdst ? rn : ln;
        };
        UPNG3.quantize.planeDst = function(est, r2, g3, b, a3) {
          var e2 = est.e;
          return e2[0] * r2 + e2[1] * g3 + e2[2] * b + e2[3] * a3 - est.eMq;
        };
        UPNG3.quantize.dist = function(q, r2, g3, b, a3) {
          var d0 = r2 - q[0], d1 = g3 - q[1], d2 = b - q[2], d3 = a3 - q[3];
          return d0 * d0 + d1 * d1 + d2 * d2 + d3 * d3;
        };
        UPNG3.quantize.splitPixels = function(nimg, nimg32, i0, i1, e2, eMq) {
          var vecDot = UPNG3.quantize.vecDot;
          i1 -= 4;
          var shfs = 0;
          while (i0 < i1) {
            while (vecDot(nimg, i0, e2) <= eMq)
              i0 += 4;
            while (vecDot(nimg, i1, e2) > eMq)
              i1 -= 4;
            if (i0 >= i1)
              break;
            var t2 = nimg32[i0 >> 2];
            nimg32[i0 >> 2] = nimg32[i1 >> 2];
            nimg32[i1 >> 2] = t2;
            i0 += 4;
            i1 -= 4;
          }
          while (vecDot(nimg, i0, e2) > eMq)
            i0 -= 4;
          return i0 + 4;
        };
        UPNG3.quantize.vecDot = function(nimg, i3, e2) {
          return nimg[i3] * e2[0] + nimg[i3 + 1] * e2[1] + nimg[i3 + 2] * e2[2] + nimg[i3 + 3] * e2[3];
        };
        UPNG3.quantize.stats = function(nimg, i0, i1) {
          var R = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
          var m2 = [0, 0, 0, 0];
          var N2 = i1 - i0 >> 2;
          for (var i3 = i0; i3 < i1; i3 += 4) {
            var r2 = nimg[i3] * (1 / 255), g3 = nimg[i3 + 1] * (1 / 255), b = nimg[i3 + 2] * (1 / 255), a3 = nimg[i3 + 3] * (1 / 255);
            m2[0] += r2;
            m2[1] += g3;
            m2[2] += b;
            m2[3] += a3;
            R[0] += r2 * r2;
            R[1] += r2 * g3;
            R[2] += r2 * b;
            R[3] += r2 * a3;
            R[5] += g3 * g3;
            R[6] += g3 * b;
            R[7] += g3 * a3;
            R[10] += b * b;
            R[11] += b * a3;
            R[15] += a3 * a3;
          }
          R[4] = R[1];
          R[8] = R[2];
          R[12] = R[3];
          R[9] = R[6];
          R[13] = R[7];
          R[14] = R[11];
          return {R, m: m2, N: N2};
        };
        UPNG3.quantize.estats = function(stats) {
          var R = stats.R, m2 = stats.m, N2 = stats.N;
          var m0 = m2[0], m1 = m2[1], m22 = m2[2], m3 = m2[3], iN = N2 == 0 ? 0 : 1 / N2;
          var Rj = [
            R[0] - m0 * m0 * iN,
            R[1] - m0 * m1 * iN,
            R[2] - m0 * m22 * iN,
            R[3] - m0 * m3 * iN,
            R[4] - m1 * m0 * iN,
            R[5] - m1 * m1 * iN,
            R[6] - m1 * m22 * iN,
            R[7] - m1 * m3 * iN,
            R[8] - m22 * m0 * iN,
            R[9] - m22 * m1 * iN,
            R[10] - m22 * m22 * iN,
            R[11] - m22 * m3 * iN,
            R[12] - m3 * m0 * iN,
            R[13] - m3 * m1 * iN,
            R[14] - m3 * m22 * iN,
            R[15] - m3 * m3 * iN
          ];
          var A2 = Rj, M2 = UPNG3.M4;
          var b = [0.5, 0.5, 0.5, 0.5], mi = 0, tmi = 0;
          if (N2 != 0)
            for (var i3 = 0; i3 < 10; i3++) {
              b = M2.multVec(A2, b);
              tmi = Math.sqrt(M2.dot(b, b));
              b = M2.sml(1 / tmi, b);
              if (Math.abs(tmi - mi) < 1e-9)
                break;
              mi = tmi;
            }
          var q = [m0 * iN, m1 * iN, m22 * iN, m3 * iN];
          var eMq255 = M2.dot(M2.sml(255, q), b);
          var ia = q[3] < 1e-3 ? 0 : 1 / q[3];
          return {
            Cov: Rj,
            q,
            e: b,
            L: mi,
            eMq255,
            eMq: M2.dot(b, q),
            rgba: (Math.round(255 * q[3]) << 24 | Math.round(255 * q[2] * ia) << 16 | Math.round(255 * q[1] * ia) << 8 | Math.round(255 * q[0] * ia) << 0) >>> 0
          };
        };
        UPNG3.M4 = {
          multVec: function(m2, v3) {
            return [
              m2[0] * v3[0] + m2[1] * v3[1] + m2[2] * v3[2] + m2[3] * v3[3],
              m2[4] * v3[0] + m2[5] * v3[1] + m2[6] * v3[2] + m2[7] * v3[3],
              m2[8] * v3[0] + m2[9] * v3[1] + m2[10] * v3[2] + m2[11] * v3[3],
              m2[12] * v3[0] + m2[13] * v3[1] + m2[14] * v3[2] + m2[15] * v3[3]
            ];
          },
          dot: function(x2, y2) {
            return x2[0] * y2[0] + x2[1] * y2[1] + x2[2] * y2[2] + x2[3] * y2[3];
          },
          sml: function(a3, y2) {
            return [a3 * y2[0], a3 * y2[1], a3 * y2[2], a3 * y2[3]];
          }
        };
        UPNG3.encode.alphaMul = function(img, roundA) {
          var nimg = new Uint8Array(img.length), area = img.length >> 2;
          for (var i3 = 0; i3 < area; i3++) {
            var qi = i3 << 2, ia = img[qi + 3];
            if (roundA)
              ia = ia < 128 ? 0 : 255;
            var a3 = ia * (1 / 255);
            nimg[qi + 0] = img[qi + 0] * a3;
            nimg[qi + 1] = img[qi + 1] * a3;
            nimg[qi + 2] = img[qi + 2] * a3;
            nimg[qi + 3] = ia;
          }
          return nimg;
        };
      })(UPNG2, pako2);
    })();
  });

  // node_modules/preact/dist/preact.module.js
  var n;
  var l;
  var u;
  var i;
  var t;
  var o;
  var r;
  var f = {};
  var e = [];
  var c = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;
  function s(n3, l3) {
    for (var u3 in l3)
      n3[u3] = l3[u3];
    return n3;
  }
  function a(n3) {
    var l3 = n3.parentNode;
    l3 && l3.removeChild(n3);
  }
  function v(n3, l3, u3) {
    var i3, t2, o3, r2 = arguments, f3 = {};
    for (o3 in l3)
      o3 == "key" ? i3 = l3[o3] : o3 == "ref" ? t2 = l3[o3] : f3[o3] = l3[o3];
    if (arguments.length > 3)
      for (u3 = [u3], o3 = 3; o3 < arguments.length; o3++)
        u3.push(r2[o3]);
    if (u3 != null && (f3.children = u3), typeof n3 == "function" && n3.defaultProps != null)
      for (o3 in n3.defaultProps)
        f3[o3] === void 0 && (f3[o3] = n3.defaultProps[o3]);
    return h(n3, f3, i3, t2, null);
  }
  function h(l3, u3, i3, t2, o3) {
    var r2 = {type: l3, props: u3, key: i3, ref: t2, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, constructor: void 0, __v: o3};
    return o3 == null && (r2.__v = r2), n.vnode != null && n.vnode(r2), r2;
  }
  function y() {
    return {current: null};
  }
  function p(n3) {
    return n3.children;
  }
  function d(n3, l3) {
    this.props = n3, this.context = l3;
  }
  function _(n3, l3) {
    if (l3 == null)
      return n3.__ ? _(n3.__, n3.__.__k.indexOf(n3) + 1) : null;
    for (var u3; l3 < n3.__k.length; l3++)
      if ((u3 = n3.__k[l3]) != null && u3.__e != null)
        return u3.__e;
    return typeof n3.type == "function" ? _(n3) : null;
  }
  function w(n3) {
    var l3, u3;
    if ((n3 = n3.__) != null && n3.__c != null) {
      for (n3.__e = n3.__c.base = null, l3 = 0; l3 < n3.__k.length; l3++)
        if ((u3 = n3.__k[l3]) != null && u3.__e != null) {
          n3.__e = n3.__c.base = u3.__e;
          break;
        }
      return w(n3);
    }
  }
  function k(l3) {
    (!l3.__d && (l3.__d = true) && u.push(l3) && !m.__r++ || t !== n.debounceRendering) && ((t = n.debounceRendering) || i)(m);
  }
  function m() {
    for (var n3; m.__r = u.length; )
      n3 = u.sort(function(n4, l3) {
        return n4.__v.__b - l3.__v.__b;
      }), u = [], n3.some(function(n4) {
        var l3, u3, i3, t2, o3, r2, f3;
        n4.__d && (r2 = (o3 = (l3 = n4).__v).__e, (f3 = l3.__P) && (u3 = [], (i3 = s({}, o3)).__v = i3, t2 = T(f3, o3, i3, l3.__n, f3.ownerSVGElement !== void 0, null, u3, r2 == null ? _(o3) : r2), $(u3, o3), t2 != r2 && w(o3)));
      });
  }
  function g(n3, l3, u3, i3, t2, o3, r2, c3, s3, v3) {
    var y2, d2, w2, k2, m2, g3, b, A2 = i3 && i3.__k || e, P2 = A2.length;
    for (s3 == f && (s3 = r2 != null ? r2[0] : P2 ? _(i3, 0) : null), u3.__k = [], y2 = 0; y2 < l3.length; y2++)
      if ((k2 = u3.__k[y2] = (k2 = l3[y2]) == null || typeof k2 == "boolean" ? null : typeof k2 == "string" || typeof k2 == "number" ? h(null, k2, null, null, k2) : Array.isArray(k2) ? h(p, {children: k2}, null, null, null) : k2.__e != null || k2.__c != null ? h(k2.type, k2.props, k2.key, null, k2.__v) : k2) != null) {
        if (k2.__ = u3, k2.__b = u3.__b + 1, (w2 = A2[y2]) === null || w2 && k2.key == w2.key && k2.type === w2.type)
          A2[y2] = void 0;
        else
          for (d2 = 0; d2 < P2; d2++) {
            if ((w2 = A2[d2]) && k2.key == w2.key && k2.type === w2.type) {
              A2[d2] = void 0;
              break;
            }
            w2 = null;
          }
        m2 = T(n3, k2, w2 = w2 || f, t2, o3, r2, c3, s3, v3), (d2 = k2.ref) && w2.ref != d2 && (b || (b = []), w2.ref && b.push(w2.ref, null, k2), b.push(d2, k2.__c || m2, k2)), m2 != null ? (g3 == null && (g3 = m2), s3 = x(n3, k2, w2, A2, r2, m2, s3), v3 || u3.type != "option" ? typeof u3.type == "function" && (u3.__d = s3) : n3.value = "") : s3 && w2.__e == s3 && s3.parentNode != n3 && (s3 = _(w2));
      }
    if (u3.__e = g3, r2 != null && typeof u3.type != "function")
      for (y2 = r2.length; y2--; )
        r2[y2] != null && a(r2[y2]);
    for (y2 = P2; y2--; )
      A2[y2] != null && I(A2[y2], A2[y2]);
    if (b)
      for (y2 = 0; y2 < b.length; y2++)
        H(b[y2], b[++y2], b[++y2]);
  }
  function x(n3, l3, u3, i3, t2, o3, r2) {
    var f3, e2, c3;
    if (l3.__d !== void 0)
      f3 = l3.__d, l3.__d = void 0;
    else if (t2 == u3 || o3 != r2 || o3.parentNode == null)
      n:
        if (r2 == null || r2.parentNode !== n3)
          n3.appendChild(o3), f3 = null;
        else {
          for (e2 = r2, c3 = 0; (e2 = e2.nextSibling) && c3 < i3.length; c3 += 2)
            if (e2 == o3)
              break n;
          n3.insertBefore(o3, r2), f3 = r2;
        }
    return f3 !== void 0 ? f3 : o3.nextSibling;
  }
  function A(n3, l3, u3, i3, t2) {
    var o3;
    for (o3 in u3)
      o3 === "children" || o3 === "key" || o3 in l3 || C(n3, o3, null, u3[o3], i3);
    for (o3 in l3)
      t2 && typeof l3[o3] != "function" || o3 === "children" || o3 === "key" || o3 === "value" || o3 === "checked" || u3[o3] === l3[o3] || C(n3, o3, l3[o3], u3[o3], i3);
  }
  function P(n3, l3, u3) {
    l3[0] === "-" ? n3.setProperty(l3, u3) : n3[l3] = u3 == null ? "" : typeof u3 != "number" || c.test(l3) ? u3 : u3 + "px";
  }
  function C(n3, l3, u3, i3, t2) {
    var o3, r2;
    if (t2 && l3 == "className" && (l3 = "class"), l3 === "style")
      if (typeof u3 == "string")
        n3.style = u3;
      else {
        if (typeof i3 == "string" && (n3.style = i3 = ""), i3)
          for (l3 in i3)
            u3 && l3 in u3 || P(n3.style, l3, "");
        if (u3)
          for (l3 in u3)
            i3 && u3[l3] === i3[l3] || P(n3.style, l3, u3[l3]);
      }
    else
      l3[0] === "o" && l3[1] === "n" ? (o3 = l3 !== (l3 = l3.replace(/Capture$/, "")), (r2 = l3.toLowerCase()) in n3 && (l3 = r2), l3 = l3.slice(2), n3.l || (n3.l = {}), n3.l[l3] = u3, u3 ? i3 || n3.addEventListener(l3, z, o3) : n3.removeEventListener(l3, z, o3)) : l3 !== "list" && l3 !== "tagName" && l3 !== "form" && l3 !== "type" && l3 !== "size" && l3 !== "download" && l3 !== "href" && !t2 && l3 in n3 ? n3[l3] = u3 == null ? "" : u3 : typeof u3 != "function" && l3 !== "dangerouslySetInnerHTML" && (l3 !== (l3 = l3.replace(/xlink:?/, "")) ? u3 == null || u3 === false ? n3.removeAttributeNS("http://www.w3.org/1999/xlink", l3.toLowerCase()) : n3.setAttributeNS("http://www.w3.org/1999/xlink", l3.toLowerCase(), u3) : u3 == null || u3 === false && !/^ar/.test(l3) ? n3.removeAttribute(l3) : n3.setAttribute(l3, u3));
  }
  function z(l3) {
    this.l[l3.type](n.event ? n.event(l3) : l3);
  }
  function N(n3, l3, u3) {
    var i3, t2;
    for (i3 = 0; i3 < n3.__k.length; i3++)
      (t2 = n3.__k[i3]) && (t2.__ = n3, t2.__e && (typeof t2.type == "function" && t2.__k.length > 1 && N(t2, l3, u3), l3 = x(u3, t2, t2, n3.__k, null, t2.__e, l3), typeof n3.type == "function" && (n3.__d = l3)));
  }
  function T(l3, u3, i3, t2, o3, r2, f3, e2, c3) {
    var a3, v3, h3, y2, _3, w2, k2, m2, b, x2, A2, P2 = u3.type;
    if (u3.constructor !== void 0)
      return null;
    (a3 = n.__b) && a3(u3);
    try {
      n:
        if (typeof P2 == "function") {
          if (m2 = u3.props, b = (a3 = P2.contextType) && t2[a3.__c], x2 = a3 ? b ? b.props.value : a3.__ : t2, i3.__c ? k2 = (v3 = u3.__c = i3.__c).__ = v3.__E : ("prototype" in P2 && P2.prototype.render ? u3.__c = v3 = new P2(m2, x2) : (u3.__c = v3 = new d(m2, x2), v3.constructor = P2, v3.render = L), b && b.sub(v3), v3.props = m2, v3.state || (v3.state = {}), v3.context = x2, v3.__n = t2, h3 = v3.__d = true, v3.__h = []), v3.__s == null && (v3.__s = v3.state), P2.getDerivedStateFromProps != null && (v3.__s == v3.state && (v3.__s = s({}, v3.__s)), s(v3.__s, P2.getDerivedStateFromProps(m2, v3.__s))), y2 = v3.props, _3 = v3.state, h3)
            P2.getDerivedStateFromProps == null && v3.componentWillMount != null && v3.componentWillMount(), v3.componentDidMount != null && v3.__h.push(v3.componentDidMount);
          else {
            if (P2.getDerivedStateFromProps == null && m2 !== y2 && v3.componentWillReceiveProps != null && v3.componentWillReceiveProps(m2, x2), !v3.__e && v3.shouldComponentUpdate != null && v3.shouldComponentUpdate(m2, v3.__s, x2) === false || u3.__v === i3.__v) {
              v3.props = m2, v3.state = v3.__s, u3.__v !== i3.__v && (v3.__d = false), v3.__v = u3, u3.__e = i3.__e, u3.__k = i3.__k, v3.__h.length && f3.push(v3), N(u3, e2, l3);
              break n;
            }
            v3.componentWillUpdate != null && v3.componentWillUpdate(m2, v3.__s, x2), v3.componentDidUpdate != null && v3.__h.push(function() {
              v3.componentDidUpdate(y2, _3, w2);
            });
          }
          v3.context = x2, v3.props = m2, v3.state = v3.__s, (a3 = n.__r) && a3(u3), v3.__d = false, v3.__v = u3, v3.__P = l3, a3 = v3.render(v3.props, v3.state, v3.context), v3.state = v3.__s, v3.getChildContext != null && (t2 = s(s({}, t2), v3.getChildContext())), h3 || v3.getSnapshotBeforeUpdate == null || (w2 = v3.getSnapshotBeforeUpdate(y2, _3)), A2 = a3 != null && a3.type == p && a3.key == null ? a3.props.children : a3, g(l3, Array.isArray(A2) ? A2 : [A2], u3, i3, t2, o3, r2, f3, e2, c3), v3.base = u3.__e, v3.__h.length && f3.push(v3), k2 && (v3.__E = v3.__ = null), v3.__e = false;
        } else
          r2 == null && u3.__v === i3.__v ? (u3.__k = i3.__k, u3.__e = i3.__e) : u3.__e = j(i3.__e, u3, i3, t2, o3, r2, f3, c3);
      (a3 = n.diffed) && a3(u3);
    } catch (l4) {
      u3.__v = null, n.__e(l4, u3, i3);
    }
    return u3.__e;
  }
  function $(l3, u3) {
    n.__c && n.__c(u3, l3), l3.some(function(u4) {
      try {
        l3 = u4.__h, u4.__h = [], l3.some(function(n3) {
          n3.call(u4);
        });
      } catch (l4) {
        n.__e(l4, u4.__v);
      }
    });
  }
  function j(n3, l3, u3, i3, t2, o3, r2, c3) {
    var s3, a3, v3, h3, y2, p3 = u3.props, d2 = l3.props;
    if (t2 = l3.type === "svg" || t2, o3 != null) {
      for (s3 = 0; s3 < o3.length; s3++)
        if ((a3 = o3[s3]) != null && ((l3.type === null ? a3.nodeType === 3 : a3.localName === l3.type) || n3 == a3)) {
          n3 = a3, o3[s3] = null;
          break;
        }
    }
    if (n3 == null) {
      if (l3.type === null)
        return document.createTextNode(d2);
      n3 = t2 ? document.createElementNS("http://www.w3.org/2000/svg", l3.type) : document.createElement(l3.type, d2.is && {is: d2.is}), o3 = null, c3 = false;
    }
    if (l3.type === null)
      p3 !== d2 && n3.data !== d2 && (n3.data = d2);
    else {
      if (o3 != null && (o3 = e.slice.call(n3.childNodes)), v3 = (p3 = u3.props || f).dangerouslySetInnerHTML, h3 = d2.dangerouslySetInnerHTML, !c3) {
        if (o3 != null)
          for (p3 = {}, y2 = 0; y2 < n3.attributes.length; y2++)
            p3[n3.attributes[y2].name] = n3.attributes[y2].value;
        (h3 || v3) && (h3 && v3 && h3.__html == v3.__html || (n3.innerHTML = h3 && h3.__html || ""));
      }
      A(n3, d2, p3, t2, c3), h3 ? l3.__k = [] : (s3 = l3.props.children, g(n3, Array.isArray(s3) ? s3 : [s3], l3, u3, i3, l3.type !== "foreignObject" && t2, o3, r2, f, c3)), c3 || ("value" in d2 && (s3 = d2.value) !== void 0 && s3 !== n3.value && C(n3, "value", s3, p3.value, false), "checked" in d2 && (s3 = d2.checked) !== void 0 && s3 !== n3.checked && C(n3, "checked", s3, p3.checked, false));
    }
    return n3;
  }
  function H(l3, u3, i3) {
    try {
      typeof l3 == "function" ? l3(u3) : l3.current = u3;
    } catch (l4) {
      n.__e(l4, i3);
    }
  }
  function I(l3, u3, i3) {
    var t2, o3, r2;
    if (n.unmount && n.unmount(l3), (t2 = l3.ref) && (t2.current && t2.current !== l3.__e || H(t2, null, u3)), i3 || typeof l3.type == "function" || (i3 = (o3 = l3.__e) != null), l3.__e = l3.__d = void 0, (t2 = l3.__c) != null) {
      if (t2.componentWillUnmount)
        try {
          t2.componentWillUnmount();
        } catch (l4) {
          n.__e(l4, u3);
        }
      t2.base = t2.__P = null;
    }
    if (t2 = l3.__k)
      for (r2 = 0; r2 < t2.length; r2++)
        t2[r2] && I(t2[r2], u3, i3);
    o3 != null && a(o3);
  }
  function L(n3, l3, u3) {
    return this.constructor(n3, u3);
  }
  function M(l3, u3, i3) {
    var t2, r2, c3;
    n.__ && n.__(l3, u3), r2 = (t2 = i3 === o) ? null : i3 && i3.__k || u3.__k, l3 = v(p, null, [l3]), c3 = [], T(u3, (t2 ? u3 : i3 || u3).__k = l3, r2 || f, f, u3.ownerSVGElement !== void 0, i3 && !t2 ? [i3] : r2 ? null : u3.childNodes.length ? e.slice.call(u3.childNodes) : null, c3, i3 || f, t2), $(c3, l3);
  }
  n = {__e: function(n3, l3) {
    for (var u3, i3; l3 = l3.__; )
      if ((u3 = l3.__c) && !u3.__)
        try {
          if (u3.constructor && u3.constructor.getDerivedStateFromError != null && (i3 = true, u3.setState(u3.constructor.getDerivedStateFromError(n3))), u3.componentDidCatch != null && (i3 = true, u3.componentDidCatch(n3)), i3)
            return k(u3.__E = u3);
        } catch (l4) {
          n3 = l4;
        }
    throw n3;
  }}, l = function(n3) {
    return n3 != null && n3.constructor === void 0;
  }, d.prototype.setState = function(n3, l3) {
    var u3;
    u3 = this.__s != null && this.__s !== this.state ? this.__s : this.__s = s({}, this.state), typeof n3 == "function" && (n3 = n3(s({}, u3), this.props)), n3 && s(u3, n3), n3 != null && this.__v && (l3 && this.__h.push(l3), k(this));
  }, d.prototype.forceUpdate = function(n3) {
    this.__v && (this.__e = true, n3 && this.__h.push(n3), k(this));
  }, d.prototype.render = p, u = [], i = typeof Promise == "function" ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, m.__r = 0, o = f, r = 0;

  // src/utils/css.ts
  function injectCss(css2) {
    const styleEl = document.createElement("style");
    const styleText = document.createTextNode(css2);
    styleEl.appendChild(styleText);
    document.head.appendChild(styleEl);
  }

  // node_modules/preact-render-to-string/dist/index.module.js
  var n2 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;
  var o2 = function(e2) {
    return String(e2).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
  };
  var a2 = function(e2, t2) {
    return String(e2).replace(/(\n+)/g, "$1" + (t2 || "	"));
  };
  var i2 = function(e2, t2, r2) {
    return String(e2).length > (t2 || 40) || !r2 && String(e2).indexOf("\n") !== -1 || String(e2).indexOf("<") !== -1;
  };
  var l2 = {};
  function s2(e2) {
    var t2 = "";
    for (var r2 in e2) {
      var o3 = e2[r2];
      o3 != null && (t2 && (t2 += " "), t2 += r2[0] == "-" ? r2 : l2[r2] || (l2[r2] = r2.replace(/([A-Z])/g, "-$1").toLowerCase()), t2 += ": ", t2 += o3, typeof o3 == "number" && n2.test(r2) === false && (t2 += "px"), t2 += ";");
    }
    return t2 || void 0;
  }
  function f2(e2, t2) {
    for (var r2 in t2)
      e2[r2] = t2[r2];
    return e2;
  }
  function c2(e2, t2) {
    return Array.isArray(t2) ? t2.reduce(c2, e2) : t2 != null && t2 !== false && e2.push(t2), e2;
  }
  var p2 = {shallow: true};
  var u2 = [];
  var _2 = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;
  var g2 = function() {
  };
  h2.render = h2;
  var v2 = function(e2, t2) {
    return h2(e2, t2, p2);
  };
  function h2(n3, l3, p3, v3, d2, m2) {
    if (n3 == null || typeof n3 == "boolean")
      return "";
    Array.isArray(n3) && (n3 = v(p, null, n3));
    var x2 = n3.type, y2 = n3.props, S = false;
    l3 = l3 || {};
    var b, w2 = (p3 = p3 || {}).pretty, k2 = w2 && typeof w2 == "string" ? w2 : "	";
    if (typeof n3 != "object" && !x2)
      return o2(n3);
    if (typeof x2 == "function") {
      if (S = true, !p3.shallow || !v3 && p3.renderRootComponent !== false) {
        if (x2 === p) {
          var O = "", C2 = [];
          c2(C2, n3.props.children);
          for (var A2 = 0; A2 < C2.length; A2++)
            O += (A2 > 0 && w2 ? "\n" : "") + h2(C2[A2], l3, p3, p3.shallowHighOrder !== false, d2, m2);
          return O;
        }
        var H2, j2 = n3.__c = {__v: n3, context: l3, props: n3.props, setState: g2, forceUpdate: g2, __h: []};
        if (n.__r && n.__r(n3), x2.prototype && typeof x2.prototype.render == "function") {
          var F = x2.contextType, M2 = F && l3[F.__c], T2 = F != null ? M2 ? M2.props.value : F.__ : l3;
          (j2 = n3.__c = new x2(y2, T2)).__v = n3, j2._dirty = j2.__d = true, j2.props = y2, j2.state == null && (j2.state = {}), j2._nextState == null && j2.__s == null && (j2._nextState = j2.__s = j2.state), j2.context = T2, x2.getDerivedStateFromProps ? j2.state = f2(f2({}, j2.state), x2.getDerivedStateFromProps(j2.props, j2.state)) : j2.componentWillMount && (j2.componentWillMount(), j2.state = j2._nextState !== j2.state ? j2._nextState : j2.__s !== j2.state ? j2.__s : j2.state), H2 = j2.render(j2.props, j2.state, j2.context);
        } else {
          var $2 = x2.contextType, L2 = $2 && l3[$2.__c];
          H2 = x2.call(n3.__c, y2, $2 != null ? L2 ? L2.props.value : $2.__ : l3);
        }
        return j2.getChildContext && (l3 = f2(f2({}, l3), j2.getChildContext())), h2(H2, l3, p3, p3.shallowHighOrder !== false, d2, m2);
      }
      x2 = (b = x2).displayName || b !== Function && b.name || function(e2) {
        var t2 = (Function.prototype.toString.call(e2).match(/^\s*function\s+([^( ]+)/) || "")[1];
        if (!t2) {
          for (var r2 = -1, n4 = u2.length; n4--; )
            if (u2[n4] === e2) {
              r2 = n4;
              break;
            }
          r2 < 0 && (r2 = u2.push(e2) - 1), t2 = "UnnamedComponent" + r2;
        }
        return t2;
      }(b);
    }
    var E, D, N2 = "";
    if (y2) {
      var P2 = Object.keys(y2);
      p3 && p3.sortAttributes === true && P2.sort();
      for (var R = 0; R < P2.length; R++) {
        var U = P2[R], W = y2[U];
        if (U !== "children") {
          if (!U.match(/[\s\n\\/='"\0<>]/) && (p3 && p3.allAttributes || U !== "key" && U !== "ref" && U !== "__self" && U !== "__source")) {
            if (U === "className") {
              if (y2.class)
                continue;
              U = "class";
            } else
              d2 && U.match(/^xlink:?./) && (U = U.toLowerCase().replace(/^xlink:?/, "xlink:"));
            if (U === "htmlFor") {
              if (y2.for)
                continue;
              U = "for";
            }
            U === "style" && W && typeof W == "object" && (W = s2(W)), U[0] === "a" && U[1] === "r" && typeof W == "boolean" && (W = String(W));
            var q = p3.attributeHook && p3.attributeHook(U, W, l3, p3, S);
            if (q || q === "")
              N2 += q;
            else if (U === "dangerouslySetInnerHTML")
              D = W && W.__html;
            else if (x2 === "textarea" && U === "value")
              E = W;
            else if ((W || W === 0 || W === "") && typeof W != "function") {
              if (!(W !== true && W !== "" || (W = U, p3 && p3.xml))) {
                N2 += " " + U;
                continue;
              }
              if (U === "value") {
                if (x2 === "select") {
                  m2 = W;
                  continue;
                }
                x2 === "option" && m2 == W && (N2 += " selected");
              }
              N2 += " " + U + '="' + o2(W) + '"';
            }
          }
        } else
          E = W;
      }
    }
    if (w2) {
      var z2 = N2.replace(/^\n\s*/, " ");
      z2 === N2 || ~z2.indexOf("\n") ? w2 && ~N2.indexOf("\n") && (N2 += "\n") : N2 = z2;
    }
    if (N2 = "<" + x2 + N2 + ">", String(x2).match(/[\s\n\\/='"\0<>]/))
      throw new Error(x2 + " is not a valid HTML tag name in " + N2);
    var I2 = String(x2).match(_2) || p3.voidElements && String(x2).match(p3.voidElements);
    I2 && (N2 = N2.replace(/>$/, " />"));
    var Z, B = [];
    if (D)
      w2 && i2(D) && (D = "\n" + k2 + a2(D, k2)), N2 += D;
    else if (E != null && c2(Z = [], E).length) {
      for (var G = w2 && ~N2.indexOf("\n"), J = false, K = 0; K < Z.length; K++) {
        var Q = Z[K];
        if (Q != null && Q !== false) {
          var V = h2(Q, l3, p3, true, x2 === "svg" || x2 !== "foreignObject" && d2, m2);
          if (w2 && !G && i2(V) && (G = true), V)
            if (w2) {
              var X = V.length > 0 && V[0] != "<";
              J && X ? B[B.length - 1] += V : B.push(V), J = X;
            } else
              B.push(V);
        }
      }
      if (w2 && G)
        for (var Y = B.length; Y--; )
          B[Y] = "\n" + k2 + a2(B[Y], k2);
    }
    if (B.length)
      N2 += B.join("");
    else if (p3 && p3.xml)
      return N2.substring(0, N2.length - 1) + " />";
    return I2 || (w2 && ~N2.indexOf("\n") && (N2 += "\n"), N2 += "</" + x2 + ">"), N2;
  }
  h2.shallowRender = v2;
  var index_module_default = h2;

  // src/embed.css
  var embed_default = 'html,\nbody {\n  margin: 0;\n\n  /* Remove font smoothing */\n  -moz-osx-font-smoothing: grayscale; /* Firefox */\n  -webkit-font-smoothing: antialiased; /* WebKit  */\n\n  /* Fix scrollbar visibility */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE 10+ */\n}\n\nbody::-webkit-scrollbar {\n  width: 0px;\n  background: transparent; /* Chrome/Safari/Webkit */\n}\n\n.f2h__text {\n  margin: 0;\n  font-family: sans-serif;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  display: flex;\n}\n.f2h__text_inner {\n  margin: 0;\n  line-height: 0;\n  width: 100%;\n}\n\n.text-nodes {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  overflow: hidden;\n}\n\n.f2h__svg_container {\n  overflow: hidden;\n}\n\n.f2h__svg_container path,\n.f2h__svg_container rect,\n.f2h__svg_container circle,\n.f2h__svg_container line,\n.f2h__svg_container polyline,\n.f2h__svg_container polygon,\n.f2h__svg_container path,\n.f2h__svg_container ellipse {\n  vector-effect: non-scaling-stroke;\n}\n\n.f2h_headline {\n  font-family: "Austin News Deck Semibold", Georgia, "Times New Roman", Times,\n    serif;\n  font-size: 22px;\n  color: #333;\n  margin: 0;\n  line-height: 1.3;\n}\n.f2h_subbhead {\n  font-family: "Austin News Text Roman", Georgia, "Times New Roman", Times,\n    serif;\n  font-size: 17px;\n  color: #333;\n  margin: 0;\n  line-height: 1.5;\n}\n.f2h_header {\n  margin-bottom: 12px;\n}\n\n.f2h_source {\n  font-family: "Telesans Text Regular", Arial, Helvetica, sans-serif;\n  font-size: 12px;\n  color: #999;\n  margin: 12px 0 0;\n}\n\n/* Experiment stroking text */\n.f2h__text--stroke span {\n  position: relative;\n}\n\n.f2h__text--stroke span:before {\n  content: attr(data-text);\n  color: inherit;\n  left: 0;\n  font-size: 1em;\n  z-index: -2;\n  -webkit-text-stroke-width: 6px;\n  user-select: none;\n  color: transparent;\n  display: block;\n  position: fixed;\n  width: 100%;\n}\n';

  // src/fonts.css
  var fonts_default = '/* Local copies of fonts */\n/*Austin News Headline*/\n/*regular - 400*/\n@font-face {\n  font-family: "Austin News Headline";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 400;\n}\n\n@font-face {\n  font-family: "Austin News Headline";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Italic.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Italic.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Italic.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Italic.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 400;\n  font-style: italic;\n}\n\n/*medium - 500*/\n@font-face {\n  font-family: "Austin News Headline";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 500;\n}\n\n@font-face {\n  font-family: "Austin News Headline";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium Italic.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium Italic.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium Italic.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium Italic.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 500;\n  font-style: italic;\n}\n\n/*semibold - 600*/\n@font-face {\n  font-family: "Austin News Headline";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 600;\n}\n\n@font-face {\n  font-family: "Austin News Headline";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold Italic.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold Italic.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold Italic.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold Italic.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 600;\n  font-style: italic;\n}\n\n/*Austin News Deck*/\n/*regular - 400*/\n@font-face {\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Roman.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 400;\n}\n\n@font-face {\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Italic.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Italic.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Italic.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Italic.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 400;\n  font-style: italic;\n}\n\n/*medium - 500*/\n@font-face {\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 500;\n}\n\n@font-face {\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium Italic.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium Italic.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium Italic.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Medium Italic.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 500;\n  font-style: italic;\n}\n\n/*semibold - 600*/\n@font-face {\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 600;\n}\n\n@font-face {\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold Italic.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold Italic.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold Italic.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Semibold Italic.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 600;\n  font-style: italic;\n}\n\n/*bold - 700*/\n@font-face {\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Bold.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Bold.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Bold.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Bold.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 700;\n}\n\n/*fat - 900*/\n@font-face {\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Fat.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Fat.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Fat.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Fat.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 900;\n}\n\n@font-face {\n  font-family: "Austin News Deck";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Fat Italic.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Fat Italic.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Fat Italic.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Deck Web-Fat Italic.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 900;\n  font-style: italic;\n}\n\n/*Austin News Text*/\n\n/*regular - 400*/\n@font-face {\n  font-family: "Austin News Text";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Roman.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 400;\n}\n\n/*semibold - 600*/\n@font-face {\n  font-family: "Austin News Text";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Semibold.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Semibold.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Semibold.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Austin News Text Web-Semibold.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 600;\n}\n\n/*Telesans Agate*/\n\n/*regular - 400*/\n@font-face {\n  font-family: "Telesans Agate";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Regular.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Regular.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Regular.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Regular.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 400;\n}\n\n/*medium - 500*/\n@font-face {\n  font-family: "Telesans Agate";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Medium.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Medium.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Medium.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Medium.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 500;\n}\n\n/*bold - 700*/\n@font-face {\n  font-family: "Telesans Agate";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Bold.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Bold.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Bold.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Agate-Bold.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 700;\n}\n\n/*Telesans Text*/\n\n/*regular - 400*/\n@font-face {\n  font-family: "Telesans Text";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Regular.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 400;\n}\n\n/*bold - 700*/\n@font-face {\n  font-family: "Telesans Text";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Bold.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Bold.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Bold.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/Telesans Text Web-Bold.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 700;\n}\n\n/*icon font*/\n@font-face {\n  font-family: "iconfont";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/iconfont.woff2")\n      format("woff2"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/iconfont.woff")\n      format("woff"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/iconfont.ttf")\n      format("truetype"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/iconfont.eot"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/iconfont.svg")\n      format("svg"),\n    url("https://cf.eip.telegraph.co.uk/assets/_fonts/iconfont.eot?#iefix")\n      format("embedded-opentype");\n  font-weight: 400;\n  font-display: "swap";\n}\n@font-face {\n  font-family: "Monospace Numerals";\n  src: url("https://cf.eip.telegraph.co.uk/assets/_fonts/AustinNewsText-MediumMono.otf")\n    format("opentype");\n  font-display: "swap";\n}\n';

  // src/outputRender.tsx
  function generateIframeHtml(body) {
    return `
    <!doctype html>
    <html>
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style> html, body { margin: 0; } </style>
      </head>
      <body>
        ${body}
      </body>
    </html>
  `;
  }
  function generateParagraphStyle(node, frameWidth, frameHeight, positionFixed) {
    const {
      x: x2,
      y: y2,
      width,
      height,
      textAlignHorizontal,
      textAlignVertical,
      constraints,
      strokeWeight,
      strokeColour
    } = node;
    let styleText = "";
    console.log("IN HERER", strokeColour, strokeWeight);
    if (strokeWeight && strokeColour) {
      console.log("IN HERER", strokeColour, strokeWeight);
      styleText += `
     -webkit-text-stroke-color:  ${strokeColour};
    `;
    }
    const leftPos = (x2 + width / 2) / frameWidth;
    const left = `${leftPos * 100}%`;
    const top = `${(y2 + height / 2) / frameHeight * 100}%`;
    let alignVertical = "center";
    let verticalPosition = "";
    switch (textAlignVertical) {
      case "TOP":
        alignVertical = "flex-start";
        break;
      case "CENTER":
        alignVertical = "center";
        break;
      case "BOTTOM":
        alignVertical = "flex-end";
        break;
    }
    console.log(node.characters, x2, height);
    switch (constraints.vertical) {
      case "MIN":
        verticalPosition = `top: ${top}`;
        break;
      case "MAX":
        verticalPosition = `bottom: ${frameHeight - y2 - height - height / 2}px`;
        break;
      default:
        verticalPosition = `top: ${top}`;
    }
    let alignHorizontal = "center";
    switch (constraints.horizontal) {
      case "MIN":
        alignHorizontal = "flex-start";
        break;
      case "CENTER":
        alignHorizontal = "center";
        break;
      case "MAX":
        alignHorizontal = "flex-end";
        break;
    }
    return `
        ${styleText}
        width: ${positionFixed ? "auto" : `${width / frameWidth * 100}%`};
        height: ${positionFixed ? "auto" : `${height / frameHeight * 100}%`};
        left: ${positionFixed ? `${x2}px` : left};
        ${verticalPosition};
        text-align: ${textAlignHorizontal.toLocaleLowerCase()};
        align-items: ${alignVertical};
        justify-content: ${alignHorizontal};
        position: ${positionFixed ? "fixed" : "absolute"};
        ${positionFixed ? "transform: none;" : ""}
      `;
  }
  function generateSpanStyles(style) {
    const {r: r2, g: g3, b} = style.colour;
    const colour = `rgb(${r2 * 255}, ${g3 * 255}, ${b * 255})`;
    let fontWeight = 400;
    switch (style.font.style) {
      case "Bold":
        fontWeight = 700;
        break;
      case "Semibold":
        fontWeight = 600;
        break;
      case "Medium":
        fontWeight = 500;
        break;
      case "Roman":
        fontWeight = 400;
        break;
    }
    let letterSpaceOffset = "0px";
    if (style.font.family === "Telesans Text") {
      letterSpaceOffset = "0.026em";
    }
    if (style.font.family === "Telesans Agate") {
    }
    if (style.font.family === "Austin News Deck" && ["Bold", "Semibold"].includes(style.font.style)) {
      letterSpaceOffset = "0.02em";
    }
    let fontStyle = "normal";
    if (RegExp("italic", "i").test(style.font.style)) {
      fontStyle = "italic";
    }
    return `
    letter-spacing: calc(${style.letterSpace} - ${letterSpaceOffset});
    line-height: ${style.lineHeight};
    font-size: ${style.size}px;
    color: ${colour};
    font-family: "${style.font.family}";
    font-weight: ${fontWeight};
    font-style: ${fontStyle};
`;
  }
  function Text(props) {
    const {node, width, height, positionFixed} = props;
    return /* @__PURE__ */ v("div", {
      className: `f2h__text ${node.strokeWeight ? "f2h__text--stroke" : ""}`,
      style: generateParagraphStyle(node, width, height, positionFixed)
    }, /* @__PURE__ */ v("p", {
      className: "f2h__text_inner"
    }, node.rangeStyles.map((style) => /* @__PURE__ */ v("span", {
      key: style.chars,
      "data-text": node.strokeWeight ? style.chars : "",
      style: generateSpanStyles(style),
      dangerouslySetInnerHTML: {
        __html: style.chars.replace(/\n/g, "<br />")
      }
    }))));
  }
  function renderInline(props) {
    const {frames, svgText, headline, subhead, source, responsive} = props;
    const mediaQuery = genreateMediaQueries(frames);
    const textNodes = [];
    for (const frame of frames) {
      const tNode = /* @__PURE__ */ v("div", {
        id: `textblock-${frame.id}`,
        className: frame.uid
      }, frame.textNodes.map((node) => /* @__PURE__ */ v(Text, {
        key: node.characters,
        node,
        width: frame.width,
        height: frame.height,
        positionFixed: frame.fixedPositionNodes.includes(node.id)
      })));
      textNodes.push(tNode);
    }
    const html = index_module_default(/* @__PURE__ */ v("div", {
      className: `f2h__embed ${responsive ? "f2h--responsive" : ""}`
    }, /* @__PURE__ */ v("style", {
      dangerouslySetInnerHTML: {
        __html: `
       ${fonts_default}
       ${embed_default}
       ${mediaQuery}
      `
      }
    }), (headline || subhead) && /* @__PURE__ */ v("header", {
      className: "f2h_header"
    }, headline && /* @__PURE__ */ v("h1", {
      className: "f2h_headline"
    }, headline), subhead && /* @__PURE__ */ v("p", {
      className: "f2h_subbhead"
    }, "subhead")), /* @__PURE__ */ v("div", {
      className: "f2h__wrap",
      style: `position: relative;`
    }, /* @__PURE__ */ v("div", {
      className: "f2h__svg_container",
      dangerouslySetInnerHTML: {__html: svgText}
    }), /* @__PURE__ */ v("div", {
      className: "text-nodes"
    }, textNodes)), source && /* @__PURE__ */ v("footer", null, /* @__PURE__ */ v("p", {
      className: "f2h_source"
    }, source))));
    return html;
  }
  function genreateMediaQueries(frames) {
    const sortedFrames = Object.values(frames).map(({width, height, uid}) => ({width, height, uid})).sort((a3, b) => a3.width < b.width ? -1 : 1);
    const largestWidth = Math.max(...sortedFrames.map(({width}) => width));
    let cssText = "";
    for (let i3 = 0; i3 < sortedFrames.length; i3++) {
      const {uid, width, height} = sortedFrames[i3];
      if (i3 === 0) {
        cssText += `
            .f2h__svg_container,
            .f2h__wrap {
              width: ${width}px;
              height: ${height}px;
            }

            .f2h--responsive .f2h__svg_container,
            .f2h--responsive .f2h__wrap
            {
              width: 100%;
              height: ${height / width * 100}vw;
            }

            .f2h--responsive svg {
              width: ${largestWidth / width * 100}%;
              height: auto;
            }
          `;
      } else {
        const {uid: prevId} = sortedFrames[i3 - 1];
        cssText += `
      /* Hide until width is reached */
      @media (max-width: ${width}px) {
        .${uid} { display: none; }
      }

      /* Hide previous and show current frame */
      @media (min-width: ${width}px) {
        .f2h--responsive svg {
          width: ${largestWidth / width * 100}%;
        }

        .${prevId} { display: none; }
        .${uid} { display: block; }
        .f2h__svg_container,
        .f2h__wrap {
          width: ${width}px;
          height: ${height}px;
        }

        .f2h--responsive .f2h__svg_container,
        .f2h--responsive .f2h__wrap {
          height: ${height / width * 100}vw;
         }

        }
      `;
      }
      if (i3 === sortedFrames.length - 1) {
        cssText += `
        @media (min-aspect-ratio: ${width / height}) and (min-width: ${width}px) {
          .f2h--responsive svg { 
            max-height: 100vh;
          }
          .f2h--responsive .text-nodes {
            /* max-width is aspect ratio */
            max-width: ${width / height * 100}vh;
            left: 50%;
            transform: translateX(-50%);
          }
          .f2h--responsive .f2h__wrap {
            max-height: 100vh;
          }
        }
      `;
      }
    }
    return cssText;
  }

  // src/constants.ts
  var STAGES;
  (function(STAGES2) {
    STAGES2[STAGES2["CHOOSE_FRAMES"] = 0] = "CHOOSE_FRAMES";
    STAGES2[STAGES2["RESPONSIVE_PREVIEW"] = 1] = "RESPONSIVE_PREVIEW";
    STAGES2[STAGES2["SAVE_OUTPUT"] = 2] = "SAVE_OUTPUT";
  })(STAGES || (STAGES = {}));
  var MSG_EVENTS;
  (function(MSG_EVENTS2) {
    MSG_EVENTS2[MSG_EVENTS2["FOUND_FRAMES"] = 0] = "FOUND_FRAMES";
    MSG_EVENTS2[MSG_EVENTS2["NO_FRAMES"] = 1] = "NO_FRAMES";
    MSG_EVENTS2[MSG_EVENTS2["RENDER"] = 2] = "RENDER";
    MSG_EVENTS2[MSG_EVENTS2["CLOSE"] = 3] = "CLOSE";
    MSG_EVENTS2[MSG_EVENTS2["ERROR"] = 4] = "ERROR";
    MSG_EVENTS2[MSG_EVENTS2["UPDATE_HEADLINES"] = 5] = "UPDATE_HEADLINES";
    MSG_EVENTS2[MSG_EVENTS2["COMPRESS_IMAGE"] = 6] = "COMPRESS_IMAGE";
    MSG_EVENTS2[MSG_EVENTS2["GET_ROOT_FRAMES"] = 7] = "GET_ROOT_FRAMES";
  })(MSG_EVENTS || (MSG_EVENTS = {}));
  var OUTPUT_FORMATS;
  (function(OUTPUT_FORMATS2) {
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["INLINE"] = 0] = "INLINE";
    OUTPUT_FORMATS2[OUTPUT_FORMATS2["IFRAME"] = 1] = "IFRAME";
  })(OUTPUT_FORMATS || (OUTPUT_FORMATS = {}));
  const UI_TEXT = {
    ERROR_UNEXPECTED: "Unexpected error",
    ERROR_MISSING_FRAMES: "No frames found. Please add some frames to the page.",
    WARN_NO_TARGETS: "Standard frames not found. Please select target frames.",
    WARN_TOO_MANY_TARGETS: "Please select three target frames",
    INFO_PREVIEW: "Preview each frame output",
    TITLE_CHOOSE_FRAME: "Choose which frames to export",
    TITLE_PREVIEW: "Preview",
    TITLE_RESPONSIVE_PREVIEW: "Responsive preview",
    TILE_OUTPUT: "Export",
    BUTTON_NEXT: "Next",
    BUTTON_DOWNLOAD: "Download",
    BUTTON_PREVIOUS: "Back"
  };
  const FRAME_WARNING_SIZE = 300;
  var HEADLINE_NODE_NAMES;
  (function(HEADLINE_NODE_NAMES2) {
    HEADLINE_NODE_NAMES2["HEADLINE"] = "headline";
    HEADLINE_NODE_NAMES2["SUBHEAD"] = "subhead";
    HEADLINE_NODE_NAMES2["SOURCE"] = "source";
  })(HEADLINE_NODE_NAMES || (HEADLINE_NODE_NAMES = {}));

  // src/components/Header.tsx
  const pako = __toModule(require_pako());
  function SvgInformation(props) {
    const {svgMarkup} = props;
    const fileKbSize = svgMarkup.length / 1e3;
    const isFileLarge = fileKbSize > FRAME_WARNING_SIZE;
    let fileSizeClassName = "f2h__file_size";
    if (isFileLarge) {
      fileSizeClassName += " f2h__file_size f2h__notice--error";
    }
    const gzipSize = (pako.deflate(svgMarkup).buffer.byteLength / 1024).toFixed(2);
    return /* @__PURE__ */ v("p", {
      className: "f2h__info"
    }, /* @__PURE__ */ v("span", {
      className: "f2h__info_meta"
    }, "Filesize", /* @__PURE__ */ v("span", {
      className: fileSizeClassName,
      title: `Uncompressed ${fileKbSize.toFixed(2)}KB`
    }, gzipSize, "KB")));
  }
  function HeaderTitle(props) {
    const {stage} = props;
    let title = "";
    switch (stage) {
      case STAGES.CHOOSE_FRAMES:
        title = UI_TEXT.TITLE_CHOOSE_FRAME;
        break;
      case STAGES.RESPONSIVE_PREVIEW:
        title = UI_TEXT.TITLE_RESPONSIVE_PREVIEW;
        break;
      case STAGES.SAVE_OUTPUT:
        title = UI_TEXT.TILE_OUTPUT;
        break;
    }
    return /* @__PURE__ */ v("h1", {
      className: "f2h__title"
    }, title);
  }

  // src/components/ResponsiveView.tsx
  const debounce = __toModule(require_debounce());
  class ResponsiveView extends d {
    constructor(props) {
      super(props);
      this.iframeEl = y();
      this.inputEl = y();
      this.handleResize = (mutList) => {
        for (const {attributeName, type, target} of mutList) {
          if (type === "attributes" && attributeName === "style") {
            const {width} = target.getBoundingClientRect();
            this.setState({iframeWidth: width});
          }
        }
      };
      this.setIndex = (i3) => {
        this.setState({widthIndex: i3});
        if (this.iframeEl.current) {
          const {frameWidths} = this.props;
          this.iframeEl.current.style.width = `${frameWidths[i3]}px`;
        }
      };
      this.handleInputChange = () => {
        if (this.inputEl.current && this.iframeEl.current) {
          const {value} = this.inputEl.current;
          this.iframeEl.current.style.width = `${value}px`;
        }
      };
      const {frameWidths} = props;
      this.state = {
        widthIndex: 0,
        iframeWidth: frameWidths[0]
      };
    }
    componentDidMount() {
      if (this.iframeEl.current) {
        this.iframeObserver = new MutationObserver(debounce.default(this.handleResize, 50));
        this.iframeObserver.observe(this.iframeEl.current, {
          attributes: true,
          childList: false,
          subtree: false
        });
      }
    }
    componentWillUnmount() {
      var _a;
      (_a = this.iframeObserver) == null ? void 0 : _a.disconnect();
    }
    render() {
      const {widthIndex, iframeWidth} = this.state;
      const {svgMarkup, frameWidths} = this.props;
      return /* @__PURE__ */ v("div", {
        className: "f2h__responsive_preview"
      }, /* @__PURE__ */ v("div", {
        className: "f2h__responsive_info"
      }, /* @__PURE__ */ v("p", {
        className: "f2h__responsive_width"
      }, /* @__PURE__ */ v("input", {
        type: "number",
        min: "1",
        value: iframeWidth,
        ref: this.inputEl,
        onChange: this.handleInputChange,
        className: "f2h__responsive_input"
      }), "px"), /* @__PURE__ */ v("p", {
        className: "f2h__responsive_breakpoints"
      }, "Breakpoints", frameWidths.map((width, i3) => /* @__PURE__ */ v("span", {
        key: width,
        className: `responsive_width_btn ${widthIndex === i3 ? "active" : ""}`,
        onClick: () => this.setIndex(i3)
      }, width)))), /* @__PURE__ */ v("div", {
        className: "f2h__responsive__wrapper"
      }, /* @__PURE__ */ v("iframe", {
        style: `width: {frameWidths[widthIndex]}px`,
        width: frameWidths[0],
        className: "f2h__responsive__sandbox",
        srcDoc: svgMarkup,
        ref: this.iframeEl
      })));
    }
  }

  // src/components/FrameSelection.tsx
  function InputField(props) {
    const {label, value, refTarget, handleChange} = props;
    return /* @__PURE__ */ v("p", {
      className: "f2h__info_form__item f2h__info_form__item--headline"
    }, /* @__PURE__ */ v("label", {
      className: "f2h__info_form__label"
    }, label), /* @__PURE__ */ v("input", {
      className: "f2h__info_form__input f2h__info_form__input--headline",
      type: "text",
      value,
      ref: refTarget,
      onChange: handleChange
    }));
  }
  class FrameSelection extends d {
    constructor() {
      super(...arguments);
      this.headlineInput = y();
      this.subheadInput = y();
      this.sourceInput = y();
      this.sendFormValues = () => {
        var _a, _b, _c;
        const {handleFormUpdate} = this.props;
        const headline = (_a = this.headlineInput.current) == null ? void 0 : _a.value;
        const subhead = (_b = this.subheadInput.current) == null ? void 0 : _b.value;
        const source = (_c = this.sourceInput.current) == null ? void 0 : _c.value;
        handleFormUpdate({headline, subhead, source});
      };
    }
    render() {
      const {
        frames,
        handleClick,
        toggleSelectAll,
        headline,
        subhead,
        source,
        selectedFrames,
        responsive,
        toggleResponsive
      } = this.props;
      const frameCount = Object.values(frames).length;
      const selectCount = selectedFrames.length;
      const someFramesSelected = selectCount > 0 && selectCount < frameCount;
      const allSelected = selectCount === frameCount;
      return /* @__PURE__ */ v("div", {
        className: "f2h__choose_frames"
      }, /* @__PURE__ */ v("div", {
        className: "f2h__info_form"
      }, /* @__PURE__ */ v(InputField, {
        refTarget: this.headlineInput,
        handleChange: this.sendFormValues,
        label: "Headline",
        value: headline
      }), /* @__PURE__ */ v(InputField, {
        refTarget: this.subheadInput,
        handleChange: this.sendFormValues,
        label: "Subhead",
        value: subhead
      }), /* @__PURE__ */ v(InputField, {
        refTarget: this.sourceInput,
        handleChange: this.sendFormValues,
        label: "Source",
        value: source
      })), /* @__PURE__ */ v("div", {
        className: "f2h__frame_selection"
      }, /* @__PURE__ */ v("label", {
        className: "f2h__sel_header f2h__sel_header--name"
      }, /* @__PURE__ */ v("input", {
        name: "selectAll",
        id: "selectAll",
        type: "checkbox",
        onClick: toggleSelectAll,
        checked: allSelected,
        ref: (el) => el && (el.indeterminate = someFramesSelected)
      }), " ", "Frames"), /* @__PURE__ */ v("label", {
        className: "f2h__sel_header f2h__sel_header--responsive"
      }, /* @__PURE__ */ v("input", {
        type: "checkbox",
        id: "responsiveAll",
        name: "responsiveAll",
        onClick: toggleResponsive,
        checked: responsive
      }), " ", "Responsive"), Object.values(frames).sort((a3, b) => a3.width < b.width ? -1 : 1).map(({name, id, width, height}) => /* @__PURE__ */ v(p, {
        key: id
      }, /* @__PURE__ */ v("p", {
        className: "f2h__label f2h__label--name"
      }, /* @__PURE__ */ v("input", {
        className: "f2h__checkbox",
        type: "checkbox",
        checked: selectedFrames.includes(id),
        onClick: () => handleClick(id),
        id: name,
        name
      }), /* @__PURE__ */ v("label", {
        className: "f2h__label--name-text",
        htmlFor: name
      }, name), /* @__PURE__ */ v("span", {
        className: "f2h__sel_width"
      }, width, " x ", height))))));
    }
  }

  // src/components/Save.tsx
  const file_saver = __toModule(require_FileSaver_min());
  class Save extends d {
    constructor() {
      super(...arguments);
      this.state = {
        advancedOpen: false,
        showToast: false,
        outputFormat: OUTPUT_FORMATS.INLINE
      };
      this.textAreaEl = y();
      this.toggleAdvanced = () => {
        this.setState({
          advancedOpen: !this.state.advancedOpen
        });
      };
      this.saveToClipboard = () => {
        const {current: el} = this.textAreaEl;
        if (!el) {
          console.error("Missing textarea element");
          return;
        }
        el.select();
        document.execCommand("copy");
        const {showToast} = this.state;
        if (showToast) {
          return;
        }
        this.setState({showToast: true});
        setTimeout(() => this.setState({showToast: false}), 2e3);
      };
      this.saveBinaryFile = () => {
        const {svgMarkup} = this.props;
        const filename = "figma-to-html-test.html";
        const raw = generateIframeHtml(svgMarkup);
        const blob = new Blob([raw], {type: "text/html"});
        file_saver.saveAs(blob, filename);
      };
      this.handleFormatChange = (format) => {
        this.setState({
          outputFormat: format
        });
      };
    }
    render() {
      const {svgMarkup} = this.props;
      const {advancedOpen, showToast} = this.state;
      const advancedBtnText = `${advancedOpen ? "hide" : "show"}`;
      let advancedClassName = "f2h__save_advanced";
      if (advancedOpen) {
        advancedClassName += "f2h__save_advanced--open";
      }
      let toastClassName = "f2h__toast";
      if (showToast) {
        toastClassName += "f2h__toast--open";
      }
      return /* @__PURE__ */ v("div", {
        className: "f2h__save"
      }, /* @__PURE__ */ v("div", {
        className: "f2h__save_options"
      }, /* @__PURE__ */ v("button", {
        className: "f2h__save_btn btn--primary",
        onClick: this.saveToClipboard
      }, "Copy embed to clipboard"), /* @__PURE__ */ v("button", {
        className: "f2h__save_btn btn--primary",
        onClick: this.saveBinaryFile
      }, "Download iframe HTML file")), /* @__PURE__ */ v("h2", {
        className: "f2h__save__subhead f2h__save_advanced-header"
      }, /* @__PURE__ */ v("span", {
        className: "f2h__save_advanced_title"
      }, "Advanced settings"), /* @__PURE__ */ v("button", {
        className: "f2h__save_advanced_show",
        onClick: this.toggleAdvanced
      }, advancedBtnText)), /* @__PURE__ */ v("div", {
        className: advancedClassName
      }, /* @__PURE__ */ v("h2", {
        className: "f2h__save__subhead"
      }, "Raw HTML"), /* @__PURE__ */ v("textarea", {
        ref: this.textAreaEl,
        className: "f2h__save__raw",
        value: svgMarkup
      })), /* @__PURE__ */ v("div", {
        className: toastClassName
      }, "Copied to clipboard"));
    }
  }

  // src/utils/lib/tools.ts
  const cleanupOutData = function(data, params2, command) {
    var str = "", delimiter, prev;
    data.forEach(function(item, i3) {
      delimiter = " ";
      if (i3 == 0)
        delimiter = "";
      if (params2.noSpaceAfterFlags && (command == "A" || command == "a")) {
        var pos = i3 % 7;
        if (pos == 4 || pos == 5)
          delimiter = "";
      }
      if (params2.leadingZero) {
        item = removeLeadingZero(item);
      }
      if (params2.negativeExtraSpace && delimiter != "" && (item < 0 || String(item).charCodeAt(0) == 46 && prev % 1 !== 0)) {
        delimiter = "";
      }
      prev = item;
      str += delimiter + item;
    });
    return str;
  };
  const removeLeadingZero = function(num) {
    var strNum = num.toString();
    if (0 < num && num < 1 && strNum.charCodeAt(0) == 48) {
      strNum = strNum.slice(1);
    } else if (-1 < num && num < 0 && strNum.charCodeAt(1) == 48) {
      strNum = strNum.charAt(0) + strNum.slice(2);
    }
    return strNum;
  };

  // src/utils/lib/path.ts
  const rNumber = String.raw`[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?\s*`;
  const rCommaWsp = String.raw`(?:\s,?\s*|,\s*)`;
  const rNumberCommaWsp = `(${rNumber})` + rCommaWsp;
  const rFlagCommaWsp = `([01])${rCommaWsp}?`;
  const rCoordinatePair = String.raw`(${rNumber})${rCommaWsp}?(${rNumber})`;
  const rArcSeq = (rNumberCommaWsp + "?").repeat(2) + rNumberCommaWsp + rFlagCommaWsp.repeat(2) + rCoordinatePair;
  const regPathInstructions = /([MmLlHhVvCcSsQqTtAaZz])\s*/;
  const regCoordinateSequence = new RegExp(rNumber, "g");
  const regArcArgumentSequence = new RegExp(rArcSeq, "g");
  function path2js(path2) {
    var _a;
    const paramsLength = {
      H: 1,
      V: 1,
      M: 2,
      L: 2,
      T: 2,
      Q: 4,
      S: 4,
      C: 6,
      A: 7,
      h: 1,
      v: 1,
      m: 2,
      l: 2,
      t: 2,
      q: 4,
      s: 4,
      c: 6,
      a: 7
    };
    let pathData = [];
    let instruction;
    let startMoveto = false;
    (_a = path2.getAttribute("d")) == null ? void 0 : _a.split(regPathInstructions).forEach(function(data) {
      if (!data)
        return;
      if (!startMoveto) {
        if (data == "M" || data == "m") {
          startMoveto = true;
        } else
          return;
      }
      if (regPathInstructions.test(data)) {
        instruction = data;
        if (instruction == "Z" || instruction == "z") {
          pathData.push({
            instruction: "z"
          });
        }
      } else {
        if (instruction == "A" || instruction == "a") {
          var newData = [];
          for (var args; args = regArcArgumentSequence.exec(data); ) {
            for (var i3 = 1; i3 < args.length; i3++) {
              newData.push(args[i3]);
            }
          }
          data = newData;
        } else {
          data = data.match(regCoordinateSequence);
        }
        if (!data)
          return;
        data = data.map(Number);
        if (instruction == "M" || instruction == "m") {
          pathData.push({
            instruction: pathData.length == 0 ? "M" : instruction,
            data: data.splice(0, 2)
          });
          instruction = instruction == "M" ? "L" : "l";
        }
        for (var pair = paramsLength[instruction]; data.length; ) {
          pathData.push({
            instruction,
            data: data.splice(0, pair)
          });
        }
      }
    });
    if (pathData.length && pathData[0].instruction == "m") {
      pathData[0].instruction = "M";
    }
    return pathData;
  }
  const js2path = function(path2, data, params2) {
    if (params2.collapseRepeated) {
      data = collapseRepeated(data);
    }
    path2.setAttribute("d", data.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(item.data, params2, item.instruction);
      }
      return pathString += item.instruction + strData;
    }, ""));
  };
  function collapseRepeated(data) {
    var prev, prevIndex;
    data = data.reduce(function(newPath, item) {
      if (prev && item.data && item.instruction == prev.instruction) {
        if (item.instruction != "M") {
          prev = newPath[prevIndex] = {
            instruction: prev.instruction,
            data: prev.data.concat(item.data),
            coords: item.coords,
            base: prev.base
          };
        } else {
          prev.data = item.data;
          prev.coords = item.coords;
        }
      } else {
        newPath.push(item);
        prev = item;
        prevIndex = newPath.length - 1;
      }
      return newPath;
    }, []);
    return data;
  }

  // src/utils/lib/shapeToPath.ts
  function convertShapesToPath(el) {
    var _a, _b, _c, _d, _e;
    if (el instanceof SVGRectElement && el.hasAttribute("width") && el.hasAttribute("height") && el.hasAttribute("rx") === false && el.hasAttribute("ry") === false) {
      const x2 = parseFloat(el.getAttribute("x") || "0");
      const y2 = parseFloat(el.getAttribute("y") || "0");
      const width = parseFloat(el.getAttribute("width") || "0");
      const height = parseFloat(el.getAttribute("height") || "0");
      if (isNaN(x2 - y2 + width - height))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x2} ${y2}H${x2 + width}V${y2 + height}H${x2}z`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x", "y", "width", "height"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_a = el.parentElement) == null ? void 0 : _a.replaceChild(pathEl, el);
    } else if (el instanceof SVGLineElement) {
      const x1 = parseFloat(el.getAttribute("x1") || "0");
      const x2 = parseFloat(el.getAttribute("x2") || "0");
      const y1 = parseFloat(el.getAttribute("y1") || "0");
      const y2 = parseFloat(el.getAttribute("y2") || "0");
      if (isNaN(x1 - y1 + x2 - y2))
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const pathData = `M${x1} ${y1}L${x2} ${y2}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["x1", "y1", "x2", "y2"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_b = el.parentElement) == null ? void 0 : _b.replaceChild(pathEl, el);
    } else if ((el instanceof SVGPolylineElement || el instanceof SVGPolygonElement) && el.hasAttribute("points")) {
      const REGX_NUMBER = /[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?/g;
      const points = (_c = el.getAttribute("points")) != null ? _c : "";
      const coords = ((_d = points.match(REGX_NUMBER)) != null ? _d : []).map(Number);
      if (coords.length < 4)
        return;
      const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const [x2, y2] = coords.slice(0, 2);
      const remainingPoints = coords.slice(2).join(" ");
      const suffix = el instanceof SVGPolygonElement ? "z" : "";
      const pathData = `M${x2} ${y2}L${remainingPoints}${suffix}`;
      pathEl.setAttribute("d", pathData);
      const ATTRIBUTES_TO_EXCLUDE = ["points"];
      for (const prop of Array.from(el.attributes)) {
        if (ATTRIBUTES_TO_EXCLUDE.includes(prop.name) === false) {
          pathEl.setAttribute(prop.name, prop.value);
        }
      }
      (_e = el.parentElement) == null ? void 0 : _e.replaceChild(pathEl, el);
    }
  }

  // src/utils/crunchSvg.ts
  const params = {
    applyTransforms: true,
    applyTransformsStroked: true,
    makeArcs: {
      threshold: 2.5,
      tolerance: 0.5
    },
    straightCurves: true,
    lineShorthands: true,
    curveSmoothShorthands: true,
    floatPrecision: 1,
    transformPrecision: 5,
    removeUseless: true,
    collapseRepeated: true,
    utilizeAbsolute: true,
    leadingZero: true,
    negativeExtraSpace: true,
    noSpaceAfterFlags: true,
    forceAbsolutePath: false
  };
  let roundData;
  let precision;
  let error;
  let arcThreshold;
  let arcTolerance;
  let hasMarkerMid;
  let hasStrokeLinecap;
  function crunchSvg(svg2) {
    for (const node of Array.from(svg2.querySelectorAll("*"))) {
      convertShapesToPath(node);
      optimiseElement(node);
    }
  }
  function optimiseElement(item) {
    precision = params.floatPrecision;
    if (item instanceof SVGPathElement && item.hasAttribute("d")) {
      error = precision !== false ? +Math.pow(0.1, precision).toFixed(precision) : 0.01;
      roundData = precision > 0 && precision < 20 ? strongRound : round;
      if (params.makeArcs) {
        arcThreshold = params.makeArcs.threshold;
        arcTolerance = params.makeArcs.tolerance;
      }
      hasMarkerMid = item.hasAttribute("marker-mid");
      const stroke = item.getAttribute("stroke");
      const strokeLinecap = item.getAttribute("stroke");
      hasStrokeLinecap = stroke && stroke != "none" && strokeLinecap && strokeLinecap != "butt";
      var data = path2js(item);
      if (data.length) {
        convertToRelative(data);
        data = filters(data, params);
        if (params.utilizeAbsolute) {
          data = convertToMixed(data, params);
        }
        js2path(item, data, params);
      }
    }
  }
  function convertToRelative(path2) {
    var point = [0, 0], subpathPoint = [0, 0], baseItem;
    path2.forEach(function(item, index) {
      var instruction = item.instruction, data = item.data;
      if (data) {
        if ("mcslqta".indexOf(instruction) > -1) {
          point[0] += data[data.length - 2];
          point[1] += data[data.length - 1];
          if (instruction === "m") {
            subpathPoint[0] = point[0];
            subpathPoint[1] = point[1];
            baseItem = item;
          }
        } else if (instruction === "h") {
          point[0] += data[0];
        } else if (instruction === "v") {
          point[1] += data[0];
        }
        if (instruction === "M") {
          if (index > 0)
            instruction = "m";
          data[0] -= point[0];
          data[1] -= point[1];
          subpathPoint[0] = point[0] += data[0];
          subpathPoint[1] = point[1] += data[1];
          baseItem = item;
        } else if ("LT".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          point[0] += data[0];
          point[1] += data[1];
        } else if (instruction === "C") {
          instruction = "c";
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          data[4] -= point[0];
          data[5] -= point[1];
          point[0] += data[4];
          point[1] += data[5];
        } else if ("SQ".indexOf(instruction) > -1) {
          instruction = instruction.toLowerCase();
          data[0] -= point[0];
          data[1] -= point[1];
          data[2] -= point[0];
          data[3] -= point[1];
          point[0] += data[2];
          point[1] += data[3];
        } else if (instruction === "A") {
          instruction = "a";
          data[5] -= point[0];
          data[6] -= point[1];
          point[0] += data[5];
          point[1] += data[6];
        } else if (instruction === "H") {
          instruction = "h";
          data[0] -= point[0];
          point[0] += data[0];
        } else if (instruction === "V") {
          instruction = "v";
          data[0] -= point[1];
          point[1] += data[0];
        }
        item.instruction = instruction;
        item.data = data;
        item.coords = point.slice(-2);
      } else if (instruction == "z") {
        if (baseItem) {
          item.coords = baseItem.coords;
        }
        point[0] = subpathPoint[0];
        point[1] = subpathPoint[1];
      }
      item.base = index > 0 ? path2[index - 1].coords : [0, 0];
    });
    return path2;
  }
  function filters(path2, params2) {
    var stringify = data2Path.bind(null, params2), relSubpoint = [0, 0], pathBase = [0, 0], prev = {};
    path2 = path2.filter(function(item, index, path3) {
      var instruction = item.instruction, data = item.data, next = path3[index + 1];
      if (data) {
        var sdata = data, circle;
        if (instruction === "s") {
          sdata = [0, 0].concat(data);
          if ("cs".indexOf(prev.instruction) > -1) {
            var pdata = prev.data, n3 = pdata.length;
            sdata[0] = pdata[n3 - 2] - pdata[n3 - 4];
            sdata[1] = pdata[n3 - 1] - pdata[n3 - 3];
          }
        }
        if (params2.makeArcs && (instruction == "c" || instruction == "s") && isConvex(sdata) && (circle = findCircle(sdata))) {
          var r2 = roundData([circle.radius])[0], angle = findArcAngle(sdata, circle), sweep = sdata[5] * sdata[0] - sdata[4] * sdata[1] > 0 ? 1 : 0, arc = {
            instruction: "a",
            data: [r2, r2, 0, 0, sweep, sdata[4], sdata[5]],
            coords: item.coords.slice(),
            base: item.base
          }, output = [arc], relCenter = [
            circle.center[0] - sdata[4],
            circle.center[1] - sdata[5]
          ], relCircle = {center: relCenter, radius: circle.radius}, arcCurves = [item], hasPrev = 0, suffix = "", nextLonghand;
          if (prev.instruction == "c" && isConvex(prev.data) && isArcPrev(prev.data, circle) || prev.instruction == "a" && prev.sdata && isArcPrev(prev.sdata, circle)) {
            arcCurves.unshift(prev);
            arc.base = prev.base;
            arc.data[5] = arc.coords[0] - arc.base[0];
            arc.data[6] = arc.coords[1] - arc.base[1];
            var prevData = prev.instruction == "a" ? prev.sdata : prev.data;
            var prevAngle = findArcAngle(prevData, {
              center: [
                prevData[4] + circle.center[0],
                prevData[5] + circle.center[1]
              ],
              radius: circle.radius
            });
            angle += prevAngle;
            if (angle > Math.PI)
              arc.data[3] = 1;
            hasPrev = 1;
          }
          for (var j2 = index; (next = path3[++j2]) && ~"cs".indexOf(next.instruction); ) {
            var nextData = next.data;
            if (next.instruction == "s") {
              nextLonghand = makeLonghand({instruction: "s", data: next.data.slice()}, path3[j2 - 1].data);
              nextData = nextLonghand.data;
              nextLonghand.data = nextData.slice(0, 2);
              suffix = stringify([nextLonghand]);
            }
            if (isConvex(nextData) && isArc(nextData, relCircle)) {
              angle += findArcAngle(nextData, relCircle);
              if (angle - 2 * Math.PI > 1e-3)
                break;
              if (angle > Math.PI)
                arc.data[3] = 1;
              arcCurves.push(next);
              if (2 * Math.PI - angle > 1e-3) {
                arc.coords = next.coords;
                arc.data[5] = arc.coords[0] - arc.base[0];
                arc.data[6] = arc.coords[1] - arc.base[1];
              } else {
                arc.data[5] = 2 * (relCircle.center[0] - nextData[4]);
                arc.data[6] = 2 * (relCircle.center[1] - nextData[5]);
                arc.coords = [
                  arc.base[0] + arc.data[5],
                  arc.base[1] + arc.data[6]
                ];
                arc = {
                  instruction: "a",
                  data: [
                    r2,
                    r2,
                    0,
                    0,
                    sweep,
                    next.coords[0] - arc.coords[0],
                    next.coords[1] - arc.coords[1]
                  ],
                  coords: next.coords,
                  base: arc.coords
                };
                output.push(arc);
                j2++;
                break;
              }
              relCenter[0] -= nextData[4];
              relCenter[1] -= nextData[5];
            } else
              break;
          }
          if ((stringify(output) + suffix).length < stringify(arcCurves).length) {
            if (path3[j2] && path3[j2].instruction == "s") {
              makeLonghand(path3[j2], path3[j2 - 1].data);
            }
            if (hasPrev) {
              var prevArc = output.shift();
              roundData(prevArc.data);
              relSubpoint[0] += prevArc.data[5] - prev.data[prev.data.length - 2];
              relSubpoint[1] += prevArc.data[6] - prev.data[prev.data.length - 1];
              prev.instruction = "a";
              prev.data = prevArc.data;
              item.base = prev.coords = prevArc.coords;
            }
            arc = output.shift();
            if (arcCurves.length == 1) {
              item.sdata = sdata.slice();
            } else if (arcCurves.length - 1 - hasPrev > 0) {
              path3.splice.apply(path3, [index + 1, arcCurves.length - 1 - hasPrev].concat(output));
            }
            if (!arc)
              return false;
            instruction = "a";
            data = arc.data;
            item.coords = arc.coords;
          }
        }
        if (precision !== false) {
          if ("mltqsc".indexOf(instruction) > -1) {
            for (var i3 = data.length; i3--; ) {
              data[i3] += item.base[i3 % 2] - relSubpoint[i3 % 2];
            }
          } else if (instruction == "h") {
            data[0] += item.base[0] - relSubpoint[0];
          } else if (instruction == "v") {
            data[0] += item.base[1] - relSubpoint[1];
          } else if (instruction == "a") {
            data[5] += item.base[0] - relSubpoint[0];
            data[6] += item.base[1] - relSubpoint[1];
          }
          roundData(data);
          if (instruction == "h")
            relSubpoint[0] += data[0];
          else if (instruction == "v")
            relSubpoint[1] += data[0];
          else {
            relSubpoint[0] += data[data.length - 2];
            relSubpoint[1] += data[data.length - 1];
          }
          roundData(relSubpoint);
          if (instruction.toLowerCase() == "m") {
            pathBase[0] = relSubpoint[0];
            pathBase[1] = relSubpoint[1];
          }
        }
        if (params2.straightCurves) {
          if (instruction === "c" && isCurveStraightLine(data) || instruction === "s" && isCurveStraightLine(sdata)) {
            if (next && next.instruction == "s")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "q" && isCurveStraightLine(data)) {
            if (next && next.instruction == "t")
              makeLonghand(next, data);
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "t" && prev.instruction !== "q" && prev.instruction !== "t") {
            instruction = "l";
            data = data.slice(-2);
          } else if (instruction === "a" && (data[0] === 0 || data[1] === 0)) {
            instruction = "l";
            data = data.slice(-2);
          }
        }
        if (params2.lineShorthands && instruction === "l") {
          if (data[1] === 0) {
            instruction = "h";
            data.pop();
          } else if (data[0] === 0) {
            instruction = "v";
            data.shift();
          }
        }
        if (params2.collapseRepeated && !hasMarkerMid && "mhv".indexOf(instruction) > -1 && prev.instruction && instruction == prev.instruction.toLowerCase() && (instruction != "h" && instruction != "v" || prev.data[0] >= 0 == data[0] >= 0)) {
          prev.data[0] += data[0];
          if (instruction != "h" && instruction != "v") {
            prev.data[1] += data[1];
          }
          prev.coords = item.coords;
          path3[index] = prev;
          return false;
        }
        if (params2.curveSmoothShorthands && prev.instruction) {
          if (instruction === "c") {
            if (prev.instruction === "c" && data[0] === -(prev.data[2] - prev.data[4]) && data[1] === -(prev.data[3] - prev.data[5])) {
              instruction = "s";
              data = data.slice(2);
            } else if (prev.instruction === "s" && data[0] === -(prev.data[0] - prev.data[2]) && data[1] === -(prev.data[1] - prev.data[3])) {
              instruction = "s";
              data = data.slice(2);
            } else if ("cs".indexOf(prev.instruction) === -1 && data[0] === 0 && data[1] === 0) {
              instruction = "s";
              data = data.slice(2);
            }
          } else if (instruction === "q") {
            if (prev.instruction === "q" && data[0] === prev.data[2] - prev.data[0] && data[1] === prev.data[3] - prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            } else if (prev.instruction === "t" && data[2] === prev.data[0] && data[3] === prev.data[1]) {
              instruction = "t";
              data = data.slice(2);
            }
          }
        }
        if (params2.removeUseless && !hasStrokeLinecap) {
          if ("lhvqtcs".indexOf(instruction) > -1 && data.every(function(i4) {
            return i4 === 0;
          })) {
            path3[index] = prev;
            return false;
          }
          if (instruction === "a" && data[5] === 0 && data[6] === 0) {
            path3[index] = prev;
            return false;
          }
        }
        item.instruction = instruction;
        item.data = data;
        prev = item;
      } else {
        relSubpoint[0] = pathBase[0];
        relSubpoint[1] = pathBase[1];
        if (prev.instruction == "z")
          return false;
        prev = item;
      }
      return true;
    });
    return path2;
  }
  function convertToMixed(path2, params2) {
    var prev = path2[0];
    path2 = path2.filter(function(item, index) {
      if (index == 0)
        return true;
      if (!item.data) {
        prev = item;
        return true;
      }
      var instruction = item.instruction, data = item.data, adata = data && data.slice(0);
      if ("mltqsc".indexOf(instruction) > -1) {
        for (var i3 = adata.length; i3--; ) {
          adata[i3] += item.base[i3 % 2];
        }
      } else if (instruction == "h") {
        adata[0] += item.base[0];
      } else if (instruction == "v") {
        adata[0] += item.base[1];
      } else if (instruction == "a") {
        adata[5] += item.base[0];
        adata[6] += item.base[1];
      }
      roundData(adata);
      var absoluteDataStr = cleanupOutData(adata, params2), relativeDataStr = cleanupOutData(data, params2);
      if (params2.forceAbsolutePath || absoluteDataStr.length < relativeDataStr.length && !(params2.negativeExtraSpace && instruction == prev.instruction && prev.instruction.charCodeAt(0) > 96 && absoluteDataStr.length == relativeDataStr.length - 1 && (data[0] < 0 || /^0\./.test(data[0]) && prev.data[prev.data.length - 1] % 1))) {
        item.instruction = instruction.toUpperCase();
        item.data = adata;
      }
      prev = item;
      return true;
    });
    return path2;
  }
  function isConvex(data) {
    var center = getIntersection([
      0,
      0,
      data[2],
      data[3],
      data[0],
      data[1],
      data[4],
      data[5]
    ]);
    return center && data[2] < center[0] == center[0] < 0 && data[3] < center[1] == center[1] < 0 && data[4] < center[0] == center[0] < data[0] && data[5] < center[1] == center[1] < data[1];
  }
  function getIntersection(coords) {
    var a1 = coords[1] - coords[3], b1 = coords[2] - coords[0], c1 = coords[0] * coords[3] - coords[2] * coords[1], a22 = coords[5] - coords[7], b2 = coords[6] - coords[4], c22 = coords[4] * coords[7] - coords[5] * coords[6], denom = a1 * b2 - a22 * b1;
    if (!denom)
      return;
    var cross = [(b1 * c22 - b2 * c1) / denom, (a1 * c22 - a22 * c1) / -denom];
    if (!isNaN(cross[0]) && !isNaN(cross[1]) && isFinite(cross[0]) && isFinite(cross[1])) {
      return cross;
    }
  }
  function strongRound(data) {
    for (var i3 = data.length; i3-- > 0; ) {
      if (data[i3].toFixed(precision) != data[i3]) {
        var rounded = +data[i3].toFixed(precision - 1);
        data[i3] = +Math.abs(rounded - data[i3]).toFixed(precision + 1) >= error ? +data[i3].toFixed(precision) : rounded;
      }
    }
    return data;
  }
  function round(data) {
    for (var i3 = data.length; i3-- > 0; ) {
      data[i3] = Math.round(data[i3]);
    }
    return data;
  }
  function isCurveStraightLine(data) {
    var i3 = data.length - 2, a3 = -data[i3 + 1], b = data[i3], d2 = 1 / (a3 * a3 + b * b);
    if (i3 <= 1 || !isFinite(d2))
      return false;
    while ((i3 -= 2) >= 0) {
      if (Math.sqrt(Math.pow(a3 * data[i3] + b * data[i3 + 1], 2) * d2) > error)
        return false;
    }
    return true;
  }
  function makeLonghand(item, data) {
    switch (item.instruction) {
      case "s":
        item.instruction = "c";
        break;
      case "t":
        item.instruction = "q";
        break;
    }
    item.data.unshift(data[data.length - 2] - data[data.length - 4], data[data.length - 1] - data[data.length - 3]);
    return item;
  }
  function getDistance(point1, point2) {
    return Math.hypot(point1[0] - point2[0], point1[1] - point2[1]);
  }
  function getCubicBezierPoint(curve, t2) {
    var sqrT = t2 * t2, cubT = sqrT * t2, mt = 1 - t2, sqrMt = mt * mt;
    return [
      3 * sqrMt * t2 * curve[0] + 3 * mt * sqrT * curve[2] + cubT * curve[4],
      3 * sqrMt * t2 * curve[1] + 3 * mt * sqrT * curve[3] + cubT * curve[5]
    ];
  }
  function findCircle(curve) {
    var midPoint = getCubicBezierPoint(curve, 1 / 2), m1 = [midPoint[0] / 2, midPoint[1] / 2], m2 = [(midPoint[0] + curve[4]) / 2, (midPoint[1] + curve[5]) / 2], center = getIntersection([
      m1[0],
      m1[1],
      m1[0] + m1[1],
      m1[1] - m1[0],
      m2[0],
      m2[1],
      m2[0] + (m2[1] - midPoint[1]),
      m2[1] - (m2[0] - midPoint[0])
    ]), radius = center && getDistance([0, 0], center), tolerance = Math.min(arcThreshold * error, arcTolerance * radius / 100);
    if (center && radius < 1e15 && [1 / 4, 3 / 4].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), center) - radius) <= tolerance;
    }))
      return {center, radius};
  }
  function isArc(curve, circle) {
    var tolerance = Math.min(arcThreshold * error, arcTolerance * circle.radius / 100);
    return [0, 1 / 4, 1 / 2, 3 / 4, 1].every(function(point) {
      return Math.abs(getDistance(getCubicBezierPoint(curve, point), circle.center) - circle.radius) <= tolerance;
    });
  }
  function isArcPrev(curve, circle) {
    return isArc(curve, {
      center: [circle.center[0] + curve[4], circle.center[1] + curve[5]],
      radius: circle.radius
    });
  }
  function findArcAngle(curve, relCircle) {
    var x1 = -relCircle.center[0], y1 = -relCircle.center[1], x2 = curve[4] - relCircle.center[0], y2 = curve[5] - relCircle.center[1];
    return Math.acos((x1 * x2 + y1 * y2) / Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2)));
  }
  function data2Path(params2, pathData) {
    return pathData.reduce(function(pathString, item) {
      var strData = "";
      if (item.data) {
        strData = cleanupOutData(roundData(item.data.slice()), params2);
      }
      return pathString + item.instruction + strData;
    }, "");
  }

  // src/utils/svg.ts
  async function decodeSvgToString(svg2, ids) {
    let svgStr = new TextDecoder("utf-8").decode(svg2);
    svgStr = svgStr.replace(/http:\/\//g, "https://");
    ids.forEach(([id, uid]) => {
      svgStr = svgStr.replace(`id="${id}"`, `id="${id}" class="${uid}" `);
    });
    const emptyDiv = document.createElement("div");
    emptyDiv.innerHTML = svgStr;
    const svgEl = emptyDiv.querySelector("svg");
    if (!svgEl) {
      throw new Error("SVG decode failed. Missing SVG element");
    }
    crunchSvg(svgEl);
    [...(svgEl == null ? void 0 : svgEl.querySelectorAll("clipPath")) || []].forEach((clipPath) => {
      var _a;
      if (clipPath.childElementCount === 0) {
        (_a = clipPath.parentNode) == null ? void 0 : _a.removeChild(clipPath);
      }
    });
    [...(svgEl == null ? void 0 : svgEl.querySelectorAll("text")) || []].forEach((textNode) => {
      var _a;
      (_a = textNode.parentNode) == null ? void 0 : _a.removeChild(textNode);
    });
    return svgEl.outerHTML;
  }

  // src/utils/messages.ts
  class Postman {
    constructor(props) {
      this.TIMEOUT = 3e4;
      this.receive = async (event) => {
        var _a;
        const msgBody = this.inFigmaSandbox ? event : (_a = event == null ? void 0 : event.data) == null ? void 0 : _a.pluginMessage;
        const {data, workload, name, uid, returning, err} = msgBody || {};
        try {
          if (this.name !== name)
            return;
          if (returning && !this.callbackStore[uid]) {
            throw new Error(`Missing callback: ${uid}`);
          }
          if (!returning && !this.workers[workload]) {
            throw new Error(`No workload registered: ${workload}`);
          }
          if (returning) {
            this.callbackStore[uid](data, err);
          } else {
            const workloadResult = await this.workers[workload](data);
            this.postBack({data: workloadResult, uid});
          }
        } catch (err2) {
          this.postBack({uid, err: "Postman failed"});
          console.error("Postman failed", err2);
        }
      };
      this.registerWorker = (eventType, fn) => {
        this.workers[eventType] = fn;
      };
      this.postBack = (props) => this.postMessage({
        name: this.name,
        uid: props.uid,
        data: props.data,
        returning: true,
        err: props.err
      });
      this.postMessage = (messageBody) => this.inFigmaSandbox ? figma.ui.postMessage(messageBody) : parent.postMessage({pluginMessage: messageBody}, "*");
      this.send = (props) => {
        return new Promise((resolve, reject) => {
          const {workload, data} = props;
          const randomId = Math.random().toString(36).substr(5);
          this.postMessage({
            name: this.name,
            uid: randomId,
            workload,
            data
          });
          this.callbackStore[randomId] = (result, err) => {
            if (err) {
              reject(err);
            } else {
              resolve(result);
            }
          };
          setTimeout(() => reject(new Error("Timed out")), this.TIMEOUT);
        });
      };
      this.name = (props == null ? void 0 : props.messageName) || "POSTMAN";
      this.inFigmaSandbox = typeof figma === "object";
      this.callbackStore = {};
      this.workers = {};
      this.inFigmaSandbox ? figma.ui.on("message", this.receive) : window.addEventListener("message", this.receive);
    }
  }
  const postMan = new Postman();

  // src/components/App.tsx
  class App extends d {
    constructor() {
      super(...arguments);
      this.state = {
        error: void 0,
        ready: false,
        frames: {},
        stage: STAGES.CHOOSE_FRAMES,
        selectedFrames: [],
        responsive: true,
        headline: void 0,
        subhead: void 0,
        source: void 0,
        loading: false,
        svgMarkup: ""
      };
      this.updateInitialState = (data) => {
        const {frames, headline, subhead, source} = data;
        if (!Array.isArray(frames) || (frames == null ? void 0 : frames.length) < 1) {
          this.setState({error: "No frames!"});
          console.error("Post error: no frames", data);
          return;
        }
        const hasDuplicateWidths = frames.map((f3) => f3.width).some((width, _i, arr) => arr.indexOf(width) !== arr.lastIndexOf(width));
        if (hasDuplicateWidths) {
          this.setState({
            error: "The are frames with identical widths. Please resize or remove some frames."
          });
          return;
        }
        const frameData = {};
        for (const frame of frames) {
          const {id} = frame;
          const rndId = btoa(`${Math.random()}`).substr(6, 6);
          frameData[id] = __assign(__assign({}, frame), {uid: `f2h__${rndId}`});
        }
        const selectedFrames = frames.map((frame) => frame.id);
        this.setState({
          frames: frameData,
          ready: true,
          headline,
          subhead,
          source,
          selectedFrames
        });
      };
      this.handleRenderMessage = async (svgData) => {
        if (!svgData) {
          this.setState({error: "Failed to render"});
          console.error("Post message: failed to render");
          return;
        }
        const {
          selectedFrames,
          frames,
          headline,
          subhead,
          source,
          responsive
        } = this.state;
        const ids = selectedFrames.map((id) => [id, frames[id].uid]);
        const svgText = await decodeSvgToString(svgData, ids);
        const selected = Object.values(frames).filter((f3) => selectedFrames.includes(f3.id));
        const html = renderInline({
          frames: selected,
          svgText,
          headline,
          subhead,
          source,
          responsive
        });
        this.setState({
          svgMarkup: html,
          stage: STAGES.RESPONSIVE_PREVIEW,
          loading: false
        });
      };
      this.goNext = () => {
        const {stage} = this.state;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            this.getOutputRender();
            this.setState({loading: true});
            return;
          case STAGES.RESPONSIVE_PREVIEW:
            this.setState({stage: STAGES.SAVE_OUTPUT});
            return;
          case STAGES.SAVE_OUTPUT:
            return;
        }
      };
      this.goBack = () => {
        const {stage} = this.state;
        switch (stage) {
          case STAGES.CHOOSE_FRAMES:
            return;
          case STAGES.RESPONSIVE_PREVIEW:
            this.setState({stage: STAGES.CHOOSE_FRAMES});
            return;
          case STAGES.SAVE_OUTPUT:
            this.setState({stage: STAGES.RESPONSIVE_PREVIEW});
            return;
        }
      };
      this.getOutputRender = () => {
        const {selectedFrames} = this.state;
        postMan.send({workload: MSG_EVENTS.RENDER, data: selectedFrames}).then(this.handleRenderMessage).catch((err) => {
          console.error("error getting render", err);
        });
      };
      this.toggleFrameSelect = (id) => {
        const {selectedFrames} = this.state;
        this.setState({
          selectedFrames: selectedFrames.includes(id) ? selectedFrames.filter((frameId) => id !== frameId) : [...selectedFrames, id]
        });
      };
      this.toggleSelectAll = () => {
        const {selectedFrames, frames} = this.state;
        if (selectedFrames.length > 0) {
          this.setState({selectedFrames: []});
        } else {
          this.setState({selectedFrames: Object.values(frames).map((f3) => f3.id)});
        }
      };
      this.handleFormUpdate = (props) => {
        this.setState(__assign({}, props));
        postMan.send({workload: MSG_EVENTS.UPDATE_HEADLINES, data: props}).catch(() => this.setState({error: "Form update failed"}));
      };
      this.getSelectedFrames = () => {
        const {frames, selectedFrames} = this.state;
        return Object.values(frames).filter((f3) => selectedFrames.includes(f3.id));
      };
      this.toggleResponsive = () => {
        this.setState({responsive: !this.state.responsive});
      };
    }
    componentDidMount() {
      postMan.send({workload: MSG_EVENTS.GET_ROOT_FRAMES}).then(this.updateInitialState).catch((err) => console.error("error requesting frames", err));
    }
    render() {
      const {version: version2} = this.props;
      const {
        error: error2,
        stage,
        loading,
        svgMarkup,
        headline,
        subhead,
        source,
        selectedFrames,
        frames,
        responsive
      } = this.state;
      console.log(this.state);
      const frameWidths = this.getSelectedFrames().map((f3) => f3.width).sort();
      return /* @__PURE__ */ v("div", {
        className: "f2h"
      }, !error2 && /* @__PURE__ */ v("header", {
        className: "f2h__header"
      }, /* @__PURE__ */ v(HeaderTitle, {
        stage
      }), stage === STAGES.RESPONSIVE_PREVIEW && /* @__PURE__ */ v(SvgInformation, {
        svgMarkup
      }), /* @__PURE__ */ v("button", {
        onClick: this.goBack,
        disabled: stage === STAGES.CHOOSE_FRAMES
      }, "Back"), /* @__PURE__ */ v("button", {
        className: "btn--primary",
        onClick: this.goNext,
        disabled: stage === STAGES.SAVE_OUTPUT
      }, "Next")), /* @__PURE__ */ v("div", {
        className: "f2h__body"
      }, error2 && /* @__PURE__ */ v("div", {
        className: "error"
      }, error2), loading && /* @__PURE__ */ v("div", {
        className: "loading"
      }, /* @__PURE__ */ v("p", {
        className: "loading__msg"
      }, "Merging frames"), /* @__PURE__ */ v("p", {
        className: "loading__msg"
      }, "Rendering HTML"), /* @__PURE__ */ v("p", {
        className: "loading__msg"
      }, "Optimising images"), /* @__PURE__ */ v("p", {
        className: "loading__msg"
      }, "Simplifying shapes")), !error2 && !loading && stage === STAGES.CHOOSE_FRAMES && /* @__PURE__ */ v(FrameSelection, {
        frames,
        selectedFrames,
        handleClick: this.toggleFrameSelect,
        toggleSelectAll: this.toggleSelectAll,
        responsive,
        toggleResponsive: this.toggleResponsive,
        headline,
        subhead,
        source,
        handleFormUpdate: this.handleFormUpdate
      }), !error2 && !loading && stage === STAGES.RESPONSIVE_PREVIEW && /* @__PURE__ */ v(ResponsiveView, {
        svgMarkup,
        frameWidths
      }), !error2 && !loading && stage === STAGES.SAVE_OUTPUT && /* @__PURE__ */ v(Save, {
        svgMarkup
      })), /* @__PURE__ */ v("p", {
        className: "f2h__version"
      }, "Version: ", version2));
    }
  }

  // src/helpers/imageHelper.ts
  const pica = __toModule(require_pica());
  const upng_js = __toModule(require_UPNG());
  const JPEG_MAGIC_BYTES = [
    [255, 216, 255, 219],
    [255, 216, 255, 238],
    [255, 216, 255, 225],
    [255, 216, 255, 224, 0, 16, 74, 70, 73, 70, 0, 1]
  ];
  const PNG_MAGIC_BYTES = [137, 80, 78, 71, 13, 10, 26, 10];
  const GIF_MAGIC_BYTES = [
    [71, 73, 70, 56, 55, 97],
    [71, 73, 70, 56, 57, 97]
  ];
  var IMAGE_FORMATS;
  (function(IMAGE_FORMATS2) {
    IMAGE_FORMATS2[IMAGE_FORMATS2["PNG"] = 0] = "PNG";
    IMAGE_FORMATS2[IMAGE_FORMATS2["JPEG"] = 1] = "JPEG";
    IMAGE_FORMATS2[IMAGE_FORMATS2["GIF"] = 2] = "GIF";
    IMAGE_FORMATS2[IMAGE_FORMATS2["UNKNOWN"] = 3] = "UNKNOWN";
  })(IMAGE_FORMATS || (IMAGE_FORMATS = {}));
  function identifyImageFormat(imageData) {
    const isPng = PNG_MAGIC_BYTES.every((val, i3) => val === imageData[i3]);
    if (isPng) {
      return 0;
    }
    const isJpeg = JPEG_MAGIC_BYTES.some((bytes) => bytes.every((val, i3) => val === imageData[i3]));
    if (isJpeg) {
      return 1;
    }
    const isGif = GIF_MAGIC_BYTES.some((bytes) => bytes.every((val, i3) => val === imageData[i3]));
    if (isGif) {
      return 2;
    }
    return 3;
  }
  function calcSmallestImageSize(originalWidth, originalHeight, nodeDimensions) {
    const aspectRatio = originalWidth / originalHeight;
    let width = 200;
    let height = 200;
    if (aspectRatio < 1) {
      const maxAspectHeight = Math.max(...nodeDimensions.flatMap((d2) => d2.width / aspectRatio));
      const maxNodeHeight = Math.max(...nodeDimensions.flatMap((d2) => d2.height));
      height = Math.max(maxNodeHeight, maxAspectHeight);
      width = height * aspectRatio;
    } else {
      const maxAspectWidth = Math.max(...nodeDimensions.flatMap((d2) => d2.height * aspectRatio));
      const maxNodeWidth = Math.max(...nodeDimensions.flatMap((d2) => d2.width));
      width = Math.max(maxNodeWidth, maxAspectWidth);
      height = width / aspectRatio;
    }
    if (width > originalWidth || height > originalHeight) {
      width = originalWidth;
      height = originalHeight;
    } else {
      width = Math.round(width);
      height = Math.round(height);
    }
    return {width, height};
  }
  async function optimizeImage(imgData, canvas) {
    const _COLOUR_COUNT = 64;
    const imageFormat = identifyImageFormat(imgData);
    const {width, height} = canvas;
    const ctx = canvas.getContext("2d");
    let returnImageData;
    if (imageFormat === 0 || imageFormat === 2) {
      const data = ctx.getImageData(0, 0, width, height).data;
      const tinyPng = upng_js.default.encode([data.buffer], width, height, _COLOUR_COUNT);
      returnImageData = new Uint8Array(tinyPng);
    } else {
      const blob = await canvas.convertToBlob({
        type: "image/jpeg",
        quality: 0.85
      });
      const buff = await blob.arrayBuffer();
      returnImageData = new Uint8Array(buff);
    }
    return returnImageData;
  }
  async function resizeAndOptimiseImage(props) {
    const {img, imgData, nodeDimensions, resolve, reject} = props;
    try {
      const {width, height} = calcSmallestImageSize(img.width, img.height, nodeDimensions);
      const canvas = new OffscreenCanvas(width, height);
      const pica2 = new pica.default();
      await pica2.resize(img, canvas, {
        unsharpAmount: 50,
        alpha: true
      });
      const optimisedImage = await optimizeImage(imgData, canvas);
      resolve(optimisedImage);
    } catch (err) {
      reject(err);
    }
  }

  // src/helpers.ts
  function compressImage(props) {
    return new Promise((resolve, reject) => {
      const img = new Image();
      const {imgData, nodeDimensions} = props;
      img.addEventListener("load", () => {
        resizeAndOptimiseImage({
          img,
          imgData,
          nodeDimensions,
          resolve,
          reject
        }).catch((err) => reject(err));
      });
      img.addEventListener("error", (err) => {
        console.error("Error loading compressed image");
        reject(err);
      });
      const blob = new Blob([imgData], {type: "image/png"});
      const imgUrl = URL.createObjectURL(blob);
      img.src = imgUrl;
    });
  }

  // package.json
  var version = "0.3.0";

  // src/ui.css
  var ui_default = '/*! minireset.css v0.0.6 | MIT License | github.com/jgthms/minireset.css */\nhtml,\nbody,\np,\nol,\nul,\nli,\ndl,\ndt,\ndd,\nblockquote,\nfigure,\nfieldset,\nlegend,\ntextarea,\npre,\niframe,\nhr,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: 100%;\n  font-weight: normal;\n}\nul {\n  list-style: none;\n}\nbutton,\ninput,\nselect,\ntextarea {\n  margin: 0;\n}\nhtml {\n  box-sizing: border-box;\n}\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\n\niframe {\n  border: 0;\n}\n\n@import url("https://rsms.me/inter/inter.css");\n\nbody {\n  --padding-small: 6px;\n  --padding-medium: 12px;\n  --padding-large: 24px;\n  --padding-huge: 48px;\n\n  --border-radius-small: 3px;\n  --border-radius-medium: 6px;\n  --border-radius-large: 12px;\n\n  --colours-grey-0: rgb(33, 33, 33);\n  --colours-grey-1: rgb(74, 74, 74);\n  --colours-grey-2: rgb(133, 133, 133);\n  --colours-grey-3: rgb(179, 179, 179);\n  --colours-grey-4: rgb(227, 227, 227);\n  --colours-grey-5: rgb(245, 245, 245);\n  --colours-main: rgb(72, 202, 126);\n  --colours-main-light: rgb(208, 242, 222);\n  --colours-main-dark: rgb(44, 75, 57);\n  --colours-warning: rgb(255, 242, 175);\n\n  --font-family-sans-serif: Arial, Helvetica, sans-serif;\n  --font-famailt-serif: Georgia, "Times New Roman", Times, serif;\n\n  --font-size--small: 11px;\n  --font-size--medium: 14px;\n  --font-size--large: 18px;\n}\n\nhtml {\n  font-family: "Inter", sans-serif;\n}\n@supports (font-variation-settings: normal) {\n  html {\n    font-family: "Inter var", sans-serif;\n  }\n}\n\nhtml,\nbody {\n  margin: 0;\n  font-size: 14px;\n}\n\nbutton {\n  border: 1px solid transparent;\n  background: #fff;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  cursor: pointer;\n  border-radius: var(--border-radius-small, 0);\n  outline: none;\n  border: 1px solid var(--colours-grey-3, #f0f);\n  background: #fff;\n}\n\n.btn--primary {\n  color: #fff;\n  background: var(--colours-main, #f0f);\n  border-color: var(--colours-main, #f0f);\n}\n\nbutton:disabled {\n  border: 1px solid var(--colours-grey-4, #f0f);\n  color: var(--colours-grey-4, #f0f);\n  background: #fff;\n}\n\nbutton:active,\nbutton:hover {\n  outline: none;\n}\n\n.f2h {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n/* [Header] */\n.f2h__header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  border-bottom: 1px solid #e4e4e4;\n  background: #f9f9f9;\n}\n\n.f2h__title {\n  font-family: var(--font-family-sans-serif, sans-serif);\n  font-size: var(--font-size--medium, 1em);\n  flex: 1;\n}\n.f2h__info {\n  margin-left: var(--padding-medium, 0);\n  display: flex;\n  max-width: 60%;\n  white-space: nowrap;\n}\n.f2h__info_title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.f2h__info_meta {\n  font-size: var(--font-size--medium, 1em);\n  margin: 0 var(--padding-small, 0);\n}\n.f2h__file_size {\n  margin-left: var(--padding-small, 0);\n  font-weight: bold;\n}\n\n.f2h__header button {\n  margin-left: var(--padding-small, 0);\n}\n\n/* [ Body ] */\n.f2h__body {\n  display: flex;\n  padding: var(--padding-large, 0) var(--padding-huge, 0);\n  align-items: flex-start;\n  justify-content: center;\n  height: 100%;\n  background-color: var(--colours-grey-5, #f0f);\n}\n\n/* [ Footer ] */\n.f2h__version {\n  position: absolute;\n  bottom: var(--padding-small, 0);\n  right: var(--padding-small, 0);\n  color: var(--colours-grey-3, #f0f);\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n\n/* [ Frame selection and Form ] */\n.f2h__choose_frames {\n  min-width: 50%;\n}\n.f2h__info_form {\n  margin-bottom: var(--padding-large, 0);\n}\n.f2h__info_form__item {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: var(--padding-medium, 0);\n}\n.f2h__info_form__label {\n  font-size: var(--font-size--small, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n}\n.f2h__info_form__input {\n  font-size: var(--font-size--medium, 1em);\n  font-family: var(--font-family-sans-serif, sans-serif);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n}\n\n.f2h__frame_selection {\n  display: grid;\n  grid-template-columns: 1fr min-content;\n  grid-template-rows: auto;\n  min-width: 320px;\n  grid-gap: var(--padding-small, 0) var(--padding-medium, 0);\n  align-items: center;\n}\n\n.f2h__sel_header {\n  color: var(--colours-grey-0, #f0f);\n  font-size: var(--font-size--medium);\n  border-bottom: 1px solid var(--colours-grey-0);\n  padding-bottom: var(--padding-small, 0);\n}\n\n.f2h__sel_header--name {\n  grid-column: 1/2;\n  grid-row: 1/2;\n}\n\n.f2h__sel_header--responsive {\n  grid-column: 2/3;\n  grid-row: 1/2;\n  justify-self: center;\n  white-space: nowrap;\n}\n\n.f2h__label.f2h__label--name {\n  grid-column: 1/2;\n  align-items: baseline;\n}\n.f2h__label--name-text {\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.f2h__input--responsive {\n  grid-column: 2/3;\n  justify-self: center;\n  margin: 0;\n}\n\n.f2h__label {\n  display: flex;\n  cursor: pointer;\n  padding: var(--padding-small) 0;\n  align-items: center;\n  min-width: 0;\n}\n\n.f2h__sel_width {\n  font-size: var(--font-size--small, 1em);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n  white-space: nowrap;\n}\n\n.f2h__checkbox,\n.f2h__radio_btn {\n  margin-right: var(--padding-medium, 0);\n}\n\n.f2h__selection_width {\n  font-size: var(--font-size--small, 1);\n  margin: 0 var(--padding-small, 0);\n  display: block;\n  color: var(--colours-grey-2, #f0f);\n}\n\n/* [Preview]  */\n.f2h__preview {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n}\n.f2h__preview_title {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-small, 0) 0;\n  display: flex;\n}\n.f2h__preview_name {\n  flex: 1;\n}\n\n.f2h__preview_inner {\n  overflow: auto;\n  max-height: 100%;\n  max-width: 100%;\n  margin: auto;\n}\n.f2h__preview_inner--scaled {\n  overflow: hidden;\n}\n\n.f2h__preview_wrapper {\n  overflow-x: auto;\n  overflow-y: hidden;\n  width: 100%;\n}\n\n.f2h__preview_responsive,\n.f2h__preview_width {\n  font-size: var(--font-size--small, 1);\n  color: var(--colours-grey-3, #f0f);\n  padding-left: var(--padding-small, 0);\n}\n\n.f2h__notice--warning {\n  background: var(--colours-warning, #f0f);\n  padding: var(--padding-small, 0) var(--padding-medium, 0);\n  margin: var(--padding-small, 0) 0;\n  font-size: var(--font-size--medium, 1em);\n  border-radius: var(--border-radius-medium, 0);\n}\n\n.f2h__notice--error {\n  font-weight: bold;\n  background: #ffeded;\n  color: #a70f0f;\n}\n\n/* [Render] */\n.f2h__render {\n  transform-origin: top left;\n}\n\n.f2h__render--responsive svg {\n  width: 100%;\n}\n\n.error {\n  background-color: var(--colours-grey-5, #f0f);\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0) var(--padding-small, 0);\n  text-align: center;\n  color: var(--colours-grey-0, #f0f);\n  margin: var(--padding-medium, 0) 0;\n  flex: 1;\n  align-self: center;\n}\n\n/* [Save] */\n.f2h__save {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-self: center;\n  max-width: 800px;\n}\n\n.f2h__save_btn {\n  font-size: var(--font-size--large, 1em);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  margin-right: var(--padding-medium, 0);\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n.f2h__save_btn:hover {\n  border-top: 0;\n  border-bottom-width: 5px;\n  box-shadow: 0 4px 2px rgba(0, 0, 0, 0.1);\n}\n.f2h__save_btn:active {\n  border-bottom: 2px solid var(--colours-main-dark, #f0f);\n  border-top: 3px solid transparent;\n}\n\n.f2h__save_btn:last-of-type {\n  margin: 0;\n}\n\n.f2h__save_options {\n  display: flex;\n  justify-content: center;\n}\n\n.f2h__save__subhead {\n  font-size: var(--font-size--medium, 1);\n  margin: var(--padding-large, 0) 0 var(--padding-small, 0);\n  padding-bottom: var(--padding-small, 0);\n  border-bottom: 1px solid var(--colours-grey-4, #f0f);\n}\n\n.f2h__save_advanced {\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n.f2h__save_advanced--open {\n  opacity: 1;\n}\n\n.f2h__save_advanced-header {\n  display: flex;\n}\n\n.f2h__save_advanced_title {\n  flex: 1;\n}\n\n.f2h__save_advanced_show {\n  background-color: transparent;\n  border: 1px solid var(--colours-grey-3, #f0f);\n}\n\n.f2h__save__raw {\n  width: 100%;\n  padding: var(--padding-small, 0);\n  border: 1px solid var(--colours-grey-4, #f0f);\n  font-family: monospace;\n  font-size: 11px;\n  min-height: 150px;\n  max-height: 300px;\n}\n\n/* Resize widget */\n.f2h__resizer {\n  width: 32px;\n  height: 32px;\n  position: absolute;\n  bottom: 6px;\n  right: 6px;\n  cursor: grabbing;\n  background: repeating-linear-gradient(\n    -45deg,\n    #d2d2d2,\n    #d2d2d2 2px,\n    transparent 1px,\n    transparent 8px\n  );\n  border-radius: 100% 0 0;\n}\n\n.f2h__toast {\n  background-color: var(--colours-grey-1, #f0f);\n  color: #fff;\n  border-radius: var(--border-radius-small, 0);\n  padding: var(--padding-medium, 0);\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n  transition: transform 0.3s, opacity 0.3s 0.1s;\n  opacity: 0;\n}\n\n.f2h__toast--open {\n  transform: translate(-50%, -100%);\n  opacity: 1;\n}\n\n/* [Responsive preview] */\n.f2h__responsive_preview {\n  /* width: 300px; */\n  display: flex;\n  flex-direction: column;\n}\n\n.f2h__responsive__wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 500px;\n}\n\n.f2h__responsive_info {\n  display: flex;\n  border-bottom: 1px solid var(--colours-grey-3, #f0f);\n  padding-bottom: var(--padding-small, 0);\n}\n.f2h__responsive_width {\n  flex: 1;\n}\n\n.f2h__responsive_input {\n  width: 5em;\n  text-align: right;\n  margin-right: var(--padding-small, 0);\n  display: inline-block;\n}\n.f2h__responsive_input:focus {\n  outline: none;\n}\n\n.f2h__responsive__sandbox {\n  resize: both;\n  overflow: hidden;\n  outline: 1px solid var(--colours-grey-4, #f0f);\n  margin: var(--padding-small, 0) 0;\n\n  /* https://leaverou.github.io/css3patterns/#checkerboard */\n  background-color: #eee;\n  background-image: linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    ),\n    linear-gradient(\n      45deg,\n      var(--colours-grey-4, #f0f) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--colours-grey-4, #f0f) 75%,\n      var(--colours-grey-4, #f0f)\n    );\n  background-size: 20px 20px;\n  background-position: 0 0, 10px 10px;\n  min-height: 60vh;\n  max-width: 98vw;\n}\n\n.responsive_width_btn {\n  background-color: var(--colours-grey-4, #f0f);\n  margin: 1px;\n  border-radius: 3px;\n  padding: 2px var(--padding-small);\n  font-size: var(--font-size--small);\n  cursor: pointer;\n  box-sizing: border-box;\n  display: inline-block;\n}\n.responsive_width_btn.active {\n  background-color: var(--colours-main, #f0f);\n  color: #fff;\n}\n\n/* [ Loading ] */\n.loading {\n  --loading-animation-duration: 8s;\n  background: var(--colours-grey-4, #f0f);\n  padding: var(--padding-medium, 0) var(--padding-large, 0);\n  border-radius: 3px;\n  display: grid;\n}\n\n.loading__msg {\n  animation-duration: var(--loading-animation-duration, 0);\n  animation-timing-function: ease-in-out;\n  animation-direction: normal;\n  animation-iteration-count: infinite;\n  animation-name: loadingFadeInOut;\n  animation-delay: 0;\n  opacity: 0;\n  grid-row: 1/2;\n  grid-column: 1/2;\n  text-align: center;\n  font-size: var(--font-size--large, 1em);\n}\n\n@keyframes loadingFadeInOut {\n  0% {\n    opacity: 0;\n  }\n  17.5% {\n    opacity: 1;\n  }\n  25% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n.loading__msg:nth-child(2) {\n  animation-delay: calc(var(--loading-animation-duration, 1s) / 4);\n}\n\n.loading__msg:nth-child(3) {\n  animation-delay: calc(var(--loading-animation-duration, 1s) / 4 * 2);\n}\n\n.loading__msg:nth-child(4) {\n  animation-delay: calc(var(--loading-animation-duration, 1s) / 4 * 3);\n}\n';

  // src/ui.tsx
  injectCss(ui_default);
  injectCss(embed_default);
  injectCss(fonts_default);
  postMan.registerWorker(MSG_EVENTS.COMPRESS_IMAGE, compressImage);
  M(/* @__PURE__ */ v(App, {
    version
  }), document.body);
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3Bha28vbGliL3V0aWxzL2NvbW1vbi5qcyIsICJub2RlX21vZHVsZXMvcGFrby9saWIvemxpYi90cmVlcy5qcyIsICJub2RlX21vZHVsZXMvcGFrby9saWIvemxpYi9hZGxlcjMyLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2NyYzMyLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL21lc3NhZ2VzLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2RlZmxhdGUuanMiLCAibm9kZV9tb2R1bGVzL3Bha28vbGliL3V0aWxzL3N0cmluZ3MuanMiLCAibm9kZV9tb2R1bGVzL3Bha28vbGliL3psaWIvenN0cmVhbS5qcyIsICJub2RlX21vZHVsZXMvcGFrby9saWIvZGVmbGF0ZS5qcyIsICJub2RlX21vZHVsZXMvcGFrby9saWIvemxpYi9pbmZmYXN0LmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2luZnRyZWVzLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2luZmxhdGUuanMiLCAibm9kZV9tb2R1bGVzL3Bha28vbGliL3psaWIvY29uc3RhbnRzLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi96bGliL2d6aGVhZGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2xpYi9pbmZsYXRlLmpzIiwgIm5vZGVfbW9kdWxlcy9wYWtvL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanMiLCAibm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsICJub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwgIm5vZGVfbW9kdWxlcy9sb2Rhc2gvbm93LmpzIiwgIm5vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcyIsICJub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCAibm9kZV9tb2R1bGVzL2xvZGFzaC9fb2JqZWN0VG9TdHJpbmcuanMiLCAibm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcyIsICJub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsICJub2RlX21vZHVsZXMvbG9kYXNoL2lzU3ltYm9sLmpzIiwgIm5vZGVfbW9kdWxlcy9sb2Rhc2gvdG9OdW1iZXIuanMiLCAibm9kZV9tb2R1bGVzL2xvZGFzaC9kZWJvdW5jZS5qcyIsICJub2RlX21vZHVsZXMvZmlsZS1zYXZlci9kaXN0Ly4uL3NyYy9GaWxlU2F2ZXIuanMiLCAibm9kZV9tb2R1bGVzL3BpY2EvZGlzdC9waWNhLmpzIiwgIm5vZGVfbW9kdWxlcy91cG5nLWpzL1VQTkcuanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9jb25zdGFudHMuanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9vcHRpb25zLmpzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QvZGlzdC8uLi9zcmMvY3JlYXRlLWVsZW1lbnQuanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9jb21wb25lbnQuanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9yZW5kZXIuanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9jcmVhdGUtY29udGV4dC5qcyIsICJub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvLi4vc3JjL3V0aWwuanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9kaWZmL2NoaWxkcmVuLmpzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QvZGlzdC8uLi9zcmMvZGlmZi9wcm9wcy5qcyIsICJub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvLi4vc3JjL2RpZmYvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0Ly4uL3NyYy9jbG9uZS1lbGVtZW50LmpzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QvZGlzdC8uLi9zcmMvZGlmZi9jYXRjaC1lcnJvci5qcyIsICJzcmMvdXRpbHMvY3NzLnRzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QtcmVuZGVyLXRvLXN0cmluZy9kaXN0Ly4uL3NyYy91dGlsLmpzIiwgIm5vZGVfbW9kdWxlcy9wcmVhY3QtcmVuZGVyLXRvLXN0cmluZy9kaXN0Ly4uL3NyYy9pbmRleC5qcyIsICJzcmMvb3V0cHV0UmVuZGVyLnRzeCIsICJzcmMvY29uc3RhbnRzLnRzIiwgInNyYy9jb21wb25lbnRzL0hlYWRlci50c3giLCAic3JjL2NvbXBvbmVudHMvUmVzcG9uc2l2ZVZpZXcudHN4IiwgInNyYy9jb21wb25lbnRzL0ZyYW1lU2VsZWN0aW9uLnRzeCIsICJzcmMvY29tcG9uZW50cy9TYXZlLnRzeCIsICJzcmMvdXRpbHMvbGliL3Rvb2xzLnRzIiwgInNyYy91dGlscy9saWIvcGF0aC50cyIsICJzcmMvdXRpbHMvbGliL3NoYXBlVG9QYXRoLnRzIiwgInNyYy91dGlscy9jcnVuY2hTdmcudHMiLCAic3JjL3V0aWxzL3N2Zy50cyIsICJzcmMvdXRpbHMvbWVzc2FnZXMudHMiLCAic3JjL2NvbXBvbmVudHMvQXBwLnRzeCIsICJzcmMvaGVscGVycy9pbWFnZUhlbHBlci50cyIsICJzcmMvaGVscGVycy50cyIsICJzcmMvdWkudHN4Il0sCiAgInNvdXJjZXNDb250ZW50IjogWyIndXNlIHN0cmljdCc7XG5cblxudmFyIFRZUEVEX09LID0gICh0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcpICYmXG4gICAgICAgICAgICAgICAgKHR5cGVvZiBVaW50MTZBcnJheSAhPT0gJ3VuZGVmaW5lZCcpICYmXG4gICAgICAgICAgICAgICAgKHR5cGVvZiBJbnQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyk7XG5cbmZ1bmN0aW9uIF9oYXMob2JqLCBrZXkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG5cbmV4cG9ydHMuYXNzaWduID0gZnVuY3Rpb24gKG9iaiAvKmZyb20xLCBmcm9tMiwgZnJvbTMsIC4uLiovKSB7XG4gIHZhciBzb3VyY2VzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgd2hpbGUgKHNvdXJjZXMubGVuZ3RoKSB7XG4gICAgdmFyIHNvdXJjZSA9IHNvdXJjZXMuc2hpZnQoKTtcbiAgICBpZiAoIXNvdXJjZSkgeyBjb250aW51ZTsgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHNvdXJjZSArICdtdXN0IGJlIG5vbi1vYmplY3QnKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBwIGluIHNvdXJjZSkge1xuICAgICAgaWYgKF9oYXMoc291cmNlLCBwKSkge1xuICAgICAgICBvYmpbcF0gPSBzb3VyY2VbcF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cblxuLy8gcmVkdWNlIGJ1ZmZlciBzaXplLCBhdm9pZGluZyBtZW0gY29weVxuZXhwb3J0cy5zaHJpbmtCdWYgPSBmdW5jdGlvbiAoYnVmLCBzaXplKSB7XG4gIGlmIChidWYubGVuZ3RoID09PSBzaXplKSB7IHJldHVybiBidWY7IH1cbiAgaWYgKGJ1Zi5zdWJhcnJheSkgeyByZXR1cm4gYnVmLnN1YmFycmF5KDAsIHNpemUpOyB9XG4gIGJ1Zi5sZW5ndGggPSBzaXplO1xuICByZXR1cm4gYnVmO1xufTtcblxuXG52YXIgZm5UeXBlZCA9IHtcbiAgYXJyYXlTZXQ6IGZ1bmN0aW9uIChkZXN0LCBzcmMsIHNyY19vZmZzLCBsZW4sIGRlc3Rfb2Zmcykge1xuICAgIGlmIChzcmMuc3ViYXJyYXkgJiYgZGVzdC5zdWJhcnJheSkge1xuICAgICAgZGVzdC5zZXQoc3JjLnN1YmFycmF5KHNyY19vZmZzLCBzcmNfb2ZmcyArIGxlbiksIGRlc3Rfb2Zmcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEZhbGxiYWNrIHRvIG9yZGluYXJ5IGFycmF5XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgZGVzdFtkZXN0X29mZnMgKyBpXSA9IHNyY1tzcmNfb2ZmcyArIGldO1xuICAgIH1cbiAgfSxcbiAgLy8gSm9pbiBhcnJheSBvZiBjaHVua3MgdG8gc2luZ2xlIGFycmF5LlxuICBmbGF0dGVuQ2h1bmtzOiBmdW5jdGlvbiAoY2h1bmtzKSB7XG4gICAgdmFyIGksIGwsIGxlbiwgcG9zLCBjaHVuaywgcmVzdWx0O1xuXG4gICAgLy8gY2FsY3VsYXRlIGRhdGEgbGVuZ3RoXG4gICAgbGVuID0gMDtcbiAgICBmb3IgKGkgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgbGVuICs9IGNodW5rc1tpXS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gam9pbiBjaHVua3NcbiAgICByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIHBvcyA9IDA7XG4gICAgZm9yIChpID0gMCwgbCA9IGNodW5rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNodW5rID0gY2h1bmtzW2ldO1xuICAgICAgcmVzdWx0LnNldChjaHVuaywgcG9zKTtcbiAgICAgIHBvcyArPSBjaHVuay5sZW5ndGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcblxudmFyIGZuVW50eXBlZCA9IHtcbiAgYXJyYXlTZXQ6IGZ1bmN0aW9uIChkZXN0LCBzcmMsIHNyY19vZmZzLCBsZW4sIGRlc3Rfb2Zmcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGRlc3RbZGVzdF9vZmZzICsgaV0gPSBzcmNbc3JjX29mZnMgKyBpXTtcbiAgICB9XG4gIH0sXG4gIC8vIEpvaW4gYXJyYXkgb2YgY2h1bmtzIHRvIHNpbmdsZSBhcnJheS5cbiAgZmxhdHRlbkNodW5rczogZnVuY3Rpb24gKGNodW5rcykge1xuICAgIHJldHVybiBbXS5jb25jYXQuYXBwbHkoW10sIGNodW5rcyk7XG4gIH1cbn07XG5cblxuLy8gRW5hYmxlL0Rpc2FibGUgdHlwZWQgYXJyYXlzIHVzZSwgZm9yIHRlc3Rpbmdcbi8vXG5leHBvcnRzLnNldFR5cGVkID0gZnVuY3Rpb24gKG9uKSB7XG4gIGlmIChvbikge1xuICAgIGV4cG9ydHMuQnVmOCAgPSBVaW50OEFycmF5O1xuICAgIGV4cG9ydHMuQnVmMTYgPSBVaW50MTZBcnJheTtcbiAgICBleHBvcnRzLkJ1ZjMyID0gSW50MzJBcnJheTtcbiAgICBleHBvcnRzLmFzc2lnbihleHBvcnRzLCBmblR5cGVkKTtcbiAgfSBlbHNlIHtcbiAgICBleHBvcnRzLkJ1ZjggID0gQXJyYXk7XG4gICAgZXhwb3J0cy5CdWYxNiA9IEFycmF5O1xuICAgIGV4cG9ydHMuQnVmMzIgPSBBcnJheTtcbiAgICBleHBvcnRzLmFzc2lnbihleHBvcnRzLCBmblVudHlwZWQpO1xuICB9XG59O1xuXG5leHBvcnRzLnNldFR5cGVkKFRZUEVEX09LKTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuLyogZXNsaW50LWRpc2FibGUgc3BhY2UtdW5hcnktb3BzICovXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL2NvbW1vbicpO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vL3ZhciBaX0ZJTFRFUkVEICAgICAgICAgID0gMTtcbi8vdmFyIFpfSFVGRk1BTl9PTkxZICAgICAgPSAyO1xuLy92YXIgWl9STEUgICAgICAgICAgICAgICA9IDM7XG52YXIgWl9GSVhFRCAgICAgICAgICAgICAgID0gNDtcbi8vdmFyIFpfREVGQVVMVF9TVFJBVEVHWSAgPSAwO1xuXG4vKiBQb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIGRhdGFfdHlwZSBmaWVsZCAodGhvdWdoIHNlZSBpbmZsYXRlKCkpICovXG52YXIgWl9CSU5BUlkgICAgICAgICAgICAgID0gMDtcbnZhciBaX1RFWFQgICAgICAgICAgICAgICAgPSAxO1xuLy92YXIgWl9BU0NJSSAgICAgICAgICAgICA9IDE7IC8vID0gWl9URVhUXG52YXIgWl9VTktOT1dOICAgICAgICAgICAgID0gMjtcblxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG5mdW5jdGlvbiB6ZXJvKGJ1ZikgeyB2YXIgbGVuID0gYnVmLmxlbmd0aDsgd2hpbGUgKC0tbGVuID49IDApIHsgYnVmW2xlbl0gPSAwOyB9IH1cblxuLy8gRnJvbSB6dXRpbC5oXG5cbnZhciBTVE9SRURfQkxPQ0sgPSAwO1xudmFyIFNUQVRJQ19UUkVFUyA9IDE7XG52YXIgRFlOX1RSRUVTICAgID0gMjtcbi8qIFRoZSB0aHJlZSBraW5kcyBvZiBibG9jayB0eXBlICovXG5cbnZhciBNSU5fTUFUQ0ggICAgPSAzO1xudmFyIE1BWF9NQVRDSCAgICA9IDI1ODtcbi8qIFRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIG1hdGNoIGxlbmd0aHMgKi9cblxuLy8gRnJvbSBkZWZsYXRlLmhcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW50ZXJuYWwgY29tcHJlc3Npb24gc3RhdGUuXG4gKi9cblxudmFyIExFTkdUSF9DT0RFUyAgPSAyOTtcbi8qIG51bWJlciBvZiBsZW5ndGggY29kZXMsIG5vdCBjb3VudGluZyB0aGUgc3BlY2lhbCBFTkRfQkxPQ0sgY29kZSAqL1xuXG52YXIgTElURVJBTFMgICAgICA9IDI1Njtcbi8qIG51bWJlciBvZiBsaXRlcmFsIGJ5dGVzIDAuLjI1NSAqL1xuXG52YXIgTF9DT0RFUyAgICAgICA9IExJVEVSQUxTICsgMSArIExFTkdUSF9DT0RFUztcbi8qIG51bWJlciBvZiBMaXRlcmFsIG9yIExlbmd0aCBjb2RlcywgaW5jbHVkaW5nIHRoZSBFTkRfQkxPQ0sgY29kZSAqL1xuXG52YXIgRF9DT0RFUyAgICAgICA9IDMwO1xuLyogbnVtYmVyIG9mIGRpc3RhbmNlIGNvZGVzICovXG5cbnZhciBCTF9DT0RFUyAgICAgID0gMTk7XG4vKiBudW1iZXIgb2YgY29kZXMgdXNlZCB0byB0cmFuc2ZlciB0aGUgYml0IGxlbmd0aHMgKi9cblxudmFyIEhFQVBfU0laRSAgICAgPSAyICogTF9DT0RFUyArIDE7XG4vKiBtYXhpbXVtIGhlYXAgc2l6ZSAqL1xuXG52YXIgTUFYX0JJVFMgICAgICA9IDE1O1xuLyogQWxsIGNvZGVzIG11c3Qgbm90IGV4Y2VlZCBNQVhfQklUUyBiaXRzICovXG5cbnZhciBCdWZfc2l6ZSAgICAgID0gMTY7XG4vKiBzaXplIG9mIGJpdCBidWZmZXIgaW4gYmlfYnVmICovXG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb25zdGFudHNcbiAqL1xuXG52YXIgTUFYX0JMX0JJVFMgPSA3O1xuLyogQml0IGxlbmd0aCBjb2RlcyBtdXN0IG5vdCBleGNlZWQgTUFYX0JMX0JJVFMgYml0cyAqL1xuXG52YXIgRU5EX0JMT0NLICAgPSAyNTY7XG4vKiBlbmQgb2YgYmxvY2sgbGl0ZXJhbCBjb2RlICovXG5cbnZhciBSRVBfM182ICAgICA9IDE2O1xuLyogcmVwZWF0IHByZXZpb3VzIGJpdCBsZW5ndGggMy02IHRpbWVzICgyIGJpdHMgb2YgcmVwZWF0IGNvdW50KSAqL1xuXG52YXIgUkVQWl8zXzEwICAgPSAxNztcbi8qIHJlcGVhdCBhIHplcm8gbGVuZ3RoIDMtMTAgdGltZXMgICgzIGJpdHMgb2YgcmVwZWF0IGNvdW50KSAqL1xuXG52YXIgUkVQWl8xMV8xMzggPSAxODtcbi8qIHJlcGVhdCBhIHplcm8gbGVuZ3RoIDExLTEzOCB0aW1lcyAgKDcgYml0cyBvZiByZXBlYXQgY291bnQpICovXG5cbi8qIGVzbGludC1kaXNhYmxlIGNvbW1hLXNwYWNpbmcsYXJyYXktYnJhY2tldC1zcGFjaW5nICovXG52YXIgZXh0cmFfbGJpdHMgPSAgIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggbGVuZ3RoIGNvZGUgKi9cbiAgWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF07XG5cbnZhciBleHRyYV9kYml0cyA9ICAgLyogZXh0cmEgYml0cyBmb3IgZWFjaCBkaXN0YW5jZSBjb2RlICovXG4gIFswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXTtcblxudmFyIGV4dHJhX2JsYml0cyA9ICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGJpdCBsZW5ndGggY29kZSAqL1xuICBbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyLDMsN107XG5cbnZhciBibF9vcmRlciA9XG4gIFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XTtcbi8qIGVzbGludC1lbmFibGUgY29tbWEtc3BhY2luZyxhcnJheS1icmFja2V0LXNwYWNpbmcgKi9cblxuLyogVGhlIGxlbmd0aHMgb2YgdGhlIGJpdCBsZW5ndGggY29kZXMgYXJlIHNlbnQgaW4gb3JkZXIgb2YgZGVjcmVhc2luZ1xuICogcHJvYmFiaWxpdHksIHRvIGF2b2lkIHRyYW5zbWl0dGluZyB0aGUgbGVuZ3RocyBmb3IgdW51c2VkIGJpdCBsZW5ndGggY29kZXMuXG4gKi9cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBMb2NhbCBkYXRhLiBUaGVzZSBhcmUgaW5pdGlhbGl6ZWQgb25seSBvbmNlLlxuICovXG5cbi8vIFdlIHByZS1maWxsIGFycmF5cyB3aXRoIDAgdG8gYXZvaWQgdW5pbml0aWFsaXplZCBnYXBzXG5cbnZhciBESVNUX0NPREVfTEVOID0gNTEyOyAvKiBzZWUgZGVmaW5pdGlvbiBvZiBhcnJheSBkaXN0X2NvZGUgYmVsb3cgKi9cblxuLy8gISEhISBVc2UgZmxhdCBhcnJheSBpbnN0ZWFkIG9mIHN0cnVjdHVyZSwgRnJlcSA9IGkqMiwgTGVuID0gaSoyKzFcbnZhciBzdGF0aWNfbHRyZWUgID0gbmV3IEFycmF5KChMX0NPREVTICsgMikgKiAyKTtcbnplcm8oc3RhdGljX2x0cmVlKTtcbi8qIFRoZSBzdGF0aWMgbGl0ZXJhbCB0cmVlLiBTaW5jZSB0aGUgYml0IGxlbmd0aHMgYXJlIGltcG9zZWQsIHRoZXJlIGlzIG5vXG4gKiBuZWVkIGZvciB0aGUgTF9DT0RFUyBleHRyYSBjb2RlcyB1c2VkIGR1cmluZyBoZWFwIGNvbnN0cnVjdGlvbi4gSG93ZXZlclxuICogVGhlIGNvZGVzIDI4NiBhbmQgMjg3IGFyZSBuZWVkZWQgdG8gYnVpbGQgYSBjYW5vbmljYWwgdHJlZSAoc2VlIF90cl9pbml0XG4gKiBiZWxvdykuXG4gKi9cblxudmFyIHN0YXRpY19kdHJlZSAgPSBuZXcgQXJyYXkoRF9DT0RFUyAqIDIpO1xuemVybyhzdGF0aWNfZHRyZWUpO1xuLyogVGhlIHN0YXRpYyBkaXN0YW5jZSB0cmVlLiAoQWN0dWFsbHkgYSB0cml2aWFsIHRyZWUgc2luY2UgYWxsIGNvZGVzIHVzZVxuICogNSBiaXRzLilcbiAqL1xuXG52YXIgX2Rpc3RfY29kZSAgICA9IG5ldyBBcnJheShESVNUX0NPREVfTEVOKTtcbnplcm8oX2Rpc3RfY29kZSk7XG4vKiBEaXN0YW5jZSBjb2Rlcy4gVGhlIGZpcnN0IDI1NiB2YWx1ZXMgY29ycmVzcG9uZCB0byB0aGUgZGlzdGFuY2VzXG4gKiAzIC4uIDI1OCwgdGhlIGxhc3QgMjU2IHZhbHVlcyBjb3JyZXNwb25kIHRvIHRoZSB0b3AgOCBiaXRzIG9mXG4gKiB0aGUgMTUgYml0IGRpc3RhbmNlcy5cbiAqL1xuXG52YXIgX2xlbmd0aF9jb2RlICA9IG5ldyBBcnJheShNQVhfTUFUQ0ggLSBNSU5fTUFUQ0ggKyAxKTtcbnplcm8oX2xlbmd0aF9jb2RlKTtcbi8qIGxlbmd0aCBjb2RlIGZvciBlYWNoIG5vcm1hbGl6ZWQgbWF0Y2ggbGVuZ3RoICgwID09IE1JTl9NQVRDSCkgKi9cblxudmFyIGJhc2VfbGVuZ3RoICAgPSBuZXcgQXJyYXkoTEVOR1RIX0NPREVTKTtcbnplcm8oYmFzZV9sZW5ndGgpO1xuLyogRmlyc3Qgbm9ybWFsaXplZCBsZW5ndGggZm9yIGVhY2ggY29kZSAoMCA9IE1JTl9NQVRDSCkgKi9cblxudmFyIGJhc2VfZGlzdCAgICAgPSBuZXcgQXJyYXkoRF9DT0RFUyk7XG56ZXJvKGJhc2VfZGlzdCk7XG4vKiBGaXJzdCBub3JtYWxpemVkIGRpc3RhbmNlIGZvciBlYWNoIGNvZGUgKDAgPSBkaXN0YW5jZSBvZiAxKSAqL1xuXG5cbmZ1bmN0aW9uIFN0YXRpY1RyZWVEZXNjKHN0YXRpY190cmVlLCBleHRyYV9iaXRzLCBleHRyYV9iYXNlLCBlbGVtcywgbWF4X2xlbmd0aCkge1xuXG4gIHRoaXMuc3RhdGljX3RyZWUgID0gc3RhdGljX3RyZWU7ICAvKiBzdGF0aWMgdHJlZSBvciBOVUxMICovXG4gIHRoaXMuZXh0cmFfYml0cyAgID0gZXh0cmFfYml0czsgICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGNvZGUgb3IgTlVMTCAqL1xuICB0aGlzLmV4dHJhX2Jhc2UgICA9IGV4dHJhX2Jhc2U7ICAgLyogYmFzZSBpbmRleCBmb3IgZXh0cmFfYml0cyAqL1xuICB0aGlzLmVsZW1zICAgICAgICA9IGVsZW1zOyAgICAgICAgLyogbWF4IG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgdHJlZSAqL1xuICB0aGlzLm1heF9sZW5ndGggICA9IG1heF9sZW5ndGg7ICAgLyogbWF4IGJpdCBsZW5ndGggZm9yIHRoZSBjb2RlcyAqL1xuXG4gIC8vIHNob3cgaWYgYHN0YXRpY190cmVlYCBoYXMgZGF0YSBvciBkdW1teSAtIG5lZWRlZCBmb3IgbW9ub21vcnBoaWMgb2JqZWN0c1xuICB0aGlzLmhhc19zdHJlZSAgICA9IHN0YXRpY190cmVlICYmIHN0YXRpY190cmVlLmxlbmd0aDtcbn1cblxuXG52YXIgc3RhdGljX2xfZGVzYztcbnZhciBzdGF0aWNfZF9kZXNjO1xudmFyIHN0YXRpY19ibF9kZXNjO1xuXG5cbmZ1bmN0aW9uIFRyZWVEZXNjKGR5bl90cmVlLCBzdGF0X2Rlc2MpIHtcbiAgdGhpcy5keW5fdHJlZSA9IGR5bl90cmVlOyAgICAgLyogdGhlIGR5bmFtaWMgdHJlZSAqL1xuICB0aGlzLm1heF9jb2RlID0gMDsgICAgICAgICAgICAvKiBsYXJnZXN0IGNvZGUgd2l0aCBub24gemVybyBmcmVxdWVuY3kgKi9cbiAgdGhpcy5zdGF0X2Rlc2MgPSBzdGF0X2Rlc2M7ICAgLyogdGhlIGNvcnJlc3BvbmRpbmcgc3RhdGljIHRyZWUgKi9cbn1cblxuXG5cbmZ1bmN0aW9uIGRfY29kZShkaXN0KSB7XG4gIHJldHVybiBkaXN0IDwgMjU2ID8gX2Rpc3RfY29kZVtkaXN0XSA6IF9kaXN0X2NvZGVbMjU2ICsgKGRpc3QgPj4+IDcpXTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE91dHB1dCBhIHNob3J0IExTQiBmaXJzdCBvbiB0aGUgc3RyZWFtLlxuICogSU4gYXNzZXJ0aW9uOiB0aGVyZSBpcyBlbm91Z2ggcm9vbSBpbiBwZW5kaW5nQnVmLlxuICovXG5mdW5jdGlvbiBwdXRfc2hvcnQocywgdykge1xuLy8gICAgcHV0X2J5dGUocywgKHVjaCkoKHcpICYgMHhmZikpO1xuLy8gICAgcHV0X2J5dGUocywgKHVjaCkoKHVzaCkodykgPj4gOCkpO1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9ICh3KSAmIDB4ZmY7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gKHcgPj4+IDgpICYgMHhmZjtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgYSB2YWx1ZSBvbiBhIGdpdmVuIG51bWJlciBvZiBiaXRzLlxuICogSU4gYXNzZXJ0aW9uOiBsZW5ndGggPD0gMTYgYW5kIHZhbHVlIGZpdHMgaW4gbGVuZ3RoIGJpdHMuXG4gKi9cbmZ1bmN0aW9uIHNlbmRfYml0cyhzLCB2YWx1ZSwgbGVuZ3RoKSB7XG4gIGlmIChzLmJpX3ZhbGlkID4gKEJ1Zl9zaXplIC0gbGVuZ3RoKSkge1xuICAgIHMuYmlfYnVmIHw9ICh2YWx1ZSA8PCBzLmJpX3ZhbGlkKSAmIDB4ZmZmZjtcbiAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpO1xuICAgIHMuYmlfYnVmID0gdmFsdWUgPj4gKEJ1Zl9zaXplIC0gcy5iaV92YWxpZCk7XG4gICAgcy5iaV92YWxpZCArPSBsZW5ndGggLSBCdWZfc2l6ZTtcbiAgfSBlbHNlIHtcbiAgICBzLmJpX2J1ZiB8PSAodmFsdWUgPDwgcy5iaV92YWxpZCkgJiAweGZmZmY7XG4gICAgcy5iaV92YWxpZCArPSBsZW5ndGg7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzZW5kX2NvZGUocywgYywgdHJlZSkge1xuICBzZW5kX2JpdHMocywgdHJlZVtjICogMl0vKi5Db2RlKi8sIHRyZWVbYyAqIDIgKyAxXS8qLkxlbiovKTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFJldmVyc2UgdGhlIGZpcnN0IGxlbiBiaXRzIG9mIGEgY29kZSwgdXNpbmcgc3RyYWlnaHRmb3J3YXJkIGNvZGUgKGEgZmFzdGVyXG4gKiBtZXRob2Qgd291bGQgdXNlIGEgdGFibGUpXG4gKiBJTiBhc3NlcnRpb246IDEgPD0gbGVuIDw9IDE1XG4gKi9cbmZ1bmN0aW9uIGJpX3JldmVyc2UoY29kZSwgbGVuKSB7XG4gIHZhciByZXMgPSAwO1xuICBkbyB7XG4gICAgcmVzIHw9IGNvZGUgJiAxO1xuICAgIGNvZGUgPj4+PSAxO1xuICAgIHJlcyA8PD0gMTtcbiAgfSB3aGlsZSAoLS1sZW4gPiAwKTtcbiAgcmV0dXJuIHJlcyA+Pj4gMTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZsdXNoIHRoZSBiaXQgYnVmZmVyLCBrZWVwaW5nIGF0IG1vc3QgNyBiaXRzIGluIGl0LlxuICovXG5mdW5jdGlvbiBiaV9mbHVzaChzKSB7XG4gIGlmIChzLmJpX3ZhbGlkID09PSAxNikge1xuICAgIHB1dF9zaG9ydChzLCBzLmJpX2J1Zik7XG4gICAgcy5iaV9idWYgPSAwO1xuICAgIHMuYmlfdmFsaWQgPSAwO1xuXG4gIH0gZWxzZSBpZiAocy5iaV92YWxpZCA+PSA4KSB7XG4gICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBzLmJpX2J1ZiAmIDB4ZmY7XG4gICAgcy5iaV9idWYgPj49IDg7XG4gICAgcy5iaV92YWxpZCAtPSA4O1xuICB9XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb21wdXRlIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhzIGZvciBhIHRyZWUgYW5kIHVwZGF0ZSB0aGUgdG90YWwgYml0IGxlbmd0aFxuICogZm9yIHRoZSBjdXJyZW50IGJsb2NrLlxuICogSU4gYXNzZXJ0aW9uOiB0aGUgZmllbGRzIGZyZXEgYW5kIGRhZCBhcmUgc2V0LCBoZWFwW2hlYXBfbWF4XSBhbmRcbiAqICAgIGFib3ZlIGFyZSB0aGUgdHJlZSBub2RlcyBzb3J0ZWQgYnkgaW5jcmVhc2luZyBmcmVxdWVuY3kuXG4gKiBPVVQgYXNzZXJ0aW9uczogdGhlIGZpZWxkIGxlbiBpcyBzZXQgdG8gdGhlIG9wdGltYWwgYml0IGxlbmd0aCwgdGhlXG4gKiAgICAgYXJyYXkgYmxfY291bnQgY29udGFpbnMgdGhlIGZyZXF1ZW5jaWVzIGZvciBlYWNoIGJpdCBsZW5ndGguXG4gKiAgICAgVGhlIGxlbmd0aCBvcHRfbGVuIGlzIHVwZGF0ZWQ7IHN0YXRpY19sZW4gaXMgYWxzbyB1cGRhdGVkIGlmIHN0cmVlIGlzXG4gKiAgICAgbm90IG51bGwuXG4gKi9cbmZ1bmN0aW9uIGdlbl9iaXRsZW4ocywgZGVzYylcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICB0cmVlX2Rlc2MgKmRlc2M7ICAgIC8qIHRoZSB0cmVlIGRlc2NyaXB0b3IgKi9cbntcbiAgdmFyIHRyZWUgICAgICAgICAgICA9IGRlc2MuZHluX3RyZWU7XG4gIHZhciBtYXhfY29kZSAgICAgICAgPSBkZXNjLm1heF9jb2RlO1xuICB2YXIgc3RyZWUgICAgICAgICAgID0gZGVzYy5zdGF0X2Rlc2Muc3RhdGljX3RyZWU7XG4gIHZhciBoYXNfc3RyZWUgICAgICAgPSBkZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWU7XG4gIHZhciBleHRyYSAgICAgICAgICAgPSBkZXNjLnN0YXRfZGVzYy5leHRyYV9iaXRzO1xuICB2YXIgYmFzZSAgICAgICAgICAgID0gZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYmFzZTtcbiAgdmFyIG1heF9sZW5ndGggICAgICA9IGRlc2Muc3RhdF9kZXNjLm1heF9sZW5ndGg7XG4gIHZhciBoOyAgICAgICAgICAgICAgLyogaGVhcCBpbmRleCAqL1xuICB2YXIgbiwgbTsgICAgICAgICAgIC8qIGl0ZXJhdGUgb3ZlciB0aGUgdHJlZSBlbGVtZW50cyAqL1xuICB2YXIgYml0czsgICAgICAgICAgIC8qIGJpdCBsZW5ndGggKi9cbiAgdmFyIHhiaXRzOyAgICAgICAgICAvKiBleHRyYSBiaXRzICovXG4gIHZhciBmOyAgICAgICAgICAgICAgLyogZnJlcXVlbmN5ICovXG4gIHZhciBvdmVyZmxvdyA9IDA7ICAgLyogbnVtYmVyIG9mIGVsZW1lbnRzIHdpdGggYml0IGxlbmd0aCB0b28gbGFyZ2UgKi9cblxuICBmb3IgKGJpdHMgPSAwOyBiaXRzIDw9IE1BWF9CSVRTOyBiaXRzKyspIHtcbiAgICBzLmJsX2NvdW50W2JpdHNdID0gMDtcbiAgfVxuXG4gIC8qIEluIGEgZmlyc3QgcGFzcywgY29tcHV0ZSB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RocyAod2hpY2ggbWF5XG4gICAqIG92ZXJmbG93IGluIHRoZSBjYXNlIG9mIHRoZSBiaXQgbGVuZ3RoIHRyZWUpLlxuICAgKi9cbiAgdHJlZVtzLmhlYXBbcy5oZWFwX21heF0gKiAyICsgMV0vKi5MZW4qLyA9IDA7IC8qIHJvb3Qgb2YgdGhlIGhlYXAgKi9cblxuICBmb3IgKGggPSBzLmhlYXBfbWF4ICsgMTsgaCA8IEhFQVBfU0laRTsgaCsrKSB7XG4gICAgbiA9IHMuaGVhcFtoXTtcbiAgICBiaXRzID0gdHJlZVt0cmVlW24gKiAyICsgMV0vKi5EYWQqLyAqIDIgKyAxXS8qLkxlbiovICsgMTtcbiAgICBpZiAoYml0cyA+IG1heF9sZW5ndGgpIHtcbiAgICAgIGJpdHMgPSBtYXhfbGVuZ3RoO1xuICAgICAgb3ZlcmZsb3crKztcbiAgICB9XG4gICAgdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSBiaXRzO1xuICAgIC8qIFdlIG92ZXJ3cml0ZSB0cmVlW25dLkRhZCB3aGljaCBpcyBubyBsb25nZXIgbmVlZGVkICovXG5cbiAgICBpZiAobiA+IG1heF9jb2RlKSB7IGNvbnRpbnVlOyB9IC8qIG5vdCBhIGxlYWYgbm9kZSAqL1xuXG4gICAgcy5ibF9jb3VudFtiaXRzXSsrO1xuICAgIHhiaXRzID0gMDtcbiAgICBpZiAobiA+PSBiYXNlKSB7XG4gICAgICB4Yml0cyA9IGV4dHJhW24gLSBiYXNlXTtcbiAgICB9XG4gICAgZiA9IHRyZWVbbiAqIDJdLyouRnJlcSovO1xuICAgIHMub3B0X2xlbiArPSBmICogKGJpdHMgKyB4Yml0cyk7XG4gICAgaWYgKGhhc19zdHJlZSkge1xuICAgICAgcy5zdGF0aWNfbGVuICs9IGYgKiAoc3RyZWVbbiAqIDIgKyAxXS8qLkxlbiovICsgeGJpdHMpO1xuICAgIH1cbiAgfVxuICBpZiAob3ZlcmZsb3cgPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgLy8gVHJhY2UoKHN0ZGVycixcIlxcbmJpdCBsZW5ndGggb3ZlcmZsb3dcXG5cIikpO1xuICAvKiBUaGlzIGhhcHBlbnMgZm9yIGV4YW1wbGUgb24gb2JqMiBhbmQgcGljIG9mIHRoZSBDYWxnYXJ5IGNvcnB1cyAqL1xuXG4gIC8qIEZpbmQgdGhlIGZpcnN0IGJpdCBsZW5ndGggd2hpY2ggY291bGQgaW5jcmVhc2U6ICovXG4gIGRvIHtcbiAgICBiaXRzID0gbWF4X2xlbmd0aCAtIDE7XG4gICAgd2hpbGUgKHMuYmxfY291bnRbYml0c10gPT09IDApIHsgYml0cy0tOyB9XG4gICAgcy5ibF9jb3VudFtiaXRzXS0tOyAgICAgIC8qIG1vdmUgb25lIGxlYWYgZG93biB0aGUgdHJlZSAqL1xuICAgIHMuYmxfY291bnRbYml0cyArIDFdICs9IDI7IC8qIG1vdmUgb25lIG92ZXJmbG93IGl0ZW0gYXMgaXRzIGJyb3RoZXIgKi9cbiAgICBzLmJsX2NvdW50W21heF9sZW5ndGhdLS07XG4gICAgLyogVGhlIGJyb3RoZXIgb2YgdGhlIG92ZXJmbG93IGl0ZW0gYWxzbyBtb3ZlcyBvbmUgc3RlcCB1cCxcbiAgICAgKiBidXQgdGhpcyBkb2VzIG5vdCBhZmZlY3QgYmxfY291bnRbbWF4X2xlbmd0aF1cbiAgICAgKi9cbiAgICBvdmVyZmxvdyAtPSAyO1xuICB9IHdoaWxlIChvdmVyZmxvdyA+IDApO1xuXG4gIC8qIE5vdyByZWNvbXB1dGUgYWxsIGJpdCBsZW5ndGhzLCBzY2FubmluZyBpbiBpbmNyZWFzaW5nIGZyZXF1ZW5jeS5cbiAgICogaCBpcyBzdGlsbCBlcXVhbCB0byBIRUFQX1NJWkUuIChJdCBpcyBzaW1wbGVyIHRvIHJlY29uc3RydWN0IGFsbFxuICAgKiBsZW5ndGhzIGluc3RlYWQgb2YgZml4aW5nIG9ubHkgdGhlIHdyb25nIG9uZXMuIFRoaXMgaWRlYSBpcyB0YWtlblxuICAgKiBmcm9tICdhcicgd3JpdHRlbiBieSBIYXJ1aGlrbyBPa3VtdXJhLilcbiAgICovXG4gIGZvciAoYml0cyA9IG1heF9sZW5ndGg7IGJpdHMgIT09IDA7IGJpdHMtLSkge1xuICAgIG4gPSBzLmJsX2NvdW50W2JpdHNdO1xuICAgIHdoaWxlIChuICE9PSAwKSB7XG4gICAgICBtID0gcy5oZWFwWy0taF07XG4gICAgICBpZiAobSA+IG1heF9jb2RlKSB7IGNvbnRpbnVlOyB9XG4gICAgICBpZiAodHJlZVttICogMiArIDFdLyouTGVuKi8gIT09IGJpdHMpIHtcbiAgICAgICAgLy8gVHJhY2UoKHN0ZGVycixcImNvZGUgJWQgYml0cyAlZC0+JWRcXG5cIiwgbSwgdHJlZVttXS5MZW4sIGJpdHMpKTtcbiAgICAgICAgcy5vcHRfbGVuICs9IChiaXRzIC0gdHJlZVttICogMiArIDFdLyouTGVuKi8pICogdHJlZVttICogMl0vKi5GcmVxKi87XG4gICAgICAgIHRyZWVbbSAqIDIgKyAxXS8qLkxlbiovID0gYml0cztcbiAgICAgIH1cbiAgICAgIG4tLTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEdlbmVyYXRlIHRoZSBjb2RlcyBmb3IgYSBnaXZlbiB0cmVlIGFuZCBiaXQgY291bnRzICh3aGljaCBuZWVkIG5vdCBiZVxuICogb3B0aW1hbCkuXG4gKiBJTiBhc3NlcnRpb246IHRoZSBhcnJheSBibF9jb3VudCBjb250YWlucyB0aGUgYml0IGxlbmd0aCBzdGF0aXN0aWNzIGZvclxuICogdGhlIGdpdmVuIHRyZWUgYW5kIHRoZSBmaWVsZCBsZW4gaXMgc2V0IGZvciBhbGwgdHJlZSBlbGVtZW50cy5cbiAqIE9VVCBhc3NlcnRpb246IHRoZSBmaWVsZCBjb2RlIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMgb2Ygbm9uXG4gKiAgICAgemVybyBjb2RlIGxlbmd0aC5cbiAqL1xuZnVuY3Rpb24gZ2VuX2NvZGVzKHRyZWUsIG1heF9jb2RlLCBibF9jb3VudClcbi8vICAgIGN0X2RhdGEgKnRyZWU7ICAgICAgICAgICAgIC8qIHRoZSB0cmVlIHRvIGRlY29yYXRlICovXG4vLyAgICBpbnQgbWF4X2NvZGU7ICAgICAgICAgICAgICAvKiBsYXJnZXN0IGNvZGUgd2l0aCBub24gemVybyBmcmVxdWVuY3kgKi9cbi8vICAgIHVzaGYgKmJsX2NvdW50OyAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlcyBhdCBlYWNoIGJpdCBsZW5ndGggKi9cbntcbiAgdmFyIG5leHRfY29kZSA9IG5ldyBBcnJheShNQVhfQklUUyArIDEpOyAvKiBuZXh0IGNvZGUgdmFsdWUgZm9yIGVhY2ggYml0IGxlbmd0aCAqL1xuICB2YXIgY29kZSA9IDA7ICAgICAgICAgICAgICAvKiBydW5uaW5nIGNvZGUgdmFsdWUgKi9cbiAgdmFyIGJpdHM7ICAgICAgICAgICAgICAgICAgLyogYml0IGluZGV4ICovXG4gIHZhciBuOyAgICAgICAgICAgICAgICAgICAgIC8qIGNvZGUgaW5kZXggKi9cblxuICAvKiBUaGUgZGlzdHJpYnV0aW9uIGNvdW50cyBhcmUgZmlyc3QgdXNlZCB0byBnZW5lcmF0ZSB0aGUgY29kZSB2YWx1ZXNcbiAgICogd2l0aG91dCBiaXQgcmV2ZXJzYWwuXG4gICAqL1xuICBmb3IgKGJpdHMgPSAxOyBiaXRzIDw9IE1BWF9CSVRTOyBiaXRzKyspIHtcbiAgICBuZXh0X2NvZGVbYml0c10gPSBjb2RlID0gKGNvZGUgKyBibF9jb3VudFtiaXRzIC0gMV0pIDw8IDE7XG4gIH1cbiAgLyogQ2hlY2sgdGhhdCB0aGUgYml0IGNvdW50cyBpbiBibF9jb3VudCBhcmUgY29uc2lzdGVudC4gVGhlIGxhc3QgY29kZVxuICAgKiBtdXN0IGJlIGFsbCBvbmVzLlxuICAgKi9cbiAgLy9Bc3NlcnQgKGNvZGUgKyBibF9jb3VudFtNQVhfQklUU10tMSA9PSAoMTw8TUFYX0JJVFMpLTEsXG4gIC8vICAgICAgICBcImluY29uc2lzdGVudCBiaXQgY291bnRzXCIpO1xuICAvL1RyYWNldigoc3RkZXJyLFwiXFxuZ2VuX2NvZGVzOiBtYXhfY29kZSAlZCBcIiwgbWF4X2NvZGUpKTtcblxuICBmb3IgKG4gPSAwOyAgbiA8PSBtYXhfY29kZTsgbisrKSB7XG4gICAgdmFyIGxlbiA9IHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovO1xuICAgIGlmIChsZW4gPT09IDApIHsgY29udGludWU7IH1cbiAgICAvKiBOb3cgcmV2ZXJzZSB0aGUgYml0cyAqL1xuICAgIHRyZWVbbiAqIDJdLyouQ29kZSovID0gYmlfcmV2ZXJzZShuZXh0X2NvZGVbbGVuXSsrLCBsZW4pO1xuXG4gICAgLy9UcmFjZWN2KHRyZWUgIT0gc3RhdGljX2x0cmVlLCAoc3RkZXJyLFwiXFxubiAlM2QgJWMgbCAlMmQgYyAlNHggKCV4KSBcIixcbiAgICAvLyAgICAgbiwgKGlzZ3JhcGgobikgPyBuIDogJyAnKSwgbGVuLCB0cmVlW25dLkNvZGUsIG5leHRfY29kZVtsZW5dLTEpKTtcbiAgfVxufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZSB0aGUgdmFyaW91cyAnY29uc3RhbnQnIHRhYmxlcy5cbiAqL1xuZnVuY3Rpb24gdHJfc3RhdGljX2luaXQoKSB7XG4gIHZhciBuOyAgICAgICAgLyogaXRlcmF0ZXMgb3ZlciB0cmVlIGVsZW1lbnRzICovXG4gIHZhciBiaXRzOyAgICAgLyogYml0IGNvdW50ZXIgKi9cbiAgdmFyIGxlbmd0aDsgICAvKiBsZW5ndGggdmFsdWUgKi9cbiAgdmFyIGNvZGU7ICAgICAvKiBjb2RlIHZhbHVlICovXG4gIHZhciBkaXN0OyAgICAgLyogZGlzdGFuY2UgaW5kZXggKi9cbiAgdmFyIGJsX2NvdW50ID0gbmV3IEFycmF5KE1BWF9CSVRTICsgMSk7XG4gIC8qIG51bWJlciBvZiBjb2RlcyBhdCBlYWNoIGJpdCBsZW5ndGggZm9yIGFuIG9wdGltYWwgdHJlZSAqL1xuXG4gIC8vIGRvIGNoZWNrIGluIF90cl9pbml0KClcbiAgLy9pZiAoc3RhdGljX2luaXRfZG9uZSkgcmV0dXJuO1xuXG4gIC8qIEZvciBzb21lIGVtYmVkZGVkIHRhcmdldHMsIGdsb2JhbCB2YXJpYWJsZXMgYXJlIG5vdCBpbml0aWFsaXplZDogKi9cbi8qI2lmZGVmIE5PX0lOSVRfR0xPQkFMX1BPSU5URVJTXG4gIHN0YXRpY19sX2Rlc2Muc3RhdGljX3RyZWUgPSBzdGF0aWNfbHRyZWU7XG4gIHN0YXRpY19sX2Rlc2MuZXh0cmFfYml0cyA9IGV4dHJhX2xiaXRzO1xuICBzdGF0aWNfZF9kZXNjLnN0YXRpY190cmVlID0gc3RhdGljX2R0cmVlO1xuICBzdGF0aWNfZF9kZXNjLmV4dHJhX2JpdHMgPSBleHRyYV9kYml0cztcbiAgc3RhdGljX2JsX2Rlc2MuZXh0cmFfYml0cyA9IGV4dHJhX2JsYml0cztcbiNlbmRpZiovXG5cbiAgLyogSW5pdGlhbGl6ZSB0aGUgbWFwcGluZyBsZW5ndGggKDAuLjI1NSkgLT4gbGVuZ3RoIGNvZGUgKDAuLjI4KSAqL1xuICBsZW5ndGggPSAwO1xuICBmb3IgKGNvZGUgPSAwOyBjb2RlIDwgTEVOR1RIX0NPREVTIC0gMTsgY29kZSsrKSB7XG4gICAgYmFzZV9sZW5ndGhbY29kZV0gPSBsZW5ndGg7XG4gICAgZm9yIChuID0gMDsgbiA8ICgxIDw8IGV4dHJhX2xiaXRzW2NvZGVdKTsgbisrKSB7XG4gICAgICBfbGVuZ3RoX2NvZGVbbGVuZ3RoKytdID0gY29kZTtcbiAgICB9XG4gIH1cbiAgLy9Bc3NlcnQgKGxlbmd0aCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IGxlbmd0aCAhPSAyNTZcIik7XG4gIC8qIE5vdGUgdGhhdCB0aGUgbGVuZ3RoIDI1NSAobWF0Y2ggbGVuZ3RoIDI1OCkgY2FuIGJlIHJlcHJlc2VudGVkXG4gICAqIGluIHR3byBkaWZmZXJlbnQgd2F5czogY29kZSAyODQgKyA1IGJpdHMgb3IgY29kZSAyODUsIHNvIHdlXG4gICAqIG92ZXJ3cml0ZSBsZW5ndGhfY29kZVsyNTVdIHRvIHVzZSB0aGUgYmVzdCBlbmNvZGluZzpcbiAgICovXG4gIF9sZW5ndGhfY29kZVtsZW5ndGggLSAxXSA9IGNvZGU7XG5cbiAgLyogSW5pdGlhbGl6ZSB0aGUgbWFwcGluZyBkaXN0ICgwLi4zMkspIC0+IGRpc3QgY29kZSAoMC4uMjkpICovXG4gIGRpc3QgPSAwO1xuICBmb3IgKGNvZGUgPSAwOyBjb2RlIDwgMTY7IGNvZGUrKykge1xuICAgIGJhc2VfZGlzdFtjb2RlXSA9IGRpc3Q7XG4gICAgZm9yIChuID0gMDsgbiA8ICgxIDw8IGV4dHJhX2RiaXRzW2NvZGVdKTsgbisrKSB7XG4gICAgICBfZGlzdF9jb2RlW2Rpc3QrK10gPSBjb2RlO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAoZGlzdCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IGRpc3QgIT0gMjU2XCIpO1xuICBkaXN0ID4+PSA3OyAvKiBmcm9tIG5vdyBvbiwgYWxsIGRpc3RhbmNlcyBhcmUgZGl2aWRlZCBieSAxMjggKi9cbiAgZm9yICg7IGNvZGUgPCBEX0NPREVTOyBjb2RlKyspIHtcbiAgICBiYXNlX2Rpc3RbY29kZV0gPSBkaXN0IDw8IDc7XG4gICAgZm9yIChuID0gMDsgbiA8ICgxIDw8IChleHRyYV9kYml0c1tjb2RlXSAtIDcpKTsgbisrKSB7XG4gICAgICBfZGlzdF9jb2RlWzI1NiArIGRpc3QrK10gPSBjb2RlO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAoZGlzdCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IDI1NitkaXN0ICE9IDUxMlwiKTtcblxuICAvKiBDb25zdHJ1Y3QgdGhlIGNvZGVzIG9mIHRoZSBzdGF0aWMgbGl0ZXJhbCB0cmVlICovXG4gIGZvciAoYml0cyA9IDA7IGJpdHMgPD0gTUFYX0JJVFM7IGJpdHMrKykge1xuICAgIGJsX2NvdW50W2JpdHNdID0gMDtcbiAgfVxuXG4gIG4gPSAwO1xuICB3aGlsZSAobiA8PSAxNDMpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gODtcbiAgICBuKys7XG4gICAgYmxfY291bnRbOF0rKztcbiAgfVxuICB3aGlsZSAobiA8PSAyNTUpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gOTtcbiAgICBuKys7XG4gICAgYmxfY291bnRbOV0rKztcbiAgfVxuICB3aGlsZSAobiA8PSAyNzkpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gNztcbiAgICBuKys7XG4gICAgYmxfY291bnRbN10rKztcbiAgfVxuICB3aGlsZSAobiA8PSAyODcpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gODtcbiAgICBuKys7XG4gICAgYmxfY291bnRbOF0rKztcbiAgfVxuICAvKiBDb2RlcyAyODYgYW5kIDI4NyBkbyBub3QgZXhpc3QsIGJ1dCB3ZSBtdXN0IGluY2x1ZGUgdGhlbSBpbiB0aGVcbiAgICogdHJlZSBjb25zdHJ1Y3Rpb24gdG8gZ2V0IGEgY2Fub25pY2FsIEh1ZmZtYW4gdHJlZSAobG9uZ2VzdCBjb2RlXG4gICAqIGFsbCBvbmVzKVxuICAgKi9cbiAgZ2VuX2NvZGVzKHN0YXRpY19sdHJlZSwgTF9DT0RFUyArIDEsIGJsX2NvdW50KTtcblxuICAvKiBUaGUgc3RhdGljIGRpc3RhbmNlIHRyZWUgaXMgdHJpdmlhbDogKi9cbiAgZm9yIChuID0gMDsgbiA8IERfQ09ERVM7IG4rKykge1xuICAgIHN0YXRpY19kdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA1O1xuICAgIHN0YXRpY19kdHJlZVtuICogMl0vKi5Db2RlKi8gPSBiaV9yZXZlcnNlKG4sIDUpO1xuICB9XG5cbiAgLy8gTm93IGRhdGEgcmVhZHkgYW5kIHdlIGNhbiBpbml0IHN0YXRpYyB0cmVlc1xuICBzdGF0aWNfbF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19sdHJlZSwgZXh0cmFfbGJpdHMsIExJVEVSQUxTICsgMSwgTF9DT0RFUywgTUFYX0JJVFMpO1xuICBzdGF0aWNfZF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19kdHJlZSwgZXh0cmFfZGJpdHMsIDAsICAgICAgICAgIERfQ09ERVMsIE1BWF9CSVRTKTtcbiAgc3RhdGljX2JsX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2MobmV3IEFycmF5KDApLCBleHRyYV9ibGJpdHMsIDAsICAgICAgICAgQkxfQ09ERVMsIE1BWF9CTF9CSVRTKTtcblxuICAvL3N0YXRpY19pbml0X2RvbmUgPSB0cnVlO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZSBhIG5ldyBibG9jay5cbiAqL1xuZnVuY3Rpb24gaW5pdF9ibG9jayhzKSB7XG4gIHZhciBuOyAvKiBpdGVyYXRlcyBvdmVyIHRyZWUgZWxlbWVudHMgKi9cblxuICAvKiBJbml0aWFsaXplIHRoZSB0cmVlcy4gKi9cbiAgZm9yIChuID0gMDsgbiA8IExfQ09ERVM7ICBuKyspIHsgcy5keW5fbHRyZWVbbiAqIDJdLyouRnJlcSovID0gMDsgfVxuICBmb3IgKG4gPSAwOyBuIDwgRF9DT0RFUzsgIG4rKykgeyBzLmR5bl9kdHJlZVtuICogMl0vKi5GcmVxKi8gPSAwOyB9XG4gIGZvciAobiA9IDA7IG4gPCBCTF9DT0RFUzsgbisrKSB7IHMuYmxfdHJlZVtuICogMl0vKi5GcmVxKi8gPSAwOyB9XG5cbiAgcy5keW5fbHRyZWVbRU5EX0JMT0NLICogMl0vKi5GcmVxKi8gPSAxO1xuICBzLm9wdF9sZW4gPSBzLnN0YXRpY19sZW4gPSAwO1xuICBzLmxhc3RfbGl0ID0gcy5tYXRjaGVzID0gMDtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZsdXNoIHRoZSBiaXQgYnVmZmVyIGFuZCBhbGlnbiB0aGUgb3V0cHV0IG9uIGEgYnl0ZSBib3VuZGFyeVxuICovXG5mdW5jdGlvbiBiaV93aW5kdXAocylcbntcbiAgaWYgKHMuYmlfdmFsaWQgPiA4KSB7XG4gICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgfSBlbHNlIGlmIChzLmJpX3ZhbGlkID4gMCkge1xuICAgIC8vcHV0X2J5dGUocywgKEJ5dGUpcy0+YmlfYnVmKTtcbiAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IHMuYmlfYnVmO1xuICB9XG4gIHMuYmlfYnVmID0gMDtcbiAgcy5iaV92YWxpZCA9IDA7XG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weSBhIHN0b3JlZCBibG9jaywgc3RvcmluZyBmaXJzdCB0aGUgbGVuZ3RoIGFuZCBpdHNcbiAqIG9uZSdzIGNvbXBsZW1lbnQgaWYgcmVxdWVzdGVkLlxuICovXG5mdW5jdGlvbiBjb3B5X2Jsb2NrKHMsIGJ1ZiwgbGVuLCBoZWFkZXIpXG4vL0RlZmxhdGVTdGF0ZSAqcztcbi8vY2hhcmYgICAgKmJ1ZjsgICAgLyogdGhlIGlucHV0IGRhdGEgKi9cbi8vdW5zaWduZWQgbGVuOyAgICAgLyogaXRzIGxlbmd0aCAqL1xuLy9pbnQgICAgICBoZWFkZXI7ICAvKiB0cnVlIGlmIGJsb2NrIGhlYWRlciBtdXN0IGJlIHdyaXR0ZW4gKi9cbntcbiAgYmlfd2luZHVwKHMpOyAgICAgICAgLyogYWxpZ24gb24gYnl0ZSBib3VuZGFyeSAqL1xuXG4gIGlmIChoZWFkZXIpIHtcbiAgICBwdXRfc2hvcnQocywgbGVuKTtcbiAgICBwdXRfc2hvcnQocywgfmxlbik7XG4gIH1cbi8vICB3aGlsZSAobGVuLS0pIHtcbi8vICAgIHB1dF9ieXRlKHMsICpidWYrKyk7XG4vLyAgfVxuICB1dGlscy5hcnJheVNldChzLnBlbmRpbmdfYnVmLCBzLndpbmRvdywgYnVmLCBsZW4sIHMucGVuZGluZyk7XG4gIHMucGVuZGluZyArPSBsZW47XG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29tcGFyZXMgdG8gc3VidHJlZXMsIHVzaW5nIHRoZSB0cmVlIGRlcHRoIGFzIHRpZSBicmVha2VyIHdoZW5cbiAqIHRoZSBzdWJ0cmVlcyBoYXZlIGVxdWFsIGZyZXF1ZW5jeS4gVGhpcyBtaW5pbWl6ZXMgdGhlIHdvcnN0IGNhc2UgbGVuZ3RoLlxuICovXG5mdW5jdGlvbiBzbWFsbGVyKHRyZWUsIG4sIG0sIGRlcHRoKSB7XG4gIHZhciBfbjIgPSBuICogMjtcbiAgdmFyIF9tMiA9IG0gKiAyO1xuICByZXR1cm4gKHRyZWVbX24yXS8qLkZyZXEqLyA8IHRyZWVbX20yXS8qLkZyZXEqLyB8fFxuICAgICAgICAgKHRyZWVbX24yXS8qLkZyZXEqLyA9PT0gdHJlZVtfbTJdLyouRnJlcSovICYmIGRlcHRoW25dIDw9IGRlcHRoW21dKSk7XG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUmVzdG9yZSB0aGUgaGVhcCBwcm9wZXJ0eSBieSBtb3ZpbmcgZG93biB0aGUgdHJlZSBzdGFydGluZyBhdCBub2RlIGssXG4gKiBleGNoYW5naW5nIGEgbm9kZSB3aXRoIHRoZSBzbWFsbGVzdCBvZiBpdHMgdHdvIHNvbnMgaWYgbmVjZXNzYXJ5LCBzdG9wcGluZ1xuICogd2hlbiB0aGUgaGVhcCBwcm9wZXJ0eSBpcyByZS1lc3RhYmxpc2hlZCAoZWFjaCBmYXRoZXIgc21hbGxlciB0aGFuIGl0c1xuICogdHdvIHNvbnMpLlxuICovXG5mdW5jdGlvbiBwcWRvd25oZWFwKHMsIHRyZWUsIGspXG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgY3RfZGF0YSAqdHJlZTsgIC8qIHRoZSB0cmVlIHRvIHJlc3RvcmUgKi9cbi8vICAgIGludCBrOyAgICAgICAgICAgICAgIC8qIG5vZGUgdG8gbW92ZSBkb3duICovXG57XG4gIHZhciB2ID0gcy5oZWFwW2tdO1xuICB2YXIgaiA9IGsgPDwgMTsgIC8qIGxlZnQgc29uIG9mIGsgKi9cbiAgd2hpbGUgKGogPD0gcy5oZWFwX2xlbikge1xuICAgIC8qIFNldCBqIHRvIHRoZSBzbWFsbGVzdCBvZiB0aGUgdHdvIHNvbnM6ICovXG4gICAgaWYgKGogPCBzLmhlYXBfbGVuICYmXG4gICAgICBzbWFsbGVyKHRyZWUsIHMuaGVhcFtqICsgMV0sIHMuaGVhcFtqXSwgcy5kZXB0aCkpIHtcbiAgICAgIGorKztcbiAgICB9XG4gICAgLyogRXhpdCBpZiB2IGlzIHNtYWxsZXIgdGhhbiBib3RoIHNvbnMgKi9cbiAgICBpZiAoc21hbGxlcih0cmVlLCB2LCBzLmhlYXBbal0sIHMuZGVwdGgpKSB7IGJyZWFrOyB9XG5cbiAgICAvKiBFeGNoYW5nZSB2IHdpdGggdGhlIHNtYWxsZXN0IHNvbiAqL1xuICAgIHMuaGVhcFtrXSA9IHMuaGVhcFtqXTtcbiAgICBrID0gajtcblxuICAgIC8qIEFuZCBjb250aW51ZSBkb3duIHRoZSB0cmVlLCBzZXR0aW5nIGogdG8gdGhlIGxlZnQgc29uIG9mIGsgKi9cbiAgICBqIDw8PSAxO1xuICB9XG4gIHMuaGVhcFtrXSA9IHY7XG59XG5cblxuLy8gaW5saW5lZCBtYW51YWxseVxuLy8gdmFyIFNNQUxMRVNUID0gMTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIHRoZSBibG9jayBkYXRhIGNvbXByZXNzZWQgdXNpbmcgdGhlIGdpdmVuIEh1ZmZtYW4gdHJlZXNcbiAqL1xuZnVuY3Rpb24gY29tcHJlc3NfYmxvY2socywgbHRyZWUsIGR0cmVlKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGNvbnN0IGN0X2RhdGEgKmx0cmVlOyAvKiBsaXRlcmFsIHRyZWUgKi9cbi8vICAgIGNvbnN0IGN0X2RhdGEgKmR0cmVlOyAvKiBkaXN0YW5jZSB0cmVlICovXG57XG4gIHZhciBkaXN0OyAgICAgICAgICAgLyogZGlzdGFuY2Ugb2YgbWF0Y2hlZCBzdHJpbmcgKi9cbiAgdmFyIGxjOyAgICAgICAgICAgICAvKiBtYXRjaCBsZW5ndGggb3IgdW5tYXRjaGVkIGNoYXIgKGlmIGRpc3QgPT0gMCkgKi9cbiAgdmFyIGx4ID0gMDsgICAgICAgICAvKiBydW5uaW5nIGluZGV4IGluIGxfYnVmICovXG4gIHZhciBjb2RlOyAgICAgICAgICAgLyogdGhlIGNvZGUgdG8gc2VuZCAqL1xuICB2YXIgZXh0cmE7ICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzIHRvIHNlbmQgKi9cblxuICBpZiAocy5sYXN0X2xpdCAhPT0gMCkge1xuICAgIGRvIHtcbiAgICAgIGRpc3QgPSAocy5wZW5kaW5nX2J1ZltzLmRfYnVmICsgbHggKiAyXSA8PCA4KSB8IChzLnBlbmRpbmdfYnVmW3MuZF9idWYgKyBseCAqIDIgKyAxXSk7XG4gICAgICBsYyA9IHMucGVuZGluZ19idWZbcy5sX2J1ZiArIGx4XTtcbiAgICAgIGx4Kys7XG5cbiAgICAgIGlmIChkaXN0ID09PSAwKSB7XG4gICAgICAgIHNlbmRfY29kZShzLCBsYywgbHRyZWUpOyAvKiBzZW5kIGEgbGl0ZXJhbCBieXRlICovXG4gICAgICAgIC8vVHJhY2Vjdihpc2dyYXBoKGxjKSwgKHN0ZGVycixcIiAnJWMnIFwiLCBsYykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyogSGVyZSwgbGMgaXMgdGhlIG1hdGNoIGxlbmd0aCAtIE1JTl9NQVRDSCAqL1xuICAgICAgICBjb2RlID0gX2xlbmd0aF9jb2RlW2xjXTtcbiAgICAgICAgc2VuZF9jb2RlKHMsIGNvZGUgKyBMSVRFUkFMUyArIDEsIGx0cmVlKTsgLyogc2VuZCB0aGUgbGVuZ3RoIGNvZGUgKi9cbiAgICAgICAgZXh0cmEgPSBleHRyYV9sYml0c1tjb2RlXTtcbiAgICAgICAgaWYgKGV4dHJhICE9PSAwKSB7XG4gICAgICAgICAgbGMgLT0gYmFzZV9sZW5ndGhbY29kZV07XG4gICAgICAgICAgc2VuZF9iaXRzKHMsIGxjLCBleHRyYSk7ICAgICAgIC8qIHNlbmQgdGhlIGV4dHJhIGxlbmd0aCBiaXRzICovXG4gICAgICAgIH1cbiAgICAgICAgZGlzdC0tOyAvKiBkaXN0IGlzIG5vdyB0aGUgbWF0Y2ggZGlzdGFuY2UgLSAxICovXG4gICAgICAgIGNvZGUgPSBkX2NvZGUoZGlzdCk7XG4gICAgICAgIC8vQXNzZXJ0IChjb2RlIDwgRF9DT0RFUywgXCJiYWQgZF9jb2RlXCIpO1xuXG4gICAgICAgIHNlbmRfY29kZShzLCBjb2RlLCBkdHJlZSk7ICAgICAgIC8qIHNlbmQgdGhlIGRpc3RhbmNlIGNvZGUgKi9cbiAgICAgICAgZXh0cmEgPSBleHRyYV9kYml0c1tjb2RlXTtcbiAgICAgICAgaWYgKGV4dHJhICE9PSAwKSB7XG4gICAgICAgICAgZGlzdCAtPSBiYXNlX2Rpc3RbY29kZV07XG4gICAgICAgICAgc2VuZF9iaXRzKHMsIGRpc3QsIGV4dHJhKTsgICAvKiBzZW5kIHRoZSBleHRyYSBkaXN0YW5jZSBiaXRzICovXG4gICAgICAgIH1cbiAgICAgIH0gLyogbGl0ZXJhbCBvciBtYXRjaCBwYWlyID8gKi9cblxuICAgICAgLyogQ2hlY2sgdGhhdCB0aGUgb3ZlcmxheSBiZXR3ZWVuIHBlbmRpbmdfYnVmIGFuZCBkX2J1ZitsX2J1ZiBpcyBvazogKi9cbiAgICAgIC8vQXNzZXJ0KCh1SW50KShzLT5wZW5kaW5nKSA8IHMtPmxpdF9idWZzaXplICsgMipseCxcbiAgICAgIC8vICAgICAgIFwicGVuZGluZ0J1ZiBvdmVyZmxvd1wiKTtcblxuICAgIH0gd2hpbGUgKGx4IDwgcy5sYXN0X2xpdCk7XG4gIH1cblxuICBzZW5kX2NvZGUocywgRU5EX0JMT0NLLCBsdHJlZSk7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb25zdHJ1Y3Qgb25lIEh1ZmZtYW4gdHJlZSBhbmQgYXNzaWducyB0aGUgY29kZSBiaXQgc3RyaW5ncyBhbmQgbGVuZ3Rocy5cbiAqIFVwZGF0ZSB0aGUgdG90YWwgYml0IGxlbmd0aCBmb3IgdGhlIGN1cnJlbnQgYmxvY2suXG4gKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZCBmcmVxIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMuXG4gKiBPVVQgYXNzZXJ0aW9uczogdGhlIGZpZWxkcyBsZW4gYW5kIGNvZGUgYXJlIHNldCB0byB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RoXG4gKiAgICAgYW5kIGNvcnJlc3BvbmRpbmcgY29kZS4gVGhlIGxlbmd0aCBvcHRfbGVuIGlzIHVwZGF0ZWQ7IHN0YXRpY19sZW4gaXNcbiAqICAgICBhbHNvIHVwZGF0ZWQgaWYgc3RyZWUgaXMgbm90IG51bGwuIFRoZSBmaWVsZCBtYXhfY29kZSBpcyBzZXQuXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkX3RyZWUocywgZGVzYylcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICB0cmVlX2Rlc2MgKmRlc2M7IC8qIHRoZSB0cmVlIGRlc2NyaXB0b3IgKi9cbntcbiAgdmFyIHRyZWUgICAgID0gZGVzYy5keW5fdHJlZTtcbiAgdmFyIHN0cmVlICAgID0gZGVzYy5zdGF0X2Rlc2Muc3RhdGljX3RyZWU7XG4gIHZhciBoYXNfc3RyZWUgPSBkZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWU7XG4gIHZhciBlbGVtcyAgICA9IGRlc2Muc3RhdF9kZXNjLmVsZW1zO1xuICB2YXIgbiwgbTsgICAgICAgICAgLyogaXRlcmF0ZSBvdmVyIGhlYXAgZWxlbWVudHMgKi9cbiAgdmFyIG1heF9jb2RlID0gLTE7IC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuICB2YXIgbm9kZTsgICAgICAgICAgLyogbmV3IG5vZGUgYmVpbmcgY3JlYXRlZCAqL1xuXG4gIC8qIENvbnN0cnVjdCB0aGUgaW5pdGlhbCBoZWFwLCB3aXRoIGxlYXN0IGZyZXF1ZW50IGVsZW1lbnQgaW5cbiAgICogaGVhcFtTTUFMTEVTVF0uIFRoZSBzb25zIG9mIGhlYXBbbl0gYXJlIGhlYXBbMipuXSBhbmQgaGVhcFsyKm4rMV0uXG4gICAqIGhlYXBbMF0gaXMgbm90IHVzZWQuXG4gICAqL1xuICBzLmhlYXBfbGVuID0gMDtcbiAgcy5oZWFwX21heCA9IEhFQVBfU0laRTtcblxuICBmb3IgKG4gPSAwOyBuIDwgZWxlbXM7IG4rKykge1xuICAgIGlmICh0cmVlW24gKiAyXS8qLkZyZXEqLyAhPT0gMCkge1xuICAgICAgcy5oZWFwWysrcy5oZWFwX2xlbl0gPSBtYXhfY29kZSA9IG47XG4gICAgICBzLmRlcHRoW25dID0gMDtcblxuICAgIH0gZWxzZSB7XG4gICAgICB0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IDA7XG4gICAgfVxuICB9XG5cbiAgLyogVGhlIHBremlwIGZvcm1hdCByZXF1aXJlcyB0aGF0IGF0IGxlYXN0IG9uZSBkaXN0YW5jZSBjb2RlIGV4aXN0cyxcbiAgICogYW5kIHRoYXQgYXQgbGVhc3Qgb25lIGJpdCBzaG91bGQgYmUgc2VudCBldmVuIGlmIHRoZXJlIGlzIG9ubHkgb25lXG4gICAqIHBvc3NpYmxlIGNvZGUuIFNvIHRvIGF2b2lkIHNwZWNpYWwgY2hlY2tzIGxhdGVyIG9uIHdlIGZvcmNlIGF0IGxlYXN0XG4gICAqIHR3byBjb2RlcyBvZiBub24gemVybyBmcmVxdWVuY3kuXG4gICAqL1xuICB3aGlsZSAocy5oZWFwX2xlbiA8IDIpIHtcbiAgICBub2RlID0gcy5oZWFwWysrcy5oZWFwX2xlbl0gPSAobWF4X2NvZGUgPCAyID8gKyttYXhfY29kZSA6IDApO1xuICAgIHRyZWVbbm9kZSAqIDJdLyouRnJlcSovID0gMTtcbiAgICBzLmRlcHRoW25vZGVdID0gMDtcbiAgICBzLm9wdF9sZW4tLTtcblxuICAgIGlmIChoYXNfc3RyZWUpIHtcbiAgICAgIHMuc3RhdGljX2xlbiAtPSBzdHJlZVtub2RlICogMiArIDFdLyouTGVuKi87XG4gICAgfVxuICAgIC8qIG5vZGUgaXMgMCBvciAxIHNvIGl0IGRvZXMgbm90IGhhdmUgZXh0cmEgYml0cyAqL1xuICB9XG4gIGRlc2MubWF4X2NvZGUgPSBtYXhfY29kZTtcblxuICAvKiBUaGUgZWxlbWVudHMgaGVhcFtoZWFwX2xlbi8yKzEgLi4gaGVhcF9sZW5dIGFyZSBsZWF2ZXMgb2YgdGhlIHRyZWUsXG4gICAqIGVzdGFibGlzaCBzdWItaGVhcHMgb2YgaW5jcmVhc2luZyBsZW5ndGhzOlxuICAgKi9cbiAgZm9yIChuID0gKHMuaGVhcF9sZW4gPj4gMS8qaW50IC8yKi8pOyBuID49IDE7IG4tLSkgeyBwcWRvd25oZWFwKHMsIHRyZWUsIG4pOyB9XG5cbiAgLyogQ29uc3RydWN0IHRoZSBIdWZmbWFuIHRyZWUgYnkgcmVwZWF0ZWRseSBjb21iaW5pbmcgdGhlIGxlYXN0IHR3b1xuICAgKiBmcmVxdWVudCBub2Rlcy5cbiAgICovXG4gIG5vZGUgPSBlbGVtczsgICAgICAgICAgICAgIC8qIG5leHQgaW50ZXJuYWwgbm9kZSBvZiB0aGUgdHJlZSAqL1xuICBkbyB7XG4gICAgLy9wcXJlbW92ZShzLCB0cmVlLCBuKTsgIC8qIG4gPSBub2RlIG9mIGxlYXN0IGZyZXF1ZW5jeSAqL1xuICAgIC8qKiogcHFyZW1vdmUgKioqL1xuICAgIG4gPSBzLmhlYXBbMS8qU01BTExFU1QqL107XG4gICAgcy5oZWFwWzEvKlNNQUxMRVNUKi9dID0gcy5oZWFwW3MuaGVhcF9sZW4tLV07XG4gICAgcHFkb3duaGVhcChzLCB0cmVlLCAxLypTTUFMTEVTVCovKTtcbiAgICAvKioqL1xuXG4gICAgbSA9IHMuaGVhcFsxLypTTUFMTEVTVCovXTsgLyogbSA9IG5vZGUgb2YgbmV4dCBsZWFzdCBmcmVxdWVuY3kgKi9cblxuICAgIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gbjsgLyoga2VlcCB0aGUgbm9kZXMgc29ydGVkIGJ5IGZyZXF1ZW5jeSAqL1xuICAgIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gbTtcblxuICAgIC8qIENyZWF0ZSBhIG5ldyBub2RlIGZhdGhlciBvZiBuIGFuZCBtICovXG4gICAgdHJlZVtub2RlICogMl0vKi5GcmVxKi8gPSB0cmVlW24gKiAyXS8qLkZyZXEqLyArIHRyZWVbbSAqIDJdLyouRnJlcSovO1xuICAgIHMuZGVwdGhbbm9kZV0gPSAocy5kZXB0aFtuXSA+PSBzLmRlcHRoW21dID8gcy5kZXB0aFtuXSA6IHMuZGVwdGhbbV0pICsgMTtcbiAgICB0cmVlW24gKiAyICsgMV0vKi5EYWQqLyA9IHRyZWVbbSAqIDIgKyAxXS8qLkRhZCovID0gbm9kZTtcblxuICAgIC8qIGFuZCBpbnNlcnQgdGhlIG5ldyBub2RlIGluIHRoZSBoZWFwICovXG4gICAgcy5oZWFwWzEvKlNNQUxMRVNUKi9dID0gbm9kZSsrO1xuICAgIHBxZG93bmhlYXAocywgdHJlZSwgMS8qU01BTExFU1QqLyk7XG5cbiAgfSB3aGlsZSAocy5oZWFwX2xlbiA+PSAyKTtcblxuICBzLmhlYXBbLS1zLmhlYXBfbWF4XSA9IHMuaGVhcFsxLypTTUFMTEVTVCovXTtcblxuICAvKiBBdCB0aGlzIHBvaW50LCB0aGUgZmllbGRzIGZyZXEgYW5kIGRhZCBhcmUgc2V0LiBXZSBjYW4gbm93XG4gICAqIGdlbmVyYXRlIHRoZSBiaXQgbGVuZ3Rocy5cbiAgICovXG4gIGdlbl9iaXRsZW4ocywgZGVzYyk7XG5cbiAgLyogVGhlIGZpZWxkIGxlbiBpcyBub3cgc2V0LCB3ZSBjYW4gZ2VuZXJhdGUgdGhlIGJpdCBjb2RlcyAqL1xuICBnZW5fY29kZXModHJlZSwgbWF4X2NvZGUsIHMuYmxfY291bnQpO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2NhbiBhIGxpdGVyYWwgb3IgZGlzdGFuY2UgdHJlZSB0byBkZXRlcm1pbmUgdGhlIGZyZXF1ZW5jaWVzIG9mIHRoZSBjb2Rlc1xuICogaW4gdGhlIGJpdCBsZW5ndGggdHJlZS5cbiAqL1xuZnVuY3Rpb24gc2Nhbl90cmVlKHMsIHRyZWUsIG1heF9jb2RlKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGN0X2RhdGEgKnRyZWU7ICAgLyogdGhlIHRyZWUgdG8gYmUgc2Nhbm5lZCAqL1xuLy8gICAgaW50IG1heF9jb2RlOyAgICAvKiBhbmQgaXRzIGxhcmdlc3QgY29kZSBvZiBub24gemVybyBmcmVxdWVuY3kgKi9cbntcbiAgdmFyIG47ICAgICAgICAgICAgICAgICAgICAgLyogaXRlcmF0ZXMgb3ZlciBhbGwgdHJlZSBlbGVtZW50cyAqL1xuICB2YXIgcHJldmxlbiA9IC0xOyAgICAgICAgICAvKiBsYXN0IGVtaXR0ZWQgbGVuZ3RoICovXG4gIHZhciBjdXJsZW47ICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IGNvZGUgKi9cblxuICB2YXIgbmV4dGxlbiA9IHRyZWVbMCAqIDIgKyAxXS8qLkxlbiovOyAvKiBsZW5ndGggb2YgbmV4dCBjb2RlICovXG5cbiAgdmFyIGNvdW50ID0gMDsgICAgICAgICAgICAgLyogcmVwZWF0IGNvdW50IG9mIHRoZSBjdXJyZW50IGNvZGUgKi9cbiAgdmFyIG1heF9jb3VudCA9IDc7ICAgICAgICAgLyogbWF4IHJlcGVhdCBjb3VudCAqL1xuICB2YXIgbWluX2NvdW50ID0gNDsgICAgICAgICAvKiBtaW4gcmVwZWF0IGNvdW50ICovXG5cbiAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgbWluX2NvdW50ID0gMztcbiAgfVxuICB0cmVlWyhtYXhfY29kZSArIDEpICogMiArIDFdLyouTGVuKi8gPSAweGZmZmY7IC8qIGd1YXJkICovXG5cbiAgZm9yIChuID0gMDsgbiA8PSBtYXhfY29kZTsgbisrKSB7XG4gICAgY3VybGVuID0gbmV4dGxlbjtcbiAgICBuZXh0bGVuID0gdHJlZVsobiArIDEpICogMiArIDFdLyouTGVuKi87XG5cbiAgICBpZiAoKytjb3VudCA8IG1heF9jb3VudCAmJiBjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgfSBlbHNlIGlmIChjb3VudCA8IG1pbl9jb3VudCkge1xuICAgICAgcy5ibF90cmVlW2N1cmxlbiAqIDJdLyouRnJlcSovICs9IGNvdW50O1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gIT09IDApIHtcblxuICAgICAgaWYgKGN1cmxlbiAhPT0gcHJldmxlbikgeyBzLmJsX3RyZWVbY3VybGVuICogMl0vKi5GcmVxKi8rKzsgfVxuICAgICAgcy5ibF90cmVlW1JFUF8zXzYgKiAyXS8qLkZyZXEqLysrO1xuXG4gICAgfSBlbHNlIGlmIChjb3VudCA8PSAxMCkge1xuICAgICAgcy5ibF90cmVlW1JFUFpfM18xMCAqIDJdLyouRnJlcSovKys7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcy5ibF90cmVlW1JFUFpfMTFfMTM4ICogMl0vKi5GcmVxKi8rKztcbiAgICB9XG5cbiAgICBjb3VudCA9IDA7XG4gICAgcHJldmxlbiA9IGN1cmxlbjtcblxuICAgIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIG1heF9jb3VudCA9IDY7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1heF9jb3VudCA9IDc7XG4gICAgICBtaW5fY291bnQgPSA0O1xuICAgIH1cbiAgfVxufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCBhIGxpdGVyYWwgb3IgZGlzdGFuY2UgdHJlZSBpbiBjb21wcmVzc2VkIGZvcm0sIHVzaW5nIHRoZSBjb2RlcyBpblxuICogYmxfdHJlZS5cbiAqL1xuZnVuY3Rpb24gc2VuZF90cmVlKHMsIHRyZWUsIG1heF9jb2RlKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGN0X2RhdGEgKnRyZWU7IC8qIHRoZSB0cmVlIHRvIGJlIHNjYW5uZWQgKi9cbi8vICAgIGludCBtYXhfY29kZTsgICAgICAgLyogYW5kIGl0cyBsYXJnZXN0IGNvZGUgb2Ygbm9uIHplcm8gZnJlcXVlbmN5ICovXG57XG4gIHZhciBuOyAgICAgICAgICAgICAgICAgICAgIC8qIGl0ZXJhdGVzIG92ZXIgYWxsIHRyZWUgZWxlbWVudHMgKi9cbiAgdmFyIHByZXZsZW4gPSAtMTsgICAgICAgICAgLyogbGFzdCBlbWl0dGVkIGxlbmd0aCAqL1xuICB2YXIgY3VybGVuOyAgICAgICAgICAgICAgICAvKiBsZW5ndGggb2YgY3VycmVudCBjb2RlICovXG5cbiAgdmFyIG5leHRsZW4gPSB0cmVlWzAgKiAyICsgMV0vKi5MZW4qLzsgLyogbGVuZ3RoIG9mIG5leHQgY29kZSAqL1xuXG4gIHZhciBjb3VudCA9IDA7ICAgICAgICAgICAgIC8qIHJlcGVhdCBjb3VudCBvZiB0aGUgY3VycmVudCBjb2RlICovXG4gIHZhciBtYXhfY291bnQgPSA3OyAgICAgICAgIC8qIG1heCByZXBlYXQgY291bnQgKi9cbiAgdmFyIG1pbl9jb3VudCA9IDQ7ICAgICAgICAgLyogbWluIHJlcGVhdCBjb3VudCAqL1xuXG4gIC8qIHRyZWVbbWF4X2NvZGUrMV0uTGVuID0gLTE7ICovICAvKiBndWFyZCBhbHJlYWR5IHNldCAqL1xuICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgIG1heF9jb3VudCA9IDEzODtcbiAgICBtaW5fY291bnQgPSAzO1xuICB9XG5cbiAgZm9yIChuID0gMDsgbiA8PSBtYXhfY29kZTsgbisrKSB7XG4gICAgY3VybGVuID0gbmV4dGxlbjtcbiAgICBuZXh0bGVuID0gdHJlZVsobiArIDEpICogMiArIDFdLyouTGVuKi87XG5cbiAgICBpZiAoKytjb3VudCA8IG1heF9jb3VudCAmJiBjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgfSBlbHNlIGlmIChjb3VudCA8IG1pbl9jb3VudCkge1xuICAgICAgZG8geyBzZW5kX2NvZGUocywgY3VybGVuLCBzLmJsX3RyZWUpOyB9IHdoaWxlICgtLWNvdW50ICE9PSAwKTtcblxuICAgIH0gZWxzZSBpZiAoY3VybGVuICE9PSAwKSB7XG4gICAgICBpZiAoY3VybGVuICE9PSBwcmV2bGVuKSB7XG4gICAgICAgIHNlbmRfY29kZShzLCBjdXJsZW4sIHMuYmxfdHJlZSk7XG4gICAgICAgIGNvdW50LS07XG4gICAgICB9XG4gICAgICAvL0Fzc2VydChjb3VudCA+PSAzICYmIGNvdW50IDw9IDYsIFwiIDNfNj9cIik7XG4gICAgICBzZW5kX2NvZGUocywgUkVQXzNfNiwgcy5ibF90cmVlKTtcbiAgICAgIHNlbmRfYml0cyhzLCBjb3VudCAtIDMsIDIpO1xuXG4gICAgfSBlbHNlIGlmIChjb3VudCA8PSAxMCkge1xuICAgICAgc2VuZF9jb2RlKHMsIFJFUFpfM18xMCwgcy5ibF90cmVlKTtcbiAgICAgIHNlbmRfYml0cyhzLCBjb3VudCAtIDMsIDMpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbmRfY29kZShzLCBSRVBaXzExXzEzOCwgcy5ibF90cmVlKTtcbiAgICAgIHNlbmRfYml0cyhzLCBjb3VudCAtIDExLCA3KTtcbiAgICB9XG5cbiAgICBjb3VudCA9IDA7XG4gICAgcHJldmxlbiA9IGN1cmxlbjtcbiAgICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgICAgbWF4X2NvdW50ID0gMTM4O1xuICAgICAgbWluX2NvdW50ID0gMztcblxuICAgIH0gZWxzZSBpZiAoY3VybGVuID09PSBuZXh0bGVuKSB7XG4gICAgICBtYXhfY291bnQgPSA2O1xuICAgICAgbWluX2NvdW50ID0gMztcblxuICAgIH0gZWxzZSB7XG4gICAgICBtYXhfY291bnQgPSA3O1xuICAgICAgbWluX2NvdW50ID0gNDtcbiAgICB9XG4gIH1cbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbnN0cnVjdCB0aGUgSHVmZm1hbiB0cmVlIGZvciB0aGUgYml0IGxlbmd0aHMgYW5kIHJldHVybiB0aGUgaW5kZXggaW5cbiAqIGJsX29yZGVyIG9mIHRoZSBsYXN0IGJpdCBsZW5ndGggY29kZSB0byBzZW5kLlxuICovXG5mdW5jdGlvbiBidWlsZF9ibF90cmVlKHMpIHtcbiAgdmFyIG1heF9ibGluZGV4OyAgLyogaW5kZXggb2YgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgb2Ygbm9uIHplcm8gZnJlcSAqL1xuXG4gIC8qIERldGVybWluZSB0aGUgYml0IGxlbmd0aCBmcmVxdWVuY2llcyBmb3IgbGl0ZXJhbCBhbmQgZGlzdGFuY2UgdHJlZXMgKi9cbiAgc2Nhbl90cmVlKHMsIHMuZHluX2x0cmVlLCBzLmxfZGVzYy5tYXhfY29kZSk7XG4gIHNjYW5fdHJlZShzLCBzLmR5bl9kdHJlZSwgcy5kX2Rlc2MubWF4X2NvZGUpO1xuXG4gIC8qIEJ1aWxkIHRoZSBiaXQgbGVuZ3RoIHRyZWU6ICovXG4gIGJ1aWxkX3RyZWUocywgcy5ibF9kZXNjKTtcbiAgLyogb3B0X2xlbiBub3cgaW5jbHVkZXMgdGhlIGxlbmd0aCBvZiB0aGUgdHJlZSByZXByZXNlbnRhdGlvbnMsIGV4Y2VwdFxuICAgKiB0aGUgbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aHMgY29kZXMgYW5kIHRoZSA1KzUrNCBiaXRzIGZvciB0aGUgY291bnRzLlxuICAgKi9cblxuICAvKiBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBiaXQgbGVuZ3RoIGNvZGVzIHRvIHNlbmQuIFRoZSBwa3ppcCBmb3JtYXRcbiAgICogcmVxdWlyZXMgdGhhdCBhdCBsZWFzdCA0IGJpdCBsZW5ndGggY29kZXMgYmUgc2VudC4gKGFwcG5vdGUudHh0IHNheXNcbiAgICogMyBidXQgdGhlIGFjdHVhbCB2YWx1ZSB1c2VkIGlzIDQuKVxuICAgKi9cbiAgZm9yIChtYXhfYmxpbmRleCA9IEJMX0NPREVTIC0gMTsgbWF4X2JsaW5kZXggPj0gMzsgbWF4X2JsaW5kZXgtLSkge1xuICAgIGlmIChzLmJsX3RyZWVbYmxfb3JkZXJbbWF4X2JsaW5kZXhdICogMiArIDFdLyouTGVuKi8gIT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKiBVcGRhdGUgb3B0X2xlbiB0byBpbmNsdWRlIHRoZSBiaXQgbGVuZ3RoIHRyZWUgYW5kIGNvdW50cyAqL1xuICBzLm9wdF9sZW4gKz0gMyAqIChtYXhfYmxpbmRleCArIDEpICsgNSArIDUgKyA0O1xuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmR5biB0cmVlczogZHluICVsZCwgc3RhdCAlbGRcIixcbiAgLy8gICAgICAgIHMtPm9wdF9sZW4sIHMtPnN0YXRpY19sZW4pKTtcblxuICByZXR1cm4gbWF4X2JsaW5kZXg7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIHRoZSBoZWFkZXIgZm9yIGEgYmxvY2sgdXNpbmcgZHluYW1pYyBIdWZmbWFuIHRyZWVzOiB0aGUgY291bnRzLCB0aGVcbiAqIGxlbmd0aHMgb2YgdGhlIGJpdCBsZW5ndGggY29kZXMsIHRoZSBsaXRlcmFsIHRyZWUgYW5kIHRoZSBkaXN0YW5jZSB0cmVlLlxuICogSU4gYXNzZXJ0aW9uOiBsY29kZXMgPj0gMjU3LCBkY29kZXMgPj0gMSwgYmxjb2RlcyA+PSA0LlxuICovXG5mdW5jdGlvbiBzZW5kX2FsbF90cmVlcyhzLCBsY29kZXMsIGRjb2RlcywgYmxjb2Rlcylcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICBpbnQgbGNvZGVzLCBkY29kZXMsIGJsY29kZXM7IC8qIG51bWJlciBvZiBjb2RlcyBmb3IgZWFjaCB0cmVlICovXG57XG4gIHZhciByYW5rOyAgICAgICAgICAgICAgICAgICAgLyogaW5kZXggaW4gYmxfb3JkZXIgKi9cblxuICAvL0Fzc2VydCAobGNvZGVzID49IDI1NyAmJiBkY29kZXMgPj0gMSAmJiBibGNvZGVzID49IDQsIFwibm90IGVub3VnaCBjb2Rlc1wiKTtcbiAgLy9Bc3NlcnQgKGxjb2RlcyA8PSBMX0NPREVTICYmIGRjb2RlcyA8PSBEX0NPREVTICYmIGJsY29kZXMgPD0gQkxfQ09ERVMsXG4gIC8vICAgICAgICBcInRvbyBtYW55IGNvZGVzXCIpO1xuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmJsIGNvdW50czogXCIpKTtcbiAgc2VuZF9iaXRzKHMsIGxjb2RlcyAtIDI1NywgNSk7IC8qIG5vdCArMjU1IGFzIHN0YXRlZCBpbiBhcHBub3RlLnR4dCAqL1xuICBzZW5kX2JpdHMocywgZGNvZGVzIC0gMSwgICA1KTtcbiAgc2VuZF9iaXRzKHMsIGJsY29kZXMgLSA0LCAgNCk7IC8qIG5vdCAtMyBhcyBzdGF0ZWQgaW4gYXBwbm90ZS50eHQgKi9cbiAgZm9yIChyYW5rID0gMDsgcmFuayA8IGJsY29kZXM7IHJhbmsrKykge1xuICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgY29kZSAlMmQgXCIsIGJsX29yZGVyW3JhbmtdKSk7XG4gICAgc2VuZF9iaXRzKHMsIHMuYmxfdHJlZVtibF9vcmRlcltyYW5rXSAqIDIgKyAxXS8qLkxlbiovLCAzKTtcbiAgfVxuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmJsIHRyZWU6IHNlbnQgJWxkXCIsIHMtPmJpdHNfc2VudCkpO1xuXG4gIHNlbmRfdHJlZShzLCBzLmR5bl9sdHJlZSwgbGNvZGVzIC0gMSk7IC8qIGxpdGVyYWwgdHJlZSAqL1xuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmxpdCB0cmVlOiBzZW50ICVsZFwiLCBzLT5iaXRzX3NlbnQpKTtcblxuICBzZW5kX3RyZWUocywgcy5keW5fZHRyZWUsIGRjb2RlcyAtIDEpOyAvKiBkaXN0YW5jZSB0cmVlICovXG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuZGlzdCB0cmVlOiBzZW50ICVsZFwiLCBzLT5iaXRzX3NlbnQpKTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENoZWNrIGlmIHRoZSBkYXRhIHR5cGUgaXMgVEVYVCBvciBCSU5BUlksIHVzaW5nIHRoZSBmb2xsb3dpbmcgYWxnb3JpdGhtOlxuICogLSBURVhUIGlmIHRoZSB0d28gY29uZGl0aW9ucyBiZWxvdyBhcmUgc2F0aXNmaWVkOlxuICogICAgYSkgVGhlcmUgYXJlIG5vIG5vbi1wb3J0YWJsZSBjb250cm9sIGNoYXJhY3RlcnMgYmVsb25naW5nIHRvIHRoZVxuICogICAgICAgXCJibGFjayBsaXN0XCIgKDAuLjYsIDE0Li4yNSwgMjguLjMxKS5cbiAqICAgIGIpIFRoZXJlIGlzIGF0IGxlYXN0IG9uZSBwcmludGFibGUgY2hhcmFjdGVyIGJlbG9uZ2luZyB0byB0aGVcbiAqICAgICAgIFwid2hpdGUgbGlzdFwiICg5IHtUQUJ9LCAxMCB7TEZ9LCAxMyB7Q1J9LCAzMi4uMjU1KS5cbiAqIC0gQklOQVJZIG90aGVyd2lzZS5cbiAqIC0gVGhlIGZvbGxvd2luZyBwYXJ0aWFsbHktcG9ydGFibGUgY29udHJvbCBjaGFyYWN0ZXJzIGZvcm0gYVxuICogICBcImdyYXkgbGlzdFwiIHRoYXQgaXMgaWdub3JlZCBpbiB0aGlzIGRldGVjdGlvbiBhbGdvcml0aG06XG4gKiAgICg3IHtCRUx9LCA4IHtCU30sIDExIHtWVH0sIDEyIHtGRn0sIDI2IHtTVUJ9LCAyNyB7RVNDfSkuXG4gKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZHMgRnJlcSBvZiBkeW5fbHRyZWUgYXJlIHNldC5cbiAqL1xuZnVuY3Rpb24gZGV0ZWN0X2RhdGFfdHlwZShzKSB7XG4gIC8qIGJsYWNrX21hc2sgaXMgdGhlIGJpdCBtYXNrIG9mIGJsYWNrLWxpc3RlZCBieXRlc1xuICAgKiBzZXQgYml0cyAwLi42LCAxNC4uMjUsIGFuZCAyOC4uMzFcbiAgICogMHhmM2ZmYzA3ZiA9IGJpbmFyeSAxMTExMDAxMTExMTExMTExMTEwMDAwMDAwMTExMTExMVxuICAgKi9cbiAgdmFyIGJsYWNrX21hc2sgPSAweGYzZmZjMDdmO1xuICB2YXIgbjtcblxuICAvKiBDaGVjayBmb3Igbm9uLXRleHR1YWwgKFwiYmxhY2stbGlzdGVkXCIpIGJ5dGVzLiAqL1xuICBmb3IgKG4gPSAwOyBuIDw9IDMxOyBuKyssIGJsYWNrX21hc2sgPj4+PSAxKSB7XG4gICAgaWYgKChibGFja19tYXNrICYgMSkgJiYgKHMuZHluX2x0cmVlW24gKiAyXS8qLkZyZXEqLyAhPT0gMCkpIHtcbiAgICAgIHJldHVybiBaX0JJTkFSWTtcbiAgICB9XG4gIH1cblxuICAvKiBDaGVjayBmb3IgdGV4dHVhbCAoXCJ3aGl0ZS1saXN0ZWRcIikgYnl0ZXMuICovXG4gIGlmIChzLmR5bl9sdHJlZVs5ICogMl0vKi5GcmVxKi8gIT09IDAgfHwgcy5keW5fbHRyZWVbMTAgKiAyXS8qLkZyZXEqLyAhPT0gMCB8fFxuICAgICAgcy5keW5fbHRyZWVbMTMgKiAyXS8qLkZyZXEqLyAhPT0gMCkge1xuICAgIHJldHVybiBaX1RFWFQ7XG4gIH1cbiAgZm9yIChuID0gMzI7IG4gPCBMSVRFUkFMUzsgbisrKSB7XG4gICAgaWYgKHMuZHluX2x0cmVlW24gKiAyXS8qLkZyZXEqLyAhPT0gMCkge1xuICAgICAgcmV0dXJuIFpfVEVYVDtcbiAgICB9XG4gIH1cblxuICAvKiBUaGVyZSBhcmUgbm8gXCJibGFjay1saXN0ZWRcIiBvciBcIndoaXRlLWxpc3RlZFwiIGJ5dGVzOlxuICAgKiB0aGlzIHN0cmVhbSBlaXRoZXIgaXMgZW1wdHkgb3IgaGFzIHRvbGVyYXRlZCAoXCJncmF5LWxpc3RlZFwiKSBieXRlcyBvbmx5LlxuICAgKi9cbiAgcmV0dXJuIFpfQklOQVJZO1xufVxuXG5cbnZhciBzdGF0aWNfaW5pdF9kb25lID0gZmFsc2U7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZSB0aGUgdHJlZSBkYXRhIHN0cnVjdHVyZXMgZm9yIGEgbmV3IHpsaWIgc3RyZWFtLlxuICovXG5mdW5jdGlvbiBfdHJfaW5pdChzKVxue1xuXG4gIGlmICghc3RhdGljX2luaXRfZG9uZSkge1xuICAgIHRyX3N0YXRpY19pbml0KCk7XG4gICAgc3RhdGljX2luaXRfZG9uZSA9IHRydWU7XG4gIH1cblxuICBzLmxfZGVzYyAgPSBuZXcgVHJlZURlc2Mocy5keW5fbHRyZWUsIHN0YXRpY19sX2Rlc2MpO1xuICBzLmRfZGVzYyAgPSBuZXcgVHJlZURlc2Mocy5keW5fZHRyZWUsIHN0YXRpY19kX2Rlc2MpO1xuICBzLmJsX2Rlc2MgPSBuZXcgVHJlZURlc2Mocy5ibF90cmVlLCBzdGF0aWNfYmxfZGVzYyk7XG5cbiAgcy5iaV9idWYgPSAwO1xuICBzLmJpX3ZhbGlkID0gMDtcblxuICAvKiBJbml0aWFsaXplIHRoZSBmaXJzdCBibG9jayBvZiB0aGUgZmlyc3QgZmlsZTogKi9cbiAgaW5pdF9ibG9jayhzKTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgYSBzdG9yZWQgYmxvY2tcbiAqL1xuZnVuY3Rpb24gX3RyX3N0b3JlZF9ibG9jayhzLCBidWYsIHN0b3JlZF9sZW4sIGxhc3QpXG4vL0RlZmxhdGVTdGF0ZSAqcztcbi8vY2hhcmYgKmJ1ZjsgICAgICAgLyogaW5wdXQgYmxvY2sgKi9cbi8vdWxnIHN0b3JlZF9sZW47ICAgLyogbGVuZ3RoIG9mIGlucHV0IGJsb2NrICovXG4vL2ludCBsYXN0OyAgICAgICAgIC8qIG9uZSBpZiB0aGlzIGlzIHRoZSBsYXN0IGJsb2NrIGZvciBhIGZpbGUgKi9cbntcbiAgc2VuZF9iaXRzKHMsIChTVE9SRURfQkxPQ0sgPDwgMSkgKyAobGFzdCA/IDEgOiAwKSwgMyk7ICAgIC8qIHNlbmQgYmxvY2sgdHlwZSAqL1xuICBjb3B5X2Jsb2NrKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgdHJ1ZSk7IC8qIHdpdGggaGVhZGVyICovXG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIG9uZSBlbXB0eSBzdGF0aWMgYmxvY2sgdG8gZ2l2ZSBlbm91Z2ggbG9va2FoZWFkIGZvciBpbmZsYXRlLlxuICogVGhpcyB0YWtlcyAxMCBiaXRzLCBvZiB3aGljaCA3IG1heSByZW1haW4gaW4gdGhlIGJpdCBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIF90cl9hbGlnbihzKSB7XG4gIHNlbmRfYml0cyhzLCBTVEFUSUNfVFJFRVMgPDwgMSwgMyk7XG4gIHNlbmRfY29kZShzLCBFTkRfQkxPQ0ssIHN0YXRpY19sdHJlZSk7XG4gIGJpX2ZsdXNoKHMpO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRGV0ZXJtaW5lIHRoZSBiZXN0IGVuY29kaW5nIGZvciB0aGUgY3VycmVudCBibG9jazogZHluYW1pYyB0cmVlcywgc3RhdGljXG4gKiB0cmVlcyBvciBzdG9yZSwgYW5kIG91dHB1dCB0aGUgZW5jb2RlZCBibG9jayB0byB0aGUgemlwIGZpbGUuXG4gKi9cbmZ1bmN0aW9uIF90cl9mbHVzaF9ibG9jayhzLCBidWYsIHN0b3JlZF9sZW4sIGxhc3QpXG4vL0RlZmxhdGVTdGF0ZSAqcztcbi8vY2hhcmYgKmJ1ZjsgICAgICAgLyogaW5wdXQgYmxvY2ssIG9yIE5VTEwgaWYgdG9vIG9sZCAqL1xuLy91bGcgc3RvcmVkX2xlbjsgICAvKiBsZW5ndGggb2YgaW5wdXQgYmxvY2sgKi9cbi8vaW50IGxhc3Q7ICAgICAgICAgLyogb25lIGlmIHRoaXMgaXMgdGhlIGxhc3QgYmxvY2sgZm9yIGEgZmlsZSAqL1xue1xuICB2YXIgb3B0X2xlbmIsIHN0YXRpY19sZW5iOyAgLyogb3B0X2xlbiBhbmQgc3RhdGljX2xlbiBpbiBieXRlcyAqL1xuICB2YXIgbWF4X2JsaW5kZXggPSAwOyAgICAgICAgLyogaW5kZXggb2YgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgb2Ygbm9uIHplcm8gZnJlcSAqL1xuXG4gIC8qIEJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzIHVubGVzcyBhIHN0b3JlZCBibG9jayBpcyBmb3JjZWQgKi9cbiAgaWYgKHMubGV2ZWwgPiAwKSB7XG5cbiAgICAvKiBDaGVjayBpZiB0aGUgZmlsZSBpcyBiaW5hcnkgb3IgdGV4dCAqL1xuICAgIGlmIChzLnN0cm0uZGF0YV90eXBlID09PSBaX1VOS05PV04pIHtcbiAgICAgIHMuc3RybS5kYXRhX3R5cGUgPSBkZXRlY3RfZGF0YV90eXBlKHMpO1xuICAgIH1cblxuICAgIC8qIENvbnN0cnVjdCB0aGUgbGl0ZXJhbCBhbmQgZGlzdGFuY2UgdHJlZXMgKi9cbiAgICBidWlsZF90cmVlKHMsIHMubF9kZXNjKTtcbiAgICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5saXQgZGF0YTogZHluICVsZCwgc3RhdCAlbGRcIiwgcy0+b3B0X2xlbixcbiAgICAvLyAgICAgICAgcy0+c3RhdGljX2xlbikpO1xuXG4gICAgYnVpbGRfdHJlZShzLCBzLmRfZGVzYyk7XG4gICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxuZGlzdCBkYXRhOiBkeW4gJWxkLCBzdGF0ICVsZFwiLCBzLT5vcHRfbGVuLFxuICAgIC8vICAgICAgICBzLT5zdGF0aWNfbGVuKSk7XG4gICAgLyogQXQgdGhpcyBwb2ludCwgb3B0X2xlbiBhbmQgc3RhdGljX2xlbiBhcmUgdGhlIHRvdGFsIGJpdCBsZW5ndGhzIG9mXG4gICAgICogdGhlIGNvbXByZXNzZWQgYmxvY2sgZGF0YSwgZXhjbHVkaW5nIHRoZSB0cmVlIHJlcHJlc2VudGF0aW9ucy5cbiAgICAgKi9cblxuICAgIC8qIEJ1aWxkIHRoZSBiaXQgbGVuZ3RoIHRyZWUgZm9yIHRoZSBhYm92ZSB0d28gdHJlZXMsIGFuZCBnZXQgdGhlIGluZGV4XG4gICAgICogaW4gYmxfb3JkZXIgb2YgdGhlIGxhc3QgYml0IGxlbmd0aCBjb2RlIHRvIHNlbmQuXG4gICAgICovXG4gICAgbWF4X2JsaW5kZXggPSBidWlsZF9ibF90cmVlKHMpO1xuXG4gICAgLyogRGV0ZXJtaW5lIHRoZSBiZXN0IGVuY29kaW5nLiBDb21wdXRlIHRoZSBibG9jayBsZW5ndGhzIGluIGJ5dGVzLiAqL1xuICAgIG9wdF9sZW5iID0gKHMub3B0X2xlbiArIDMgKyA3KSA+Pj4gMztcbiAgICBzdGF0aWNfbGVuYiA9IChzLnN0YXRpY19sZW4gKyAzICsgNykgPj4+IDM7XG5cbiAgICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5vcHQgJWx1KCVsdSkgc3RhdCAlbHUoJWx1KSBzdG9yZWQgJWx1IGxpdCAldSBcIixcbiAgICAvLyAgICAgICAgb3B0X2xlbmIsIHMtPm9wdF9sZW4sIHN0YXRpY19sZW5iLCBzLT5zdGF0aWNfbGVuLCBzdG9yZWRfbGVuLFxuICAgIC8vICAgICAgICBzLT5sYXN0X2xpdCkpO1xuXG4gICAgaWYgKHN0YXRpY19sZW5iIDw9IG9wdF9sZW5iKSB7IG9wdF9sZW5iID0gc3RhdGljX2xlbmI7IH1cblxuICB9IGVsc2Uge1xuICAgIC8vIEFzc2VydChidWYgIT0gKGNoYXIqKTAsIFwibG9zdCBidWZcIik7XG4gICAgb3B0X2xlbmIgPSBzdGF0aWNfbGVuYiA9IHN0b3JlZF9sZW4gKyA1OyAvKiBmb3JjZSBhIHN0b3JlZCBibG9jayAqL1xuICB9XG5cbiAgaWYgKChzdG9yZWRfbGVuICsgNCA8PSBvcHRfbGVuYikgJiYgKGJ1ZiAhPT0gLTEpKSB7XG4gICAgLyogNDogdHdvIHdvcmRzIGZvciB0aGUgbGVuZ3RocyAqL1xuXG4gICAgLyogVGhlIHRlc3QgYnVmICE9IE5VTEwgaXMgb25seSBuZWNlc3NhcnkgaWYgTElUX0JVRlNJWkUgPiBXU0laRS5cbiAgICAgKiBPdGhlcndpc2Ugd2UgY2FuJ3QgaGF2ZSBwcm9jZXNzZWQgbW9yZSB0aGFuIFdTSVpFIGlucHV0IGJ5dGVzIHNpbmNlXG4gICAgICogdGhlIGxhc3QgYmxvY2sgZmx1c2gsIGJlY2F1c2UgY29tcHJlc3Npb24gd291bGQgaGF2ZSBiZWVuXG4gICAgICogc3VjY2Vzc2Z1bC4gSWYgTElUX0JVRlNJWkUgPD0gV1NJWkUsIGl0IGlzIG5ldmVyIHRvbyBsYXRlIHRvXG4gICAgICogdHJhbnNmb3JtIGEgYmxvY2sgaW50byBhIHN0b3JlZCBibG9jay5cbiAgICAgKi9cbiAgICBfdHJfc3RvcmVkX2Jsb2NrKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgbGFzdCk7XG5cbiAgfSBlbHNlIGlmIChzLnN0cmF0ZWd5ID09PSBaX0ZJWEVEIHx8IHN0YXRpY19sZW5iID09PSBvcHRfbGVuYikge1xuXG4gICAgc2VuZF9iaXRzKHMsIChTVEFUSUNfVFJFRVMgPDwgMSkgKyAobGFzdCA/IDEgOiAwKSwgMyk7XG4gICAgY29tcHJlc3NfYmxvY2socywgc3RhdGljX2x0cmVlLCBzdGF0aWNfZHRyZWUpO1xuXG4gIH0gZWxzZSB7XG4gICAgc2VuZF9iaXRzKHMsIChEWU5fVFJFRVMgPDwgMSkgKyAobGFzdCA/IDEgOiAwKSwgMyk7XG4gICAgc2VuZF9hbGxfdHJlZXMocywgcy5sX2Rlc2MubWF4X2NvZGUgKyAxLCBzLmRfZGVzYy5tYXhfY29kZSArIDEsIG1heF9ibGluZGV4ICsgMSk7XG4gICAgY29tcHJlc3NfYmxvY2socywgcy5keW5fbHRyZWUsIHMuZHluX2R0cmVlKTtcbiAgfVxuICAvLyBBc3NlcnQgKHMtPmNvbXByZXNzZWRfbGVuID09IHMtPmJpdHNfc2VudCwgXCJiYWQgY29tcHJlc3NlZCBzaXplXCIpO1xuICAvKiBUaGUgYWJvdmUgY2hlY2sgaXMgbWFkZSBtb2QgMl4zMiwgZm9yIGZpbGVzIGxhcmdlciB0aGFuIDUxMiBNQlxuICAgKiBhbmQgdUxvbmcgaW1wbGVtZW50ZWQgb24gMzIgYml0cy5cbiAgICovXG4gIGluaXRfYmxvY2socyk7XG5cbiAgaWYgKGxhc3QpIHtcbiAgICBiaV93aW5kdXAocyk7XG4gIH1cbiAgLy8gVHJhY2V2KChzdGRlcnIsXCJcXG5jb21wcmxlbiAlbHUoJWx1KSBcIiwgcy0+Y29tcHJlc3NlZF9sZW4+PjMsXG4gIC8vICAgICAgIHMtPmNvbXByZXNzZWRfbGVuLTcqbGFzdCkpO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNhdmUgdGhlIG1hdGNoIGluZm8gYW5kIHRhbGx5IHRoZSBmcmVxdWVuY3kgY291bnRzLiBSZXR1cm4gdHJ1ZSBpZlxuICogdGhlIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkLlxuICovXG5mdW5jdGlvbiBfdHJfdGFsbHkocywgZGlzdCwgbGMpXG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgdW5zaWduZWQgZGlzdDsgIC8qIGRpc3RhbmNlIG9mIG1hdGNoZWQgc3RyaW5nICovXG4vLyAgICB1bnNpZ25lZCBsYzsgICAgLyogbWF0Y2ggbGVuZ3RoLU1JTl9NQVRDSCBvciB1bm1hdGNoZWQgY2hhciAoaWYgZGlzdD09MCkgKi9cbntcbiAgLy92YXIgb3V0X2xlbmd0aCwgaW5fbGVuZ3RoLCBkY29kZTtcblxuICBzLnBlbmRpbmdfYnVmW3MuZF9idWYgKyBzLmxhc3RfbGl0ICogMl0gICAgID0gKGRpc3QgPj4+IDgpICYgMHhmZjtcbiAgcy5wZW5kaW5nX2J1ZltzLmRfYnVmICsgcy5sYXN0X2xpdCAqIDIgKyAxXSA9IGRpc3QgJiAweGZmO1xuXG4gIHMucGVuZGluZ19idWZbcy5sX2J1ZiArIHMubGFzdF9saXRdID0gbGMgJiAweGZmO1xuICBzLmxhc3RfbGl0Kys7XG5cbiAgaWYgKGRpc3QgPT09IDApIHtcbiAgICAvKiBsYyBpcyB0aGUgdW5tYXRjaGVkIGNoYXIgKi9cbiAgICBzLmR5bl9sdHJlZVtsYyAqIDJdLyouRnJlcSovKys7XG4gIH0gZWxzZSB7XG4gICAgcy5tYXRjaGVzKys7XG4gICAgLyogSGVyZSwgbGMgaXMgdGhlIG1hdGNoIGxlbmd0aCAtIE1JTl9NQVRDSCAqL1xuICAgIGRpc3QtLTsgICAgICAgICAgICAgLyogZGlzdCA9IG1hdGNoIGRpc3RhbmNlIC0gMSAqL1xuICAgIC8vQXNzZXJ0KCh1c2gpZGlzdCA8ICh1c2gpTUFYX0RJU1QocykgJiZcbiAgICAvLyAgICAgICAodXNoKWxjIDw9ICh1c2gpKE1BWF9NQVRDSC1NSU5fTUFUQ0gpICYmXG4gICAgLy8gICAgICAgKHVzaClkX2NvZGUoZGlzdCkgPCAodXNoKURfQ09ERVMsICBcIl90cl90YWxseTogYmFkIG1hdGNoXCIpO1xuXG4gICAgcy5keW5fbHRyZWVbKF9sZW5ndGhfY29kZVtsY10gKyBMSVRFUkFMUyArIDEpICogMl0vKi5GcmVxKi8rKztcbiAgICBzLmR5bl9kdHJlZVtkX2NvZGUoZGlzdCkgKiAyXS8qLkZyZXEqLysrO1xuICB9XG5cbi8vICghKSBUaGlzIGJsb2NrIGlzIGRpc2FibGVkIGluIHpsaWIgZGVmYXVsdHMsXG4vLyBkb24ndCBlbmFibGUgaXQgZm9yIGJpbmFyeSBjb21wYXRpYmlsaXR5XG5cbi8vI2lmZGVmIFRSVU5DQVRFX0JMT0NLXG4vLyAgLyogVHJ5IHRvIGd1ZXNzIGlmIGl0IGlzIHByb2ZpdGFibGUgdG8gc3RvcCB0aGUgY3VycmVudCBibG9jayBoZXJlICovXG4vLyAgaWYgKChzLmxhc3RfbGl0ICYgMHgxZmZmKSA9PT0gMCAmJiBzLmxldmVsID4gMikge1xuLy8gICAgLyogQ29tcHV0ZSBhbiB1cHBlciBib3VuZCBmb3IgdGhlIGNvbXByZXNzZWQgbGVuZ3RoICovXG4vLyAgICBvdXRfbGVuZ3RoID0gcy5sYXN0X2xpdCo4O1xuLy8gICAgaW5fbGVuZ3RoID0gcy5zdHJzdGFydCAtIHMuYmxvY2tfc3RhcnQ7XG4vL1xuLy8gICAgZm9yIChkY29kZSA9IDA7IGRjb2RlIDwgRF9DT0RFUzsgZGNvZGUrKykge1xuLy8gICAgICBvdXRfbGVuZ3RoICs9IHMuZHluX2R0cmVlW2Rjb2RlKjJdLyouRnJlcSovICogKDUgKyBleHRyYV9kYml0c1tkY29kZV0pO1xuLy8gICAgfVxuLy8gICAgb3V0X2xlbmd0aCA+Pj49IDM7XG4vLyAgICAvL1RyYWNldigoc3RkZXJyLFwiXFxubGFzdF9saXQgJXUsIGluICVsZCwgb3V0IH4lbGQoJWxkJSUpIFwiLFxuLy8gICAgLy8gICAgICAgcy0+bGFzdF9saXQsIGluX2xlbmd0aCwgb3V0X2xlbmd0aCxcbi8vICAgIC8vICAgICAgIDEwMEwgLSBvdXRfbGVuZ3RoKjEwMEwvaW5fbGVuZ3RoKSk7XG4vLyAgICBpZiAocy5tYXRjaGVzIDwgKHMubGFzdF9saXQ+PjEpLyppbnQgLzIqLyAmJiBvdXRfbGVuZ3RoIDwgKGluX2xlbmd0aD4+MSkvKmludCAvMiovKSB7XG4vLyAgICAgIHJldHVybiB0cnVlO1xuLy8gICAgfVxuLy8gIH1cbi8vI2VuZGlmXG5cbiAgcmV0dXJuIChzLmxhc3RfbGl0ID09PSBzLmxpdF9idWZzaXplIC0gMSk7XG4gIC8qIFdlIGF2b2lkIGVxdWFsaXR5IHdpdGggbGl0X2J1ZnNpemUgYmVjYXVzZSBvZiB3cmFwYXJvdW5kIGF0IDY0S1xuICAgKiBvbiAxNiBiaXQgbWFjaGluZXMgYW5kIGJlY2F1c2Ugc3RvcmVkIGJsb2NrcyBhcmUgcmVzdHJpY3RlZCB0b1xuICAgKiA2NEstMSBieXRlcy5cbiAgICovXG59XG5cbmV4cG9ydHMuX3RyX2luaXQgID0gX3RyX2luaXQ7XG5leHBvcnRzLl90cl9zdG9yZWRfYmxvY2sgPSBfdHJfc3RvcmVkX2Jsb2NrO1xuZXhwb3J0cy5fdHJfZmx1c2hfYmxvY2sgID0gX3RyX2ZsdXNoX2Jsb2NrO1xuZXhwb3J0cy5fdHJfdGFsbHkgPSBfdHJfdGFsbHk7XG5leHBvcnRzLl90cl9hbGlnbiA9IF90cl9hbGlnbjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIE5vdGU6IGFkbGVyMzIgdGFrZXMgMTIlIGZvciBsZXZlbCAwIGFuZCAyJSBmb3IgbGV2ZWwgNi5cbi8vIEl0IGlzbid0IHdvcnRoIGl0IHRvIG1ha2UgYWRkaXRpb25hbCBvcHRpbWl6YXRpb25zIGFzIGluIG9yaWdpbmFsLlxuLy8gU21hbGwgc2l6ZSBpcyBwcmVmZXJhYmxlLlxuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbmZ1bmN0aW9uIGFkbGVyMzIoYWRsZXIsIGJ1ZiwgbGVuLCBwb3MpIHtcbiAgdmFyIHMxID0gKGFkbGVyICYgMHhmZmZmKSB8MCxcbiAgICAgIHMyID0gKChhZGxlciA+Pj4gMTYpICYgMHhmZmZmKSB8MCxcbiAgICAgIG4gPSAwO1xuXG4gIHdoaWxlIChsZW4gIT09IDApIHtcbiAgICAvLyBTZXQgbGltaXQgfiB0d2ljZSBsZXNzIHRoYW4gNTU1MiwgdG8ga2VlcFxuICAgIC8vIHMyIGluIDMxLWJpdHMsIGJlY2F1c2Ugd2UgZm9yY2Ugc2lnbmVkIGludHMuXG4gICAgLy8gaW4gb3RoZXIgY2FzZSAlPSB3aWxsIGZhaWwuXG4gICAgbiA9IGxlbiA+IDIwMDAgPyAyMDAwIDogbGVuO1xuICAgIGxlbiAtPSBuO1xuXG4gICAgZG8ge1xuICAgICAgczEgPSAoczEgKyBidWZbcG9zKytdKSB8MDtcbiAgICAgIHMyID0gKHMyICsgczEpIHwwO1xuICAgIH0gd2hpbGUgKC0tbik7XG5cbiAgICBzMSAlPSA2NTUyMTtcbiAgICBzMiAlPSA2NTUyMTtcbiAgfVxuXG4gIHJldHVybiAoczEgfCAoczIgPDwgMTYpKSB8MDtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGFkbGVyMzI7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vLyBOb3RlOiB3ZSBjYW4ndCBnZXQgc2lnbmlmaWNhbnQgc3BlZWQgYm9vc3QgaGVyZS5cbi8vIFNvIHdyaXRlIGNvZGUgdG8gbWluaW1pemUgc2l6ZSAtIG5vIHByZWdlbmVyYXRlZCB0YWJsZXNcbi8vIGFuZCBhcnJheSB0b29scyBkZXBlbmRlbmNpZXMuXG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuLy8gVXNlIG9yZGluYXJ5IGFycmF5LCBzaW5jZSB1bnR5cGVkIG1ha2VzIG5vIGJvb3N0IGhlcmVcbmZ1bmN0aW9uIG1ha2VUYWJsZSgpIHtcbiAgdmFyIGMsIHRhYmxlID0gW107XG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCAyNTY7IG4rKykge1xuICAgIGMgPSBuO1xuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgODsgaysrKSB7XG4gICAgICBjID0gKChjICYgMSkgPyAoMHhFREI4ODMyMCBeIChjID4+PiAxKSkgOiAoYyA+Pj4gMSkpO1xuICAgIH1cbiAgICB0YWJsZVtuXSA9IGM7XG4gIH1cblxuICByZXR1cm4gdGFibGU7XG59XG5cbi8vIENyZWF0ZSB0YWJsZSBvbiBsb2FkLiBKdXN0IDI1NSBzaWduZWQgbG9uZ3MuIE5vdCBhIHByb2JsZW0uXG52YXIgY3JjVGFibGUgPSBtYWtlVGFibGUoKTtcblxuXG5mdW5jdGlvbiBjcmMzMihjcmMsIGJ1ZiwgbGVuLCBwb3MpIHtcbiAgdmFyIHQgPSBjcmNUYWJsZSxcbiAgICAgIGVuZCA9IHBvcyArIGxlbjtcblxuICBjcmMgXj0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IHBvczsgaSA8IGVuZDsgaSsrKSB7XG4gICAgY3JjID0gKGNyYyA+Pj4gOCkgXiB0WyhjcmMgXiBidWZbaV0pICYgMHhGRl07XG4gIH1cblxuICByZXR1cm4gKGNyYyBeICgtMSkpOyAvLyA+Pj4gMDtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyYzMyO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgMjogICAgICAnbmVlZCBkaWN0aW9uYXJ5JywgICAgIC8qIFpfTkVFRF9ESUNUICAgICAgIDIgICovXG4gIDE6ICAgICAgJ3N0cmVhbSBlbmQnLCAgICAgICAgICAvKiBaX1NUUkVBTV9FTkQgICAgICAxICAqL1xuICAwOiAgICAgICcnLCAgICAgICAgICAgICAgICAgICAgLyogWl9PSyAgICAgICAgICAgICAgMCAgKi9cbiAgJy0xJzogICAnZmlsZSBlcnJvcicsICAgICAgICAgIC8qIFpfRVJSTk8gICAgICAgICAoLTEpICovXG4gICctMic6ICAgJ3N0cmVhbSBlcnJvcicsICAgICAgICAvKiBaX1NUUkVBTV9FUlJPUiAgKC0yKSAqL1xuICAnLTMnOiAgICdkYXRhIGVycm9yJywgICAgICAgICAgLyogWl9EQVRBX0VSUk9SICAgICgtMykgKi9cbiAgJy00JzogICAnaW5zdWZmaWNpZW50IG1lbW9yeScsIC8qIFpfTUVNX0VSUk9SICAgICAoLTQpICovXG4gICctNSc6ICAgJ2J1ZmZlciBlcnJvcicsICAgICAgICAvKiBaX0JVRl9FUlJPUiAgICAgKC01KSAqL1xuICAnLTYnOiAgICdpbmNvbXBhdGlibGUgdmVyc2lvbicgLyogWl9WRVJTSU9OX0VSUk9SICgtNikgKi9cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbnZhciB1dGlscyAgID0gcmVxdWlyZSgnLi4vdXRpbHMvY29tbW9uJyk7XG52YXIgdHJlZXMgICA9IHJlcXVpcmUoJy4vdHJlZXMnKTtcbnZhciBhZGxlcjMyID0gcmVxdWlyZSgnLi9hZGxlcjMyJyk7XG52YXIgY3JjMzIgICA9IHJlcXVpcmUoJy4vY3JjMzInKTtcbnZhciBtc2cgICAgID0gcmVxdWlyZSgnLi9tZXNzYWdlcycpO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vKiBBbGxvd2VkIGZsdXNoIHZhbHVlczsgc2VlIGRlZmxhdGUoKSBhbmQgaW5mbGF0ZSgpIGJlbG93IGZvciBkZXRhaWxzICovXG52YXIgWl9OT19GTFVTSCAgICAgID0gMDtcbnZhciBaX1BBUlRJQUxfRkxVU0ggPSAxO1xuLy92YXIgWl9TWU5DX0ZMVVNIICAgID0gMjtcbnZhciBaX0ZVTExfRkxVU0ggICAgPSAzO1xudmFyIFpfRklOSVNIICAgICAgICA9IDQ7XG52YXIgWl9CTE9DSyAgICAgICAgID0gNTtcbi8vdmFyIFpfVFJFRVMgICAgICAgICA9IDY7XG5cblxuLyogUmV0dXJuIGNvZGVzIGZvciB0aGUgY29tcHJlc3Npb24vZGVjb21wcmVzc2lvbiBmdW5jdGlvbnMuIE5lZ2F0aXZlIHZhbHVlc1xuICogYXJlIGVycm9ycywgcG9zaXRpdmUgdmFsdWVzIGFyZSB1c2VkIGZvciBzcGVjaWFsIGJ1dCBub3JtYWwgZXZlbnRzLlxuICovXG52YXIgWl9PSyAgICAgICAgICAgID0gMDtcbnZhciBaX1NUUkVBTV9FTkQgICAgPSAxO1xuLy92YXIgWl9ORUVEX0RJQ1QgICAgID0gMjtcbi8vdmFyIFpfRVJSTk8gICAgICAgICA9IC0xO1xudmFyIFpfU1RSRUFNX0VSUk9SICA9IC0yO1xudmFyIFpfREFUQV9FUlJPUiAgICA9IC0zO1xuLy92YXIgWl9NRU1fRVJST1IgICAgID0gLTQ7XG52YXIgWl9CVUZfRVJST1IgICAgID0gLTU7XG4vL3ZhciBaX1ZFUlNJT05fRVJST1IgPSAtNjtcblxuXG4vKiBjb21wcmVzc2lvbiBsZXZlbHMgKi9cbi8vdmFyIFpfTk9fQ09NUFJFU1NJT04gICAgICA9IDA7XG4vL3ZhciBaX0JFU1RfU1BFRUQgICAgICAgICAgPSAxO1xuLy92YXIgWl9CRVNUX0NPTVBSRVNTSU9OICAgID0gOTtcbnZhciBaX0RFRkFVTFRfQ09NUFJFU1NJT04gPSAtMTtcblxuXG52YXIgWl9GSUxURVJFRCAgICAgICAgICAgID0gMTtcbnZhciBaX0hVRkZNQU5fT05MWSAgICAgICAgPSAyO1xudmFyIFpfUkxFICAgICAgICAgICAgICAgICA9IDM7XG52YXIgWl9GSVhFRCAgICAgICAgICAgICAgID0gNDtcbnZhciBaX0RFRkFVTFRfU1RSQVRFR1kgICAgPSAwO1xuXG4vKiBQb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIGRhdGFfdHlwZSBmaWVsZCAodGhvdWdoIHNlZSBpbmZsYXRlKCkpICovXG4vL3ZhciBaX0JJTkFSWSAgICAgICAgICAgICAgPSAwO1xuLy92YXIgWl9URVhUICAgICAgICAgICAgICAgID0gMTtcbi8vdmFyIFpfQVNDSUkgICAgICAgICAgICAgICA9IDE7IC8vID0gWl9URVhUXG52YXIgWl9VTktOT1dOICAgICAgICAgICAgID0gMjtcblxuXG4vKiBUaGUgZGVmbGF0ZSBjb21wcmVzc2lvbiBtZXRob2QgKi9cbnZhciBaX0RFRkxBVEVEICA9IDg7XG5cbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxudmFyIE1BWF9NRU1fTEVWRUwgPSA5O1xuLyogTWF4aW11bSB2YWx1ZSBmb3IgbWVtTGV2ZWwgaW4gZGVmbGF0ZUluaXQyICovXG52YXIgTUFYX1dCSVRTID0gMTU7XG4vKiAzMksgTFo3NyB3aW5kb3cgKi9cbnZhciBERUZfTUVNX0xFVkVMID0gODtcblxuXG52YXIgTEVOR1RIX0NPREVTICA9IDI5O1xuLyogbnVtYmVyIG9mIGxlbmd0aCBjb2Rlcywgbm90IGNvdW50aW5nIHRoZSBzcGVjaWFsIEVORF9CTE9DSyBjb2RlICovXG52YXIgTElURVJBTFMgICAgICA9IDI1Njtcbi8qIG51bWJlciBvZiBsaXRlcmFsIGJ5dGVzIDAuLjI1NSAqL1xudmFyIExfQ09ERVMgICAgICAgPSBMSVRFUkFMUyArIDEgKyBMRU5HVEhfQ09ERVM7XG4vKiBudW1iZXIgb2YgTGl0ZXJhbCBvciBMZW5ndGggY29kZXMsIGluY2x1ZGluZyB0aGUgRU5EX0JMT0NLIGNvZGUgKi9cbnZhciBEX0NPREVTICAgICAgID0gMzA7XG4vKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZXMgKi9cbnZhciBCTF9DT0RFUyAgICAgID0gMTk7XG4vKiBudW1iZXIgb2YgY29kZXMgdXNlZCB0byB0cmFuc2ZlciB0aGUgYml0IGxlbmd0aHMgKi9cbnZhciBIRUFQX1NJWkUgICAgID0gMiAqIExfQ09ERVMgKyAxO1xuLyogbWF4aW11bSBoZWFwIHNpemUgKi9cbnZhciBNQVhfQklUUyAgPSAxNTtcbi8qIEFsbCBjb2RlcyBtdXN0IG5vdCBleGNlZWQgTUFYX0JJVFMgYml0cyAqL1xuXG52YXIgTUlOX01BVENIID0gMztcbnZhciBNQVhfTUFUQ0ggPSAyNTg7XG52YXIgTUlOX0xPT0tBSEVBRCA9IChNQVhfTUFUQ0ggKyBNSU5fTUFUQ0ggKyAxKTtcblxudmFyIFBSRVNFVF9ESUNUID0gMHgyMDtcblxudmFyIElOSVRfU1RBVEUgPSA0MjtcbnZhciBFWFRSQV9TVEFURSA9IDY5O1xudmFyIE5BTUVfU1RBVEUgPSA3MztcbnZhciBDT01NRU5UX1NUQVRFID0gOTE7XG52YXIgSENSQ19TVEFURSA9IDEwMztcbnZhciBCVVNZX1NUQVRFID0gMTEzO1xudmFyIEZJTklTSF9TVEFURSA9IDY2NjtcblxudmFyIEJTX05FRURfTU9SRSAgICAgID0gMTsgLyogYmxvY2sgbm90IGNvbXBsZXRlZCwgbmVlZCBtb3JlIGlucHV0IG9yIG1vcmUgb3V0cHV0ICovXG52YXIgQlNfQkxPQ0tfRE9ORSAgICAgPSAyOyAvKiBibG9jayBmbHVzaCBwZXJmb3JtZWQgKi9cbnZhciBCU19GSU5JU0hfU1RBUlRFRCA9IDM7IC8qIGZpbmlzaCBzdGFydGVkLCBuZWVkIG9ubHkgbW9yZSBvdXRwdXQgYXQgbmV4dCBkZWZsYXRlICovXG52YXIgQlNfRklOSVNIX0RPTkUgICAgPSA0OyAvKiBmaW5pc2ggZG9uZSwgYWNjZXB0IG5vIG1vcmUgaW5wdXQgb3Igb3V0cHV0ICovXG5cbnZhciBPU19DT0RFID0gMHgwMzsgLy8gVW5peCA6KSAuIERvbid0IGRldGVjdCwgdXNlIHRoaXMgZGVmYXVsdC5cblxuZnVuY3Rpb24gZXJyKHN0cm0sIGVycm9yQ29kZSkge1xuICBzdHJtLm1zZyA9IG1zZ1tlcnJvckNvZGVdO1xuICByZXR1cm4gZXJyb3JDb2RlO1xufVxuXG5mdW5jdGlvbiByYW5rKGYpIHtcbiAgcmV0dXJuICgoZikgPDwgMSkgLSAoKGYpID4gNCA/IDkgOiAwKTtcbn1cblxuZnVuY3Rpb24gemVybyhidWYpIHsgdmFyIGxlbiA9IGJ1Zi5sZW5ndGg7IHdoaWxlICgtLWxlbiA+PSAwKSB7IGJ1ZltsZW5dID0gMDsgfSB9XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRmx1c2ggYXMgbXVjaCBwZW5kaW5nIG91dHB1dCBhcyBwb3NzaWJsZS4gQWxsIGRlZmxhdGUoKSBvdXRwdXQgZ29lc1xuICogdGhyb3VnaCB0aGlzIGZ1bmN0aW9uIHNvIHNvbWUgYXBwbGljYXRpb25zIG1heSB3aXNoIHRvIG1vZGlmeSBpdFxuICogdG8gYXZvaWQgYWxsb2NhdGluZyBhIGxhcmdlIHN0cm0tPm91dHB1dCBidWZmZXIgYW5kIGNvcHlpbmcgaW50byBpdC5cbiAqIChTZWUgYWxzbyByZWFkX2J1ZigpKS5cbiAqL1xuZnVuY3Rpb24gZmx1c2hfcGVuZGluZyhzdHJtKSB7XG4gIHZhciBzID0gc3RybS5zdGF0ZTtcblxuICAvL190cl9mbHVzaF9iaXRzKHMpO1xuICB2YXIgbGVuID0gcy5wZW5kaW5nO1xuICBpZiAobGVuID4gc3RybS5hdmFpbF9vdXQpIHtcbiAgICBsZW4gPSBzdHJtLmF2YWlsX291dDtcbiAgfVxuICBpZiAobGVuID09PSAwKSB7IHJldHVybjsgfVxuXG4gIHV0aWxzLmFycmF5U2V0KHN0cm0ub3V0cHV0LCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmdfb3V0LCBsZW4sIHN0cm0ubmV4dF9vdXQpO1xuICBzdHJtLm5leHRfb3V0ICs9IGxlbjtcbiAgcy5wZW5kaW5nX291dCArPSBsZW47XG4gIHN0cm0udG90YWxfb3V0ICs9IGxlbjtcbiAgc3RybS5hdmFpbF9vdXQgLT0gbGVuO1xuICBzLnBlbmRpbmcgLT0gbGVuO1xuICBpZiAocy5wZW5kaW5nID09PSAwKSB7XG4gICAgcy5wZW5kaW5nX291dCA9IDA7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBmbHVzaF9ibG9ja19vbmx5KHMsIGxhc3QpIHtcbiAgdHJlZXMuX3RyX2ZsdXNoX2Jsb2NrKHMsIChzLmJsb2NrX3N0YXJ0ID49IDAgPyBzLmJsb2NrX3N0YXJ0IDogLTEpLCBzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydCwgbGFzdCk7XG4gIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0O1xuICBmbHVzaF9wZW5kaW5nKHMuc3RybSk7XG59XG5cblxuZnVuY3Rpb24gcHV0X2J5dGUocywgYikge1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IGI7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUHV0IGEgc2hvcnQgaW4gdGhlIHBlbmRpbmcgYnVmZmVyLiBUaGUgMTYtYml0IHZhbHVlIGlzIHB1dCBpbiBNU0Igb3JkZXIuXG4gKiBJTiBhc3NlcnRpb246IHRoZSBzdHJlYW0gc3RhdGUgaXMgY29ycmVjdCBhbmQgdGhlcmUgaXMgZW5vdWdoIHJvb20gaW5cbiAqIHBlbmRpbmdfYnVmLlxuICovXG5mdW5jdGlvbiBwdXRTaG9ydE1TQihzLCBiKSB7XG4vLyAgcHV0X2J5dGUocywgKEJ5dGUpKGIgPj4gOCkpO1xuLy8gIHB1dF9ieXRlKHMsIChCeXRlKShiICYgMHhmZikpO1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IChiID4+PiA4KSAmIDB4ZmY7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gYiAmIDB4ZmY7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBSZWFkIGEgbmV3IGJ1ZmZlciBmcm9tIHRoZSBjdXJyZW50IGlucHV0IHN0cmVhbSwgdXBkYXRlIHRoZSBhZGxlcjMyXG4gKiBhbmQgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIHJlYWQuICBBbGwgZGVmbGF0ZSgpIGlucHV0IGdvZXMgdGhyb3VnaFxuICogdGhpcyBmdW5jdGlvbiBzbyBzb21lIGFwcGxpY2F0aW9ucyBtYXkgd2lzaCB0byBtb2RpZnkgaXQgdG8gYXZvaWRcbiAqIGFsbG9jYXRpbmcgYSBsYXJnZSBzdHJtLT5pbnB1dCBidWZmZXIgYW5kIGNvcHlpbmcgZnJvbSBpdC5cbiAqIChTZWUgYWxzbyBmbHVzaF9wZW5kaW5nKCkpLlxuICovXG5mdW5jdGlvbiByZWFkX2J1ZihzdHJtLCBidWYsIHN0YXJ0LCBzaXplKSB7XG4gIHZhciBsZW4gPSBzdHJtLmF2YWlsX2luO1xuXG4gIGlmIChsZW4gPiBzaXplKSB7IGxlbiA9IHNpemU7IH1cbiAgaWYgKGxlbiA9PT0gMCkgeyByZXR1cm4gMDsgfVxuXG4gIHN0cm0uYXZhaWxfaW4gLT0gbGVuO1xuXG4gIC8vIHptZW1jcHkoYnVmLCBzdHJtLT5uZXh0X2luLCBsZW4pO1xuICB1dGlscy5hcnJheVNldChidWYsIHN0cm0uaW5wdXQsIHN0cm0ubmV4dF9pbiwgbGVuLCBzdGFydCk7XG4gIGlmIChzdHJtLnN0YXRlLndyYXAgPT09IDEpIHtcbiAgICBzdHJtLmFkbGVyID0gYWRsZXIzMihzdHJtLmFkbGVyLCBidWYsIGxlbiwgc3RhcnQpO1xuICB9XG5cbiAgZWxzZSBpZiAoc3RybS5zdGF0ZS53cmFwID09PSAyKSB7XG4gICAgc3RybS5hZGxlciA9IGNyYzMyKHN0cm0uYWRsZXIsIGJ1ZiwgbGVuLCBzdGFydCk7XG4gIH1cblxuICBzdHJtLm5leHRfaW4gKz0gbGVuO1xuICBzdHJtLnRvdGFsX2luICs9IGxlbjtcblxuICByZXR1cm4gbGVuO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2V0IG1hdGNoX3N0YXJ0IHRvIHRoZSBsb25nZXN0IG1hdGNoIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBzdHJpbmcgYW5kXG4gKiByZXR1cm4gaXRzIGxlbmd0aC4gTWF0Y2hlcyBzaG9ydGVyIG9yIGVxdWFsIHRvIHByZXZfbGVuZ3RoIGFyZSBkaXNjYXJkZWQsXG4gKiBpbiB3aGljaCBjYXNlIHRoZSByZXN1bHQgaXMgZXF1YWwgdG8gcHJldl9sZW5ndGggYW5kIG1hdGNoX3N0YXJ0IGlzXG4gKiBnYXJiYWdlLlxuICogSU4gYXNzZXJ0aW9uczogY3VyX21hdGNoIGlzIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluIGZvciB0aGUgY3VycmVudFxuICogICBzdHJpbmcgKHN0cnN0YXJ0KSBhbmQgaXRzIGRpc3RhbmNlIGlzIDw9IE1BWF9ESVNULCBhbmQgcHJldl9sZW5ndGggPj0gMVxuICogT1VUIGFzc2VydGlvbjogdGhlIG1hdGNoIGxlbmd0aCBpcyBub3QgZ3JlYXRlciB0aGFuIHMtPmxvb2thaGVhZC5cbiAqL1xuZnVuY3Rpb24gbG9uZ2VzdF9tYXRjaChzLCBjdXJfbWF0Y2gpIHtcbiAgdmFyIGNoYWluX2xlbmd0aCA9IHMubWF4X2NoYWluX2xlbmd0aDsgICAgICAvKiBtYXggaGFzaCBjaGFpbiBsZW5ndGggKi9cbiAgdmFyIHNjYW4gPSBzLnN0cnN0YXJ0OyAvKiBjdXJyZW50IHN0cmluZyAqL1xuICB2YXIgbWF0Y2g7ICAgICAgICAgICAgICAgICAgICAgICAvKiBtYXRjaGVkIHN0cmluZyAqL1xuICB2YXIgbGVuOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IG1hdGNoICovXG4gIHZhciBiZXN0X2xlbiA9IHMucHJldl9sZW5ndGg7ICAgICAgICAgICAgICAvKiBiZXN0IG1hdGNoIGxlbmd0aCBzbyBmYXIgKi9cbiAgdmFyIG5pY2VfbWF0Y2ggPSBzLm5pY2VfbWF0Y2g7ICAgICAgICAgICAgIC8qIHN0b3AgaWYgbWF0Y2ggbG9uZyBlbm91Z2ggKi9cbiAgdmFyIGxpbWl0ID0gKHMuc3Ryc3RhcnQgPiAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSkgP1xuICAgICAgcy5zdHJzdGFydCAtIChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpIDogMC8qTklMKi87XG5cbiAgdmFyIF93aW4gPSBzLndpbmRvdzsgLy8gc2hvcnRjdXRcblxuICB2YXIgd21hc2sgPSBzLndfbWFzaztcbiAgdmFyIHByZXYgID0gcy5wcmV2O1xuXG4gIC8qIFN0b3Agd2hlbiBjdXJfbWF0Y2ggYmVjb21lcyA8PSBsaW1pdC4gVG8gc2ltcGxpZnkgdGhlIGNvZGUsXG4gICAqIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmcgb2Ygd2luZG93IGluZGV4IDAuXG4gICAqL1xuXG4gIHZhciBzdHJlbmQgPSBzLnN0cnN0YXJ0ICsgTUFYX01BVENIO1xuICB2YXIgc2Nhbl9lbmQxICA9IF93aW5bc2NhbiArIGJlc3RfbGVuIC0gMV07XG4gIHZhciBzY2FuX2VuZCAgID0gX3dpbltzY2FuICsgYmVzdF9sZW5dO1xuXG4gIC8qIFRoZSBjb2RlIGlzIG9wdGltaXplZCBmb3IgSEFTSF9CSVRTID49IDggYW5kIE1BWF9NQVRDSC0yIG11bHRpcGxlIG9mIDE2LlxuICAgKiBJdCBpcyBlYXN5IHRvIGdldCByaWQgb2YgdGhpcyBvcHRpbWl6YXRpb24gaWYgbmVjZXNzYXJ5LlxuICAgKi9cbiAgLy8gQXNzZXJ0KHMtPmhhc2hfYml0cyA+PSA4ICYmIE1BWF9NQVRDSCA9PSAyNTgsIFwiQ29kZSB0b28gY2xldmVyXCIpO1xuXG4gIC8qIERvIG5vdCB3YXN0ZSB0b28gbXVjaCB0aW1lIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGdvb2QgbWF0Y2g6ICovXG4gIGlmIChzLnByZXZfbGVuZ3RoID49IHMuZ29vZF9tYXRjaCkge1xuICAgIGNoYWluX2xlbmd0aCA+Pj0gMjtcbiAgfVxuICAvKiBEbyBub3QgbG9vayBmb3IgbWF0Y2hlcyBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgaW5wdXQuIFRoaXMgaXMgbmVjZXNzYXJ5XG4gICAqIHRvIG1ha2UgZGVmbGF0ZSBkZXRlcm1pbmlzdGljLlxuICAgKi9cbiAgaWYgKG5pY2VfbWF0Y2ggPiBzLmxvb2thaGVhZCkgeyBuaWNlX21hdGNoID0gcy5sb29rYWhlYWQ7IH1cblxuICAvLyBBc3NlcnQoKHVsZylzLT5zdHJzdGFydCA8PSBzLT53aW5kb3dfc2l6ZS1NSU5fTE9PS0FIRUFELCBcIm5lZWQgbG9va2FoZWFkXCIpO1xuXG4gIGRvIHtcbiAgICAvLyBBc3NlcnQoY3VyX21hdGNoIDwgcy0+c3Ryc3RhcnQsIFwibm8gZnV0dXJlXCIpO1xuICAgIG1hdGNoID0gY3VyX21hdGNoO1xuXG4gICAgLyogU2tpcCB0byBuZXh0IG1hdGNoIGlmIHRoZSBtYXRjaCBsZW5ndGggY2Fubm90IGluY3JlYXNlXG4gICAgICogb3IgaWYgdGhlIG1hdGNoIGxlbmd0aCBpcyBsZXNzIHRoYW4gMi4gIE5vdGUgdGhhdCB0aGUgY2hlY2tzIGJlbG93XG4gICAgICogZm9yIGluc3VmZmljaWVudCBsb29rYWhlYWQgb25seSBvY2N1ciBvY2Nhc2lvbmFsbHkgZm9yIHBlcmZvcm1hbmNlXG4gICAgICogcmVhc29ucy4gIFRoZXJlZm9yZSB1bmluaXRpYWxpemVkIG1lbW9yeSB3aWxsIGJlIGFjY2Vzc2VkLCBhbmRcbiAgICAgKiBjb25kaXRpb25hbCBqdW1wcyB3aWxsIGJlIG1hZGUgdGhhdCBkZXBlbmQgb24gdGhvc2UgdmFsdWVzLlxuICAgICAqIEhvd2V2ZXIgdGhlIGxlbmd0aCBvZiB0aGUgbWF0Y2ggaXMgbGltaXRlZCB0byB0aGUgbG9va2FoZWFkLCBzb1xuICAgICAqIHRoZSBvdXRwdXQgb2YgZGVmbGF0ZSBpcyBub3QgYWZmZWN0ZWQgYnkgdGhlIHVuaW5pdGlhbGl6ZWQgdmFsdWVzLlxuICAgICAqL1xuXG4gICAgaWYgKF93aW5bbWF0Y2ggKyBiZXN0X2xlbl0gICAgICE9PSBzY2FuX2VuZCAgfHxcbiAgICAgICAgX3dpblttYXRjaCArIGJlc3RfbGVuIC0gMV0gIT09IHNjYW5fZW5kMSB8fFxuICAgICAgICBfd2luW21hdGNoXSAgICAgICAgICAgICAgICAhPT0gX3dpbltzY2FuXSB8fFxuICAgICAgICBfd2luWysrbWF0Y2hdICAgICAgICAgICAgICAhPT0gX3dpbltzY2FuICsgMV0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8qIFRoZSBjaGVjayBhdCBiZXN0X2xlbi0xIGNhbiBiZSByZW1vdmVkIGJlY2F1c2UgaXQgd2lsbCBiZSBtYWRlXG4gICAgICogYWdhaW4gbGF0ZXIuIChUaGlzIGhldXJpc3RpYyBpcyBub3QgYWx3YXlzIGEgd2luLilcbiAgICAgKiBJdCBpcyBub3QgbmVjZXNzYXJ5IHRvIGNvbXBhcmUgc2NhblsyXSBhbmQgbWF0Y2hbMl0gc2luY2UgdGhleVxuICAgICAqIGFyZSBhbHdheXMgZXF1YWwgd2hlbiB0aGUgb3RoZXIgYnl0ZXMgbWF0Y2gsIGdpdmVuIHRoYXRcbiAgICAgKiB0aGUgaGFzaCBrZXlzIGFyZSBlcXVhbCBhbmQgdGhhdCBIQVNIX0JJVFMgPj0gOC5cbiAgICAgKi9cbiAgICBzY2FuICs9IDI7XG4gICAgbWF0Y2grKztcbiAgICAvLyBBc3NlcnQoKnNjYW4gPT0gKm1hdGNoLCBcIm1hdGNoWzJdP1wiKTtcblxuICAgIC8qIFdlIGNoZWNrIGZvciBpbnN1ZmZpY2llbnQgbG9va2FoZWFkIG9ubHkgZXZlcnkgOHRoIGNvbXBhcmlzb247XG4gICAgICogdGhlIDI1NnRoIGNoZWNrIHdpbGwgYmUgbWFkZSBhdCBzdHJzdGFydCsyNTguXG4gICAgICovXG4gICAgZG8ge1xuICAgICAgLypqc2hpbnQgbm9lbXB0eTpmYWxzZSovXG4gICAgfSB3aGlsZSAoX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiYgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgIHNjYW4gPCBzdHJlbmQpO1xuXG4gICAgLy8gQXNzZXJ0KHNjYW4gPD0gcy0+d2luZG93Kyh1bnNpZ25lZCkocy0+d2luZG93X3NpemUtMSksIFwid2lsZCBzY2FuXCIpO1xuXG4gICAgbGVuID0gTUFYX01BVENIIC0gKHN0cmVuZCAtIHNjYW4pO1xuICAgIHNjYW4gPSBzdHJlbmQgLSBNQVhfTUFUQ0g7XG5cbiAgICBpZiAobGVuID4gYmVzdF9sZW4pIHtcbiAgICAgIHMubWF0Y2hfc3RhcnQgPSBjdXJfbWF0Y2g7XG4gICAgICBiZXN0X2xlbiA9IGxlbjtcbiAgICAgIGlmIChsZW4gPj0gbmljZV9tYXRjaCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHNjYW5fZW5kMSAgPSBfd2luW3NjYW4gKyBiZXN0X2xlbiAtIDFdO1xuICAgICAgc2Nhbl9lbmQgICA9IF93aW5bc2NhbiArIGJlc3RfbGVuXTtcbiAgICB9XG4gIH0gd2hpbGUgKChjdXJfbWF0Y2ggPSBwcmV2W2N1cl9tYXRjaCAmIHdtYXNrXSkgPiBsaW1pdCAmJiAtLWNoYWluX2xlbmd0aCAhPT0gMCk7XG5cbiAgaWYgKGJlc3RfbGVuIDw9IHMubG9va2FoZWFkKSB7XG4gICAgcmV0dXJuIGJlc3RfbGVuO1xuICB9XG4gIHJldHVybiBzLmxvb2thaGVhZDtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZpbGwgdGhlIHdpbmRvdyB3aGVuIHRoZSBsb29rYWhlYWQgYmVjb21lcyBpbnN1ZmZpY2llbnQuXG4gKiBVcGRhdGVzIHN0cnN0YXJ0IGFuZCBsb29rYWhlYWQuXG4gKlxuICogSU4gYXNzZXJ0aW9uOiBsb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEXG4gKiBPVVQgYXNzZXJ0aW9uczogc3Ryc3RhcnQgPD0gd2luZG93X3NpemUtTUlOX0xPT0tBSEVBRFxuICogICAgQXQgbGVhc3Qgb25lIGJ5dGUgaGFzIGJlZW4gcmVhZCwgb3IgYXZhaWxfaW4gPT0gMDsgcmVhZHMgYXJlXG4gKiAgICBwZXJmb3JtZWQgZm9yIGF0IGxlYXN0IHR3byBieXRlcyAocmVxdWlyZWQgZm9yIHRoZSB6aXAgdHJhbnNsYXRlX2VvbFxuICogICAgb3B0aW9uIC0tIG5vdCBzdXBwb3J0ZWQgaGVyZSkuXG4gKi9cbmZ1bmN0aW9uIGZpbGxfd2luZG93KHMpIHtcbiAgdmFyIF93X3NpemUgPSBzLndfc2l6ZTtcbiAgdmFyIHAsIG4sIG0sIG1vcmUsIHN0cjtcblxuICAvL0Fzc2VydChzLT5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFELCBcImFscmVhZHkgZW5vdWdoIGxvb2thaGVhZFwiKTtcblxuICBkbyB7XG4gICAgbW9yZSA9IHMud2luZG93X3NpemUgLSBzLmxvb2thaGVhZCAtIHMuc3Ryc3RhcnQ7XG5cbiAgICAvLyBKUyBpbnRzIGhhdmUgMzIgYml0LCBibG9jayBiZWxvdyBub3QgbmVlZGVkXG4gICAgLyogRGVhbCB3aXRoICFAIyQlIDY0SyBsaW1pdDogKi9cbiAgICAvL2lmIChzaXplb2YoaW50KSA8PSAyKSB7XG4gICAgLy8gICAgaWYgKG1vcmUgPT0gMCAmJiBzLT5zdHJzdGFydCA9PSAwICYmIHMtPmxvb2thaGVhZCA9PSAwKSB7XG4gICAgLy8gICAgICAgIG1vcmUgPSB3c2l6ZTtcbiAgICAvL1xuICAgIC8vICB9IGVsc2UgaWYgKG1vcmUgPT0gKHVuc2lnbmVkKSgtMSkpIHtcbiAgICAvLyAgICAgICAgLyogVmVyeSB1bmxpa2VseSwgYnV0IHBvc3NpYmxlIG9uIDE2IGJpdCBtYWNoaW5lIGlmXG4gICAgLy8gICAgICAgICAqIHN0cnN0YXJ0ID09IDAgJiYgbG9va2FoZWFkID09IDEgKGlucHV0IGRvbmUgYSBieXRlIGF0IHRpbWUpXG4gICAgLy8gICAgICAgICAqL1xuICAgIC8vICAgICAgICBtb3JlLS07XG4gICAgLy8gICAgfVxuICAgIC8vfVxuXG5cbiAgICAvKiBJZiB0aGUgd2luZG93IGlzIGFsbW9zdCBmdWxsIGFuZCB0aGVyZSBpcyBpbnN1ZmZpY2llbnQgbG9va2FoZWFkLFxuICAgICAqIG1vdmUgdGhlIHVwcGVyIGhhbGYgdG8gdGhlIGxvd2VyIG9uZSB0byBtYWtlIHJvb20gaW4gdGhlIHVwcGVyIGhhbGYuXG4gICAgICovXG4gICAgaWYgKHMuc3Ryc3RhcnQgPj0gX3dfc2l6ZSArIChfd19zaXplIC0gTUlOX0xPT0tBSEVBRCkpIHtcblxuICAgICAgdXRpbHMuYXJyYXlTZXQocy53aW5kb3csIHMud2luZG93LCBfd19zaXplLCBfd19zaXplLCAwKTtcbiAgICAgIHMubWF0Y2hfc3RhcnQgLT0gX3dfc2l6ZTtcbiAgICAgIHMuc3Ryc3RhcnQgLT0gX3dfc2l6ZTtcbiAgICAgIC8qIHdlIG5vdyBoYXZlIHN0cnN0YXJ0ID49IE1BWF9ESVNUICovXG4gICAgICBzLmJsb2NrX3N0YXJ0IC09IF93X3NpemU7XG5cbiAgICAgIC8qIFNsaWRlIHRoZSBoYXNoIHRhYmxlIChjb3VsZCBiZSBhdm9pZGVkIHdpdGggMzIgYml0IHZhbHVlc1xuICAgICAgIGF0IHRoZSBleHBlbnNlIG9mIG1lbW9yeSB1c2FnZSkuIFdlIHNsaWRlIGV2ZW4gd2hlbiBsZXZlbCA9PSAwXG4gICAgICAgdG8ga2VlcCB0aGUgaGFzaCB0YWJsZSBjb25zaXN0ZW50IGlmIHdlIHN3aXRjaCBiYWNrIHRvIGxldmVsID4gMFxuICAgICAgIGxhdGVyLiAoVXNpbmcgbGV2ZWwgMCBwZXJtYW5lbnRseSBpcyBub3QgYW4gb3B0aW1hbCB1c2FnZSBvZlxuICAgICAgIHpsaWIsIHNvIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhpcyBwYXRob2xvZ2ljYWwgY2FzZS4pXG4gICAgICAgKi9cblxuICAgICAgbiA9IHMuaGFzaF9zaXplO1xuICAgICAgcCA9IG47XG4gICAgICBkbyB7XG4gICAgICAgIG0gPSBzLmhlYWRbLS1wXTtcbiAgICAgICAgcy5oZWFkW3BdID0gKG0gPj0gX3dfc2l6ZSA/IG0gLSBfd19zaXplIDogMCk7XG4gICAgICB9IHdoaWxlICgtLW4pO1xuXG4gICAgICBuID0gX3dfc2l6ZTtcbiAgICAgIHAgPSBuO1xuICAgICAgZG8ge1xuICAgICAgICBtID0gcy5wcmV2Wy0tcF07XG4gICAgICAgIHMucHJldltwXSA9IChtID49IF93X3NpemUgPyBtIC0gX3dfc2l6ZSA6IDApO1xuICAgICAgICAvKiBJZiBuIGlzIG5vdCBvbiBhbnkgaGFzaCBjaGFpbiwgcHJldltuXSBpcyBnYXJiYWdlIGJ1dFxuICAgICAgICAgKiBpdHMgdmFsdWUgd2lsbCBuZXZlciBiZSB1c2VkLlxuICAgICAgICAgKi9cbiAgICAgIH0gd2hpbGUgKC0tbik7XG5cbiAgICAgIG1vcmUgKz0gX3dfc2l6ZTtcbiAgICB9XG4gICAgaWYgKHMuc3RybS5hdmFpbF9pbiA9PT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLyogSWYgdGhlcmUgd2FzIG5vIHNsaWRpbmc6XG4gICAgICogICAgc3Ryc3RhcnQgPD0gV1NJWkUrTUFYX0RJU1QtMSAmJiBsb29rYWhlYWQgPD0gTUlOX0xPT0tBSEVBRCAtIDEgJiZcbiAgICAgKiAgICBtb3JlID09IHdpbmRvd19zaXplIC0gbG9va2FoZWFkIC0gc3Ryc3RhcnRcbiAgICAgKiA9PiBtb3JlID49IHdpbmRvd19zaXplIC0gKE1JTl9MT09LQUhFQUQtMSArIFdTSVpFICsgTUFYX0RJU1QtMSlcbiAgICAgKiA9PiBtb3JlID49IHdpbmRvd19zaXplIC0gMipXU0laRSArIDJcbiAgICAgKiBJbiB0aGUgQklHX01FTSBvciBNTUFQIGNhc2UgKG5vdCB5ZXQgc3VwcG9ydGVkKSxcbiAgICAgKiAgIHdpbmRvd19zaXplID09IGlucHV0X3NpemUgKyBNSU5fTE9PS0FIRUFEICAmJlxuICAgICAqICAgc3Ryc3RhcnQgKyBzLT5sb29rYWhlYWQgPD0gaW5wdXRfc2l6ZSA9PiBtb3JlID49IE1JTl9MT09LQUhFQUQuXG4gICAgICogT3RoZXJ3aXNlLCB3aW5kb3dfc2l6ZSA9PSAyKldTSVpFIHNvIG1vcmUgPj0gMi5cbiAgICAgKiBJZiB0aGVyZSB3YXMgc2xpZGluZywgbW9yZSA+PSBXU0laRS4gU28gaW4gYWxsIGNhc2VzLCBtb3JlID49IDIuXG4gICAgICovXG4gICAgLy9Bc3NlcnQobW9yZSA+PSAyLCBcIm1vcmUgPCAyXCIpO1xuICAgIG4gPSByZWFkX2J1ZihzLnN0cm0sIHMud2luZG93LCBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQsIG1vcmUpO1xuICAgIHMubG9va2FoZWFkICs9IG47XG5cbiAgICAvKiBJbml0aWFsaXplIHRoZSBoYXNoIHZhbHVlIG5vdyB0aGF0IHdlIGhhdmUgc29tZSBpbnB1dDogKi9cbiAgICBpZiAocy5sb29rYWhlYWQgKyBzLmluc2VydCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIHN0ciA9IHMuc3Ryc3RhcnQgLSBzLmluc2VydDtcbiAgICAgIHMuaW5zX2ggPSBzLndpbmRvd1tzdHJdO1xuXG4gICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIDFdKTsgKi9cbiAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3N0ciArIDFdKSAmIHMuaGFzaF9tYXNrO1xuLy8jaWYgTUlOX01BVENIICE9IDNcbi8vICAgICAgICBDYWxsIHVwZGF0ZV9oYXNoKCkgTUlOX01BVENILTMgbW9yZSB0aW1lc1xuLy8jZW5kaWZcbiAgICAgIHdoaWxlIChzLmluc2VydCkge1xuICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIE1JTl9NQVRDSC0xXSk7ICovXG4gICAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3N0ciArIE1JTl9NQVRDSCAtIDFdKSAmIHMuaGFzaF9tYXNrO1xuXG4gICAgICAgIHMucHJldltzdHIgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHN0cjtcbiAgICAgICAgc3RyKys7XG4gICAgICAgIHMuaW5zZXJ0LS07XG4gICAgICAgIGlmIChzLmxvb2thaGVhZCArIHMuaW5zZXJ0IDwgTUlOX01BVENIKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyogSWYgdGhlIHdob2xlIGlucHV0IGhhcyBsZXNzIHRoYW4gTUlOX01BVENIIGJ5dGVzLCBpbnNfaCBpcyBnYXJiYWdlLFxuICAgICAqIGJ1dCB0aGlzIGlzIG5vdCBpbXBvcnRhbnQgc2luY2Ugb25seSBsaXRlcmFsIGJ5dGVzIHdpbGwgYmUgZW1pdHRlZC5cbiAgICAgKi9cblxuICB9IHdoaWxlIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgcy5zdHJtLmF2YWlsX2luICE9PSAwKTtcblxuICAvKiBJZiB0aGUgV0lOX0lOSVQgYnl0ZXMgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBkYXRhIGhhdmUgbmV2ZXIgYmVlblxuICAgKiB3cml0dGVuLCB0aGVuIHplcm8gdGhvc2UgYnl0ZXMgaW4gb3JkZXIgdG8gYXZvaWQgbWVtb3J5IGNoZWNrIHJlcG9ydHMgb2ZcbiAgICogdGhlIHVzZSBvZiB1bmluaXRpYWxpemVkIChvciB1bmluaXRpYWxpc2VkIGFzIEp1bGlhbiB3cml0ZXMpIGJ5dGVzIGJ5XG4gICAqIHRoZSBsb25nZXN0IG1hdGNoIHJvdXRpbmVzLiAgVXBkYXRlIHRoZSBoaWdoIHdhdGVyIG1hcmsgZm9yIHRoZSBuZXh0XG4gICAqIHRpbWUgdGhyb3VnaCBoZXJlLiAgV0lOX0lOSVQgaXMgc2V0IHRvIE1BWF9NQVRDSCBzaW5jZSB0aGUgbG9uZ2VzdCBtYXRjaFxuICAgKiByb3V0aW5lcyBhbGxvdyBzY2FubmluZyB0byBzdHJzdGFydCArIE1BWF9NQVRDSCwgaWdub3JpbmcgbG9va2FoZWFkLlxuICAgKi9cbi8vICBpZiAocy5oaWdoX3dhdGVyIDwgcy53aW5kb3dfc2l6ZSkge1xuLy8gICAgdmFyIGN1cnIgPSBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQ7XG4vLyAgICB2YXIgaW5pdCA9IDA7XG4vL1xuLy8gICAgaWYgKHMuaGlnaF93YXRlciA8IGN1cnIpIHtcbi8vICAgICAgLyogUHJldmlvdXMgaGlnaCB3YXRlciBtYXJrIGJlbG93IGN1cnJlbnQgZGF0YSAtLSB6ZXJvIFdJTl9JTklUXG4vLyAgICAgICAqIGJ5dGVzIG9yIHVwIHRvIGVuZCBvZiB3aW5kb3csIHdoaWNoZXZlciBpcyBsZXNzLlxuLy8gICAgICAgKi9cbi8vICAgICAgaW5pdCA9IHMud2luZG93X3NpemUgLSBjdXJyO1xuLy8gICAgICBpZiAoaW5pdCA+IFdJTl9JTklUKVxuLy8gICAgICAgIGluaXQgPSBXSU5fSU5JVDtcbi8vICAgICAgem1lbXplcm8ocy0+d2luZG93ICsgY3VyciwgKHVuc2lnbmVkKWluaXQpO1xuLy8gICAgICBzLT5oaWdoX3dhdGVyID0gY3VyciArIGluaXQ7XG4vLyAgICB9XG4vLyAgICBlbHNlIGlmIChzLT5oaWdoX3dhdGVyIDwgKHVsZyljdXJyICsgV0lOX0lOSVQpIHtcbi8vICAgICAgLyogSGlnaCB3YXRlciBtYXJrIGF0IG9yIGFib3ZlIGN1cnJlbnQgZGF0YSwgYnV0IGJlbG93IGN1cnJlbnQgZGF0YVxuLy8gICAgICAgKiBwbHVzIFdJTl9JTklUIC0tIHplcm8gb3V0IHRvIGN1cnJlbnQgZGF0YSBwbHVzIFdJTl9JTklULCBvciB1cFxuLy8gICAgICAgKiB0byBlbmQgb2Ygd2luZG93LCB3aGljaGV2ZXIgaXMgbGVzcy5cbi8vICAgICAgICovXG4vLyAgICAgIGluaXQgPSAodWxnKWN1cnIgKyBXSU5fSU5JVCAtIHMtPmhpZ2hfd2F0ZXI7XG4vLyAgICAgIGlmIChpbml0ID4gcy0+d2luZG93X3NpemUgLSBzLT5oaWdoX3dhdGVyKVxuLy8gICAgICAgIGluaXQgPSBzLT53aW5kb3dfc2l6ZSAtIHMtPmhpZ2hfd2F0ZXI7XG4vLyAgICAgIHptZW16ZXJvKHMtPndpbmRvdyArIHMtPmhpZ2hfd2F0ZXIsICh1bnNpZ25lZClpbml0KTtcbi8vICAgICAgcy0+aGlnaF93YXRlciArPSBpbml0O1xuLy8gICAgfVxuLy8gIH1cbi8vXG4vLyAgQXNzZXJ0KCh1bGcpcy0+c3Ryc3RhcnQgPD0gcy0+d2luZG93X3NpemUgLSBNSU5fTE9PS0FIRUFELFxuLy8gICAgXCJub3QgZW5vdWdoIHJvb20gZm9yIHNlYXJjaFwiKTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5IHdpdGhvdXQgY29tcHJlc3Npb24gYXMgbXVjaCBhcyBwb3NzaWJsZSBmcm9tIHRoZSBpbnB1dCBzdHJlYW0sIHJldHVyblxuICogdGhlIGN1cnJlbnQgYmxvY2sgc3RhdGUuXG4gKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGluc2VydCBuZXcgc3RyaW5ncyBpbiB0aGUgZGljdGlvbmFyeSBzaW5jZVxuICogdW5jb21wcmVzc2libGUgZGF0YSBpcyBwcm9iYWJseSBub3QgdXNlZnVsLiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWRcbiAqIG9ubHkgZm9yIHRoZSBsZXZlbD0wIGNvbXByZXNzaW9uIG9wdGlvbi5cbiAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIG9wdGltaXplZCB0byBhdm9pZCBleHRyYSBjb3B5aW5nIGZyb21cbiAqIHdpbmRvdyB0byBwZW5kaW5nX2J1Zi5cbiAqL1xuZnVuY3Rpb24gZGVmbGF0ZV9zdG9yZWQocywgZmx1c2gpIHtcbiAgLyogU3RvcmVkIGJsb2NrcyBhcmUgbGltaXRlZCB0byAweGZmZmYgYnl0ZXMsIHBlbmRpbmdfYnVmIGlzIGxpbWl0ZWRcbiAgICogdG8gcGVuZGluZ19idWZfc2l6ZSwgYW5kIGVhY2ggc3RvcmVkIGJsb2NrIGhhcyBhIDUgYnl0ZSBoZWFkZXI6XG4gICAqL1xuICB2YXIgbWF4X2Jsb2NrX3NpemUgPSAweGZmZmY7XG5cbiAgaWYgKG1heF9ibG9ja19zaXplID4gcy5wZW5kaW5nX2J1Zl9zaXplIC0gNSkge1xuICAgIG1heF9ibG9ja19zaXplID0gcy5wZW5kaW5nX2J1Zl9zaXplIC0gNTtcbiAgfVxuXG4gIC8qIENvcHkgYXMgbXVjaCBhcyBwb3NzaWJsZSBmcm9tIGlucHV0IHRvIG91dHB1dDogKi9cbiAgZm9yICg7Oykge1xuICAgIC8qIEZpbGwgdGhlIHdpbmRvdyBhcyBtdWNoIGFzIHBvc3NpYmxlOiAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA8PSAxKSB7XG5cbiAgICAgIC8vQXNzZXJ0KHMtPnN0cnN0YXJ0IDwgcy0+d19zaXplK01BWF9ESVNUKHMpIHx8XG4gICAgICAvLyAgcy0+YmxvY2tfc3RhcnQgPj0gKGxvbmcpcy0+d19zaXplLCBcInNsaWRlIHRvbyBsYXRlXCIpO1xuLy8gICAgICBpZiAoIShzLnN0cnN0YXJ0IDwgcy53X3NpemUgKyAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSB8fFxuLy8gICAgICAgIHMuYmxvY2tfc3RhcnQgPj0gcy53X3NpemUpKSB7XG4vLyAgICAgICAgdGhyb3cgIG5ldyBFcnJvcihcInNsaWRlIHRvbyBsYXRlXCIpO1xuLy8gICAgICB9XG5cbiAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwICYmIGZsdXNoID09PSBaX05PX0ZMVVNIKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG5cbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgfVxuICAgIC8vQXNzZXJ0KHMtPmJsb2NrX3N0YXJ0ID49IDBMLCBcImJsb2NrIGdvbmVcIik7XG4vLyAgICBpZiAocy5ibG9ja19zdGFydCA8IDApIHRocm93IG5ldyBFcnJvcihcImJsb2NrIGdvbmVcIik7XG5cbiAgICBzLnN0cnN0YXJ0ICs9IHMubG9va2FoZWFkO1xuICAgIHMubG9va2FoZWFkID0gMDtcblxuICAgIC8qIEVtaXQgYSBzdG9yZWQgYmxvY2sgaWYgcGVuZGluZ19idWYgd2lsbCBiZSBmdWxsOiAqL1xuICAgIHZhciBtYXhfc3RhcnQgPSBzLmJsb2NrX3N0YXJ0ICsgbWF4X2Jsb2NrX3NpemU7XG5cbiAgICBpZiAocy5zdHJzdGFydCA9PT0gMCB8fCBzLnN0cnN0YXJ0ID49IG1heF9zdGFydCkge1xuICAgICAgLyogc3Ryc3RhcnQgPT0gMCBpcyBwb3NzaWJsZSB3aGVuIHdyYXBhcm91bmQgb24gMTYtYml0IG1hY2hpbmUgKi9cbiAgICAgIHMubG9va2FoZWFkID0gcy5zdHJzdGFydCAtIG1heF9zdGFydDtcbiAgICAgIHMuc3Ryc3RhcnQgPSBtYXhfc3RhcnQ7XG4gICAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICAvKioqL1xuXG5cbiAgICB9XG4gICAgLyogRmx1c2ggaWYgd2UgbWF5IGhhdmUgdG8gc2xpZGUsIG90aGVyd2lzZSBibG9ja19zdGFydCBtYXkgYmVjb21lXG4gICAgICogbmVnYXRpdmUgYW5kIHRoZSBkYXRhIHdpbGwgYmUgZ29uZTpcbiAgICAgKi9cbiAgICBpZiAocy5zdHJzdGFydCAtIHMuYmxvY2tfc3RhcnQgPj0gKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkpIHtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG4gICAgfVxuICB9XG5cbiAgcy5pbnNlcnQgPSAwO1xuXG4gIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgIH1cbiAgICAvKioqL1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuXG4gIGlmIChzLnN0cnN0YXJ0ID4gcy5ibG9ja19zdGFydCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICB9XG4gICAgLyoqKi9cbiAgfVxuXG4gIHJldHVybiBCU19ORUVEX01PUkU7XG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29tcHJlc3MgYXMgbXVjaCBhcyBwb3NzaWJsZSBmcm9tIHRoZSBpbnB1dCBzdHJlYW0sIHJldHVybiB0aGUgY3VycmVudFxuICogYmxvY2sgc3RhdGUuXG4gKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHBlcmZvcm0gbGF6eSBldmFsdWF0aW9uIG9mIG1hdGNoZXMgYW5kIGluc2VydHNcbiAqIG5ldyBzdHJpbmdzIGluIHRoZSBkaWN0aW9uYXJ5IG9ubHkgZm9yIHVubWF0Y2hlZCBzdHJpbmdzIG9yIGZvciBzaG9ydFxuICogbWF0Y2hlcy4gSXQgaXMgdXNlZCBvbmx5IGZvciB0aGUgZmFzdCBjb21wcmVzc2lvbiBvcHRpb25zLlxuICovXG5mdW5jdGlvbiBkZWZsYXRlX2Zhc3QocywgZmx1c2gpIHtcbiAgdmFyIGhhc2hfaGVhZDsgICAgICAgIC8qIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW4gKi9cbiAgdmFyIGJmbHVzaDsgICAgICAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gIGZvciAoOzspIHtcbiAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBhbHdheXMgaGF2ZSBlbm91Z2ggbG9va2FoZWFkLCBleGNlcHRcbiAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAqIGZvciB0aGUgbmV4dCBtYXRjaCwgcGx1cyBNSU5fTUFUQ0ggYnl0ZXMgdG8gaW5zZXJ0IHRoZVxuICAgICAqIHN0cmluZyBmb2xsb3dpbmcgdGhlIG5leHQgbWF0Y2guXG4gICAgICovXG4gICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCkge1xuICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICBpZiAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEICYmIGZsdXNoID09PSBaX05PX0ZMVVNIKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgYnJlYWs7IC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogSW5zZXJ0IHRoZSBzdHJpbmcgd2luZG93W3N0cnN0YXJ0IC4uIHN0cnN0YXJ0KzJdIGluIHRoZVxuICAgICAqIGRpY3Rpb25hcnksIGFuZCBzZXQgaGFzaF9oZWFkIHRvIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluOlxuICAgICAqL1xuICAgIGhhc2hfaGVhZCA9IDAvKk5JTCovO1xuICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIC8qKiogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiovXG4gICAgICBzLmluc19oID0gKChzLmluc19oIDw8IHMuaGFzaF9zaGlmdCkgXiBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIIC0gMV0pICYgcy5oYXNoX21hc2s7XG4gICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAvKioqL1xuICAgIH1cblxuICAgIC8qIEZpbmQgdGhlIGxvbmdlc3QgbWF0Y2gsIGRpc2NhcmRpbmcgdGhvc2UgPD0gcHJldl9sZW5ndGguXG4gICAgICogQXQgdGhpcyBwb2ludCB3ZSBoYXZlIGFsd2F5cyBtYXRjaF9sZW5ndGggPCBNSU5fTUFUQ0hcbiAgICAgKi9cbiAgICBpZiAoaGFzaF9oZWFkICE9PSAwLypOSUwqLyAmJiAoKHMuc3Ryc3RhcnQgLSBoYXNoX2hlYWQpIDw9IChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpKSkge1xuICAgICAgLyogVG8gc2ltcGxpZnkgdGhlIGNvZGUsIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmdcbiAgICAgICAqIG9mIHdpbmRvdyBpbmRleCAwIChpbiBwYXJ0aWN1bGFyIHdlIGhhdmUgdG8gYXZvaWQgYSBtYXRjaFxuICAgICAgICogb2YgdGhlIHN0cmluZyB3aXRoIGl0c2VsZiBhdCB0aGUgc3RhcnQgb2YgdGhlIGlucHV0IGZpbGUpLlxuICAgICAgICovXG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IGxvbmdlc3RfbWF0Y2gocywgaGFzaF9oZWFkKTtcbiAgICAgIC8qIGxvbmdlc3RfbWF0Y2goKSBzZXRzIG1hdGNoX3N0YXJ0ICovXG4gICAgfVxuICAgIGlmIChzLm1hdGNoX2xlbmd0aCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIC8vIGNoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQsIHMubWF0Y2hfc3RhcnQsIHMubWF0Y2hfbGVuZ3RoKTsgLy8gZm9yIGRlYnVnIG9ubHlcblxuICAgICAgLyoqKiBfdHJfdGFsbHlfZGlzdChzLCBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENILCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSB0cmVlcy5fdHJfdGFsbHkocywgcy5zdHJzdGFydCAtIHMubWF0Y2hfc3RhcnQsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENIKTtcblxuICAgICAgcy5sb29rYWhlYWQgLT0gcy5tYXRjaF9sZW5ndGg7XG5cbiAgICAgIC8qIEluc2VydCBuZXcgc3RyaW5ncyBpbiB0aGUgaGFzaCB0YWJsZSBvbmx5IGlmIHRoZSBtYXRjaCBsZW5ndGhcbiAgICAgICAqIGlzIG5vdCB0b28gbGFyZ2UuIFRoaXMgc2F2ZXMgdGltZSBidXQgZGVncmFkZXMgY29tcHJlc3Npb24uXG4gICAgICAgKi9cbiAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA8PSBzLm1heF9sYXp5X21hdGNoLyptYXhfaW5zZXJ0X2xlbmd0aCovICYmIHMubG9va2FoZWFkID49IE1JTl9NQVRDSCkge1xuICAgICAgICBzLm1hdGNoX2xlbmd0aC0tOyAvKiBzdHJpbmcgYXQgc3Ryc3RhcnQgYWxyZWFkeSBpbiB0YWJsZSAqL1xuICAgICAgICBkbyB7XG4gICAgICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgICAgIC8qKiogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiovXG4gICAgICAgICAgcy5pbnNfaCA9ICgocy5pbnNfaCA8PCBzLmhhc2hfc2hpZnQpIF4gcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCAtIDFdKSAmIHMuaGFzaF9tYXNrO1xuICAgICAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAgICAgLyoqKi9cbiAgICAgICAgICAvKiBzdHJzdGFydCBuZXZlciBleGNlZWRzIFdTSVpFLU1BWF9NQVRDSCwgc28gdGhlcmUgYXJlXG4gICAgICAgICAgICogYWx3YXlzIE1JTl9NQVRDSCBieXRlcyBhaGVhZC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgfSB3aGlsZSAoLS1zLm1hdGNoX2xlbmd0aCAhPT0gMCk7XG4gICAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgIH0gZWxzZVxuICAgICAge1xuICAgICAgICBzLnN0cnN0YXJ0ICs9IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgICAgIHMuaW5zX2ggPSBzLndpbmRvd1tzLnN0cnN0YXJ0XTtcbiAgICAgICAgLyogVVBEQVRFX0hBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCsxXSk7ICovXG4gICAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3Muc3Ryc3RhcnQgKyAxXSkgJiBzLmhhc2hfbWFzaztcblxuLy8jaWYgTUlOX01BVENIICE9IDNcbi8vICAgICAgICAgICAgICAgIENhbGwgVVBEQVRFX0hBU0goKSBNSU5fTUFUQ0gtMyBtb3JlIHRpbWVzXG4vLyNlbmRpZlxuICAgICAgICAvKiBJZiBsb29rYWhlYWQgPCBNSU5fTUFUQ0gsIGluc19oIGlzIGdhcmJhZ2UsIGJ1dCBpdCBkb2VzIG5vdFxuICAgICAgICAgKiBtYXR0ZXIgc2luY2UgaXQgd2lsbCBiZSByZWNvbXB1dGVkIGF0IG5leHQgZGVmbGF0ZSBjYWxsLlxuICAgICAgICAgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSkpO1xuICAgICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSB0cmVlcy5fdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuXG4gICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgcy5zdHJzdGFydCsrO1xuICAgIH1cbiAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICAvKioqL1xuICAgIH1cbiAgfVxuICBzLmluc2VydCA9ICgocy5zdHJzdGFydCA8IChNSU5fTUFUQ0ggLSAxKSkgPyBzLnN0cnN0YXJ0IDogTUlOX01BVENIIC0gMSk7XG4gIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgIH1cbiAgICAvKioqL1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuICBpZiAocy5sYXN0X2xpdCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICB9XG4gICAgLyoqKi9cbiAgfVxuICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTYW1lIGFzIGFib3ZlLCBidXQgYWNoaWV2ZXMgYmV0dGVyIGNvbXByZXNzaW9uLiBXZSB1c2UgYSBsYXp5XG4gKiBldmFsdWF0aW9uIGZvciBtYXRjaGVzOiBhIG1hdGNoIGlzIGZpbmFsbHkgYWRvcHRlZCBvbmx5IGlmIHRoZXJlIGlzXG4gKiBubyBiZXR0ZXIgbWF0Y2ggYXQgdGhlIG5leHQgd2luZG93IHBvc2l0aW9uLlxuICovXG5mdW5jdGlvbiBkZWZsYXRlX3Nsb3cocywgZmx1c2gpIHtcbiAgdmFyIGhhc2hfaGVhZDsgICAgICAgICAgLyogaGVhZCBvZiBoYXNoIGNoYWluICovXG4gIHZhciBiZmx1c2g7ICAgICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cblxuICB2YXIgbWF4X2luc2VydDtcblxuICAvKiBQcm9jZXNzIHRoZSBpbnB1dCBibG9jay4gKi9cbiAgZm9yICg7Oykge1xuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAqIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IGZpbGUuIFdlIG5lZWQgTUFYX01BVENIIGJ5dGVzXG4gICAgICogZm9yIHRoZSBuZXh0IG1hdGNoLCBwbHVzIE1JTl9NQVRDSCBieXRlcyB0byBpbnNlcnQgdGhlXG4gICAgICogc3RyaW5nIGZvbGxvd2luZyB0aGUgbmV4dCBtYXRjaC5cbiAgICAgKi9cbiAgICBpZiAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEKSB7XG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkgeyBicmVhazsgfSAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgIH1cblxuICAgIC8qIEluc2VydCB0aGUgc3RyaW5nIHdpbmRvd1tzdHJzdGFydCAuLiBzdHJzdGFydCsyXSBpbiB0aGVcbiAgICAgKiBkaWN0aW9uYXJ5LCBhbmQgc2V0IGhhc2hfaGVhZCB0byB0aGUgaGVhZCBvZiB0aGUgaGFzaCBjaGFpbjpcbiAgICAgKi9cbiAgICBoYXNoX2hlYWQgPSAwLypOSUwqLztcbiAgICBpZiAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIKSB7XG4gICAgICAvKioqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKioqL1xuICAgICAgcy5pbnNfaCA9ICgocy5pbnNfaCA8PCBzLmhhc2hfc2hpZnQpIF4gcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCAtIDFdKSAmIHMuaGFzaF9tYXNrO1xuICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgLyoqKi9cbiAgICB9XG5cbiAgICAvKiBGaW5kIHRoZSBsb25nZXN0IG1hdGNoLCBkaXNjYXJkaW5nIHRob3NlIDw9IHByZXZfbGVuZ3RoLlxuICAgICAqL1xuICAgIHMucHJldl9sZW5ndGggPSBzLm1hdGNoX2xlbmd0aDtcbiAgICBzLnByZXZfbWF0Y2ggPSBzLm1hdGNoX3N0YXJ0O1xuICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIIC0gMTtcblxuICAgIGlmIChoYXNoX2hlYWQgIT09IDAvKk5JTCovICYmIHMucHJldl9sZW5ndGggPCBzLm1heF9sYXp5X21hdGNoICYmXG4gICAgICAgIHMuc3Ryc3RhcnQgLSBoYXNoX2hlYWQgPD0gKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkvKk1BWF9ESVNUKHMpKi8pIHtcbiAgICAgIC8qIFRvIHNpbXBsaWZ5IHRoZSBjb2RlLCB3ZSBwcmV2ZW50IG1hdGNoZXMgd2l0aCB0aGUgc3RyaW5nXG4gICAgICAgKiBvZiB3aW5kb3cgaW5kZXggMCAoaW4gcGFydGljdWxhciB3ZSBoYXZlIHRvIGF2b2lkIGEgbWF0Y2hcbiAgICAgICAqIG9mIHRoZSBzdHJpbmcgd2l0aCBpdHNlbGYgYXQgdGhlIHN0YXJ0IG9mIHRoZSBpbnB1dCBmaWxlKS5cbiAgICAgICAqL1xuICAgICAgcy5tYXRjaF9sZW5ndGggPSBsb25nZXN0X21hdGNoKHMsIGhhc2hfaGVhZCk7XG4gICAgICAvKiBsb25nZXN0X21hdGNoKCkgc2V0cyBtYXRjaF9zdGFydCAqL1xuXG4gICAgICBpZiAocy5tYXRjaF9sZW5ndGggPD0gNSAmJlxuICAgICAgICAgKHMuc3RyYXRlZ3kgPT09IFpfRklMVEVSRUQgfHwgKHMubWF0Y2hfbGVuZ3RoID09PSBNSU5fTUFUQ0ggJiYgcy5zdHJzdGFydCAtIHMubWF0Y2hfc3RhcnQgPiA0MDk2LypUT09fRkFSKi8pKSkge1xuXG4gICAgICAgIC8qIElmIHByZXZfbWF0Y2ggaXMgYWxzbyBNSU5fTUFUQ0gsIG1hdGNoX3N0YXJ0IGlzIGdhcmJhZ2VcbiAgICAgICAgICogYnV0IHdlIHdpbGwgaWdub3JlIHRoZSBjdXJyZW50IG1hdGNoIGFueXdheS5cbiAgICAgICAgICovXG4gICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyogSWYgdGhlcmUgd2FzIGEgbWF0Y2ggYXQgdGhlIHByZXZpb3VzIHN0ZXAgYW5kIHRoZSBjdXJyZW50XG4gICAgICogbWF0Y2ggaXMgbm90IGJldHRlciwgb3V0cHV0IHRoZSBwcmV2aW91cyBtYXRjaDpcbiAgICAgKi9cbiAgICBpZiAocy5wcmV2X2xlbmd0aCA+PSBNSU5fTUFUQ0ggJiYgcy5tYXRjaF9sZW5ndGggPD0gcy5wcmV2X2xlbmd0aCkge1xuICAgICAgbWF4X2luc2VydCA9IHMuc3Ryc3RhcnQgKyBzLmxvb2thaGVhZCAtIE1JTl9NQVRDSDtcbiAgICAgIC8qIERvIG5vdCBpbnNlcnQgc3RyaW5ncyBpbiBoYXNoIHRhYmxlIGJleW9uZCB0aGlzLiAqL1xuXG4gICAgICAvL2NoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQtMSwgcy5wcmV2X21hdGNoLCBzLnByZXZfbGVuZ3RoKTtcblxuICAgICAgLyoqKl90cl90YWxseV9kaXN0KHMsIHMuc3Ryc3RhcnQgLSAxIC0gcy5wcmV2X21hdGNoLFxuICAgICAgICAgICAgICAgICAgICAgcy5wcmV2X2xlbmd0aCAtIE1JTl9NQVRDSCwgYmZsdXNoKTsqKiovXG4gICAgICBiZmx1c2ggPSB0cmVlcy5fdHJfdGFsbHkocywgcy5zdHJzdGFydCAtIDEgLSBzLnByZXZfbWF0Y2gsIHMucHJldl9sZW5ndGggLSBNSU5fTUFUQ0gpO1xuICAgICAgLyogSW5zZXJ0IGluIGhhc2ggdGFibGUgYWxsIHN0cmluZ3MgdXAgdG8gdGhlIGVuZCBvZiB0aGUgbWF0Y2guXG4gICAgICAgKiBzdHJzdGFydC0xIGFuZCBzdHJzdGFydCBhcmUgYWxyZWFkeSBpbnNlcnRlZC4gSWYgdGhlcmUgaXMgbm90XG4gICAgICAgKiBlbm91Z2ggbG9va2FoZWFkLCB0aGUgbGFzdCB0d28gc3RyaW5ncyBhcmUgbm90IGluc2VydGVkIGluXG4gICAgICAgKiB0aGUgaGFzaCB0YWJsZS5cbiAgICAgICAqL1xuICAgICAgcy5sb29rYWhlYWQgLT0gcy5wcmV2X2xlbmd0aCAtIDE7XG4gICAgICBzLnByZXZfbGVuZ3RoIC09IDI7XG4gICAgICBkbyB7XG4gICAgICAgIGlmICgrK3Muc3Ryc3RhcnQgPD0gbWF4X2luc2VydCkge1xuICAgICAgICAgIC8qKiogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiovXG4gICAgICAgICAgcy5pbnNfaCA9ICgocy5pbnNfaCA8PCBzLmhhc2hfc2hpZnQpIF4gcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCAtIDFdKSAmIHMuaGFzaF9tYXNrO1xuICAgICAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAgICAgLyoqKi9cbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoLS1zLnByZXZfbGVuZ3RoICE9PSAwKTtcbiAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIIC0gMTtcbiAgICAgIHMuc3Ryc3RhcnQrKztcblxuICAgICAgaWYgKGJmbHVzaCkge1xuICAgICAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqKi9cbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAocy5tYXRjaF9hdmFpbGFibGUpIHtcbiAgICAgIC8qIElmIHRoZXJlIHdhcyBubyBtYXRjaCBhdCB0aGUgcHJldmlvdXMgcG9zaXRpb24sIG91dHB1dCBhXG4gICAgICAgKiBzaW5nbGUgbGl0ZXJhbC4gSWYgdGhlcmUgd2FzIGEgbWF0Y2ggYnV0IHRoZSBjdXJyZW50IG1hdGNoXG4gICAgICAgKiBpcyBsb25nZXIsIHRydW5jYXRlIHRoZSBwcmV2aW91cyBtYXRjaCB0byBhIHNpbmdsZSBsaXRlcmFsLlxuICAgICAgICovXG4gICAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydC0xXSkpO1xuICAgICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnQtMV0sIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IHRyZWVzLl90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0IC0gMV0pO1xuXG4gICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgIC8qKiogRkxVU0hfQkxPQ0tfT05MWShzLCAwKSAqKiovXG4gICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAvKioqL1xuICAgICAgfVxuICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgcy5sb29rYWhlYWQtLTtcbiAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIFRoZXJlIGlzIG5vIHByZXZpb3VzIG1hdGNoIHRvIGNvbXBhcmUgd2l0aCwgd2FpdCBmb3JcbiAgICAgICAqIHRoZSBuZXh0IHN0ZXAgdG8gZGVjaWRlLlxuICAgICAgICovXG4gICAgICBzLm1hdGNoX2F2YWlsYWJsZSA9IDE7XG4gICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICBzLmxvb2thaGVhZC0tO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAoZmx1c2ggIT0gWl9OT19GTFVTSCwgXCJubyBmbHVzaD9cIik7XG4gIGlmIChzLm1hdGNoX2F2YWlsYWJsZSkge1xuICAgIC8vVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy0+d2luZG93W3MtPnN0cnN0YXJ0LTFdKSk7XG4gICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnQtMV0sIGJmbHVzaCk7ICoqKi9cbiAgICBiZmx1c2ggPSB0cmVlcy5fdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydCAtIDFdKTtcblxuICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgfVxuICBzLmluc2VydCA9IHMuc3Ryc3RhcnQgPCBNSU5fTUFUQ0ggLSAxID8gcy5zdHJzdGFydCA6IE1JTl9NQVRDSCAtIDE7XG4gIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgIH1cbiAgICAvKioqL1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuICBpZiAocy5sYXN0X2xpdCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICB9XG4gICAgLyoqKi9cbiAgfVxuXG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRm9yIFpfUkxFLCBzaW1wbHkgbG9vayBmb3IgcnVucyBvZiBieXRlcywgZ2VuZXJhdGUgbWF0Y2hlcyBvbmx5IG9mIGRpc3RhbmNlXG4gKiBvbmUuICBEbyBub3QgbWFpbnRhaW4gYSBoYXNoIHRhYmxlLiAgKEl0IHdpbGwgYmUgcmVnZW5lcmF0ZWQgaWYgdGhpcyBydW4gb2ZcbiAqIGRlZmxhdGUgc3dpdGNoZXMgYXdheSBmcm9tIFpfUkxFLilcbiAqL1xuZnVuY3Rpb24gZGVmbGF0ZV9ybGUocywgZmx1c2gpIHtcbiAgdmFyIGJmbHVzaDsgICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cbiAgdmFyIHByZXY7ICAgICAgICAgICAgICAvKiBieXRlIGF0IGRpc3RhbmNlIG9uZSB0byBtYXRjaCAqL1xuICB2YXIgc2Nhbiwgc3RyZW5kOyAgICAgIC8qIHNjYW4gZ29lcyB1cCB0byBzdHJlbmQgZm9yIGxlbmd0aCBvZiBydW4gKi9cblxuICB2YXIgX3dpbiA9IHMud2luZG93O1xuXG4gIGZvciAoOzspIHtcbiAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBhbHdheXMgaGF2ZSBlbm91Z2ggbG9va2FoZWFkLCBleGNlcHRcbiAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAqIGZvciB0aGUgbG9uZ2VzdCBydW4sIHBsdXMgb25lIGZvciB0aGUgdW5yb2xsZWQgbG9vcC5cbiAgICAgKi9cbiAgICBpZiAocy5sb29rYWhlYWQgPD0gTUFYX01BVENIKSB7XG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA8PSBNQVhfTUFUQ0ggJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkgeyBicmVhazsgfSAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgIH1cblxuICAgIC8qIFNlZSBob3cgbWFueSB0aW1lcyB0aGUgcHJldmlvdXMgYnl0ZSByZXBlYXRzICovXG4gICAgcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0ggJiYgcy5zdHJzdGFydCA+IDApIHtcbiAgICAgIHNjYW4gPSBzLnN0cnN0YXJ0IC0gMTtcbiAgICAgIHByZXYgPSBfd2luW3NjYW5dO1xuICAgICAgaWYgKHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dKSB7XG4gICAgICAgIHN0cmVuZCA9IHMuc3Ryc3RhcnQgKyBNQVhfTUFUQ0g7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAvKmpzaGludCBub2VtcHR5OmZhbHNlKi9cbiAgICAgICAgfSB3aGlsZSAocHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICBzY2FuIDwgc3RyZW5kKTtcbiAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBNQVhfTUFUQ0ggLSAoc3RyZW5kIC0gc2Nhbik7XG4gICAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA+IHMubG9va2FoZWFkKSB7XG4gICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBzLmxvb2thaGVhZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy9Bc3NlcnQoc2NhbiA8PSBzLT53aW5kb3crKHVJbnQpKHMtPndpbmRvd19zaXplLTEpLCBcIndpbGQgc2NhblwiKTtcbiAgICB9XG5cbiAgICAvKiBFbWl0IG1hdGNoIGlmIGhhdmUgcnVuIG9mIE1JTl9NQVRDSCBvciBsb25nZXIsIGVsc2UgZW1pdCBsaXRlcmFsICovXG4gICAgaWYgKHMubWF0Y2hfbGVuZ3RoID49IE1JTl9NQVRDSCkge1xuICAgICAgLy9jaGVja19tYXRjaChzLCBzLnN0cnN0YXJ0LCBzLnN0cnN0YXJ0IC0gMSwgcy5tYXRjaF9sZW5ndGgpO1xuXG4gICAgICAvKioqIF90cl90YWxseV9kaXN0KHMsIDEsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENILCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSB0cmVlcy5fdHJfdGFsbHkocywgMSwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gpO1xuXG4gICAgICBzLmxvb2thaGVhZCAtPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgIHMuc3Ryc3RhcnQgKz0gcy5tYXRjaF9sZW5ndGg7XG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIE5vIG1hdGNoLCBvdXRwdXQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICAgIC8vVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy0+d2luZG93W3MtPnN0cnN0YXJ0XSkpO1xuICAgICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSB0cmVlcy5fdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuXG4gICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgcy5zdHJzdGFydCsrO1xuICAgIH1cbiAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICAvKioqL1xuICAgIH1cbiAgfVxuICBzLmluc2VydCA9IDA7XG4gIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgIH1cbiAgICAvKioqL1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuICBpZiAocy5sYXN0X2xpdCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICB9XG4gICAgLyoqKi9cbiAgfVxuICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGb3IgWl9IVUZGTUFOX09OTFksIGRvIG5vdCBsb29rIGZvciBtYXRjaGVzLiAgRG8gbm90IG1haW50YWluIGEgaGFzaCB0YWJsZS5cbiAqIChJdCB3aWxsIGJlIHJlZ2VuZXJhdGVkIGlmIHRoaXMgcnVuIG9mIGRlZmxhdGUgc3dpdGNoZXMgYXdheSBmcm9tIEh1ZmZtYW4uKVxuICovXG5mdW5jdGlvbiBkZWZsYXRlX2h1ZmYocywgZmx1c2gpIHtcbiAgdmFyIGJmbHVzaDsgICAgICAgICAgICAgLyogc2V0IGlmIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkICovXG5cbiAgZm9yICg7Oykge1xuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGhhdmUgYSBsaXRlcmFsIHRvIHdyaXRlLiAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgaWYgKGZsdXNoID09PSBaX05PX0ZMVVNIKSB7XG4gICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgfVxuICAgICAgICBicmVhazsgICAgICAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIE91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydF0pKTtcbiAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqKi9cbiAgICBiZmx1c2ggPSB0cmVlcy5fdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuICAgIHMubG9va2FoZWFkLS07XG4gICAgcy5zdHJzdGFydCsrO1xuICAgIGlmIChiZmx1c2gpIHtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG4gICAgfVxuICB9XG4gIHMuaW5zZXJ0ID0gMDtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLmxhc3RfbGl0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufVxuXG4vKiBWYWx1ZXMgZm9yIG1heF9sYXp5X21hdGNoLCBnb29kX21hdGNoIGFuZCBtYXhfY2hhaW5fbGVuZ3RoLCBkZXBlbmRpbmcgb25cbiAqIHRoZSBkZXNpcmVkIHBhY2sgbGV2ZWwgKDAuLjkpLiBUaGUgdmFsdWVzIGdpdmVuIGJlbG93IGhhdmUgYmVlbiB0dW5lZCB0b1xuICogZXhjbHVkZSB3b3JzdCBjYXNlIHBlcmZvcm1hbmNlIGZvciBwYXRob2xvZ2ljYWwgZmlsZXMuIEJldHRlciB2YWx1ZXMgbWF5IGJlXG4gKiBmb3VuZCBmb3Igc3BlY2lmaWMgZmlsZXMuXG4gKi9cbmZ1bmN0aW9uIENvbmZpZyhnb29kX2xlbmd0aCwgbWF4X2xhenksIG5pY2VfbGVuZ3RoLCBtYXhfY2hhaW4sIGZ1bmMpIHtcbiAgdGhpcy5nb29kX2xlbmd0aCA9IGdvb2RfbGVuZ3RoO1xuICB0aGlzLm1heF9sYXp5ID0gbWF4X2xhenk7XG4gIHRoaXMubmljZV9sZW5ndGggPSBuaWNlX2xlbmd0aDtcbiAgdGhpcy5tYXhfY2hhaW4gPSBtYXhfY2hhaW47XG4gIHRoaXMuZnVuYyA9IGZ1bmM7XG59XG5cbnZhciBjb25maWd1cmF0aW9uX3RhYmxlO1xuXG5jb25maWd1cmF0aW9uX3RhYmxlID0gW1xuICAvKiAgICAgIGdvb2QgbGF6eSBuaWNlIGNoYWluICovXG4gIG5ldyBDb25maWcoMCwgMCwgMCwgMCwgZGVmbGF0ZV9zdG9yZWQpLCAgICAgICAgICAvKiAwIHN0b3JlIG9ubHkgKi9cbiAgbmV3IENvbmZpZyg0LCA0LCA4LCA0LCBkZWZsYXRlX2Zhc3QpLCAgICAgICAgICAgIC8qIDEgbWF4IHNwZWVkLCBubyBsYXp5IG1hdGNoZXMgKi9cbiAgbmV3IENvbmZpZyg0LCA1LCAxNiwgOCwgZGVmbGF0ZV9mYXN0KSwgICAgICAgICAgIC8qIDIgKi9cbiAgbmV3IENvbmZpZyg0LCA2LCAzMiwgMzIsIGRlZmxhdGVfZmFzdCksICAgICAgICAgIC8qIDMgKi9cblxuICBuZXcgQ29uZmlnKDQsIDQsIDE2LCAxNiwgZGVmbGF0ZV9zbG93KSwgICAgICAgICAgLyogNCBsYXp5IG1hdGNoZXMgKi9cbiAgbmV3IENvbmZpZyg4LCAxNiwgMzIsIDMyLCBkZWZsYXRlX3Nsb3cpLCAgICAgICAgIC8qIDUgKi9cbiAgbmV3IENvbmZpZyg4LCAxNiwgMTI4LCAxMjgsIGRlZmxhdGVfc2xvdyksICAgICAgIC8qIDYgKi9cbiAgbmV3IENvbmZpZyg4LCAzMiwgMTI4LCAyNTYsIGRlZmxhdGVfc2xvdyksICAgICAgIC8qIDcgKi9cbiAgbmV3IENvbmZpZygzMiwgMTI4LCAyNTgsIDEwMjQsIGRlZmxhdGVfc2xvdyksICAgIC8qIDggKi9cbiAgbmV3IENvbmZpZygzMiwgMjU4LCAyNTgsIDQwOTYsIGRlZmxhdGVfc2xvdykgICAgIC8qIDkgbWF4IGNvbXByZXNzaW9uICovXG5dO1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZSB0aGUgXCJsb25nZXN0IG1hdGNoXCIgcm91dGluZXMgZm9yIGEgbmV3IHpsaWIgc3RyZWFtXG4gKi9cbmZ1bmN0aW9uIGxtX2luaXQocykge1xuICBzLndpbmRvd19zaXplID0gMiAqIHMud19zaXplO1xuXG4gIC8qKiogQ0xFQVJfSEFTSChzKTsgKioqL1xuICB6ZXJvKHMuaGVhZCk7IC8vIEZpbGwgd2l0aCBOSUwgKD0gMCk7XG5cbiAgLyogU2V0IHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyczpcbiAgICovXG4gIHMubWF4X2xhenlfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9sYXp5O1xuICBzLmdvb2RfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmdvb2RfbGVuZ3RoO1xuICBzLm5pY2VfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm5pY2VfbGVuZ3RoO1xuICBzLm1heF9jaGFpbl9sZW5ndGggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9jaGFpbjtcblxuICBzLnN0cnN0YXJ0ID0gMDtcbiAgcy5ibG9ja19zdGFydCA9IDA7XG4gIHMubG9va2FoZWFkID0gMDtcbiAgcy5pbnNlcnQgPSAwO1xuICBzLm1hdGNoX2xlbmd0aCA9IHMucHJldl9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gIHMuaW5zX2ggPSAwO1xufVxuXG5cbmZ1bmN0aW9uIERlZmxhdGVTdGF0ZSgpIHtcbiAgdGhpcy5zdHJtID0gbnVsbDsgICAgICAgICAgICAvKiBwb2ludGVyIGJhY2sgdG8gdGhpcyB6bGliIHN0cmVhbSAqL1xuICB0aGlzLnN0YXR1cyA9IDA7ICAgICAgICAgICAgLyogYXMgdGhlIG5hbWUgaW1wbGllcyAqL1xuICB0aGlzLnBlbmRpbmdfYnVmID0gbnVsbDsgICAgICAvKiBvdXRwdXQgc3RpbGwgcGVuZGluZyAqL1xuICB0aGlzLnBlbmRpbmdfYnVmX3NpemUgPSAwOyAgLyogc2l6ZSBvZiBwZW5kaW5nX2J1ZiAqL1xuICB0aGlzLnBlbmRpbmdfb3V0ID0gMDsgICAgICAgLyogbmV4dCBwZW5kaW5nIGJ5dGUgdG8gb3V0cHV0IHRvIHRoZSBzdHJlYW0gKi9cbiAgdGhpcy5wZW5kaW5nID0gMDsgICAgICAgICAgIC8qIG5iIG9mIGJ5dGVzIGluIHRoZSBwZW5kaW5nIGJ1ZmZlciAqL1xuICB0aGlzLndyYXAgPSAwOyAgICAgICAgICAgICAgLyogYml0IDAgdHJ1ZSBmb3IgemxpYiwgYml0IDEgdHJ1ZSBmb3IgZ3ppcCAqL1xuICB0aGlzLmd6aGVhZCA9IG51bGw7ICAgICAgICAgLyogZ3ppcCBoZWFkZXIgaW5mb3JtYXRpb24gdG8gd3JpdGUgKi9cbiAgdGhpcy5nemluZGV4ID0gMDsgICAgICAgICAgIC8qIHdoZXJlIGluIGV4dHJhLCBuYW1lLCBvciBjb21tZW50ICovXG4gIHRoaXMubWV0aG9kID0gWl9ERUZMQVRFRDsgLyogY2FuIG9ubHkgYmUgREVGTEFURUQgKi9cbiAgdGhpcy5sYXN0X2ZsdXNoID0gLTE7ICAgLyogdmFsdWUgb2YgZmx1c2ggcGFyYW0gZm9yIHByZXZpb3VzIGRlZmxhdGUgY2FsbCAqL1xuXG4gIHRoaXMud19zaXplID0gMDsgIC8qIExaNzcgd2luZG93IHNpemUgKDMySyBieSBkZWZhdWx0KSAqL1xuICB0aGlzLndfYml0cyA9IDA7ICAvKiBsb2cyKHdfc2l6ZSkgICg4Li4xNikgKi9cbiAgdGhpcy53X21hc2sgPSAwOyAgLyogd19zaXplIC0gMSAqL1xuXG4gIHRoaXMud2luZG93ID0gbnVsbDtcbiAgLyogU2xpZGluZyB3aW5kb3cuIElucHV0IGJ5dGVzIGFyZSByZWFkIGludG8gdGhlIHNlY29uZCBoYWxmIG9mIHRoZSB3aW5kb3csXG4gICAqIGFuZCBtb3ZlIHRvIHRoZSBmaXJzdCBoYWxmIGxhdGVyIHRvIGtlZXAgYSBkaWN0aW9uYXJ5IG9mIGF0IGxlYXN0IHdTaXplXG4gICAqIGJ5dGVzLiBXaXRoIHRoaXMgb3JnYW5pemF0aW9uLCBtYXRjaGVzIGFyZSBsaW1pdGVkIHRvIGEgZGlzdGFuY2Ugb2ZcbiAgICogd1NpemUtTUFYX01BVENIIGJ5dGVzLCBidXQgdGhpcyBlbnN1cmVzIHRoYXQgSU8gaXMgYWx3YXlzXG4gICAqIHBlcmZvcm1lZCB3aXRoIGEgbGVuZ3RoIG11bHRpcGxlIG9mIHRoZSBibG9jayBzaXplLlxuICAgKi9cblxuICB0aGlzLndpbmRvd19zaXplID0gMDtcbiAgLyogQWN0dWFsIHNpemUgb2Ygd2luZG93OiAyKndTaXplLCBleGNlcHQgd2hlbiB0aGUgdXNlciBpbnB1dCBidWZmZXJcbiAgICogaXMgZGlyZWN0bHkgdXNlZCBhcyBzbGlkaW5nIHdpbmRvdy5cbiAgICovXG5cbiAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgLyogTGluayB0byBvbGRlciBzdHJpbmcgd2l0aCBzYW1lIGhhc2ggaW5kZXguIFRvIGxpbWl0IHRoZSBzaXplIG9mIHRoaXNcbiAgICogYXJyYXkgdG8gNjRLLCB0aGlzIGxpbmsgaXMgbWFpbnRhaW5lZCBvbmx5IGZvciB0aGUgbGFzdCAzMksgc3RyaW5ncy5cbiAgICogQW4gaW5kZXggaW4gdGhpcyBhcnJheSBpcyB0aHVzIGEgd2luZG93IGluZGV4IG1vZHVsbyAzMksuXG4gICAqL1xuXG4gIHRoaXMuaGVhZCA9IG51bGw7ICAgLyogSGVhZHMgb2YgdGhlIGhhc2ggY2hhaW5zIG9yIE5JTC4gKi9cblxuICB0aGlzLmluc19oID0gMDsgICAgICAgLyogaGFzaCBpbmRleCBvZiBzdHJpbmcgdG8gYmUgaW5zZXJ0ZWQgKi9cbiAgdGhpcy5oYXNoX3NpemUgPSAwOyAgIC8qIG51bWJlciBvZiBlbGVtZW50cyBpbiBoYXNoIHRhYmxlICovXG4gIHRoaXMuaGFzaF9iaXRzID0gMDsgICAvKiBsb2cyKGhhc2hfc2l6ZSkgKi9cbiAgdGhpcy5oYXNoX21hc2sgPSAwOyAgIC8qIGhhc2hfc2l6ZS0xICovXG5cbiAgdGhpcy5oYXNoX3NoaWZ0ID0gMDtcbiAgLyogTnVtYmVyIG9mIGJpdHMgYnkgd2hpY2ggaW5zX2ggbXVzdCBiZSBzaGlmdGVkIGF0IGVhY2ggaW5wdXRcbiAgICogc3RlcC4gSXQgbXVzdCBiZSBzdWNoIHRoYXQgYWZ0ZXIgTUlOX01BVENIIHN0ZXBzLCB0aGUgb2xkZXN0XG4gICAqIGJ5dGUgbm8gbG9uZ2VyIHRha2VzIHBhcnQgaW4gdGhlIGhhc2gga2V5LCB0aGF0IGlzOlxuICAgKiAgIGhhc2hfc2hpZnQgKiBNSU5fTUFUQ0ggPj0gaGFzaF9iaXRzXG4gICAqL1xuXG4gIHRoaXMuYmxvY2tfc3RhcnQgPSAwO1xuICAvKiBXaW5kb3cgcG9zaXRpb24gYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgY3VycmVudCBvdXRwdXQgYmxvY2suIEdldHNcbiAgICogbmVnYXRpdmUgd2hlbiB0aGUgd2luZG93IGlzIG1vdmVkIGJhY2t3YXJkcy5cbiAgICovXG5cbiAgdGhpcy5tYXRjaF9sZW5ndGggPSAwOyAgICAgIC8qIGxlbmd0aCBvZiBiZXN0IG1hdGNoICovXG4gIHRoaXMucHJldl9tYXRjaCA9IDA7ICAgICAgICAvKiBwcmV2aW91cyBtYXRjaCAqL1xuICB0aGlzLm1hdGNoX2F2YWlsYWJsZSA9IDA7ICAgLyogc2V0IGlmIHByZXZpb3VzIG1hdGNoIGV4aXN0cyAqL1xuICB0aGlzLnN0cnN0YXJ0ID0gMDsgICAgICAgICAgLyogc3RhcnQgb2Ygc3RyaW5nIHRvIGluc2VydCAqL1xuICB0aGlzLm1hdGNoX3N0YXJ0ID0gMDsgICAgICAgLyogc3RhcnQgb2YgbWF0Y2hpbmcgc3RyaW5nICovXG4gIHRoaXMubG9va2FoZWFkID0gMDsgICAgICAgICAvKiBudW1iZXIgb2YgdmFsaWQgYnl0ZXMgYWhlYWQgaW4gd2luZG93ICovXG5cbiAgdGhpcy5wcmV2X2xlbmd0aCA9IDA7XG4gIC8qIExlbmd0aCBvZiB0aGUgYmVzdCBtYXRjaCBhdCBwcmV2aW91cyBzdGVwLiBNYXRjaGVzIG5vdCBncmVhdGVyIHRoYW4gdGhpc1xuICAgKiBhcmUgZGlzY2FyZGVkLiBUaGlzIGlzIHVzZWQgaW4gdGhlIGxhenkgbWF0Y2ggZXZhbHVhdGlvbi5cbiAgICovXG5cbiAgdGhpcy5tYXhfY2hhaW5fbGVuZ3RoID0gMDtcbiAgLyogVG8gc3BlZWQgdXAgZGVmbGF0aW9uLCBoYXNoIGNoYWlucyBhcmUgbmV2ZXIgc2VhcmNoZWQgYmV5b25kIHRoaXNcbiAgICogbGVuZ3RoLiAgQSBoaWdoZXIgbGltaXQgaW1wcm92ZXMgY29tcHJlc3Npb24gcmF0aW8gYnV0IGRlZ3JhZGVzIHRoZVxuICAgKiBzcGVlZC5cbiAgICovXG5cbiAgdGhpcy5tYXhfbGF6eV9tYXRjaCA9IDA7XG4gIC8qIEF0dGVtcHQgdG8gZmluZCBhIGJldHRlciBtYXRjaCBvbmx5IHdoZW4gdGhlIGN1cnJlbnQgbWF0Y2ggaXMgc3RyaWN0bHlcbiAgICogc21hbGxlciB0aGFuIHRoaXMgdmFsdWUuIFRoaXMgbWVjaGFuaXNtIGlzIHVzZWQgb25seSBmb3IgY29tcHJlc3Npb25cbiAgICogbGV2ZWxzID49IDQuXG4gICAqL1xuICAvLyBUaGF0J3MgYWxpYXMgdG8gbWF4X2xhenlfbWF0Y2gsIGRvbid0IHVzZSBkaXJlY3RseVxuICAvL3RoaXMubWF4X2luc2VydF9sZW5ndGggPSAwO1xuICAvKiBJbnNlcnQgbmV3IHN0cmluZ3MgaW4gdGhlIGhhc2ggdGFibGUgb25seSBpZiB0aGUgbWF0Y2ggbGVuZ3RoIGlzIG5vdFxuICAgKiBncmVhdGVyIHRoYW4gdGhpcyBsZW5ndGguIFRoaXMgc2F2ZXMgdGltZSBidXQgZGVncmFkZXMgY29tcHJlc3Npb24uXG4gICAqIG1heF9pbnNlcnRfbGVuZ3RoIGlzIHVzZWQgb25seSBmb3IgY29tcHJlc3Npb24gbGV2ZWxzIDw9IDMuXG4gICAqL1xuXG4gIHRoaXMubGV2ZWwgPSAwOyAgICAgLyogY29tcHJlc3Npb24gbGV2ZWwgKDEuLjkpICovXG4gIHRoaXMuc3RyYXRlZ3kgPSAwOyAgLyogZmF2b3Igb3IgZm9yY2UgSHVmZm1hbiBjb2RpbmcqL1xuXG4gIHRoaXMuZ29vZF9tYXRjaCA9IDA7XG4gIC8qIFVzZSBhIGZhc3RlciBzZWFyY2ggd2hlbiB0aGUgcHJldmlvdXMgbWF0Y2ggaXMgbG9uZ2VyIHRoYW4gdGhpcyAqL1xuXG4gIHRoaXMubmljZV9tYXRjaCA9IDA7IC8qIFN0b3Agc2VhcmNoaW5nIHdoZW4gY3VycmVudCBtYXRjaCBleGNlZWRzIHRoaXMgKi9cblxuICAgICAgICAgICAgICAvKiB1c2VkIGJ5IHRyZWVzLmM6ICovXG5cbiAgLyogRGlkbid0IHVzZSBjdF9kYXRhIHR5cGVkZWYgYmVsb3cgdG8gc3VwcHJlc3MgY29tcGlsZXIgd2FybmluZyAqL1xuXG4gIC8vIHN0cnVjdCBjdF9kYXRhX3MgZHluX2x0cmVlW0hFQVBfU0laRV07ICAgLyogbGl0ZXJhbCBhbmQgbGVuZ3RoIHRyZWUgKi9cbiAgLy8gc3RydWN0IGN0X2RhdGFfcyBkeW5fZHRyZWVbMipEX0NPREVTKzFdOyAvKiBkaXN0YW5jZSB0cmVlICovXG4gIC8vIHN0cnVjdCBjdF9kYXRhX3MgYmxfdHJlZVsyKkJMX0NPREVTKzFdOyAgLyogSHVmZm1hbiB0cmVlIGZvciBiaXQgbGVuZ3RocyAqL1xuXG4gIC8vIFVzZSBmbGF0IGFycmF5IG9mIERPVUJMRSBzaXplLCB3aXRoIGludGVybGVhdmVkIGZhdGEsXG4gIC8vIGJlY2F1c2UgSlMgZG9lcyBub3Qgc3VwcG9ydCBlZmZlY3RpdmVcbiAgdGhpcy5keW5fbHRyZWUgID0gbmV3IHV0aWxzLkJ1ZjE2KEhFQVBfU0laRSAqIDIpO1xuICB0aGlzLmR5bl9kdHJlZSAgPSBuZXcgdXRpbHMuQnVmMTYoKDIgKiBEX0NPREVTICsgMSkgKiAyKTtcbiAgdGhpcy5ibF90cmVlICAgID0gbmV3IHV0aWxzLkJ1ZjE2KCgyICogQkxfQ09ERVMgKyAxKSAqIDIpO1xuICB6ZXJvKHRoaXMuZHluX2x0cmVlKTtcbiAgemVybyh0aGlzLmR5bl9kdHJlZSk7XG4gIHplcm8odGhpcy5ibF90cmVlKTtcblxuICB0aGlzLmxfZGVzYyAgID0gbnVsbDsgICAgICAgICAvKiBkZXNjLiBmb3IgbGl0ZXJhbCB0cmVlICovXG4gIHRoaXMuZF9kZXNjICAgPSBudWxsOyAgICAgICAgIC8qIGRlc2MuIGZvciBkaXN0YW5jZSB0cmVlICovXG4gIHRoaXMuYmxfZGVzYyAgPSBudWxsOyAgICAgICAgIC8qIGRlc2MuIGZvciBiaXQgbGVuZ3RoIHRyZWUgKi9cblxuICAvL3VzaCBibF9jb3VudFtNQVhfQklUUysxXTtcbiAgdGhpcy5ibF9jb3VudCA9IG5ldyB1dGlscy5CdWYxNihNQVhfQklUUyArIDEpO1xuICAvKiBudW1iZXIgb2YgY29kZXMgYXQgZWFjaCBiaXQgbGVuZ3RoIGZvciBhbiBvcHRpbWFsIHRyZWUgKi9cblxuICAvL2ludCBoZWFwWzIqTF9DT0RFUysxXTsgICAgICAvKiBoZWFwIHVzZWQgdG8gYnVpbGQgdGhlIEh1ZmZtYW4gdHJlZXMgKi9cbiAgdGhpcy5oZWFwID0gbmV3IHV0aWxzLkJ1ZjE2KDIgKiBMX0NPREVTICsgMSk7ICAvKiBoZWFwIHVzZWQgdG8gYnVpbGQgdGhlIEh1ZmZtYW4gdHJlZXMgKi9cbiAgemVybyh0aGlzLmhlYXApO1xuXG4gIHRoaXMuaGVhcF9sZW4gPSAwOyAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgaGVhcCAqL1xuICB0aGlzLmhlYXBfbWF4ID0gMDsgICAgICAgICAgICAgICAvKiBlbGVtZW50IG9mIGxhcmdlc3QgZnJlcXVlbmN5ICovXG4gIC8qIFRoZSBzb25zIG9mIGhlYXBbbl0gYXJlIGhlYXBbMipuXSBhbmQgaGVhcFsyKm4rMV0uIGhlYXBbMF0gaXMgbm90IHVzZWQuXG4gICAqIFRoZSBzYW1lIGhlYXAgYXJyYXkgaXMgdXNlZCB0byBidWlsZCBhbGwgdHJlZXMuXG4gICAqL1xuXG4gIHRoaXMuZGVwdGggPSBuZXcgdXRpbHMuQnVmMTYoMiAqIExfQ09ERVMgKyAxKTsgLy91Y2ggZGVwdGhbMipMX0NPREVTKzFdO1xuICB6ZXJvKHRoaXMuZGVwdGgpO1xuICAvKiBEZXB0aCBvZiBlYWNoIHN1YnRyZWUgdXNlZCBhcyB0aWUgYnJlYWtlciBmb3IgdHJlZXMgb2YgZXF1YWwgZnJlcXVlbmN5XG4gICAqL1xuXG4gIHRoaXMubF9idWYgPSAwOyAgICAgICAgICAvKiBidWZmZXIgaW5kZXggZm9yIGxpdGVyYWxzIG9yIGxlbmd0aHMgKi9cblxuICB0aGlzLmxpdF9idWZzaXplID0gMDtcbiAgLyogU2l6ZSBvZiBtYXRjaCBidWZmZXIgZm9yIGxpdGVyYWxzL2xlbmd0aHMuICBUaGVyZSBhcmUgNCByZWFzb25zIGZvclxuICAgKiBsaW1pdGluZyBsaXRfYnVmc2l6ZSB0byA2NEs6XG4gICAqICAgLSBmcmVxdWVuY2llcyBjYW4gYmUga2VwdCBpbiAxNiBiaXQgY291bnRlcnNcbiAgICogICAtIGlmIGNvbXByZXNzaW9uIGlzIG5vdCBzdWNjZXNzZnVsIGZvciB0aGUgZmlyc3QgYmxvY2ssIGFsbCBpbnB1dFxuICAgKiAgICAgZGF0YSBpcyBzdGlsbCBpbiB0aGUgd2luZG93IHNvIHdlIGNhbiBzdGlsbCBlbWl0IGEgc3RvcmVkIGJsb2NrIGV2ZW5cbiAgICogICAgIHdoZW4gaW5wdXQgY29tZXMgZnJvbSBzdGFuZGFyZCBpbnB1dC4gIChUaGlzIGNhbiBhbHNvIGJlIGRvbmUgZm9yXG4gICAqICAgICBhbGwgYmxvY2tzIGlmIGxpdF9idWZzaXplIGlzIG5vdCBncmVhdGVyIHRoYW4gMzJLLilcbiAgICogICAtIGlmIGNvbXByZXNzaW9uIGlzIG5vdCBzdWNjZXNzZnVsIGZvciBhIGZpbGUgc21hbGxlciB0aGFuIDY0Sywgd2UgY2FuXG4gICAqICAgICBldmVuIGVtaXQgYSBzdG9yZWQgZmlsZSBpbnN0ZWFkIG9mIGEgc3RvcmVkIGJsb2NrIChzYXZpbmcgNSBieXRlcykuXG4gICAqICAgICBUaGlzIGlzIGFwcGxpY2FibGUgb25seSBmb3IgemlwIChub3QgZ3ppcCBvciB6bGliKS5cbiAgICogICAtIGNyZWF0aW5nIG5ldyBIdWZmbWFuIHRyZWVzIGxlc3MgZnJlcXVlbnRseSBtYXkgbm90IHByb3ZpZGUgZmFzdFxuICAgKiAgICAgYWRhcHRhdGlvbiB0byBjaGFuZ2VzIGluIHRoZSBpbnB1dCBkYXRhIHN0YXRpc3RpY3MuIChUYWtlIGZvclxuICAgKiAgICAgZXhhbXBsZSBhIGJpbmFyeSBmaWxlIHdpdGggcG9vcmx5IGNvbXByZXNzaWJsZSBjb2RlIGZvbGxvd2VkIGJ5XG4gICAqICAgICBhIGhpZ2hseSBjb21wcmVzc2libGUgc3RyaW5nIHRhYmxlLikgU21hbGxlciBidWZmZXIgc2l6ZXMgZ2l2ZVxuICAgKiAgICAgZmFzdCBhZGFwdGF0aW9uIGJ1dCBoYXZlIG9mIGNvdXJzZSB0aGUgb3ZlcmhlYWQgb2YgdHJhbnNtaXR0aW5nXG4gICAqICAgICB0cmVlcyBtb3JlIGZyZXF1ZW50bHkuXG4gICAqICAgLSBJIGNhbid0IGNvdW50IGFib3ZlIDRcbiAgICovXG5cbiAgdGhpcy5sYXN0X2xpdCA9IDA7ICAgICAgLyogcnVubmluZyBpbmRleCBpbiBsX2J1ZiAqL1xuXG4gIHRoaXMuZF9idWYgPSAwO1xuICAvKiBCdWZmZXIgaW5kZXggZm9yIGRpc3RhbmNlcy4gVG8gc2ltcGxpZnkgdGhlIGNvZGUsIGRfYnVmIGFuZCBsX2J1ZiBoYXZlXG4gICAqIHRoZSBzYW1lIG51bWJlciBvZiBlbGVtZW50cy4gVG8gdXNlIGRpZmZlcmVudCBsZW5ndGhzLCBhbiBleHRyYSBmbGFnXG4gICAqIGFycmF5IHdvdWxkIGJlIG5lY2Vzc2FyeS5cbiAgICovXG5cbiAgdGhpcy5vcHRfbGVuID0gMDsgICAgICAgLyogYml0IGxlbmd0aCBvZiBjdXJyZW50IGJsb2NrIHdpdGggb3B0aW1hbCB0cmVlcyAqL1xuICB0aGlzLnN0YXRpY19sZW4gPSAwOyAgICAvKiBiaXQgbGVuZ3RoIG9mIGN1cnJlbnQgYmxvY2sgd2l0aCBzdGF0aWMgdHJlZXMgKi9cbiAgdGhpcy5tYXRjaGVzID0gMDsgICAgICAgLyogbnVtYmVyIG9mIHN0cmluZyBtYXRjaGVzIGluIGN1cnJlbnQgYmxvY2sgKi9cbiAgdGhpcy5pbnNlcnQgPSAwOyAgICAgICAgLyogYnl0ZXMgYXQgZW5kIG9mIHdpbmRvdyBsZWZ0IHRvIGluc2VydCAqL1xuXG5cbiAgdGhpcy5iaV9idWYgPSAwO1xuICAvKiBPdXRwdXQgYnVmZmVyLiBiaXRzIGFyZSBpbnNlcnRlZCBzdGFydGluZyBhdCB0aGUgYm90dG9tIChsZWFzdFxuICAgKiBzaWduaWZpY2FudCBiaXRzKS5cbiAgICovXG4gIHRoaXMuYmlfdmFsaWQgPSAwO1xuICAvKiBOdW1iZXIgb2YgdmFsaWQgYml0cyBpbiBiaV9idWYuICBBbGwgYml0cyBhYm92ZSB0aGUgbGFzdCB2YWxpZCBiaXRcbiAgICogYXJlIGFsd2F5cyB6ZXJvLlxuICAgKi9cblxuICAvLyBVc2VkIGZvciB3aW5kb3cgbWVtb3J5IGluaXQuIFdlIHNhZmVseSBpZ25vcmUgaXQgZm9yIEpTLiBUaGF0IG1ha2VzXG4gIC8vIHNlbnNlIG9ubHkgZm9yIHBvaW50ZXJzIGFuZCBtZW1vcnkgY2hlY2sgdG9vbHMuXG4gIC8vdGhpcy5oaWdoX3dhdGVyID0gMDtcbiAgLyogSGlnaCB3YXRlciBtYXJrIG9mZnNldCBpbiB3aW5kb3cgZm9yIGluaXRpYWxpemVkIGJ5dGVzIC0tIGJ5dGVzIGFib3ZlXG4gICAqIHRoaXMgYXJlIHNldCB0byB6ZXJvIGluIG9yZGVyIHRvIGF2b2lkIG1lbW9yeSBjaGVjayB3YXJuaW5ncyB3aGVuXG4gICAqIGxvbmdlc3QgbWF0Y2ggcm91dGluZXMgYWNjZXNzIGJ5dGVzIHBhc3QgdGhlIGlucHV0LiAgVGhpcyBpcyB0aGVuXG4gICAqIHVwZGF0ZWQgdG8gdGhlIG5ldyBoaWdoIHdhdGVyIG1hcmsuXG4gICAqL1xufVxuXG5cbmZ1bmN0aW9uIGRlZmxhdGVSZXNldEtlZXAoc3RybSkge1xuICB2YXIgcztcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SKTtcbiAgfVxuXG4gIHN0cm0udG90YWxfaW4gPSBzdHJtLnRvdGFsX291dCA9IDA7XG4gIHN0cm0uZGF0YV90eXBlID0gWl9VTktOT1dOO1xuXG4gIHMgPSBzdHJtLnN0YXRlO1xuICBzLnBlbmRpbmcgPSAwO1xuICBzLnBlbmRpbmdfb3V0ID0gMDtcblxuICBpZiAocy53cmFwIDwgMCkge1xuICAgIHMud3JhcCA9IC1zLndyYXA7XG4gICAgLyogd2FzIG1hZGUgbmVnYXRpdmUgYnkgZGVmbGF0ZSguLi4sIFpfRklOSVNIKTsgKi9cbiAgfVxuICBzLnN0YXR1cyA9IChzLndyYXAgPyBJTklUX1NUQVRFIDogQlVTWV9TVEFURSk7XG4gIHN0cm0uYWRsZXIgPSAocy53cmFwID09PSAyKSA/XG4gICAgMCAgLy8gY3JjMzIoMCwgWl9OVUxMLCAwKVxuICA6XG4gICAgMTsgLy8gYWRsZXIzMigwLCBaX05VTEwsIDApXG4gIHMubGFzdF9mbHVzaCA9IFpfTk9fRkxVU0g7XG4gIHRyZWVzLl90cl9pbml0KHMpO1xuICByZXR1cm4gWl9PSztcbn1cblxuXG5mdW5jdGlvbiBkZWZsYXRlUmVzZXQoc3RybSkge1xuICB2YXIgcmV0ID0gZGVmbGF0ZVJlc2V0S2VlcChzdHJtKTtcbiAgaWYgKHJldCA9PT0gWl9PSykge1xuICAgIGxtX2luaXQoc3RybS5zdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuXG5mdW5jdGlvbiBkZWZsYXRlU2V0SGVhZGVyKHN0cm0sIGhlYWQpIHtcbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBpZiAoc3RybS5zdGF0ZS53cmFwICE9PSAyKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBzdHJtLnN0YXRlLmd6aGVhZCA9IGhlYWQ7XG4gIHJldHVybiBaX09LO1xufVxuXG5cbmZ1bmN0aW9uIGRlZmxhdGVJbml0MihzdHJtLCBsZXZlbCwgbWV0aG9kLCB3aW5kb3dCaXRzLCBtZW1MZXZlbCwgc3RyYXRlZ3kpIHtcbiAgaWYgKCFzdHJtKSB7IC8vID09PSBaX05VTExcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cbiAgdmFyIHdyYXAgPSAxO1xuXG4gIGlmIChsZXZlbCA9PT0gWl9ERUZBVUxUX0NPTVBSRVNTSU9OKSB7XG4gICAgbGV2ZWwgPSA2O1xuICB9XG5cbiAgaWYgKHdpbmRvd0JpdHMgPCAwKSB7IC8qIHN1cHByZXNzIHpsaWIgd3JhcHBlciAqL1xuICAgIHdyYXAgPSAwO1xuICAgIHdpbmRvd0JpdHMgPSAtd2luZG93Qml0cztcbiAgfVxuXG4gIGVsc2UgaWYgKHdpbmRvd0JpdHMgPiAxNSkge1xuICAgIHdyYXAgPSAyOyAgICAgICAgICAgLyogd3JpdGUgZ3ppcCB3cmFwcGVyIGluc3RlYWQgKi9cbiAgICB3aW5kb3dCaXRzIC09IDE2O1xuICB9XG5cblxuICBpZiAobWVtTGV2ZWwgPCAxIHx8IG1lbUxldmVsID4gTUFYX01FTV9MRVZFTCB8fCBtZXRob2QgIT09IFpfREVGTEFURUQgfHxcbiAgICB3aW5kb3dCaXRzIDwgOCB8fCB3aW5kb3dCaXRzID4gMTUgfHwgbGV2ZWwgPCAwIHx8IGxldmVsID4gOSB8fFxuICAgIHN0cmF0ZWd5IDwgMCB8fCBzdHJhdGVneSA+IFpfRklYRUQpIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SKTtcbiAgfVxuXG5cbiAgaWYgKHdpbmRvd0JpdHMgPT09IDgpIHtcbiAgICB3aW5kb3dCaXRzID0gOTtcbiAgfVxuICAvKiB1bnRpbCAyNTYtYnl0ZSB3aW5kb3cgYnVnIGZpeGVkICovXG5cbiAgdmFyIHMgPSBuZXcgRGVmbGF0ZVN0YXRlKCk7XG5cbiAgc3RybS5zdGF0ZSA9IHM7XG4gIHMuc3RybSA9IHN0cm07XG5cbiAgcy53cmFwID0gd3JhcDtcbiAgcy5nemhlYWQgPSBudWxsO1xuICBzLndfYml0cyA9IHdpbmRvd0JpdHM7XG4gIHMud19zaXplID0gMSA8PCBzLndfYml0cztcbiAgcy53X21hc2sgPSBzLndfc2l6ZSAtIDE7XG5cbiAgcy5oYXNoX2JpdHMgPSBtZW1MZXZlbCArIDc7XG4gIHMuaGFzaF9zaXplID0gMSA8PCBzLmhhc2hfYml0cztcbiAgcy5oYXNoX21hc2sgPSBzLmhhc2hfc2l6ZSAtIDE7XG4gIHMuaGFzaF9zaGlmdCA9IH5+KChzLmhhc2hfYml0cyArIE1JTl9NQVRDSCAtIDEpIC8gTUlOX01BVENIKTtcblxuICBzLndpbmRvdyA9IG5ldyB1dGlscy5CdWY4KHMud19zaXplICogMik7XG4gIHMuaGVhZCA9IG5ldyB1dGlscy5CdWYxNihzLmhhc2hfc2l6ZSk7XG4gIHMucHJldiA9IG5ldyB1dGlscy5CdWYxNihzLndfc2l6ZSk7XG5cbiAgLy8gRG9uJ3QgbmVlZCBtZW0gaW5pdCBtYWdpYyBmb3IgSlMuXG4gIC8vcy5oaWdoX3dhdGVyID0gMDsgIC8qIG5vdGhpbmcgd3JpdHRlbiB0byBzLT53aW5kb3cgeWV0ICovXG5cbiAgcy5saXRfYnVmc2l6ZSA9IDEgPDwgKG1lbUxldmVsICsgNik7IC8qIDE2SyBlbGVtZW50cyBieSBkZWZhdWx0ICovXG5cbiAgcy5wZW5kaW5nX2J1Zl9zaXplID0gcy5saXRfYnVmc2l6ZSAqIDQ7XG5cbiAgLy9vdmVybGF5ID0gKHVzaGYgKikgWkFMTE9DKHN0cm0sIHMtPmxpdF9idWZzaXplLCBzaXplb2YodXNoKSsyKTtcbiAgLy9zLT5wZW5kaW5nX2J1ZiA9ICh1Y2hmICopIG92ZXJsYXk7XG4gIHMucGVuZGluZ19idWYgPSBuZXcgdXRpbHMuQnVmOChzLnBlbmRpbmdfYnVmX3NpemUpO1xuXG4gIC8vIEl0IGlzIG9mZnNldCBmcm9tIGBzLnBlbmRpbmdfYnVmYCAoc2l6ZSBpcyBgcy5saXRfYnVmc2l6ZSAqIDJgKVxuICAvL3MtPmRfYnVmID0gb3ZlcmxheSArIHMtPmxpdF9idWZzaXplL3NpemVvZih1c2gpO1xuICBzLmRfYnVmID0gMSAqIHMubGl0X2J1ZnNpemU7XG5cbiAgLy9zLT5sX2J1ZiA9IHMtPnBlbmRpbmdfYnVmICsgKDErc2l6ZW9mKHVzaCkpKnMtPmxpdF9idWZzaXplO1xuICBzLmxfYnVmID0gKDEgKyAyKSAqIHMubGl0X2J1ZnNpemU7XG5cbiAgcy5sZXZlbCA9IGxldmVsO1xuICBzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gIHMubWV0aG9kID0gbWV0aG9kO1xuXG4gIHJldHVybiBkZWZsYXRlUmVzZXQoc3RybSk7XG59XG5cbmZ1bmN0aW9uIGRlZmxhdGVJbml0KHN0cm0sIGxldmVsKSB7XG4gIHJldHVybiBkZWZsYXRlSW5pdDIoc3RybSwgbGV2ZWwsIFpfREVGTEFURUQsIE1BWF9XQklUUywgREVGX01FTV9MRVZFTCwgWl9ERUZBVUxUX1NUUkFURUdZKTtcbn1cblxuXG5mdW5jdGlvbiBkZWZsYXRlKHN0cm0sIGZsdXNoKSB7XG4gIHZhciBvbGRfZmx1c2gsIHM7XG4gIHZhciBiZWcsIHZhbDsgLy8gZm9yIGd6aXAgaGVhZGVyIHdyaXRlIG9ubHlcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUgfHxcbiAgICBmbHVzaCA+IFpfQkxPQ0sgfHwgZmx1c2ggPCAwKSB7XG4gICAgcmV0dXJuIHN0cm0gPyBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IpIDogWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICBzID0gc3RybS5zdGF0ZTtcblxuICBpZiAoIXN0cm0ub3V0cHV0IHx8XG4gICAgICAoIXN0cm0uaW5wdXQgJiYgc3RybS5hdmFpbF9pbiAhPT0gMCkgfHxcbiAgICAgIChzLnN0YXR1cyA9PT0gRklOSVNIX1NUQVRFICYmIGZsdXNoICE9PSBaX0ZJTklTSCkpIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIChzdHJtLmF2YWlsX291dCA9PT0gMCkgPyBaX0JVRl9FUlJPUiA6IFpfU1RSRUFNX0VSUk9SKTtcbiAgfVxuXG4gIHMuc3RybSA9IHN0cm07IC8qIGp1c3QgaW4gY2FzZSAqL1xuICBvbGRfZmx1c2ggPSBzLmxhc3RfZmx1c2g7XG4gIHMubGFzdF9mbHVzaCA9IGZsdXNoO1xuXG4gIC8qIFdyaXRlIHRoZSBoZWFkZXIgKi9cbiAgaWYgKHMuc3RhdHVzID09PSBJTklUX1NUQVRFKSB7XG5cbiAgICBpZiAocy53cmFwID09PSAyKSB7IC8vIEdaSVAgaGVhZGVyXG4gICAgICBzdHJtLmFkbGVyID0gMDsgIC8vY3JjMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgICBwdXRfYnl0ZShzLCAzMSk7XG4gICAgICBwdXRfYnl0ZShzLCAxMzkpO1xuICAgICAgcHV0X2J5dGUocywgOCk7XG4gICAgICBpZiAoIXMuZ3poZWFkKSB7IC8vIHMtPmd6aGVhZCA9PSBaX05VTExcbiAgICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgICBwdXRfYnl0ZShzLCBzLmxldmVsID09PSA5ID8gMiA6XG4gICAgICAgICAgICAgICAgICAgIChzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyID9cbiAgICAgICAgICAgICAgICAgICAgIDQgOiAwKSk7XG4gICAgICAgIHB1dF9ieXRlKHMsIE9TX0NPREUpO1xuICAgICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRleHQgPyAxIDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAocy5nemhlYWQuaGNyYyA/IDIgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgICghcy5nemhlYWQuZXh0cmEgPyAwIDogNCkgK1xuICAgICAgICAgICAgICAgICAgICAoIXMuZ3poZWFkLm5hbWUgPyAwIDogOCkgK1xuICAgICAgICAgICAgICAgICAgICAoIXMuZ3poZWFkLmNvbW1lbnQgPyAwIDogMTYpXG4gICAgICAgICk7XG4gICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLnRpbWUgJiAweGZmKTtcbiAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRpbWUgPj4gOCkgJiAweGZmKTtcbiAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRpbWUgPj4gMTYpICYgMHhmZik7XG4gICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50aW1lID4+IDI0KSAmIDB4ZmYpO1xuICAgICAgICBwdXRfYnl0ZShzLCBzLmxldmVsID09PSA5ID8gMiA6XG4gICAgICAgICAgICAgICAgICAgIChzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyID9cbiAgICAgICAgICAgICAgICAgICAgIDQgOiAwKSk7XG4gICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLm9zICYgMHhmZik7XG4gICAgICAgIGlmIChzLmd6aGVhZC5leHRyYSAmJiBzLmd6aGVhZC5leHRyYS5sZW5ndGgpIHtcbiAgICAgICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC5leHRyYS5sZW5ndGggJiAweGZmKTtcbiAgICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQuZXh0cmEubGVuZ3RoID4+IDgpICYgMHhmZik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMpIHtcbiAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzIoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBzLmd6aW5kZXggPSAwO1xuICAgICAgICBzLnN0YXR1cyA9IEVYVFJBX1NUQVRFO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIC8vIERFRkxBVEUgaGVhZGVyXG4gICAge1xuICAgICAgdmFyIGhlYWRlciA9IChaX0RFRkxBVEVEICsgKChzLndfYml0cyAtIDgpIDw8IDQpKSA8PCA4O1xuICAgICAgdmFyIGxldmVsX2ZsYWdzID0gLTE7XG5cbiAgICAgIGlmIChzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyKSB7XG4gICAgICAgIGxldmVsX2ZsYWdzID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocy5sZXZlbCA8IDYpIHtcbiAgICAgICAgbGV2ZWxfZmxhZ3MgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzLmxldmVsID09PSA2KSB7XG4gICAgICAgIGxldmVsX2ZsYWdzID0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsX2ZsYWdzID0gMztcbiAgICAgIH1cbiAgICAgIGhlYWRlciB8PSAobGV2ZWxfZmxhZ3MgPDwgNik7XG4gICAgICBpZiAocy5zdHJzdGFydCAhPT0gMCkgeyBoZWFkZXIgfD0gUFJFU0VUX0RJQ1Q7IH1cbiAgICAgIGhlYWRlciArPSAzMSAtIChoZWFkZXIgJSAzMSk7XG5cbiAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcbiAgICAgIHB1dFNob3J0TVNCKHMsIGhlYWRlcik7XG5cbiAgICAgIC8qIFNhdmUgdGhlIGFkbGVyMzIgb2YgdGhlIHByZXNldCBkaWN0aW9uYXJ5OiAqL1xuICAgICAgaWYgKHMuc3Ryc3RhcnQgIT09IDApIHtcbiAgICAgICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciA+Pj4gMTYpO1xuICAgICAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyICYgMHhmZmZmKTtcbiAgICAgIH1cbiAgICAgIHN0cm0uYWRsZXIgPSAxOyAvLyBhZGxlcjMyKDBMLCBaX05VTEwsIDApO1xuICAgIH1cbiAgfVxuXG4vLyNpZmRlZiBHWklQXG4gIGlmIChzLnN0YXR1cyA9PT0gRVhUUkFfU1RBVEUpIHtcbiAgICBpZiAocy5nemhlYWQuZXh0cmEvKiAhPSBaX05VTEwqLykge1xuICAgICAgYmVnID0gcy5wZW5kaW5nOyAgLyogc3RhcnQgb2YgYnl0ZXMgdG8gdXBkYXRlIGNyYyAqL1xuXG4gICAgICB3aGlsZSAocy5nemluZGV4IDwgKHMuZ3poZWFkLmV4dHJhLmxlbmd0aCAmIDB4ZmZmZikpIHtcbiAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzIoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICAgIGJlZyA9IHMucGVuZGluZztcbiAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC5leHRyYVtzLmd6aW5kZXhdICYgMHhmZik7XG4gICAgICAgIHMuZ3ppbmRleCsrO1xuICAgICAgfVxuICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMihzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICB9XG4gICAgICBpZiAocy5nemluZGV4ID09PSBzLmd6aGVhZC5leHRyYS5sZW5ndGgpIHtcbiAgICAgICAgcy5nemluZGV4ID0gMDtcbiAgICAgICAgcy5zdGF0dXMgPSBOQU1FX1NUQVRFO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHMuc3RhdHVzID0gTkFNRV9TVEFURTtcbiAgICB9XG4gIH1cbiAgaWYgKHMuc3RhdHVzID09PSBOQU1FX1NUQVRFKSB7XG4gICAgaWYgKHMuZ3poZWFkLm5hbWUvKiAhPSBaX05VTEwqLykge1xuICAgICAgYmVnID0gcy5wZW5kaW5nOyAgLyogc3RhcnQgb2YgYnl0ZXMgdG8gdXBkYXRlIGNyYyAqL1xuICAgICAgLy9pbnQgdmFsO1xuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgICBiZWcgPSBzLnBlbmRpbmc7XG4gICAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICB2YWwgPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEpTIHNwZWNpZmljOiBsaXR0bGUgbWFnaWMgdG8gYWRkIHplcm8gdGVybWluYXRvciB0byBlbmQgb2Ygc3RyaW5nXG4gICAgICAgIGlmIChzLmd6aW5kZXggPCBzLmd6aGVhZC5uYW1lLmxlbmd0aCkge1xuICAgICAgICAgIHZhbCA9IHMuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChzLmd6aW5kZXgrKykgJiAweGZmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcHV0X2J5dGUocywgdmFsKTtcbiAgICAgIH0gd2hpbGUgKHZhbCAhPT0gMCk7XG5cbiAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzIoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbCA9PT0gMCkge1xuICAgICAgICBzLmd6aW5kZXggPSAwO1xuICAgICAgICBzLnN0YXR1cyA9IENPTU1FTlRfU1RBVEU7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcy5zdGF0dXMgPSBDT01NRU5UX1NUQVRFO1xuICAgIH1cbiAgfVxuICBpZiAocy5zdGF0dXMgPT09IENPTU1FTlRfU1RBVEUpIHtcbiAgICBpZiAocy5nemhlYWQuY29tbWVudC8qICE9IFpfTlVMTCovKSB7XG4gICAgICBiZWcgPSBzLnBlbmRpbmc7ICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG4gICAgICAvL2ludCB2YWw7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzIoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICAgIGJlZyA9IHMucGVuZGluZztcbiAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgIHZhbCA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSlMgc3BlY2lmaWM6IGxpdHRsZSBtYWdpYyB0byBhZGQgemVybyB0ZXJtaW5hdG9yIHRvIGVuZCBvZiBzdHJpbmdcbiAgICAgICAgaWYgKHMuZ3ppbmRleCA8IHMuZ3poZWFkLmNvbW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgdmFsID0gcy5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKSAmIDB4ZmY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsID0gMDtcbiAgICAgICAgfVxuICAgICAgICBwdXRfYnl0ZShzLCB2YWwpO1xuICAgICAgfSB3aGlsZSAodmFsICE9PSAwKTtcblxuICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMihzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICB9XG4gICAgICBpZiAodmFsID09PSAwKSB7XG4gICAgICAgIHMuc3RhdHVzID0gSENSQ19TVEFURTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzLnN0YXR1cyA9IEhDUkNfU1RBVEU7XG4gICAgfVxuICB9XG4gIGlmIChzLnN0YXR1cyA9PT0gSENSQ19TVEFURSkge1xuICAgIGlmIChzLmd6aGVhZC5oY3JjKSB7XG4gICAgICBpZiAocy5wZW5kaW5nICsgMiA+IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgfVxuICAgICAgaWYgKHMucGVuZGluZyArIDIgPD0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgIHB1dF9ieXRlKHMsIHN0cm0uYWRsZXIgJiAweGZmKTtcbiAgICAgICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gOCkgJiAweGZmKTtcbiAgICAgICAgc3RybS5hZGxlciA9IDA7IC8vY3JjMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG4gICAgfVxuICB9XG4vLyNlbmRpZlxuXG4gIC8qIEZsdXNoIGFzIG11Y2ggcGVuZGluZyBvdXRwdXQgYXMgcG9zc2libGUgKi9cbiAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAvKiBTaW5jZSBhdmFpbF9vdXQgaXMgMCwgZGVmbGF0ZSB3aWxsIGJlIGNhbGxlZCBhZ2FpbiB3aXRoXG4gICAgICAgKiBtb3JlIG91dHB1dCBzcGFjZSwgYnV0IHBvc3NpYmx5IHdpdGggYm90aCBwZW5kaW5nIGFuZFxuICAgICAgICogYXZhaWxfaW4gZXF1YWwgdG8gemVyby4gVGhlcmUgd29uJ3QgYmUgYW55dGhpbmcgdG8gZG8sXG4gICAgICAgKiBidXQgdGhpcyBpcyBub3QgYW4gZXJyb3Igc2l0dWF0aW9uIHNvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICogcmV0dXJuIE9LIGluc3RlYWQgb2YgQlVGX0VSUk9SIGF0IG5leHQgY2FsbCBvZiBkZWZsYXRlOlxuICAgICAgICovXG4gICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgIHJldHVybiBaX09LO1xuICAgIH1cblxuICAgIC8qIE1ha2Ugc3VyZSB0aGVyZSBpcyBzb21ldGhpbmcgdG8gZG8gYW5kIGF2b2lkIGR1cGxpY2F0ZSBjb25zZWN1dGl2ZVxuICAgICAqIGZsdXNoZXMuIEZvciByZXBlYXRlZCBhbmQgdXNlbGVzcyBjYWxscyB3aXRoIFpfRklOSVNILCB3ZSBrZWVwXG4gICAgICogcmV0dXJuaW5nIFpfU1RSRUFNX0VORCBpbnN0ZWFkIG9mIFpfQlVGX0VSUk9SLlxuICAgICAqL1xuICB9IGVsc2UgaWYgKHN0cm0uYXZhaWxfaW4gPT09IDAgJiYgcmFuayhmbHVzaCkgPD0gcmFuayhvbGRfZmx1c2gpICYmXG4gICAgZmx1c2ggIT09IFpfRklOSVNIKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUik7XG4gIH1cblxuICAvKiBVc2VyIG11c3Qgbm90IHByb3ZpZGUgbW9yZSBpbnB1dCBhZnRlciB0aGUgZmlyc3QgRklOSVNIOiAqL1xuICBpZiAocy5zdGF0dXMgPT09IEZJTklTSF9TVEFURSAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUik7XG4gIH1cblxuICAvKiBTdGFydCBhIG5ldyBibG9jayBvciBjb250aW51ZSB0aGUgY3VycmVudCBvbmUuXG4gICAqL1xuICBpZiAoc3RybS5hdmFpbF9pbiAhPT0gMCB8fCBzLmxvb2thaGVhZCAhPT0gMCB8fFxuICAgIChmbHVzaCAhPT0gWl9OT19GTFVTSCAmJiBzLnN0YXR1cyAhPT0gRklOSVNIX1NUQVRFKSkge1xuICAgIHZhciBic3RhdGUgPSAocy5zdHJhdGVneSA9PT0gWl9IVUZGTUFOX09OTFkpID8gZGVmbGF0ZV9odWZmKHMsIGZsdXNoKSA6XG4gICAgICAocy5zdHJhdGVneSA9PT0gWl9STEUgPyBkZWZsYXRlX3JsZShzLCBmbHVzaCkgOlxuICAgICAgICBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmZ1bmMocywgZmx1c2gpKTtcblxuICAgIGlmIChic3RhdGUgPT09IEJTX0ZJTklTSF9TVEFSVEVEIHx8IGJzdGF0ZSA9PT0gQlNfRklOSVNIX0RPTkUpIHtcbiAgICAgIHMuc3RhdHVzID0gRklOSVNIX1NUQVRFO1xuICAgIH1cbiAgICBpZiAoYnN0YXRlID09PSBCU19ORUVEX01PUkUgfHwgYnN0YXRlID09PSBCU19GSU5JU0hfU1RBUlRFRCkge1xuICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAvKiBhdm9pZCBCVUZfRVJST1IgbmV4dCBjYWxsLCBzZWUgYWJvdmUgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBaX09LO1xuICAgICAgLyogSWYgZmx1c2ggIT0gWl9OT19GTFVTSCAmJiBhdmFpbF9vdXQgPT0gMCwgdGhlIG5leHQgY2FsbFxuICAgICAgICogb2YgZGVmbGF0ZSBzaG91bGQgdXNlIHRoZSBzYW1lIGZsdXNoIHBhcmFtZXRlciB0byBtYWtlIHN1cmVcbiAgICAgICAqIHRoYXQgdGhlIGZsdXNoIGlzIGNvbXBsZXRlLiBTbyB3ZSBkb24ndCBoYXZlIHRvIG91dHB1dCBhblxuICAgICAgICogZW1wdHkgYmxvY2sgaGVyZSwgdGhpcyB3aWxsIGJlIGRvbmUgYXQgbmV4dCBjYWxsLiBUaGlzIGFsc29cbiAgICAgICAqIGVuc3VyZXMgdGhhdCBmb3IgYSB2ZXJ5IHNtYWxsIG91dHB1dCBidWZmZXIsIHdlIGVtaXQgYXQgbW9zdFxuICAgICAgICogb25lIGVtcHR5IGJsb2NrLlxuICAgICAgICovXG4gICAgfVxuICAgIGlmIChic3RhdGUgPT09IEJTX0JMT0NLX0RPTkUpIHtcbiAgICAgIGlmIChmbHVzaCA9PT0gWl9QQVJUSUFMX0ZMVVNIKSB7XG4gICAgICAgIHRyZWVzLl90cl9hbGlnbihzKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGZsdXNoICE9PSBaX0JMT0NLKSB7IC8qIEZVTExfRkxVU0ggb3IgU1lOQ19GTFVTSCAqL1xuXG4gICAgICAgIHRyZWVzLl90cl9zdG9yZWRfYmxvY2socywgMCwgMCwgZmFsc2UpO1xuICAgICAgICAvKiBGb3IgYSBmdWxsIGZsdXNoLCB0aGlzIGVtcHR5IGJsb2NrIHdpbGwgYmUgcmVjb2duaXplZFxuICAgICAgICAgKiBhcyBhIHNwZWNpYWwgbWFya2VyIGJ5IGluZmxhdGVfc3luYygpLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGZsdXNoID09PSBaX0ZVTExfRkxVU0gpIHtcbiAgICAgICAgICAvKioqIENMRUFSX0hBU0gocyk7ICoqKi8gICAgICAgICAgICAgLyogZm9yZ2V0IGhpc3RvcnkgKi9cbiAgICAgICAgICB6ZXJvKHMuaGVhZCk7IC8vIEZpbGwgd2l0aCBOSUwgKD0gMCk7XG5cbiAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICAgIHMuc3Ryc3RhcnQgPSAwO1xuICAgICAgICAgICAgcy5ibG9ja19zdGFydCA9IDA7XG4gICAgICAgICAgICBzLmluc2VydCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHMubGFzdF9mbHVzaCA9IC0xOyAvKiBhdm9pZCBCVUZfRVJST1IgYXQgbmV4dCBjYWxsLCBzZWUgYWJvdmUgKi9cbiAgICAgICAgcmV0dXJuIFpfT0s7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vQXNzZXJ0KHN0cm0tPmF2YWlsX291dCA+IDAsIFwiYnVnMlwiKTtcbiAgLy9pZiAoc3RybS5hdmFpbF9vdXQgPD0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJidWcyXCIpO31cblxuICBpZiAoZmx1c2ggIT09IFpfRklOSVNIKSB7IHJldHVybiBaX09LOyB9XG4gIGlmIChzLndyYXAgPD0gMCkgeyByZXR1cm4gWl9TVFJFQU1fRU5EOyB9XG5cbiAgLyogV3JpdGUgdGhlIHRyYWlsZXIgKi9cbiAgaWYgKHMud3JhcCA9PT0gMikge1xuICAgIHB1dF9ieXRlKHMsIHN0cm0uYWRsZXIgJiAweGZmKTtcbiAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiA4KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDE2KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDI0KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIHN0cm0udG90YWxfaW4gJiAweGZmKTtcbiAgICBwdXRfYnl0ZShzLCAoc3RybS50b3RhbF9pbiA+PiA4KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDE2KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDI0KSAmIDB4ZmYpO1xuICB9XG4gIGVsc2VcbiAge1xuICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgPj4+IDE2KTtcbiAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyICYgMHhmZmZmKTtcbiAgfVxuXG4gIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gIC8qIElmIGF2YWlsX291dCBpcyB6ZXJvLCB0aGUgYXBwbGljYXRpb24gd2lsbCBjYWxsIGRlZmxhdGUgYWdhaW5cbiAgICogdG8gZmx1c2ggdGhlIHJlc3QuXG4gICAqL1xuICBpZiAocy53cmFwID4gMCkgeyBzLndyYXAgPSAtcy53cmFwOyB9XG4gIC8qIHdyaXRlIHRoZSB0cmFpbGVyIG9ubHkgb25jZSEgKi9cbiAgcmV0dXJuIHMucGVuZGluZyAhPT0gMCA/IFpfT0sgOiBaX1NUUkVBTV9FTkQ7XG59XG5cbmZ1bmN0aW9uIGRlZmxhdGVFbmQoc3RybSkge1xuICB2YXIgc3RhdHVzO1xuXG4gIGlmICghc3RybS8qPT0gWl9OVUxMKi8gfHwgIXN0cm0uc3RhdGUvKj09IFpfTlVMTCovKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgc3RhdHVzID0gc3RybS5zdGF0ZS5zdGF0dXM7XG4gIGlmIChzdGF0dXMgIT09IElOSVRfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IEVYVFJBX1NUQVRFICYmXG4gICAgc3RhdHVzICE9PSBOQU1FX1NUQVRFICYmXG4gICAgc3RhdHVzICE9PSBDT01NRU5UX1NUQVRFICYmXG4gICAgc3RhdHVzICE9PSBIQ1JDX1NUQVRFICYmXG4gICAgc3RhdHVzICE9PSBCVVNZX1NUQVRFICYmXG4gICAgc3RhdHVzICE9PSBGSU5JU0hfU1RBVEVcbiAgKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUik7XG4gIH1cblxuICBzdHJtLnN0YXRlID0gbnVsbDtcblxuICByZXR1cm4gc3RhdHVzID09PSBCVVNZX1NUQVRFID8gZXJyKHN0cm0sIFpfREFUQV9FUlJPUikgOiBaX09LO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEluaXRpYWxpemVzIHRoZSBjb21wcmVzc2lvbiBkaWN0aW9uYXJ5IGZyb20gdGhlIGdpdmVuIGJ5dGVcbiAqIHNlcXVlbmNlIHdpdGhvdXQgcHJvZHVjaW5nIGFueSBjb21wcmVzc2VkIG91dHB1dC5cbiAqL1xuZnVuY3Rpb24gZGVmbGF0ZVNldERpY3Rpb25hcnkoc3RybSwgZGljdGlvbmFyeSkge1xuICB2YXIgZGljdExlbmd0aCA9IGRpY3Rpb25hcnkubGVuZ3RoO1xuXG4gIHZhciBzO1xuICB2YXIgc3RyLCBuO1xuICB2YXIgd3JhcDtcbiAgdmFyIGF2YWlsO1xuICB2YXIgbmV4dDtcbiAgdmFyIGlucHV0O1xuICB2YXIgdG1wRGljdDtcblxuICBpZiAoIXN0cm0vKj09IFpfTlVMTCovIHx8ICFzdHJtLnN0YXRlLyo9PSBaX05VTEwqLykge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHMgPSBzdHJtLnN0YXRlO1xuICB3cmFwID0gcy53cmFwO1xuXG4gIGlmICh3cmFwID09PSAyIHx8ICh3cmFwID09PSAxICYmIHMuc3RhdHVzICE9PSBJTklUX1NUQVRFKSB8fCBzLmxvb2thaGVhZCkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIC8qIHdoZW4gdXNpbmcgemxpYiB3cmFwcGVycywgY29tcHV0ZSBBZGxlci0zMiBmb3IgcHJvdmlkZWQgZGljdGlvbmFyeSAqL1xuICBpZiAod3JhcCA9PT0gMSkge1xuICAgIC8qIGFkbGVyMzIoc3RybS0+YWRsZXIsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgpOyAqL1xuICAgIHN0cm0uYWRsZXIgPSBhZGxlcjMyKHN0cm0uYWRsZXIsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIDApO1xuICB9XG5cbiAgcy53cmFwID0gMDsgICAvKiBhdm9pZCBjb21wdXRpbmcgQWRsZXItMzIgaW4gcmVhZF9idWYgKi9cblxuICAvKiBpZiBkaWN0aW9uYXJ5IHdvdWxkIGZpbGwgd2luZG93LCBqdXN0IHJlcGxhY2UgdGhlIGhpc3RvcnkgKi9cbiAgaWYgKGRpY3RMZW5ndGggPj0gcy53X3NpemUpIHtcbiAgICBpZiAod3JhcCA9PT0gMCkgeyAgICAgICAgICAgIC8qIGFscmVhZHkgZW1wdHkgb3RoZXJ3aXNlICovXG4gICAgICAvKioqIENMRUFSX0hBU0gocyk7ICoqKi9cbiAgICAgIHplcm8ocy5oZWFkKTsgLy8gRmlsbCB3aXRoIE5JTCAoPSAwKTtcbiAgICAgIHMuc3Ryc3RhcnQgPSAwO1xuICAgICAgcy5ibG9ja19zdGFydCA9IDA7XG4gICAgICBzLmluc2VydCA9IDA7XG4gICAgfVxuICAgIC8qIHVzZSB0aGUgdGFpbCAqL1xuICAgIC8vIGRpY3Rpb25hcnkgPSBkaWN0aW9uYXJ5LnNsaWNlKGRpY3RMZW5ndGggLSBzLndfc2l6ZSk7XG4gICAgdG1wRGljdCA9IG5ldyB1dGlscy5CdWY4KHMud19zaXplKTtcbiAgICB1dGlscy5hcnJheVNldCh0bXBEaWN0LCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoIC0gcy53X3NpemUsIHMud19zaXplLCAwKTtcbiAgICBkaWN0aW9uYXJ5ID0gdG1wRGljdDtcbiAgICBkaWN0TGVuZ3RoID0gcy53X3NpemU7XG4gIH1cbiAgLyogaW5zZXJ0IGRpY3Rpb25hcnkgaW50byB3aW5kb3cgYW5kIGhhc2ggKi9cbiAgYXZhaWwgPSBzdHJtLmF2YWlsX2luO1xuICBuZXh0ID0gc3RybS5uZXh0X2luO1xuICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gIHN0cm0uYXZhaWxfaW4gPSBkaWN0TGVuZ3RoO1xuICBzdHJtLm5leHRfaW4gPSAwO1xuICBzdHJtLmlucHV0ID0gZGljdGlvbmFyeTtcbiAgZmlsbF93aW5kb3cocyk7XG4gIHdoaWxlIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gpIHtcbiAgICBzdHIgPSBzLnN0cnN0YXJ0O1xuICAgIG4gPSBzLmxvb2thaGVhZCAtIChNSU5fTUFUQ0ggLSAxKTtcbiAgICBkbyB7XG4gICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIE1JTl9NQVRDSC0xXSk7ICovXG4gICAgICBzLmluc19oID0gKChzLmluc19oIDw8IHMuaGFzaF9zaGlmdCkgXiBzLndpbmRvd1tzdHIgKyBNSU5fTUFUQ0ggLSAxXSkgJiBzLmhhc2hfbWFzaztcblxuICAgICAgcy5wcmV2W3N0ciAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcblxuICAgICAgcy5oZWFkW3MuaW5zX2hdID0gc3RyO1xuICAgICAgc3RyKys7XG4gICAgfSB3aGlsZSAoLS1uKTtcbiAgICBzLnN0cnN0YXJ0ID0gc3RyO1xuICAgIHMubG9va2FoZWFkID0gTUlOX01BVENIIC0gMTtcbiAgICBmaWxsX3dpbmRvdyhzKTtcbiAgfVxuICBzLnN0cnN0YXJ0ICs9IHMubG9va2FoZWFkO1xuICBzLmJsb2NrX3N0YXJ0ID0gcy5zdHJzdGFydDtcbiAgcy5pbnNlcnQgPSBzLmxvb2thaGVhZDtcbiAgcy5sb29rYWhlYWQgPSAwO1xuICBzLm1hdGNoX2xlbmd0aCA9IHMucHJldl9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gIHN0cm0uaW5wdXQgPSBpbnB1dDtcbiAgc3RybS5hdmFpbF9pbiA9IGF2YWlsO1xuICBzLndyYXAgPSB3cmFwO1xuICByZXR1cm4gWl9PSztcbn1cblxuXG5leHBvcnRzLmRlZmxhdGVJbml0ID0gZGVmbGF0ZUluaXQ7XG5leHBvcnRzLmRlZmxhdGVJbml0MiA9IGRlZmxhdGVJbml0MjtcbmV4cG9ydHMuZGVmbGF0ZVJlc2V0ID0gZGVmbGF0ZVJlc2V0O1xuZXhwb3J0cy5kZWZsYXRlUmVzZXRLZWVwID0gZGVmbGF0ZVJlc2V0S2VlcDtcbmV4cG9ydHMuZGVmbGF0ZVNldEhlYWRlciA9IGRlZmxhdGVTZXRIZWFkZXI7XG5leHBvcnRzLmRlZmxhdGUgPSBkZWZsYXRlO1xuZXhwb3J0cy5kZWZsYXRlRW5kID0gZGVmbGF0ZUVuZDtcbmV4cG9ydHMuZGVmbGF0ZVNldERpY3Rpb25hcnkgPSBkZWZsYXRlU2V0RGljdGlvbmFyeTtcbmV4cG9ydHMuZGVmbGF0ZUluZm8gPSAncGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSc7XG5cbi8qIE5vdCBpbXBsZW1lbnRlZFxuZXhwb3J0cy5kZWZsYXRlQm91bmQgPSBkZWZsYXRlQm91bmQ7XG5leHBvcnRzLmRlZmxhdGVDb3B5ID0gZGVmbGF0ZUNvcHk7XG5leHBvcnRzLmRlZmxhdGVQYXJhbXMgPSBkZWZsYXRlUGFyYW1zO1xuZXhwb3J0cy5kZWZsYXRlUGVuZGluZyA9IGRlZmxhdGVQZW5kaW5nO1xuZXhwb3J0cy5kZWZsYXRlUHJpbWUgPSBkZWZsYXRlUHJpbWU7XG5leHBvcnRzLmRlZmxhdGVUdW5lID0gZGVmbGF0ZVR1bmU7XG4qL1xuIiwgIi8vIFN0cmluZyBlbmNvZGUvZGVjb2RlIGhlbHBlcnNcbid1c2Ugc3RyaWN0JztcblxuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL2NvbW1vbicpO1xuXG5cbi8vIFF1aWNrIGNoZWNrIGlmIHdlIGNhbiB1c2UgZmFzdCBhcnJheSB0byBiaW4gc3RyaW5nIGNvbnZlcnNpb25cbi8vXG4vLyAtIGFwcGx5KEFycmF5KSBjYW4gZmFpbCBvbiBBbmRyb2lkIDIuMlxuLy8gLSBhcHBseShVaW50OEFycmF5KSBjYW4gZmFpbCBvbiBpT1MgNS4xIFNhZmFyaVxuLy9cbnZhciBTVFJfQVBQTFlfT0sgPSB0cnVlO1xudmFyIFNUUl9BUFBMWV9VSUFfT0sgPSB0cnVlO1xuXG50cnkgeyBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIFsgMCBdKTsgfSBjYXRjaCAoX18pIHsgU1RSX0FQUExZX09LID0gZmFsc2U7IH1cbnRyeSB7IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoMSkpOyB9IGNhdGNoIChfXykgeyBTVFJfQVBQTFlfVUlBX09LID0gZmFsc2U7IH1cblxuXG4vLyBUYWJsZSB3aXRoIHV0ZjggbGVuZ3RocyAoY2FsY3VsYXRlZCBieSBmaXJzdCBieXRlIG9mIHNlcXVlbmNlKVxuLy8gTm90ZSwgdGhhdCA1ICYgNi1ieXRlIHZhbHVlcyBhbmQgc29tZSA0LWJ5dGUgdmFsdWVzIGNhbiBub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlMsXG4vLyBiZWNhdXNlIG1heCBwb3NzaWJsZSBjb2RlcG9pbnQgaXMgMHgxMGZmZmZcbnZhciBfdXRmOGxlbiA9IG5ldyB1dGlscy5CdWY4KDI1Nik7XG5mb3IgKHZhciBxID0gMDsgcSA8IDI1NjsgcSsrKSB7XG4gIF91dGY4bGVuW3FdID0gKHEgPj0gMjUyID8gNiA6IHEgPj0gMjQ4ID8gNSA6IHEgPj0gMjQwID8gNCA6IHEgPj0gMjI0ID8gMyA6IHEgPj0gMTkyID8gMiA6IDEpO1xufVxuX3V0ZjhsZW5bMjU0XSA9IF91dGY4bGVuWzI1NF0gPSAxOyAvLyBJbnZhbGlkIHNlcXVlbmNlIHN0YXJ0XG5cblxuLy8gY29udmVydCBzdHJpbmcgdG8gYXJyYXkgKHR5cGVkLCB3aGVuIHBvc3NpYmxlKVxuZXhwb3J0cy5zdHJpbmcyYnVmID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgYnVmLCBjLCBjMiwgbV9wb3MsIGksIHN0cl9sZW4gPSBzdHIubGVuZ3RoLCBidWZfbGVuID0gMDtcblxuICAvLyBjb3VudCBiaW5hcnkgc2l6ZVxuICBmb3IgKG1fcG9zID0gMDsgbV9wb3MgPCBzdHJfbGVuOyBtX3BvcysrKSB7XG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zKTtcbiAgICBpZiAoKGMgJiAweGZjMDApID09PSAweGQ4MDAgJiYgKG1fcG9zICsgMSA8IHN0cl9sZW4pKSB7XG4gICAgICBjMiA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zICsgMSk7XG4gICAgICBpZiAoKGMyICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgIGMgPSAweDEwMDAwICsgKChjIC0gMHhkODAwKSA8PCAxMCkgKyAoYzIgLSAweGRjMDApO1xuICAgICAgICBtX3BvcysrO1xuICAgICAgfVxuICAgIH1cbiAgICBidWZfbGVuICs9IGMgPCAweDgwID8gMSA6IGMgPCAweDgwMCA/IDIgOiBjIDwgMHgxMDAwMCA/IDMgOiA0O1xuICB9XG5cbiAgLy8gYWxsb2NhdGUgYnVmZmVyXG4gIGJ1ZiA9IG5ldyB1dGlscy5CdWY4KGJ1Zl9sZW4pO1xuXG4gIC8vIGNvbnZlcnRcbiAgZm9yIChpID0gMCwgbV9wb3MgPSAwOyBpIDwgYnVmX2xlbjsgbV9wb3MrKykge1xuICAgIGMgPSBzdHIuY2hhckNvZGVBdChtX3Bvcyk7XG4gICAgaWYgKChjICYgMHhmYzAwKSA9PT0gMHhkODAwICYmIChtX3BvcyArIDEgPCBzdHJfbGVuKSkge1xuICAgICAgYzIgPSBzdHIuY2hhckNvZGVBdChtX3BvcyArIDEpO1xuICAgICAgaWYgKChjMiAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xuICAgICAgICBjID0gMHgxMDAwMCArICgoYyAtIDB4ZDgwMCkgPDwgMTApICsgKGMyIC0gMHhkYzAwKTtcbiAgICAgICAgbV9wb3MrKztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAvKiBvbmUgYnl0ZSAqL1xuICAgICAgYnVmW2krK10gPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAvKiB0d28gYnl0ZXMgKi9cbiAgICAgIGJ1ZltpKytdID0gMHhDMCB8IChjID4+PiA2KTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjICYgMHgzZik7XG4gICAgfSBlbHNlIGlmIChjIDwgMHgxMDAwMCkge1xuICAgICAgLyogdGhyZWUgYnl0ZXMgKi9cbiAgICAgIGJ1ZltpKytdID0gMHhFMCB8IChjID4+PiAxMik7XG4gICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyA+Pj4gNiAmIDB4M2YpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgJiAweDNmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogZm91ciBieXRlcyAqL1xuICAgICAgYnVmW2krK10gPSAweGYwIHwgKGMgPj4+IDE4KTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjID4+PiAxMiAmIDB4M2YpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgPj4+IDYgJiAweDNmKTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjICYgMHgzZik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1Zjtcbn07XG5cbi8vIEhlbHBlciAodXNlZCBpbiAyIHBsYWNlcylcbmZ1bmN0aW9uIGJ1ZjJiaW5zdHJpbmcoYnVmLCBsZW4pIHtcbiAgLy8gT24gQ2hyb21lLCB0aGUgYXJndW1lbnRzIGluIGEgZnVuY3Rpb24gY2FsbCB0aGF0IGFyZSBhbGxvd2VkIGlzIGA2NTUzNGAuXG4gIC8vIElmIHRoZSBsZW5ndGggb2YgdGhlIGJ1ZmZlciBpcyBzbWFsbGVyIHRoYW4gdGhhdCwgd2UgY2FuIHVzZSB0aGlzIG9wdGltaXphdGlvbixcbiAgLy8gb3RoZXJ3aXNlIHdlIHdpbGwgdGFrZSBhIHNsb3dlciBwYXRoLlxuICBpZiAobGVuIDwgNjU1MzQpIHtcbiAgICBpZiAoKGJ1Zi5zdWJhcnJheSAmJiBTVFJfQVBQTFlfVUlBX09LKSB8fCAoIWJ1Zi5zdWJhcnJheSAmJiBTVFJfQVBQTFlfT0spKSB7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCB1dGlscy5zaHJpbmtCdWYoYnVmLCBsZW4pKTtcbiAgICB9XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gJyc7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLy8gQ29udmVydCBieXRlIGFycmF5IHRvIGJpbmFyeSBzdHJpbmdcbmV4cG9ydHMuYnVmMmJpbnN0cmluZyA9IGZ1bmN0aW9uIChidWYpIHtcbiAgcmV0dXJuIGJ1ZjJiaW5zdHJpbmcoYnVmLCBidWYubGVuZ3RoKTtcbn07XG5cblxuLy8gQ29udmVydCBiaW5hcnkgc3RyaW5nICh0eXBlZCwgd2hlbiBwb3NzaWJsZSlcbmV4cG9ydHMuYmluc3RyaW5nMmJ1ZiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIGJ1ZiA9IG5ldyB1dGlscy5CdWY4KHN0ci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYnVmW2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgcmV0dXJuIGJ1Zjtcbn07XG5cblxuLy8gY29udmVydCBhcnJheSB0byBzdHJpbmdcbmV4cG9ydHMuYnVmMnN0cmluZyA9IGZ1bmN0aW9uIChidWYsIG1heCkge1xuICB2YXIgaSwgb3V0LCBjLCBjX2xlbjtcbiAgdmFyIGxlbiA9IG1heCB8fCBidWYubGVuZ3RoO1xuXG4gIC8vIFJlc2VydmUgbWF4IHBvc3NpYmxlIGxlbmd0aCAoMiB3b3JkcyBwZXIgY2hhcilcbiAgLy8gTkI6IGJ5IHVua25vd24gcmVhc29ucywgQXJyYXkgaXMgc2lnbmlmaWNhbnRseSBmYXN0ZXIgZm9yXG4gIC8vICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5IHRoYW4gVWludDE2QXJyYXkuXG4gIHZhciB1dGYxNmJ1ZiA9IG5ldyBBcnJheShsZW4gKiAyKTtcblxuICBmb3IgKG91dCA9IDAsIGkgPSAwOyBpIDwgbGVuOykge1xuICAgIGMgPSBidWZbaSsrXTtcbiAgICAvLyBxdWljayBwcm9jZXNzIGFzY2lpXG4gICAgaWYgKGMgPCAweDgwKSB7IHV0ZjE2YnVmW291dCsrXSA9IGM7IGNvbnRpbnVlOyB9XG5cbiAgICBjX2xlbiA9IF91dGY4bGVuW2NdO1xuICAgIC8vIHNraXAgNSAmIDYgYnl0ZSBjb2Rlc1xuICAgIGlmIChjX2xlbiA+IDQpIHsgdXRmMTZidWZbb3V0KytdID0gMHhmZmZkOyBpICs9IGNfbGVuIC0gMTsgY29udGludWU7IH1cblxuICAgIC8vIGFwcGx5IG1hc2sgb24gZmlyc3QgYnl0ZVxuICAgIGMgJj0gY19sZW4gPT09IDIgPyAweDFmIDogY19sZW4gPT09IDMgPyAweDBmIDogMHgwNztcbiAgICAvLyBqb2luIHRoZSByZXN0XG4gICAgd2hpbGUgKGNfbGVuID4gMSAmJiBpIDwgbGVuKSB7XG4gICAgICBjID0gKGMgPDwgNikgfCAoYnVmW2krK10gJiAweDNmKTtcbiAgICAgIGNfbGVuLS07XG4gICAgfVxuXG4gICAgLy8gdGVybWluYXRlZCBieSBlbmQgb2Ygc3RyaW5nP1xuICAgIGlmIChjX2xlbiA+IDEpIHsgdXRmMTZidWZbb3V0KytdID0gMHhmZmZkOyBjb250aW51ZTsgfVxuXG4gICAgaWYgKGMgPCAweDEwMDAwKSB7XG4gICAgICB1dGYxNmJ1ZltvdXQrK10gPSBjO1xuICAgIH0gZWxzZSB7XG4gICAgICBjIC09IDB4MTAwMDA7XG4gICAgICB1dGYxNmJ1ZltvdXQrK10gPSAweGQ4MDAgfCAoKGMgPj4gMTApICYgMHgzZmYpO1xuICAgICAgdXRmMTZidWZbb3V0KytdID0gMHhkYzAwIHwgKGMgJiAweDNmZik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZjJiaW5zdHJpbmcodXRmMTZidWYsIG91dCk7XG59O1xuXG5cbi8vIENhbGN1bGF0ZSBtYXggcG9zc2libGUgcG9zaXRpb24gaW4gdXRmOCBidWZmZXIsXG4vLyB0aGF0IHdpbGwgbm90IGJyZWFrIHNlcXVlbmNlLiBJZiB0aGF0J3Mgbm90IHBvc3NpYmxlXG4vLyAtICh2ZXJ5IHNtYWxsIGxpbWl0cykgcmV0dXJuIG1heCBzaXplIGFzIGlzLlxuLy9cbi8vIGJ1ZltdIC0gdXRmOCBieXRlcyBhcnJheVxuLy8gbWF4ICAgLSBsZW5ndGggbGltaXQgKG1hbmRhdG9yeSk7XG5leHBvcnRzLnV0Zjhib3JkZXIgPSBmdW5jdGlvbiAoYnVmLCBtYXgpIHtcbiAgdmFyIHBvcztcblxuICBtYXggPSBtYXggfHwgYnVmLmxlbmd0aDtcbiAgaWYgKG1heCA+IGJ1Zi5sZW5ndGgpIHsgbWF4ID0gYnVmLmxlbmd0aDsgfVxuXG4gIC8vIGdvIGJhY2sgZnJvbSBsYXN0IHBvc2l0aW9uLCB1bnRpbCBzdGFydCBvZiBzZXF1ZW5jZSBmb3VuZFxuICBwb3MgPSBtYXggLSAxO1xuICB3aGlsZSAocG9zID49IDAgJiYgKGJ1Zltwb3NdICYgMHhDMCkgPT09IDB4ODApIHsgcG9zLS07IH1cblxuICAvLyBWZXJ5IHNtYWxsIGFuZCBicm9rZW4gc2VxdWVuY2UsXG4gIC8vIHJldHVybiBtYXgsIGJlY2F1c2Ugd2Ugc2hvdWxkIHJldHVybiBzb21ldGhpbmcgYW55d2F5LlxuICBpZiAocG9zIDwgMCkgeyByZXR1cm4gbWF4OyB9XG5cbiAgLy8gSWYgd2UgY2FtZSB0byBzdGFydCBvZiBidWZmZXIgLSB0aGF0IG1lYW5zIGJ1ZmZlciBpcyB0b28gc21hbGwsXG4gIC8vIHJldHVybiBtYXggdG9vLlxuICBpZiAocG9zID09PSAwKSB7IHJldHVybiBtYXg7IH1cblxuICByZXR1cm4gKHBvcyArIF91dGY4bGVuW2J1Zltwb3NdXSA+IG1heCkgPyBwb3MgOiBtYXg7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG5mdW5jdGlvbiBaU3RyZWFtKCkge1xuICAvKiBuZXh0IGlucHV0IGJ5dGUgKi9cbiAgdGhpcy5pbnB1dCA9IG51bGw7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcbiAgdGhpcy5uZXh0X2luID0gMDtcbiAgLyogbnVtYmVyIG9mIGJ5dGVzIGF2YWlsYWJsZSBhdCBpbnB1dCAqL1xuICB0aGlzLmF2YWlsX2luID0gMDtcbiAgLyogdG90YWwgbnVtYmVyIG9mIGlucHV0IGJ5dGVzIHJlYWQgc28gZmFyICovXG4gIHRoaXMudG90YWxfaW4gPSAwO1xuICAvKiBuZXh0IG91dHB1dCBieXRlIHNob3VsZCBiZSBwdXQgdGhlcmUgKi9cbiAgdGhpcy5vdXRwdXQgPSBudWxsOyAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG4gIHRoaXMubmV4dF9vdXQgPSAwO1xuICAvKiByZW1haW5pbmcgZnJlZSBzcGFjZSBhdCBvdXRwdXQgKi9cbiAgdGhpcy5hdmFpbF9vdXQgPSAwO1xuICAvKiB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgb3V0cHV0IHNvIGZhciAqL1xuICB0aGlzLnRvdGFsX291dCA9IDA7XG4gIC8qIGxhc3QgZXJyb3IgbWVzc2FnZSwgTlVMTCBpZiBubyBlcnJvciAqL1xuICB0aGlzLm1zZyA9ICcnLypaX05VTEwqLztcbiAgLyogbm90IHZpc2libGUgYnkgYXBwbGljYXRpb25zICovXG4gIHRoaXMuc3RhdGUgPSBudWxsO1xuICAvKiBiZXN0IGd1ZXNzIGFib3V0IHRoZSBkYXRhIHR5cGU6IGJpbmFyeSBvciB0ZXh0ICovXG4gIHRoaXMuZGF0YV90eXBlID0gMi8qWl9VTktOT1dOKi87XG4gIC8qIGFkbGVyMzIgdmFsdWUgb2YgdGhlIHVuY29tcHJlc3NlZCBkYXRhICovXG4gIHRoaXMuYWRsZXIgPSAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFpTdHJlYW07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciB6bGliX2RlZmxhdGUgPSByZXF1aXJlKCcuL3psaWIvZGVmbGF0ZScpO1xudmFyIHV0aWxzICAgICAgICA9IHJlcXVpcmUoJy4vdXRpbHMvY29tbW9uJyk7XG52YXIgc3RyaW5ncyAgICAgID0gcmVxdWlyZSgnLi91dGlscy9zdHJpbmdzJyk7XG52YXIgbXNnICAgICAgICAgID0gcmVxdWlyZSgnLi96bGliL21lc3NhZ2VzJyk7XG52YXIgWlN0cmVhbSAgICAgID0gcmVxdWlyZSgnLi96bGliL3pzdHJlYW0nKTtcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbnZhciBaX05PX0ZMVVNIICAgICAgPSAwO1xudmFyIFpfRklOSVNIICAgICAgICA9IDQ7XG5cbnZhciBaX09LICAgICAgICAgICAgPSAwO1xudmFyIFpfU1RSRUFNX0VORCAgICA9IDE7XG52YXIgWl9TWU5DX0ZMVVNIICAgID0gMjtcblxudmFyIFpfREVGQVVMVF9DT01QUkVTU0lPTiA9IC0xO1xuXG52YXIgWl9ERUZBVUxUX1NUUkFURUdZICAgID0gMDtcblxudmFyIFpfREVGTEFURUQgID0gODtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vKipcbiAqIGNsYXNzIERlZmxhdGVcbiAqXG4gKiBHZW5lcmljIEpTLXN0eWxlIHdyYXBwZXIgZm9yIHpsaWIgY2FsbHMuIElmIHlvdSBkb24ndCBuZWVkXG4gKiBzdHJlYW1pbmcgYmVoYXZpb3VyIC0gdXNlIG1vcmUgc2ltcGxlIGZ1bmN0aW9uczogW1tkZWZsYXRlXV0sXG4gKiBbW2RlZmxhdGVSYXddXSBhbmQgW1tnemlwXV0uXG4gKiovXG5cbi8qIGludGVybmFsXG4gKiBEZWZsYXRlLmNodW5rcyAtPiBBcnJheVxuICpcbiAqIENodW5rcyBvZiBvdXRwdXQgZGF0YSwgaWYgW1tEZWZsYXRlI29uRGF0YV1dIG5vdCBvdmVycmlkZGVuLlxuICoqL1xuXG4vKipcbiAqIERlZmxhdGUucmVzdWx0IC0+IFVpbnQ4QXJyYXl8QXJyYXlcbiAqXG4gKiBDb21wcmVzc2VkIHJlc3VsdCwgZ2VuZXJhdGVkIGJ5IGRlZmF1bHQgW1tEZWZsYXRlI29uRGF0YV1dXG4gKiBhbmQgW1tEZWZsYXRlI29uRW5kXV0gaGFuZGxlcnMuIEZpbGxlZCBhZnRlciB5b3UgcHVzaCBsYXN0IGNodW5rXG4gKiAoY2FsbCBbW0RlZmxhdGUjcHVzaF1dIHdpdGggYFpfRklOSVNIYCAvIGB0cnVlYCBwYXJhbSkgIG9yIGlmIHlvdVxuICogcHVzaCBhIGNodW5rIHdpdGggZXhwbGljaXQgZmx1c2ggKGNhbGwgW1tEZWZsYXRlI3B1c2hdXSB3aXRoXG4gKiBgWl9TWU5DX0ZMVVNIYCBwYXJhbSkuXG4gKiovXG5cbi8qKlxuICogRGVmbGF0ZS5lcnIgLT4gTnVtYmVyXG4gKlxuICogRXJyb3IgY29kZSBhZnRlciBkZWZsYXRlIGZpbmlzaGVkLiAwIChaX09LKSBvbiBzdWNjZXNzLlxuICogWW91IHdpbGwgbm90IG5lZWQgaXQgaW4gcmVhbCBsaWZlLCBiZWNhdXNlIGRlZmxhdGUgZXJyb3JzXG4gKiBhcmUgcG9zc2libGUgb25seSBvbiB3cm9uZyBvcHRpb25zIG9yIGJhZCBgb25EYXRhYCAvIGBvbkVuZGBcbiAqIGN1c3RvbSBoYW5kbGVycy5cbiAqKi9cblxuLyoqXG4gKiBEZWZsYXRlLm1zZyAtPiBTdHJpbmdcbiAqXG4gKiBFcnJvciBtZXNzYWdlLCBpZiBbW0RlZmxhdGUuZXJyXV0gIT0gMFxuICoqL1xuXG5cbi8qKlxuICogbmV3IERlZmxhdGUob3B0aW9ucylcbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gKlxuICogQ3JlYXRlcyBuZXcgZGVmbGF0b3IgaW5zdGFuY2Ugd2l0aCBzcGVjaWZpZWQgcGFyYW1zLiBUaHJvd3MgZXhjZXB0aW9uXG4gKiBvbiBiYWQgcGFyYW1zLiBTdXBwb3J0ZWQgb3B0aW9uczpcbiAqXG4gKiAtIGBsZXZlbGBcbiAqIC0gYHdpbmRvd0JpdHNgXG4gKiAtIGBtZW1MZXZlbGBcbiAqIC0gYHN0cmF0ZWd5YFxuICogLSBgZGljdGlvbmFyeWBcbiAqXG4gKiBbaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkXShodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWQpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGVzZS5cbiAqXG4gKiBBZGRpdGlvbmFsIG9wdGlvbnMsIGZvciBpbnRlcm5hbCBuZWVkczpcbiAqXG4gKiAtIGBjaHVua1NpemVgIC0gc2l6ZSBvZiBnZW5lcmF0ZWQgZGF0YSBjaHVua3MgKDE2SyBieSBkZWZhdWx0KVxuICogLSBgcmF3YCAoQm9vbGVhbikgLSBkbyByYXcgZGVmbGF0ZVxuICogLSBgZ3ppcGAgKEJvb2xlYW4pIC0gY3JlYXRlIGd6aXAgd3JhcHBlclxuICogLSBgdG9gIChTdHJpbmcpIC0gaWYgZXF1YWwgdG8gJ3N0cmluZycsIHRoZW4gcmVzdWx0IHdpbGwgYmUgXCJiaW5hcnkgc3RyaW5nXCJcbiAqICAgIChlYWNoIGNoYXIgY29kZSBbMC4uMjU1XSlcbiAqIC0gYGhlYWRlcmAgKE9iamVjdCkgLSBjdXN0b20gaGVhZGVyIGZvciBnemlwXG4gKiAgIC0gYHRleHRgIChCb29sZWFuKSAtIHRydWUgaWYgY29tcHJlc3NlZCBkYXRhIGJlbGlldmVkIHRvIGJlIHRleHRcbiAqICAgLSBgdGltZWAgKE51bWJlcikgLSBtb2RpZmljYXRpb24gdGltZSwgdW5peCB0aW1lc3RhbXBcbiAqICAgLSBgb3NgIChOdW1iZXIpIC0gb3BlcmF0aW9uIHN5c3RlbSBjb2RlXG4gKiAgIC0gYGV4dHJhYCAoQXJyYXkpIC0gYXJyYXkgb2YgYnl0ZXMgd2l0aCBleHRyYSBkYXRhIChtYXggNjU1MzYpXG4gKiAgIC0gYG5hbWVgIChTdHJpbmcpIC0gZmlsZSBuYW1lIChiaW5hcnkgc3RyaW5nKVxuICogICAtIGBjb21tZW50YCAoU3RyaW5nKSAtIGNvbW1lbnQgKGJpbmFyeSBzdHJpbmcpXG4gKiAgIC0gYGhjcmNgIChCb29sZWFuKSAtIHRydWUgaWYgaGVhZGVyIGNyYyBzaG91bGQgYmUgYWRkZWRcbiAqXG4gKiAjIyMjIyBFeGFtcGxlOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHZhciBwYWtvID0gcmVxdWlyZSgncGFrbycpXG4gKiAgICwgY2h1bmsxID0gVWludDhBcnJheShbMSwyLDMsNCw1LDYsNyw4LDldKVxuICogICAsIGNodW5rMiA9IFVpbnQ4QXJyYXkoWzEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5XSk7XG4gKlxuICogdmFyIGRlZmxhdGUgPSBuZXcgcGFrby5EZWZsYXRlKHsgbGV2ZWw6IDN9KTtcbiAqXG4gKiBkZWZsYXRlLnB1c2goY2h1bmsxLCBmYWxzZSk7XG4gKiBkZWZsYXRlLnB1c2goY2h1bmsyLCB0cnVlKTsgIC8vIHRydWUgLT4gbGFzdCBjaHVua1xuICpcbiAqIGlmIChkZWZsYXRlLmVycikgeyB0aHJvdyBuZXcgRXJyb3IoZGVmbGF0ZS5lcnIpOyB9XG4gKlxuICogY29uc29sZS5sb2coZGVmbGF0ZS5yZXN1bHQpO1xuICogYGBgXG4gKiovXG5mdW5jdGlvbiBEZWZsYXRlKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERlZmxhdGUpKSByZXR1cm4gbmV3IERlZmxhdGUob3B0aW9ucyk7XG5cbiAgdGhpcy5vcHRpb25zID0gdXRpbHMuYXNzaWduKHtcbiAgICBsZXZlbDogWl9ERUZBVUxUX0NPTVBSRVNTSU9OLFxuICAgIG1ldGhvZDogWl9ERUZMQVRFRCxcbiAgICBjaHVua1NpemU6IDE2Mzg0LFxuICAgIHdpbmRvd0JpdHM6IDE1LFxuICAgIG1lbUxldmVsOiA4LFxuICAgIHN0cmF0ZWd5OiBaX0RFRkFVTFRfU1RSQVRFR1ksXG4gICAgdG86ICcnXG4gIH0sIG9wdGlvbnMgfHwge30pO1xuXG4gIHZhciBvcHQgPSB0aGlzLm9wdGlvbnM7XG5cbiAgaWYgKG9wdC5yYXcgJiYgKG9wdC53aW5kb3dCaXRzID4gMCkpIHtcbiAgICBvcHQud2luZG93Qml0cyA9IC1vcHQud2luZG93Qml0cztcbiAgfVxuXG4gIGVsc2UgaWYgKG9wdC5nemlwICYmIChvcHQud2luZG93Qml0cyA+IDApICYmIChvcHQud2luZG93Qml0cyA8IDE2KSkge1xuICAgIG9wdC53aW5kb3dCaXRzICs9IDE2O1xuICB9XG5cbiAgdGhpcy5lcnIgICAgPSAwOyAgICAgIC8vIGVycm9yIGNvZGUsIGlmIGhhcHBlbnMgKDAgPSBaX09LKVxuICB0aGlzLm1zZyAgICA9ICcnOyAgICAgLy8gZXJyb3IgbWVzc2FnZVxuICB0aGlzLmVuZGVkICA9IGZhbHNlOyAgLy8gdXNlZCB0byBhdm9pZCBtdWx0aXBsZSBvbkVuZCgpIGNhbGxzXG4gIHRoaXMuY2h1bmtzID0gW107ICAgICAvLyBjaHVua3Mgb2YgY29tcHJlc3NlZCBkYXRhXG5cbiAgdGhpcy5zdHJtID0gbmV3IFpTdHJlYW0oKTtcbiAgdGhpcy5zdHJtLmF2YWlsX291dCA9IDA7XG5cbiAgdmFyIHN0YXR1cyA9IHpsaWJfZGVmbGF0ZS5kZWZsYXRlSW5pdDIoXG4gICAgdGhpcy5zdHJtLFxuICAgIG9wdC5sZXZlbCxcbiAgICBvcHQubWV0aG9kLFxuICAgIG9wdC53aW5kb3dCaXRzLFxuICAgIG9wdC5tZW1MZXZlbCxcbiAgICBvcHQuc3RyYXRlZ3lcbiAgKTtcblxuICBpZiAoc3RhdHVzICE9PSBaX09LKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZ1tzdGF0dXNdKTtcbiAgfVxuXG4gIGlmIChvcHQuaGVhZGVyKSB7XG4gICAgemxpYl9kZWZsYXRlLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLCBvcHQuaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChvcHQuZGljdGlvbmFyeSkge1xuICAgIHZhciBkaWN0O1xuICAgIC8vIENvbnZlcnQgZGF0YSBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIG9wdC5kaWN0aW9uYXJ5ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gSWYgd2UgbmVlZCB0byBjb21wcmVzcyB0ZXh0LCBjaGFuZ2UgZW5jb2RpbmcgdG8gdXRmOC5cbiAgICAgIGRpY3QgPSBzdHJpbmdzLnN0cmluZzJidWYob3B0LmRpY3Rpb25hcnkpO1xuICAgIH0gZWxzZSBpZiAodG9TdHJpbmcuY2FsbChvcHQuZGljdGlvbmFyeSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICAgIGRpY3QgPSBuZXcgVWludDhBcnJheShvcHQuZGljdGlvbmFyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpY3QgPSBvcHQuZGljdGlvbmFyeTtcbiAgICB9XG5cbiAgICBzdGF0dXMgPSB6bGliX2RlZmxhdGUuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLCBkaWN0KTtcblxuICAgIGlmIChzdGF0dXMgIT09IFpfT0spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSk7XG4gICAgfVxuXG4gICAgdGhpcy5fZGljdF9zZXQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogRGVmbGF0ZSNwdXNoKGRhdGFbLCBtb2RlXSkgLT4gQm9vbGVhblxuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5fEFycmF5QnVmZmVyfFN0cmluZyk6IGlucHV0IGRhdGEuIFN0cmluZ3Mgd2lsbCBiZVxuICogICBjb252ZXJ0ZWQgdG8gdXRmOCBieXRlIHNlcXVlbmNlLlxuICogLSBtb2RlIChOdW1iZXJ8Qm9vbGVhbik6IDAuLjYgZm9yIGNvcnJlc3BvbmRpbmcgWl9OT19GTFVTSC4uWl9UUkVFIG1vZGVzLlxuICogICBTZWUgY29uc3RhbnRzLiBTa2lwcGVkIG9yIGBmYWxzZWAgbWVhbnMgWl9OT19GTFVTSCwgYHRydWVgIG1lYW5zIFpfRklOSVNILlxuICpcbiAqIFNlbmRzIGlucHV0IGRhdGEgdG8gZGVmbGF0ZSBwaXBlLCBnZW5lcmF0aW5nIFtbRGVmbGF0ZSNvbkRhdGFdXSBjYWxscyB3aXRoXG4gKiBuZXcgY29tcHJlc3NlZCBjaHVua3MuIFJldHVybnMgYHRydWVgIG9uIHN1Y2Nlc3MuIFRoZSBsYXN0IGRhdGEgYmxvY2sgbXVzdCBoYXZlXG4gKiBtb2RlIFpfRklOSVNIIChvciBgdHJ1ZWApLiBUaGF0IHdpbGwgZmx1c2ggaW50ZXJuYWwgcGVuZGluZyBidWZmZXJzIGFuZCBjYWxsXG4gKiBbW0RlZmxhdGUjb25FbmRdXS4gRm9yIGludGVyaW0gZXhwbGljaXQgZmx1c2hlcyAod2l0aG91dCBlbmRpbmcgdGhlIHN0cmVhbSkgeW91XG4gKiBjYW4gdXNlIG1vZGUgWl9TWU5DX0ZMVVNILCBrZWVwaW5nIHRoZSBjb21wcmVzc2lvbiBjb250ZXh0LlxuICpcbiAqIE9uIGZhaWwgY2FsbCBbW0RlZmxhdGUjb25FbmRdXSB3aXRoIGVycm9yIGNvZGUgYW5kIHJldHVybiBmYWxzZS5cbiAqXG4gKiBXZSBzdHJvbmdseSByZWNvbW1lbmQgdG8gdXNlIGBVaW50OEFycmF5YCBvbiBpbnB1dCBmb3IgYmVzdCBzcGVlZCAob3V0cHV0XG4gKiBhcnJheSBmb3JtYXQgaXMgZGV0ZWN0ZWQgYXV0b21hdGljYWxseSkuIEFsc28sIGRvbid0IHNraXAgbGFzdCBwYXJhbSBhbmQgYWx3YXlzXG4gKiB1c2UgdGhlIHNhbWUgdHlwZSBpbiB5b3VyIGNvZGUgKGJvb2xlYW4gb3IgbnVtYmVyKS4gVGhhdCB3aWxsIGltcHJvdmUgSlMgc3BlZWQuXG4gKlxuICogRm9yIHJlZ3VsYXIgYEFycmF5YC1zIG1ha2Ugc3VyZSBhbGwgZWxlbWVudHMgYXJlIFswLi4yNTVdLlxuICpcbiAqICMjIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBwdXNoKGNodW5rLCBmYWxzZSk7IC8vIHB1c2ggb25lIG9mIGRhdGEgY2h1bmtzXG4gKiAuLi5cbiAqIHB1c2goY2h1bmssIHRydWUpOyAgLy8gcHVzaCBsYXN0IGNodW5rXG4gKiBgYGBcbiAqKi9cbkRlZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgbW9kZSkge1xuICB2YXIgc3RybSA9IHRoaXMuc3RybTtcbiAgdmFyIGNodW5rU2l6ZSA9IHRoaXMub3B0aW9ucy5jaHVua1NpemU7XG4gIHZhciBzdGF0dXMsIF9tb2RlO1xuXG4gIGlmICh0aGlzLmVuZGVkKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gIF9tb2RlID0gKG1vZGUgPT09IH5+bW9kZSkgPyBtb2RlIDogKChtb2RlID09PSB0cnVlKSA/IFpfRklOSVNIIDogWl9OT19GTFVTSCk7XG5cbiAgLy8gQ29udmVydCBkYXRhIGlmIG5lZWRlZFxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gSWYgd2UgbmVlZCB0byBjb21wcmVzcyB0ZXh0LCBjaGFuZ2UgZW5jb2RpbmcgdG8gdXRmOC5cbiAgICBzdHJtLmlucHV0ID0gc3RyaW5ncy5zdHJpbmcyYnVmKGRhdGEpO1xuICB9IGVsc2UgaWYgKHRvU3RyaW5nLmNhbGwoZGF0YSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICBzdHJtLmlucHV0ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgc3RybS5pbnB1dCA9IGRhdGE7XG4gIH1cblxuICBzdHJtLm5leHRfaW4gPSAwO1xuICBzdHJtLmF2YWlsX2luID0gc3RybS5pbnB1dC5sZW5ndGg7XG5cbiAgZG8ge1xuICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgc3RybS5vdXRwdXQgPSBuZXcgdXRpbHMuQnVmOChjaHVua1NpemUpO1xuICAgICAgc3RybS5uZXh0X291dCA9IDA7XG4gICAgICBzdHJtLmF2YWlsX291dCA9IGNodW5rU2l6ZTtcbiAgICB9XG4gICAgc3RhdHVzID0gemxpYl9kZWZsYXRlLmRlZmxhdGUoc3RybSwgX21vZGUpOyAgICAvKiBubyBiYWQgcmV0dXJuIHZhbHVlICovXG5cbiAgICBpZiAoc3RhdHVzICE9PSBaX1NUUkVBTV9FTkQgJiYgc3RhdHVzICE9PSBaX09LKSB7XG4gICAgICB0aGlzLm9uRW5kKHN0YXR1cyk7XG4gICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwIHx8IChzdHJtLmF2YWlsX2luID09PSAwICYmIChfbW9kZSA9PT0gWl9GSU5JU0ggfHwgX21vZGUgPT09IFpfU1lOQ19GTFVTSCkpKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnRvID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLm9uRGF0YShzdHJpbmdzLmJ1ZjJiaW5zdHJpbmcodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LCBzdHJtLm5leHRfb3V0KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vbkRhdGEodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LCBzdHJtLm5leHRfb3V0KSk7XG4gICAgICB9XG4gICAgfVxuICB9IHdoaWxlICgoc3RybS5hdmFpbF9pbiA+IDAgfHwgc3RybS5hdmFpbF9vdXQgPT09IDApICYmIHN0YXR1cyAhPT0gWl9TVFJFQU1fRU5EKTtcblxuICAvLyBGaW5hbGl6ZSBvbiB0aGUgbGFzdCBjaHVuay5cbiAgaWYgKF9tb2RlID09PSBaX0ZJTklTSCkge1xuICAgIHN0YXR1cyA9IHpsaWJfZGVmbGF0ZS5kZWZsYXRlRW5kKHRoaXMuc3RybSk7XG4gICAgdGhpcy5vbkVuZChzdGF0dXMpO1xuICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgIHJldHVybiBzdGF0dXMgPT09IFpfT0s7XG4gIH1cblxuICAvLyBjYWxsYmFjayBpbnRlcmltIHJlc3VsdHMgaWYgWl9TWU5DX0ZMVVNILlxuICBpZiAoX21vZGUgPT09IFpfU1lOQ19GTFVTSCkge1xuICAgIHRoaXMub25FbmQoWl9PSyk7XG4gICAgc3RybS5hdmFpbF9vdXQgPSAwO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKlxuICogRGVmbGF0ZSNvbkRhdGEoY2h1bmspIC0+IFZvaWRcbiAqIC0gY2h1bmsgKFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nKTogb3V0cHV0IGRhdGEuIFR5cGUgb2YgYXJyYXkgZGVwZW5kc1xuICogICBvbiBqcyBlbmdpbmUgc3VwcG9ydC4gV2hlbiBzdHJpbmcgb3V0cHV0IHJlcXVlc3RlZCwgZWFjaCBjaHVua1xuICogICB3aWxsIGJlIHN0cmluZy5cbiAqXG4gKiBCeSBkZWZhdWx0LCBzdG9yZXMgZGF0YSBibG9ja3MgaW4gYGNodW5rc1tdYCBwcm9wZXJ0eSBhbmQgZ2x1ZVxuICogdGhvc2UgaW4gYG9uRW5kYC4gT3ZlcnJpZGUgdGhpcyBoYW5kbGVyLCBpZiB5b3UgbmVlZCBhbm90aGVyIGJlaGF2aW91ci5cbiAqKi9cbkRlZmxhdGUucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uIChjaHVuaykge1xuICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKTtcbn07XG5cblxuLyoqXG4gKiBEZWZsYXRlI29uRW5kKHN0YXR1cykgLT4gVm9pZFxuICogLSBzdGF0dXMgKE51bWJlcik6IGRlZmxhdGUgc3RhdHVzLiAwIChaX09LKSBvbiBzdWNjZXNzLFxuICogICBvdGhlciBpZiBub3QuXG4gKlxuICogQ2FsbGVkIG9uY2UgYWZ0ZXIgeW91IHRlbGwgZGVmbGF0ZSB0aGF0IHRoZSBpbnB1dCBzdHJlYW0gaXNcbiAqIGNvbXBsZXRlIChaX0ZJTklTSCkgb3Igc2hvdWxkIGJlIGZsdXNoZWQgKFpfU1lOQ19GTFVTSClcbiAqIG9yIGlmIGFuIGVycm9yIGhhcHBlbmVkLiBCeSBkZWZhdWx0IC0gam9pbiBjb2xsZWN0ZWQgY2h1bmtzLFxuICogZnJlZSBtZW1vcnkgYW5kIGZpbGwgYHJlc3VsdHNgIC8gYGVycmAgcHJvcGVydGllcy5cbiAqKi9cbkRlZmxhdGUucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAvLyBPbiBzdWNjZXNzIC0gam9pblxuICBpZiAoc3RhdHVzID09PSBaX09LKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50byA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gdGhpcy5jaHVua3Muam9pbignJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gdXRpbHMuZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcyk7XG4gICAgfVxuICB9XG4gIHRoaXMuY2h1bmtzID0gW107XG4gIHRoaXMuZXJyID0gc3RhdHVzO1xuICB0aGlzLm1zZyA9IHRoaXMuc3RybS5tc2c7XG59O1xuXG5cbi8qKlxuICogZGVmbGF0ZShkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nKTogaW5wdXQgZGF0YSB0byBjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gKlxuICogQ29tcHJlc3MgYGRhdGFgIHdpdGggZGVmbGF0ZSBhbGdvcml0aG0gYW5kIGBvcHRpb25zYC5cbiAqXG4gKiBTdXBwb3J0ZWQgb3B0aW9ucyBhcmU6XG4gKlxuICogLSBsZXZlbFxuICogLSB3aW5kb3dCaXRzXG4gKiAtIG1lbUxldmVsXG4gKiAtIHN0cmF0ZWd5XG4gKiAtIGRpY3Rpb25hcnlcbiAqXG4gKiBbaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkXShodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWQpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGVzZS5cbiAqXG4gKiBTdWdhciAob3B0aW9ucyk6XG4gKlxuICogLSBgcmF3YCAoQm9vbGVhbikgLSBzYXkgdGhhdCB3ZSB3b3JrIHdpdGggcmF3IHN0cmVhbSwgaWYgeW91IGRvbid0IHdpc2ggdG8gc3BlY2lmeVxuICogICBuZWdhdGl2ZSB3aW5kb3dCaXRzIGltcGxpY2l0bHkuXG4gKiAtIGB0b2AgKFN0cmluZykgLSBpZiBlcXVhbCB0byAnc3RyaW5nJywgdGhlbiByZXN1bHQgd2lsbCBiZSBcImJpbmFyeSBzdHJpbmdcIlxuICogICAgKGVhY2ggY2hhciBjb2RlIFswLi4yNTVdKVxuICpcbiAqICMjIyMjIEV4YW1wbGU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogdmFyIHBha28gPSByZXF1aXJlKCdwYWtvJylcbiAqICAgLCBkYXRhID0gVWludDhBcnJheShbMSwyLDMsNCw1LDYsNyw4LDldKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhwYWtvLmRlZmxhdGUoZGF0YSkpO1xuICogYGBgXG4gKiovXG5mdW5jdGlvbiBkZWZsYXRlKGlucHV0LCBvcHRpb25zKSB7XG4gIHZhciBkZWZsYXRvciA9IG5ldyBEZWZsYXRlKG9wdGlvbnMpO1xuXG4gIGRlZmxhdG9yLnB1c2goaW5wdXQsIHRydWUpO1xuXG4gIC8vIFRoYXQgd2lsbCBuZXZlciBoYXBwZW5zLCBpZiB5b3UgZG9uJ3QgY2hlYXQgd2l0aCBvcHRpb25zIDopXG4gIGlmIChkZWZsYXRvci5lcnIpIHsgdGhyb3cgZGVmbGF0b3IubXNnIHx8IG1zZ1tkZWZsYXRvci5lcnJdOyB9XG5cbiAgcmV0dXJuIGRlZmxhdG9yLnJlc3VsdDtcbn1cblxuXG4vKipcbiAqIGRlZmxhdGVSYXcoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5fEFycmF5fFN0cmluZ1xuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5fFN0cmluZyk6IGlucHV0IGRhdGEgdG8gY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgZGVmbGF0ZSBvcHRpb25zLlxuICpcbiAqIFRoZSBzYW1lIGFzIFtbZGVmbGF0ZV1dLCBidXQgY3JlYXRlcyByYXcgZGF0YSwgd2l0aG91dCB3cmFwcGVyXG4gKiAoaGVhZGVyIGFuZCBhZGxlcjMyIGNyYykuXG4gKiovXG5mdW5jdGlvbiBkZWZsYXRlUmF3KGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLnJhdyA9IHRydWU7XG4gIHJldHVybiBkZWZsYXRlKGlucHV0LCBvcHRpb25zKTtcbn1cblxuXG4vKipcbiAqIGd6aXAoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5fEFycmF5fFN0cmluZ1xuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5fFN0cmluZyk6IGlucHV0IGRhdGEgdG8gY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgZGVmbGF0ZSBvcHRpb25zLlxuICpcbiAqIFRoZSBzYW1lIGFzIFtbZGVmbGF0ZV1dLCBidXQgY3JlYXRlIGd6aXAgd3JhcHBlciBpbnN0ZWFkIG9mXG4gKiBkZWZsYXRlIG9uZS5cbiAqKi9cbmZ1bmN0aW9uIGd6aXAoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMuZ3ppcCA9IHRydWU7XG4gIHJldHVybiBkZWZsYXRlKGlucHV0LCBvcHRpb25zKTtcbn1cblxuXG5leHBvcnRzLkRlZmxhdGUgPSBEZWZsYXRlO1xuZXhwb3J0cy5kZWZsYXRlID0gZGVmbGF0ZTtcbmV4cG9ydHMuZGVmbGF0ZVJhdyA9IGRlZmxhdGVSYXc7XG5leHBvcnRzLmd6aXAgPSBnemlwO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG4vLyBTZWUgc3RhdGUgZGVmcyBmcm9tIGluZmxhdGUuanNcbnZhciBCQUQgPSAzMDsgICAgICAgLyogZ290IGEgZGF0YSBlcnJvciAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xudmFyIFRZUEUgPSAxMjsgICAgICAvKiBpOiB3YWl0aW5nIGZvciB0eXBlIGJpdHMsIGluY2x1ZGluZyBsYXN0LWZsYWcgYml0ICovXG5cbi8qXG4gICBEZWNvZGUgbGl0ZXJhbCwgbGVuZ3RoLCBhbmQgZGlzdGFuY2UgY29kZXMgYW5kIHdyaXRlIG91dCB0aGUgcmVzdWx0aW5nXG4gICBsaXRlcmFsIGFuZCBtYXRjaCBieXRlcyB1bnRpbCBlaXRoZXIgbm90IGVub3VnaCBpbnB1dCBvciBvdXRwdXQgaXNcbiAgIGF2YWlsYWJsZSwgYW4gZW5kLW9mLWJsb2NrIGlzIGVuY291bnRlcmVkLCBvciBhIGRhdGEgZXJyb3IgaXMgZW5jb3VudGVyZWQuXG4gICBXaGVuIGxhcmdlIGVub3VnaCBpbnB1dCBhbmQgb3V0cHV0IGJ1ZmZlcnMgYXJlIHN1cHBsaWVkIHRvIGluZmxhdGUoKSwgZm9yXG4gICBleGFtcGxlLCBhIDE2SyBpbnB1dCBidWZmZXIgYW5kIGEgNjRLIG91dHB1dCBidWZmZXIsIG1vcmUgdGhhbiA5NSUgb2YgdGhlXG4gICBpbmZsYXRlIGV4ZWN1dGlvbiB0aW1lIGlzIHNwZW50IGluIHRoaXMgcm91dGluZS5cblxuICAgRW50cnkgYXNzdW1wdGlvbnM6XG5cbiAgICAgICAgc3RhdGUubW9kZSA9PT0gTEVOXG4gICAgICAgIHN0cm0uYXZhaWxfaW4gPj0gNlxuICAgICAgICBzdHJtLmF2YWlsX291dCA+PSAyNThcbiAgICAgICAgc3RhcnQgPj0gc3RybS5hdmFpbF9vdXRcbiAgICAgICAgc3RhdGUuYml0cyA8IDhcblxuICAgT24gcmV0dXJuLCBzdGF0ZS5tb2RlIGlzIG9uZSBvZjpcblxuICAgICAgICBMRU4gLS0gcmFuIG91dCBvZiBlbm91Z2ggb3V0cHV0IHNwYWNlIG9yIGVub3VnaCBhdmFpbGFibGUgaW5wdXRcbiAgICAgICAgVFlQRSAtLSByZWFjaGVkIGVuZCBvZiBibG9jayBjb2RlLCBpbmZsYXRlKCkgdG8gaW50ZXJwcmV0IG5leHQgYmxvY2tcbiAgICAgICAgQkFEIC0tIGVycm9yIGluIGJsb2NrIGRhdGFcblxuICAgTm90ZXM6XG5cbiAgICAtIFRoZSBtYXhpbXVtIGlucHV0IGJpdHMgdXNlZCBieSBhIGxlbmd0aC9kaXN0YW5jZSBwYWlyIGlzIDE1IGJpdHMgZm9yIHRoZVxuICAgICAgbGVuZ3RoIGNvZGUsIDUgYml0cyBmb3IgdGhlIGxlbmd0aCBleHRyYSwgMTUgYml0cyBmb3IgdGhlIGRpc3RhbmNlIGNvZGUsXG4gICAgICBhbmQgMTMgYml0cyBmb3IgdGhlIGRpc3RhbmNlIGV4dHJhLiAgVGhpcyB0b3RhbHMgNDggYml0cywgb3Igc2l4IGJ5dGVzLlxuICAgICAgVGhlcmVmb3JlIGlmIHN0cm0uYXZhaWxfaW4gPj0gNiwgdGhlbiB0aGVyZSBpcyBlbm91Z2ggaW5wdXQgdG8gYXZvaWRcbiAgICAgIGNoZWNraW5nIGZvciBhdmFpbGFibGUgaW5wdXQgd2hpbGUgZGVjb2RpbmcuXG5cbiAgICAtIFRoZSBtYXhpbXVtIGJ5dGVzIHRoYXQgYSBzaW5nbGUgbGVuZ3RoL2Rpc3RhbmNlIHBhaXIgY2FuIG91dHB1dCBpcyAyNThcbiAgICAgIGJ5dGVzLCB3aGljaCBpcyB0aGUgbWF4aW11bSBsZW5ndGggdGhhdCBjYW4gYmUgY29kZWQuICBpbmZsYXRlX2Zhc3QoKVxuICAgICAgcmVxdWlyZXMgc3RybS5hdmFpbF9vdXQgPj0gMjU4IGZvciBlYWNoIGxvb3AgdG8gYXZvaWQgY2hlY2tpbmcgZm9yXG4gICAgICBvdXRwdXQgc3BhY2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5mbGF0ZV9mYXN0KHN0cm0sIHN0YXJ0KSB7XG4gIHZhciBzdGF0ZTtcbiAgdmFyIF9pbjsgICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uaW5wdXQgKi9cbiAgdmFyIGxhc3Q7ICAgICAgICAgICAgICAgICAgIC8qIGhhdmUgZW5vdWdoIGlucHV0IHdoaWxlIGluIDwgbGFzdCAqL1xuICB2YXIgX291dDsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5vdXRwdXQgKi9cbiAgdmFyIGJlZzsgICAgICAgICAgICAgICAgICAgIC8qIGluZmxhdGUoKSdzIGluaXRpYWwgc3RybS5vdXRwdXQgKi9cbiAgdmFyIGVuZDsgICAgICAgICAgICAgICAgICAgIC8qIHdoaWxlIG91dCA8IGVuZCwgZW5vdWdoIHNwYWNlIGF2YWlsYWJsZSAqL1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgdmFyIGRtYXg7ICAgICAgICAgICAgICAgICAgIC8qIG1heGltdW0gZGlzdGFuY2UgZnJvbSB6bGliIGhlYWRlciAqL1xuLy8jZW5kaWZcbiAgdmFyIHdzaXplOyAgICAgICAgICAgICAgICAgIC8qIHdpbmRvdyBzaXplIG9yIHplcm8gaWYgbm90IHVzaW5nIHdpbmRvdyAqL1xuICB2YXIgd2hhdmU7ICAgICAgICAgICAgICAgICAgLyogdmFsaWQgYnl0ZXMgaW4gdGhlIHdpbmRvdyAqL1xuICB2YXIgd25leHQ7ICAgICAgICAgICAgICAgICAgLyogd2luZG93IHdyaXRlIGluZGV4ICovXG4gIC8vIFVzZSBgc193aW5kb3dgIGluc3RlYWQgYHdpbmRvd2AsIGF2b2lkIGNvbmZsaWN0IHdpdGggaW5zdHJ1bWVudGF0aW9uIHRvb2xzXG4gIHZhciBzX3dpbmRvdzsgICAgICAgICAgICAgICAvKiBhbGxvY2F0ZWQgc2xpZGluZyB3aW5kb3csIGlmIHdzaXplICE9IDAgKi9cbiAgdmFyIGhvbGQ7ICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uaG9sZCAqL1xuICB2YXIgYml0czsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5iaXRzICovXG4gIHZhciBsY29kZTsgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmxlbmNvZGUgKi9cbiAgdmFyIGRjb2RlOyAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uZGlzdGNvZGUgKi9cbiAgdmFyIGxtYXNrOyAgICAgICAgICAgICAgICAgIC8qIG1hc2sgZm9yIGZpcnN0IGxldmVsIG9mIGxlbmd0aCBjb2RlcyAqL1xuICB2YXIgZG1hc2s7ICAgICAgICAgICAgICAgICAgLyogbWFzayBmb3IgZmlyc3QgbGV2ZWwgb2YgZGlzdGFuY2UgY29kZXMgKi9cbiAgdmFyIGhlcmU7ICAgICAgICAgICAgICAgICAgIC8qIHJldHJpZXZlZCB0YWJsZSBlbnRyeSAqL1xuICB2YXIgb3A7ICAgICAgICAgICAgICAgICAgICAgLyogY29kZSBiaXRzLCBvcGVyYXRpb24sIGV4dHJhIGJpdHMsIG9yICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiAgd2luZG93IHBvc2l0aW9uLCB3aW5kb3cgYnl0ZXMgdG8gY29weSAqL1xuICB2YXIgbGVuOyAgICAgICAgICAgICAgICAgICAgLyogbWF0Y2ggbGVuZ3RoLCB1bnVzZWQgYnl0ZXMgKi9cbiAgdmFyIGRpc3Q7ICAgICAgICAgICAgICAgICAgIC8qIG1hdGNoIGRpc3RhbmNlICovXG4gIHZhciBmcm9tOyAgICAgICAgICAgICAgICAgICAvKiB3aGVyZSB0byBjb3B5IG1hdGNoIGZyb20gKi9cbiAgdmFyIGZyb21fc291cmNlO1xuXG5cbiAgdmFyIGlucHV0LCBvdXRwdXQ7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcblxuICAvKiBjb3B5IHN0YXRlIHRvIGxvY2FsIHZhcmlhYmxlcyAqL1xuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIC8vaGVyZSA9IHN0YXRlLmhlcmU7XG4gIF9pbiA9IHN0cm0ubmV4dF9pbjtcbiAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICBsYXN0ID0gX2luICsgKHN0cm0uYXZhaWxfaW4gLSA1KTtcbiAgX291dCA9IHN0cm0ubmV4dF9vdXQ7XG4gIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICBiZWcgPSBfb3V0IC0gKHN0YXJ0IC0gc3RybS5hdmFpbF9vdXQpO1xuICBlbmQgPSBfb3V0ICsgKHN0cm0uYXZhaWxfb3V0IC0gMjU3KTtcbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gIGRtYXggPSBzdGF0ZS5kbWF4O1xuLy8jZW5kaWZcbiAgd3NpemUgPSBzdGF0ZS53c2l6ZTtcbiAgd2hhdmUgPSBzdGF0ZS53aGF2ZTtcbiAgd25leHQgPSBzdGF0ZS53bmV4dDtcbiAgc193aW5kb3cgPSBzdGF0ZS53aW5kb3c7XG4gIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICBiaXRzID0gc3RhdGUuYml0cztcbiAgbGNvZGUgPSBzdGF0ZS5sZW5jb2RlO1xuICBkY29kZSA9IHN0YXRlLmRpc3Rjb2RlO1xuICBsbWFzayA9ICgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMTtcbiAgZG1hc2sgPSAoMSA8PCBzdGF0ZS5kaXN0Yml0cykgLSAxO1xuXG5cbiAgLyogZGVjb2RlIGxpdGVyYWxzIGFuZCBsZW5ndGgvZGlzdGFuY2VzIHVudGlsIGVuZC1vZi1ibG9jayBvciBub3QgZW5vdWdoXG4gICAgIGlucHV0IGRhdGEgb3Igb3V0cHV0IHNwYWNlICovXG5cbiAgdG9wOlxuICBkbyB7XG4gICAgaWYgKGJpdHMgPCAxNSkge1xuICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgIGJpdHMgKz0gODtcbiAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICBiaXRzICs9IDg7XG4gICAgfVxuXG4gICAgaGVyZSA9IGxjb2RlW2hvbGQgJiBsbWFza107XG5cbiAgICBkb2xlbjpcbiAgICBmb3IgKDs7KSB7IC8vIEdvdG8gZW11bGF0aW9uXG4gICAgICBvcCA9IGhlcmUgPj4+IDI0LypoZXJlLmJpdHMqLztcbiAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgIGJpdHMgLT0gb3A7XG4gICAgICBvcCA9IChoZXJlID4+PiAxNikgJiAweGZmLypoZXJlLm9wKi87XG4gICAgICBpZiAob3AgPT09IDApIHsgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGxpdGVyYWwgKi9cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIGhlcmUudmFsID49IDB4MjAgJiYgaGVyZS52YWwgPCAweDdmID9cbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsICclYydcXG5cIiA6XG4gICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAweCUwMnhcXG5cIiwgaGVyZS52YWwpKTtcbiAgICAgICAgb3V0cHV0W19vdXQrK10gPSBoZXJlICYgMHhmZmZmLypoZXJlLnZhbCovO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAob3AgJiAxNikgeyAgICAgICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBiYXNlICovXG4gICAgICAgIGxlbiA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICAgIG9wICY9IDE1OyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzICovXG4gICAgICAgIGlmIChvcCkge1xuICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxlbiArPSBob2xkICYgKCgxIDw8IG9wKSAtIDEpO1xuICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICBiaXRzIC09IG9wO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgbGVuZ3RoICV1XFxuXCIsIGxlbikpO1xuICAgICAgICBpZiAoYml0cyA8IDE1KSB7XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgaGVyZSA9IGRjb2RlW2hvbGQgJiBkbWFza107XG5cbiAgICAgICAgZG9kaXN0OlxuICAgICAgICBmb3IgKDs7KSB7IC8vIGdvdG8gZW11bGF0aW9uXG4gICAgICAgICAgb3AgPSBoZXJlID4+PiAyNC8qaGVyZS5iaXRzKi87XG4gICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgICAgb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZi8qaGVyZS5vcCovO1xuXG4gICAgICAgICAgaWYgKG9wICYgMTYpIHsgICAgICAgICAgICAgICAgICAgICAgLyogZGlzdGFuY2UgYmFzZSAqL1xuICAgICAgICAgICAgZGlzdCA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICAgICAgICBvcCAmPSAxNTsgICAgICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzICovXG4gICAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXN0ICs9IGhvbGQgJiAoKDEgPDwgb3ApIC0gMSk7XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICAgICAgICAgICAgaWYgKGRpc3QgPiBkbWF4KSB7XG4gICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGRpc3RhbmNlICV1XFxuXCIsIGRpc3QpKTtcbiAgICAgICAgICAgIG9wID0gX291dCAtIGJlZzsgICAgICAgICAgICAgICAgLyogbWF4IGRpc3RhbmNlIGluIG91dHB1dCAqL1xuICAgICAgICAgICAgaWYgKGRpc3QgPiBvcCkgeyAgICAgICAgICAgICAgICAvKiBzZWUgaWYgY29weSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICBvcCA9IGRpc3QgLSBvcDsgICAgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYWNrIGluIHdpbmRvdyAqL1xuICAgICAgICAgICAgICBpZiAob3AgPiB3aGF2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zYW5lKSB7XG4gICAgICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgICAgICAgIH1cblxuLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhdWx0cyxcbi8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbi8vI2lmZGVmIElORkxBVEVfQUxMT1dfSU5WQUxJRF9ESVNUQU5DRV9UT09GQVJfQVJSUlxuLy8gICAgICAgICAgICAgICAgaWYgKGxlbiA8PSBvcCAtIHdoYXZlKSB7XG4vLyAgICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IDA7XG4vLyAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tbGVuKTtcbi8vICAgICAgICAgICAgICAgICAgY29udGludWUgdG9wO1xuLy8gICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgbGVuIC09IG9wIC0gd2hhdmU7XG4vLyAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gMDtcbi8vICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3AgPiB3aGF2ZSk7XG4vLyAgICAgICAgICAgICAgICBpZiAob3AgPT09IDApIHtcbi8vICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0O1xuLy8gICAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbi8vICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1sZW4pO1xuLy8gICAgICAgICAgICAgICAgICBjb250aW51ZSB0b3A7XG4vLyAgICAgICAgICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZyb20gPSAwOyAvLyB3aW5kb3cgaW5kZXhcbiAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBzX3dpbmRvdztcbiAgICAgICAgICAgICAgaWYgKHduZXh0ID09PSAwKSB7ICAgICAgICAgICAvKiB2ZXJ5IGNvbW1vbiBjYXNlICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3c2l6ZSAtIG9wO1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAod25leHQgPCBvcCkgeyAgICAgIC8qIHdyYXAgYXJvdW5kIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd3NpemUgKyB3bmV4dCAtIG9wO1xuICAgICAgICAgICAgICAgIG9wIC09IHduZXh0O1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSBlbmQgb2Ygd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IDA7XG4gICAgICAgICAgICAgICAgICBpZiAod25leHQgPCBsZW4pIHsgIC8qIHNvbWUgZnJvbSBzdGFydCBvZiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgICAgb3AgPSB3bmV4dDtcbiAgICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgICAgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAvKiBjb250aWd1b3VzIGluIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd25leHQgLSBvcDtcbiAgICAgICAgICAgICAgICBpZiAob3AgPCBsZW4pIHsgICAgICAgICAvKiBzb21lIGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdoaWxlIChsZW4gPiAyKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgbGVuIC09IDM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgICAgICAgICAgLyogY29weSBkaXJlY3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgZG8geyAgICAgICAgICAgICAgICAgICAgICAgIC8qIG1pbmltdW0gbGVuZ3RoIGlzIHRocmVlICovXG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgbGVuIC09IDM7XG4gICAgICAgICAgICAgIH0gd2hpbGUgKGxlbiA+IDIpO1xuICAgICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoKG9wICYgNjQpID09PSAwKSB7ICAgICAgICAgIC8qIDJuZCBsZXZlbCBkaXN0YW5jZSBjb2RlICovXG4gICAgICAgICAgICBoZXJlID0gZGNvZGVbKGhlcmUgJiAweGZmZmYpLypoZXJlLnZhbCovICsgKGhvbGQgJiAoKDEgPDwgb3ApIC0gMSkpXTtcbiAgICAgICAgICAgIGNvbnRpbnVlIGRvZGlzdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIGNvZGUnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrIHRvcDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhazsgLy8gbmVlZCB0byBlbXVsYXRlIGdvdG8gdmlhIFwiY29udGludWVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgob3AgJiA2NCkgPT09IDApIHsgICAgICAgICAgICAgIC8qIDJuZCBsZXZlbCBsZW5ndGggY29kZSAqL1xuICAgICAgICBoZXJlID0gbGNvZGVbKGhlcmUgJiAweGZmZmYpLypoZXJlLnZhbCovICsgKGhvbGQgJiAoKDEgPDwgb3ApIC0gMSkpXTtcbiAgICAgICAgY29udGludWUgZG9sZW47XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvcCAmIDMyKSB7ICAgICAgICAgICAgICAgICAgICAgLyogZW5kLW9mLWJsb2NrICovXG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZW5kIG9mIGJsb2NrXFxuXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIGJyZWFrIHRvcDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICBicmVhayB0b3A7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrOyAvLyBuZWVkIHRvIGVtdWxhdGUgZ290byB2aWEgXCJjb250aW51ZVwiXG4gICAgfVxuICB9IHdoaWxlIChfaW4gPCBsYXN0ICYmIF9vdXQgPCBlbmQpO1xuXG4gIC8qIHJldHVybiB1bnVzZWQgYnl0ZXMgKG9uIGVudHJ5LCBiaXRzIDwgOCwgc28gaW4gd29uJ3QgZ28gdG9vIGZhciBiYWNrKSAqL1xuICBsZW4gPSBiaXRzID4+IDM7XG4gIF9pbiAtPSBsZW47XG4gIGJpdHMgLT0gbGVuIDw8IDM7XG4gIGhvbGQgJj0gKDEgPDwgYml0cykgLSAxO1xuXG4gIC8qIHVwZGF0ZSBzdGF0ZSBhbmQgcmV0dXJuICovXG4gIHN0cm0ubmV4dF9pbiA9IF9pbjtcbiAgc3RybS5uZXh0X291dCA9IF9vdXQ7XG4gIHN0cm0uYXZhaWxfaW4gPSAoX2luIDwgbGFzdCA/IDUgKyAobGFzdCAtIF9pbikgOiA1IC0gKF9pbiAtIGxhc3QpKTtcbiAgc3RybS5hdmFpbF9vdXQgPSAoX291dCA8IGVuZCA/IDI1NyArIChlbmQgLSBfb3V0KSA6IDI1NyAtIChfb3V0IC0gZW5kKSk7XG4gIHN0YXRlLmhvbGQgPSBob2xkO1xuICBzdGF0ZS5iaXRzID0gYml0cztcbiAgcmV0dXJuO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvY29tbW9uJyk7XG5cbnZhciBNQVhCSVRTID0gMTU7XG52YXIgRU5PVUdIX0xFTlMgPSA4NTI7XG52YXIgRU5PVUdIX0RJU1RTID0gNTkyO1xuLy92YXIgRU5PVUdIID0gKEVOT1VHSF9MRU5TK0VOT1VHSF9ESVNUUyk7XG5cbnZhciBDT0RFUyA9IDA7XG52YXIgTEVOUyA9IDE7XG52YXIgRElTVFMgPSAyO1xuXG52YXIgbGJhc2UgPSBbIC8qIExlbmd0aCBjb2RlcyAyNTcuLjI4NSBiYXNlICovXG4gIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTMsIDE1LCAxNywgMTksIDIzLCAyNywgMzEsXG4gIDM1LCA0MywgNTEsIDU5LCA2NywgODMsIDk5LCAxMTUsIDEzMSwgMTYzLCAxOTUsIDIyNywgMjU4LCAwLCAwXG5dO1xuXG52YXIgbGV4dCA9IFsgLyogTGVuZ3RoIGNvZGVzIDI1Ny4uMjg1IGV4dHJhICovXG4gIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTcsIDE3LCAxNywgMTcsIDE4LCAxOCwgMTgsIDE4LFxuICAxOSwgMTksIDE5LCAxOSwgMjAsIDIwLCAyMCwgMjAsIDIxLCAyMSwgMjEsIDIxLCAxNiwgNzIsIDc4XG5dO1xuXG52YXIgZGJhc2UgPSBbIC8qIERpc3RhbmNlIGNvZGVzIDAuLjI5IGJhc2UgKi9cbiAgMSwgMiwgMywgNCwgNSwgNywgOSwgMTMsIDE3LCAyNSwgMzMsIDQ5LCA2NSwgOTcsIDEyOSwgMTkzLFxuICAyNTcsIDM4NSwgNTEzLCA3NjksIDEwMjUsIDE1MzcsIDIwNDksIDMwNzMsIDQwOTcsIDYxNDUsXG4gIDgxOTMsIDEyMjg5LCAxNjM4NSwgMjQ1NzcsIDAsIDBcbl07XG5cbnZhciBkZXh0ID0gWyAvKiBEaXN0YW5jZSBjb2RlcyAwLi4yOSBleHRyYSAqL1xuICAxNiwgMTYsIDE2LCAxNiwgMTcsIDE3LCAxOCwgMTgsIDE5LCAxOSwgMjAsIDIwLCAyMSwgMjEsIDIyLCAyMixcbiAgMjMsIDIzLCAyNCwgMjQsIDI1LCAyNSwgMjYsIDI2LCAyNywgMjcsXG4gIDI4LCAyOCwgMjksIDI5LCA2NCwgNjRcbl07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5mbGF0ZV90YWJsZSh0eXBlLCBsZW5zLCBsZW5zX2luZGV4LCBjb2RlcywgdGFibGUsIHRhYmxlX2luZGV4LCB3b3JrLCBvcHRzKVxue1xuICB2YXIgYml0cyA9IG9wdHMuYml0cztcbiAgICAgIC8vaGVyZSA9IG9wdHMuaGVyZTsgLyogdGFibGUgZW50cnkgZm9yIGR1cGxpY2F0aW9uICovXG5cbiAgdmFyIGxlbiA9IDA7ICAgICAgICAgICAgICAgLyogYSBjb2RlJ3MgbGVuZ3RoIGluIGJpdHMgKi9cbiAgdmFyIHN5bSA9IDA7ICAgICAgICAgICAgICAgLyogaW5kZXggb2YgY29kZSBzeW1ib2xzICovXG4gIHZhciBtaW4gPSAwLCBtYXggPSAwOyAgICAgICAgICAvKiBtaW5pbXVtIGFuZCBtYXhpbXVtIGNvZGUgbGVuZ3RocyAqL1xuICB2YXIgcm9vdCA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgaW5kZXggYml0cyBmb3Igcm9vdCB0YWJsZSAqL1xuICB2YXIgY3VyciA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgaW5kZXggYml0cyBmb3IgY3VycmVudCB0YWJsZSAqL1xuICB2YXIgZHJvcCA9IDA7ICAgICAgICAgICAgICAvKiBjb2RlIGJpdHMgdG8gZHJvcCBmb3Igc3ViLXRhYmxlICovXG4gIHZhciBsZWZ0ID0gMDsgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIHByZWZpeCBjb2RlcyBhdmFpbGFibGUgKi9cbiAgdmFyIHVzZWQgPSAwOyAgICAgICAgICAgICAgLyogY29kZSBlbnRyaWVzIGluIHRhYmxlIHVzZWQgKi9cbiAgdmFyIGh1ZmYgPSAwOyAgICAgICAgICAgICAgLyogSHVmZm1hbiBjb2RlICovXG4gIHZhciBpbmNyOyAgICAgICAgICAgICAgLyogZm9yIGluY3JlbWVudGluZyBjb2RlLCBpbmRleCAqL1xuICB2YXIgZmlsbDsgICAgICAgICAgICAgIC8qIGluZGV4IGZvciByZXBsaWNhdGluZyBlbnRyaWVzICovXG4gIHZhciBsb3c7ICAgICAgICAgICAgICAgLyogbG93IGJpdHMgZm9yIGN1cnJlbnQgcm9vdCBlbnRyeSAqL1xuICB2YXIgbWFzazsgICAgICAgICAgICAgIC8qIG1hc2sgZm9yIGxvdyByb290IGJpdHMgKi9cbiAgdmFyIG5leHQ7ICAgICAgICAgICAgIC8qIG5leHQgYXZhaWxhYmxlIHNwYWNlIGluIHRhYmxlICovXG4gIHZhciBiYXNlID0gbnVsbDsgICAgIC8qIGJhc2UgdmFsdWUgdGFibGUgdG8gdXNlICovXG4gIHZhciBiYXNlX2luZGV4ID0gMDtcbi8vICB2YXIgc2hvZXh0cmE7ICAgIC8qIGV4dHJhIGJpdHMgdGFibGUgdG8gdXNlICovXG4gIHZhciBlbmQ7ICAgICAgICAgICAgICAgICAgICAvKiB1c2UgYmFzZSBhbmQgZXh0cmEgZm9yIHN5bWJvbCA+IGVuZCAqL1xuICB2YXIgY291bnQgPSBuZXcgdXRpbHMuQnVmMTYoTUFYQklUUyArIDEpOyAvL1tNQVhCSVRTKzFdOyAgICAvKiBudW1iZXIgb2YgY29kZXMgb2YgZWFjaCBsZW5ndGggKi9cbiAgdmFyIG9mZnMgPSBuZXcgdXRpbHMuQnVmMTYoTUFYQklUUyArIDEpOyAvL1tNQVhCSVRTKzFdOyAgICAgLyogb2Zmc2V0cyBpbiB0YWJsZSBmb3IgZWFjaCBsZW5ndGggKi9cbiAgdmFyIGV4dHJhID0gbnVsbDtcbiAgdmFyIGV4dHJhX2luZGV4ID0gMDtcblxuICB2YXIgaGVyZV9iaXRzLCBoZXJlX29wLCBoZXJlX3ZhbDtcblxuICAvKlxuICAgUHJvY2VzcyBhIHNldCBvZiBjb2RlIGxlbmd0aHMgdG8gY3JlYXRlIGEgY2Fub25pY2FsIEh1ZmZtYW4gY29kZS4gIFRoZVxuICAgY29kZSBsZW5ndGhzIGFyZSBsZW5zWzAuLmNvZGVzLTFdLiAgRWFjaCBsZW5ndGggY29ycmVzcG9uZHMgdG8gdGhlXG4gICBzeW1ib2xzIDAuLmNvZGVzLTEuICBUaGUgSHVmZm1hbiBjb2RlIGlzIGdlbmVyYXRlZCBieSBmaXJzdCBzb3J0aW5nIHRoZVxuICAgc3ltYm9scyBieSBsZW5ndGggZnJvbSBzaG9ydCB0byBsb25nLCBhbmQgcmV0YWluaW5nIHRoZSBzeW1ib2wgb3JkZXJcbiAgIGZvciBjb2RlcyB3aXRoIGVxdWFsIGxlbmd0aHMuICBUaGVuIHRoZSBjb2RlIHN0YXJ0cyB3aXRoIGFsbCB6ZXJvIGJpdHNcbiAgIGZvciB0aGUgZmlyc3QgY29kZSBvZiB0aGUgc2hvcnRlc3QgbGVuZ3RoLCBhbmQgdGhlIGNvZGVzIGFyZSBpbnRlZ2VyXG4gICBpbmNyZW1lbnRzIGZvciB0aGUgc2FtZSBsZW5ndGgsIGFuZCB6ZXJvcyBhcmUgYXBwZW5kZWQgYXMgdGhlIGxlbmd0aFxuICAgaW5jcmVhc2VzLiAgRm9yIHRoZSBkZWZsYXRlIGZvcm1hdCwgdGhlc2UgYml0cyBhcmUgc3RvcmVkIGJhY2t3YXJkc1xuICAgZnJvbSB0aGVpciBtb3JlIG5hdHVyYWwgaW50ZWdlciBpbmNyZW1lbnQgb3JkZXJpbmcsIGFuZCBzbyB3aGVuIHRoZVxuICAgZGVjb2RpbmcgdGFibGVzIGFyZSBidWlsdCBpbiB0aGUgbGFyZ2UgbG9vcCBiZWxvdywgdGhlIGludGVnZXIgY29kZXNcbiAgIGFyZSBpbmNyZW1lbnRlZCBiYWNrd2FyZHMuXG5cbiAgIFRoaXMgcm91dGluZSBhc3N1bWVzLCBidXQgZG9lcyBub3QgY2hlY2ssIHRoYXQgYWxsIG9mIHRoZSBlbnRyaWVzIGluXG4gICBsZW5zW10gYXJlIGluIHRoZSByYW5nZSAwLi5NQVhCSVRTLiAgVGhlIGNhbGxlciBtdXN0IGFzc3VyZSB0aGlzLlxuICAgMS4uTUFYQklUUyBpcyBpbnRlcnByZXRlZCBhcyB0aGF0IGNvZGUgbGVuZ3RoLiAgemVybyBtZWFucyB0aGF0IHRoYXRcbiAgIHN5bWJvbCBkb2VzIG5vdCBvY2N1ciBpbiB0aGlzIGNvZGUuXG5cbiAgIFRoZSBjb2RlcyBhcmUgc29ydGVkIGJ5IGNvbXB1dGluZyBhIGNvdW50IG9mIGNvZGVzIGZvciBlYWNoIGxlbmd0aCxcbiAgIGNyZWF0aW5nIGZyb20gdGhhdCBhIHRhYmxlIG9mIHN0YXJ0aW5nIGluZGljZXMgZm9yIGVhY2ggbGVuZ3RoIGluIHRoZVxuICAgc29ydGVkIHRhYmxlLCBhbmQgdGhlbiBlbnRlcmluZyB0aGUgc3ltYm9scyBpbiBvcmRlciBpbiB0aGUgc29ydGVkXG4gICB0YWJsZS4gIFRoZSBzb3J0ZWQgdGFibGUgaXMgd29ya1tdLCB3aXRoIHRoYXQgc3BhY2UgYmVpbmcgcHJvdmlkZWQgYnlcbiAgIHRoZSBjYWxsZXIuXG5cbiAgIFRoZSBsZW5ndGggY291bnRzIGFyZSB1c2VkIGZvciBvdGhlciBwdXJwb3NlcyBhcyB3ZWxsLCBpLmUuIGZpbmRpbmdcbiAgIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIGxlbmd0aCBjb2RlcywgZGV0ZXJtaW5pbmcgaWYgdGhlcmUgYXJlIGFueVxuICAgY29kZXMgYXQgYWxsLCBjaGVja2luZyBmb3IgYSB2YWxpZCBzZXQgb2YgbGVuZ3RocywgYW5kIGxvb2tpbmcgYWhlYWRcbiAgIGF0IGxlbmd0aCBjb3VudHMgdG8gZGV0ZXJtaW5lIHN1Yi10YWJsZSBzaXplcyB3aGVuIGJ1aWxkaW5nIHRoZVxuICAgZGVjb2RpbmcgdGFibGVzLlxuICAgKi9cblxuICAvKiBhY2N1bXVsYXRlIGxlbmd0aHMgZm9yIGNvZGVzIChhc3N1bWVzIGxlbnNbXSBhbGwgaW4gMC4uTUFYQklUUykgKi9cbiAgZm9yIChsZW4gPSAwOyBsZW4gPD0gTUFYQklUUzsgbGVuKyspIHtcbiAgICBjb3VudFtsZW5dID0gMDtcbiAgfVxuICBmb3IgKHN5bSA9IDA7IHN5bSA8IGNvZGVzOyBzeW0rKykge1xuICAgIGNvdW50W2xlbnNbbGVuc19pbmRleCArIHN5bV1dKys7XG4gIH1cblxuICAvKiBib3VuZCBjb2RlIGxlbmd0aHMsIGZvcmNlIHJvb3QgdG8gYmUgd2l0aGluIGNvZGUgbGVuZ3RocyAqL1xuICByb290ID0gYml0cztcbiAgZm9yIChtYXggPSBNQVhCSVRTOyBtYXggPj0gMTsgbWF4LS0pIHtcbiAgICBpZiAoY291bnRbbWF4XSAhPT0gMCkgeyBicmVhazsgfVxuICB9XG4gIGlmIChyb290ID4gbWF4KSB7XG4gICAgcm9vdCA9IG1heDtcbiAgfVxuICBpZiAobWF4ID09PSAwKSB7ICAgICAgICAgICAgICAgICAgICAgLyogbm8gc3ltYm9scyB0byBjb2RlIGF0IGFsbCAqL1xuICAgIC8vdGFibGUub3Bbb3B0cy50YWJsZV9pbmRleF0gPSA2NDsgIC8vaGVyZS5vcCA9ICh2YXIgY2hhcik2NDsgICAgLyogaW52YWxpZCBjb2RlIG1hcmtlciAqL1xuICAgIC8vdGFibGUuYml0c1tvcHRzLnRhYmxlX2luZGV4XSA9IDE7ICAgLy9oZXJlLmJpdHMgPSAodmFyIGNoYXIpMTtcbiAgICAvL3RhYmxlLnZhbFtvcHRzLnRhYmxlX2luZGV4KytdID0gMDsgICAvL2hlcmUudmFsID0gKHZhciBzaG9ydCkwO1xuICAgIHRhYmxlW3RhYmxlX2luZGV4KytdID0gKDEgPDwgMjQpIHwgKDY0IDw8IDE2KSB8IDA7XG5cblxuICAgIC8vdGFibGUub3Bbb3B0cy50YWJsZV9pbmRleF0gPSA2NDtcbiAgICAvL3RhYmxlLmJpdHNbb3B0cy50YWJsZV9pbmRleF0gPSAxO1xuICAgIC8vdGFibGUudmFsW29wdHMudGFibGVfaW5kZXgrK10gPSAwO1xuICAgIHRhYmxlW3RhYmxlX2luZGV4KytdID0gKDEgPDwgMjQpIHwgKDY0IDw8IDE2KSB8IDA7XG5cbiAgICBvcHRzLmJpdHMgPSAxO1xuICAgIHJldHVybiAwOyAgICAgLyogbm8gc3ltYm9scywgYnV0IHdhaXQgZm9yIGRlY29kaW5nIHRvIHJlcG9ydCBlcnJvciAqL1xuICB9XG4gIGZvciAobWluID0gMTsgbWluIDwgbWF4OyBtaW4rKykge1xuICAgIGlmIChjb3VudFttaW5dICE9PSAwKSB7IGJyZWFrOyB9XG4gIH1cbiAgaWYgKHJvb3QgPCBtaW4pIHtcbiAgICByb290ID0gbWluO1xuICB9XG5cbiAgLyogY2hlY2sgZm9yIGFuIG92ZXItc3Vic2NyaWJlZCBvciBpbmNvbXBsZXRlIHNldCBvZiBsZW5ndGhzICovXG4gIGxlZnQgPSAxO1xuICBmb3IgKGxlbiA9IDE7IGxlbiA8PSBNQVhCSVRTOyBsZW4rKykge1xuICAgIGxlZnQgPDw9IDE7XG4gICAgbGVmdCAtPSBjb3VudFtsZW5dO1xuICAgIGlmIChsZWZ0IDwgMCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH0gICAgICAgIC8qIG92ZXItc3Vic2NyaWJlZCAqL1xuICB9XG4gIGlmIChsZWZ0ID4gMCAmJiAodHlwZSA9PT0gQ09ERVMgfHwgbWF4ICE9PSAxKSkge1xuICAgIHJldHVybiAtMTsgICAgICAgICAgICAgICAgICAgICAgLyogaW5jb21wbGV0ZSBzZXQgKi9cbiAgfVxuXG4gIC8qIGdlbmVyYXRlIG9mZnNldHMgaW50byBzeW1ib2wgdGFibGUgZm9yIGVhY2ggbGVuZ3RoIGZvciBzb3J0aW5nICovXG4gIG9mZnNbMV0gPSAwO1xuICBmb3IgKGxlbiA9IDE7IGxlbiA8IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgb2Zmc1tsZW4gKyAxXSA9IG9mZnNbbGVuXSArIGNvdW50W2xlbl07XG4gIH1cblxuICAvKiBzb3J0IHN5bWJvbHMgYnkgbGVuZ3RoLCBieSBzeW1ib2wgb3JkZXIgd2l0aGluIGVhY2ggbGVuZ3RoICovXG4gIGZvciAoc3ltID0gMDsgc3ltIDwgY29kZXM7IHN5bSsrKSB7XG4gICAgaWYgKGxlbnNbbGVuc19pbmRleCArIHN5bV0gIT09IDApIHtcbiAgICAgIHdvcmtbb2Zmc1tsZW5zW2xlbnNfaW5kZXggKyBzeW1dXSsrXSA9IHN5bTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgQ3JlYXRlIGFuZCBmaWxsIGluIGRlY29kaW5nIHRhYmxlcy4gIEluIHRoaXMgbG9vcCwgdGhlIHRhYmxlIGJlaW5nXG4gICBmaWxsZWQgaXMgYXQgbmV4dCBhbmQgaGFzIGN1cnIgaW5kZXggYml0cy4gIFRoZSBjb2RlIGJlaW5nIHVzZWQgaXMgaHVmZlxuICAgd2l0aCBsZW5ndGggbGVuLiAgVGhhdCBjb2RlIGlzIGNvbnZlcnRlZCB0byBhbiBpbmRleCBieSBkcm9wcGluZyBkcm9wXG4gICBiaXRzIG9mZiBvZiB0aGUgYm90dG9tLiAgRm9yIGNvZGVzIHdoZXJlIGxlbiBpcyBsZXNzIHRoYW4gZHJvcCArIGN1cnIsXG4gICB0aG9zZSB0b3AgZHJvcCArIGN1cnIgLSBsZW4gYml0cyBhcmUgaW5jcmVtZW50ZWQgdGhyb3VnaCBhbGwgdmFsdWVzIHRvXG4gICBmaWxsIHRoZSB0YWJsZSB3aXRoIHJlcGxpY2F0ZWQgZW50cmllcy5cblxuICAgcm9vdCBpcyB0aGUgbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIHRoZSByb290IHRhYmxlLiAgV2hlbiBsZW4gZXhjZWVkc1xuICAgcm9vdCwgc3ViLXRhYmxlcyBhcmUgY3JlYXRlZCBwb2ludGVkIHRvIGJ5IHRoZSByb290IGVudHJ5IHdpdGggYW4gaW5kZXhcbiAgIG9mIHRoZSBsb3cgcm9vdCBiaXRzIG9mIGh1ZmYuICBUaGlzIGlzIHNhdmVkIGluIGxvdyB0byBjaGVjayBmb3Igd2hlbiBhXG4gICBuZXcgc3ViLXRhYmxlIHNob3VsZCBiZSBzdGFydGVkLiAgZHJvcCBpcyB6ZXJvIHdoZW4gdGhlIHJvb3QgdGFibGUgaXNcbiAgIGJlaW5nIGZpbGxlZCwgYW5kIGRyb3AgaXMgcm9vdCB3aGVuIHN1Yi10YWJsZXMgYXJlIGJlaW5nIGZpbGxlZC5cblxuICAgV2hlbiBhIG5ldyBzdWItdGFibGUgaXMgbmVlZGVkLCBpdCBpcyBuZWNlc3NhcnkgdG8gbG9vayBhaGVhZCBpbiB0aGVcbiAgIGNvZGUgbGVuZ3RocyB0byBkZXRlcm1pbmUgd2hhdCBzaXplIHN1Yi10YWJsZSBpcyBuZWVkZWQuICBUaGUgbGVuZ3RoXG4gICBjb3VudHMgYXJlIHVzZWQgZm9yIHRoaXMsIGFuZCBzbyBjb3VudFtdIGlzIGRlY3JlbWVudGVkIGFzIGNvZGVzIGFyZVxuICAgZW50ZXJlZCBpbiB0aGUgdGFibGVzLlxuXG4gICB1c2VkIGtlZXBzIHRyYWNrIG9mIGhvdyBtYW55IHRhYmxlIGVudHJpZXMgaGF2ZSBiZWVuIGFsbG9jYXRlZCBmcm9tIHRoZVxuICAgcHJvdmlkZWQgKnRhYmxlIHNwYWNlLiAgSXQgaXMgY2hlY2tlZCBmb3IgTEVOUyBhbmQgRElTVCB0YWJsZXMgYWdhaW5zdFxuICAgdGhlIGNvbnN0YW50cyBFTk9VR0hfTEVOUyBhbmQgRU5PVUdIX0RJU1RTIHRvIGd1YXJkIGFnYWluc3QgY2hhbmdlcyBpblxuICAgdGhlIGluaXRpYWwgcm9vdCB0YWJsZSBzaXplIGNvbnN0YW50cy4gIFNlZSB0aGUgY29tbWVudHMgaW4gaW5mdHJlZXMuaFxuICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cbiAgIHN5bSBpbmNyZW1lbnRzIHRocm91Z2ggYWxsIHN5bWJvbHMsIGFuZCB0aGUgbG9vcCB0ZXJtaW5hdGVzIHdoZW5cbiAgIGFsbCBjb2RlcyBvZiBsZW5ndGggbWF4LCBpLmUuIGFsbCBjb2RlcywgaGF2ZSBiZWVuIHByb2Nlc3NlZC4gIFRoaXNcbiAgIHJvdXRpbmUgcGVybWl0cyBpbmNvbXBsZXRlIGNvZGVzLCBzbyBhbm90aGVyIGxvb3AgYWZ0ZXIgdGhpcyBvbmUgZmlsbHNcbiAgIGluIHRoZSByZXN0IG9mIHRoZSBkZWNvZGluZyB0YWJsZXMgd2l0aCBpbnZhbGlkIGNvZGUgbWFya2Vycy5cbiAgICovXG5cbiAgLyogc2V0IHVwIGZvciBjb2RlIHR5cGUgKi9cbiAgLy8gcG9vciBtYW4gb3B0aW1pemF0aW9uIC0gdXNlIGlmLWVsc2UgaW5zdGVhZCBvZiBzd2l0Y2gsXG4gIC8vIHRvIGF2b2lkIGRlb3B0cyBpbiBvbGQgdjhcbiAgaWYgKHR5cGUgPT09IENPREVTKSB7XG4gICAgYmFzZSA9IGV4dHJhID0gd29yazsgICAgLyogZHVtbXkgdmFsdWUtLW5vdCB1c2VkICovXG4gICAgZW5kID0gMTk7XG5cbiAgfSBlbHNlIGlmICh0eXBlID09PSBMRU5TKSB7XG4gICAgYmFzZSA9IGxiYXNlO1xuICAgIGJhc2VfaW5kZXggLT0gMjU3O1xuICAgIGV4dHJhID0gbGV4dDtcbiAgICBleHRyYV9pbmRleCAtPSAyNTc7XG4gICAgZW5kID0gMjU2O1xuXG4gIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAvKiBESVNUUyAqL1xuICAgIGJhc2UgPSBkYmFzZTtcbiAgICBleHRyYSA9IGRleHQ7XG4gICAgZW5kID0gLTE7XG4gIH1cblxuICAvKiBpbml0aWFsaXplIG9wdHMgZm9yIGxvb3AgKi9cbiAgaHVmZiA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0aW5nIGNvZGUgKi9cbiAgc3ltID0gMDsgICAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0aW5nIGNvZGUgc3ltYm9sICovXG4gIGxlbiA9IG1pbjsgICAgICAgICAgICAgICAgICAvKiBzdGFydGluZyBjb2RlIGxlbmd0aCAqL1xuICBuZXh0ID0gdGFibGVfaW5kZXg7ICAgICAgICAgICAgICAvKiBjdXJyZW50IHRhYmxlIHRvIGZpbGwgaW4gKi9cbiAgY3VyciA9IHJvb3Q7ICAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgdGFibGUgaW5kZXggYml0cyAqL1xuICBkcm9wID0gMDsgICAgICAgICAgICAgICAgICAgLyogY3VycmVudCBiaXRzIHRvIGRyb3AgZnJvbSBjb2RlIGZvciBpbmRleCAqL1xuICBsb3cgPSAtMTsgICAgICAgICAgICAgICAgICAgLyogdHJpZ2dlciBuZXcgc3ViLXRhYmxlIHdoZW4gbGVuID4gcm9vdCAqL1xuICB1c2VkID0gMSA8PCByb290OyAgICAgICAgICAvKiB1c2Ugcm9vdCB0YWJsZSBlbnRyaWVzICovXG4gIG1hc2sgPSB1c2VkIC0gMTsgICAgICAgICAgICAvKiBtYXNrIGZvciBjb21wYXJpbmcgbG93ICovXG5cbiAgLyogY2hlY2sgYXZhaWxhYmxlIHRhYmxlIHNwYWNlICovXG4gIGlmICgodHlwZSA9PT0gTEVOUyAmJiB1c2VkID4gRU5PVUdIX0xFTlMpIHx8XG4gICAgKHR5cGUgPT09IERJU1RTICYmIHVzZWQgPiBFTk9VR0hfRElTVFMpKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICAvKiBwcm9jZXNzIGFsbCBjb2RlcyBhbmQgbWFrZSB0YWJsZSBlbnRyaWVzICovXG4gIGZvciAoOzspIHtcbiAgICAvKiBjcmVhdGUgdGFibGUgZW50cnkgKi9cbiAgICBoZXJlX2JpdHMgPSBsZW4gLSBkcm9wO1xuICAgIGlmICh3b3JrW3N5bV0gPCBlbmQpIHtcbiAgICAgIGhlcmVfb3AgPSAwO1xuICAgICAgaGVyZV92YWwgPSB3b3JrW3N5bV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHdvcmtbc3ltXSA+IGVuZCkge1xuICAgICAgaGVyZV9vcCA9IGV4dHJhW2V4dHJhX2luZGV4ICsgd29ya1tzeW1dXTtcbiAgICAgIGhlcmVfdmFsID0gYmFzZVtiYXNlX2luZGV4ICsgd29ya1tzeW1dXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBoZXJlX29wID0gMzIgKyA2NDsgICAgICAgICAvKiBlbmQgb2YgYmxvY2sgKi9cbiAgICAgIGhlcmVfdmFsID0gMDtcbiAgICB9XG5cbiAgICAvKiByZXBsaWNhdGUgZm9yIHRob3NlIGluZGljZXMgd2l0aCBsb3cgbGVuIGJpdHMgZXF1YWwgdG8gaHVmZiAqL1xuICAgIGluY3IgPSAxIDw8IChsZW4gLSBkcm9wKTtcbiAgICBmaWxsID0gMSA8PCBjdXJyO1xuICAgIG1pbiA9IGZpbGw7ICAgICAgICAgICAgICAgICAvKiBzYXZlIG9mZnNldCB0byBuZXh0IHRhYmxlICovXG4gICAgZG8ge1xuICAgICAgZmlsbCAtPSBpbmNyO1xuICAgICAgdGFibGVbbmV4dCArIChodWZmID4+IGRyb3ApICsgZmlsbF0gPSAoaGVyZV9iaXRzIDw8IDI0KSB8IChoZXJlX29wIDw8IDE2KSB8IGhlcmVfdmFsIHwwO1xuICAgIH0gd2hpbGUgKGZpbGwgIT09IDApO1xuXG4gICAgLyogYmFja3dhcmRzIGluY3JlbWVudCB0aGUgbGVuLWJpdCBjb2RlIGh1ZmYgKi9cbiAgICBpbmNyID0gMSA8PCAobGVuIC0gMSk7XG4gICAgd2hpbGUgKGh1ZmYgJiBpbmNyKSB7XG4gICAgICBpbmNyID4+PSAxO1xuICAgIH1cbiAgICBpZiAoaW5jciAhPT0gMCkge1xuICAgICAgaHVmZiAmPSBpbmNyIC0gMTtcbiAgICAgIGh1ZmYgKz0gaW5jcjtcbiAgICB9IGVsc2Uge1xuICAgICAgaHVmZiA9IDA7XG4gICAgfVxuXG4gICAgLyogZ28gdG8gbmV4dCBzeW1ib2wsIHVwZGF0ZSBjb3VudCwgbGVuICovXG4gICAgc3ltKys7XG4gICAgaWYgKC0tY291bnRbbGVuXSA9PT0gMCkge1xuICAgICAgaWYgKGxlbiA9PT0gbWF4KSB7IGJyZWFrOyB9XG4gICAgICBsZW4gPSBsZW5zW2xlbnNfaW5kZXggKyB3b3JrW3N5bV1dO1xuICAgIH1cblxuICAgIC8qIGNyZWF0ZSBuZXcgc3ViLXRhYmxlIGlmIG5lZWRlZCAqL1xuICAgIGlmIChsZW4gPiByb290ICYmIChodWZmICYgbWFzaykgIT09IGxvdykge1xuICAgICAgLyogaWYgZmlyc3QgdGltZSwgdHJhbnNpdGlvbiB0byBzdWItdGFibGVzICovXG4gICAgICBpZiAoZHJvcCA9PT0gMCkge1xuICAgICAgICBkcm9wID0gcm9vdDtcbiAgICAgIH1cblxuICAgICAgLyogaW5jcmVtZW50IHBhc3QgbGFzdCB0YWJsZSAqL1xuICAgICAgbmV4dCArPSBtaW47ICAgICAgICAgICAgLyogaGVyZSBtaW4gaXMgMSA8PCBjdXJyICovXG5cbiAgICAgIC8qIGRldGVybWluZSBsZW5ndGggb2YgbmV4dCB0YWJsZSAqL1xuICAgICAgY3VyciA9IGxlbiAtIGRyb3A7XG4gICAgICBsZWZ0ID0gMSA8PCBjdXJyO1xuICAgICAgd2hpbGUgKGN1cnIgKyBkcm9wIDwgbWF4KSB7XG4gICAgICAgIGxlZnQgLT0gY291bnRbY3VyciArIGRyb3BdO1xuICAgICAgICBpZiAobGVmdCA8PSAwKSB7IGJyZWFrOyB9XG4gICAgICAgIGN1cnIrKztcbiAgICAgICAgbGVmdCA8PD0gMTtcbiAgICAgIH1cblxuICAgICAgLyogY2hlY2sgZm9yIGVub3VnaCBzcGFjZSAqL1xuICAgICAgdXNlZCArPSAxIDw8IGN1cnI7XG4gICAgICBpZiAoKHR5cGUgPT09IExFTlMgJiYgdXNlZCA+IEVOT1VHSF9MRU5TKSB8fFxuICAgICAgICAodHlwZSA9PT0gRElTVFMgJiYgdXNlZCA+IEVOT1VHSF9ESVNUUykpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG5cbiAgICAgIC8qIHBvaW50IGVudHJ5IGluIHJvb3QgdGFibGUgdG8gc3ViLXRhYmxlICovXG4gICAgICBsb3cgPSBodWZmICYgbWFzaztcbiAgICAgIC8qdGFibGUub3BbbG93XSA9IGN1cnI7XG4gICAgICB0YWJsZS5iaXRzW2xvd10gPSByb290O1xuICAgICAgdGFibGUudmFsW2xvd10gPSBuZXh0IC0gb3B0cy50YWJsZV9pbmRleDsqL1xuICAgICAgdGFibGVbbG93XSA9IChyb290IDw8IDI0KSB8IChjdXJyIDw8IDE2KSB8IChuZXh0IC0gdGFibGVfaW5kZXgpIHwwO1xuICAgIH1cbiAgfVxuXG4gIC8qIGZpbGwgaW4gcmVtYWluaW5nIHRhYmxlIGVudHJ5IGlmIGNvZGUgaXMgaW5jb21wbGV0ZSAoZ3VhcmFudGVlZCB0byBoYXZlXG4gICBhdCBtb3N0IG9uZSByZW1haW5pbmcgZW50cnksIHNpbmNlIGlmIHRoZSBjb2RlIGlzIGluY29tcGxldGUsIHRoZVxuICAgbWF4aW11bSBjb2RlIGxlbmd0aCB0aGF0IHdhcyBhbGxvd2VkIHRvIGdldCB0aGlzIGZhciBpcyBvbmUgYml0KSAqL1xuICBpZiAoaHVmZiAhPT0gMCkge1xuICAgIC8vdGFibGUub3BbbmV4dCArIGh1ZmZdID0gNjQ7ICAgICAgICAgICAgLyogaW52YWxpZCBjb2RlIG1hcmtlciAqL1xuICAgIC8vdGFibGUuYml0c1tuZXh0ICsgaHVmZl0gPSBsZW4gLSBkcm9wO1xuICAgIC8vdGFibGUudmFsW25leHQgKyBodWZmXSA9IDA7XG4gICAgdGFibGVbbmV4dCArIGh1ZmZdID0gKChsZW4gLSBkcm9wKSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwwO1xuICB9XG5cbiAgLyogc2V0IHJldHVybiBwYXJhbWV0ZXJzICovXG4gIC8vb3B0cy50YWJsZV9pbmRleCArPSB1c2VkO1xuICBvcHRzLmJpdHMgPSByb290O1xuICByZXR1cm4gMDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbnZhciB1dGlscyAgICAgICAgID0gcmVxdWlyZSgnLi4vdXRpbHMvY29tbW9uJyk7XG52YXIgYWRsZXIzMiAgICAgICA9IHJlcXVpcmUoJy4vYWRsZXIzMicpO1xudmFyIGNyYzMyICAgICAgICAgPSByZXF1aXJlKCcuL2NyYzMyJyk7XG52YXIgaW5mbGF0ZV9mYXN0ICA9IHJlcXVpcmUoJy4vaW5mZmFzdCcpO1xudmFyIGluZmxhdGVfdGFibGUgPSByZXF1aXJlKCcuL2luZnRyZWVzJyk7XG5cbnZhciBDT0RFUyA9IDA7XG52YXIgTEVOUyA9IDE7XG52YXIgRElTVFMgPSAyO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vKiBBbGxvd2VkIGZsdXNoIHZhbHVlczsgc2VlIGRlZmxhdGUoKSBhbmQgaW5mbGF0ZSgpIGJlbG93IGZvciBkZXRhaWxzICovXG4vL3ZhciBaX05PX0ZMVVNIICAgICAgPSAwO1xuLy92YXIgWl9QQVJUSUFMX0ZMVVNIID0gMTtcbi8vdmFyIFpfU1lOQ19GTFVTSCAgICA9IDI7XG4vL3ZhciBaX0ZVTExfRkxVU0ggICAgPSAzO1xudmFyIFpfRklOSVNIICAgICAgICA9IDQ7XG52YXIgWl9CTE9DSyAgICAgICAgID0gNTtcbnZhciBaX1RSRUVTICAgICAgICAgPSA2O1xuXG5cbi8qIFJldHVybiBjb2RlcyBmb3IgdGhlIGNvbXByZXNzaW9uL2RlY29tcHJlc3Npb24gZnVuY3Rpb25zLiBOZWdhdGl2ZSB2YWx1ZXNcbiAqIGFyZSBlcnJvcnMsIHBvc2l0aXZlIHZhbHVlcyBhcmUgdXNlZCBmb3Igc3BlY2lhbCBidXQgbm9ybWFsIGV2ZW50cy5cbiAqL1xudmFyIFpfT0sgICAgICAgICAgICA9IDA7XG52YXIgWl9TVFJFQU1fRU5EICAgID0gMTtcbnZhciBaX05FRURfRElDVCAgICAgPSAyO1xuLy92YXIgWl9FUlJOTyAgICAgICAgID0gLTE7XG52YXIgWl9TVFJFQU1fRVJST1IgID0gLTI7XG52YXIgWl9EQVRBX0VSUk9SICAgID0gLTM7XG52YXIgWl9NRU1fRVJST1IgICAgID0gLTQ7XG52YXIgWl9CVUZfRVJST1IgICAgID0gLTU7XG4vL3ZhciBaX1ZFUlNJT05fRVJST1IgPSAtNjtcblxuLyogVGhlIGRlZmxhdGUgY29tcHJlc3Npb24gbWV0aG9kICovXG52YXIgWl9ERUZMQVRFRCAgPSA4O1xuXG5cbi8qIFNUQVRFUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbnZhciAgICBIRUFEID0gMTsgICAgICAgLyogaTogd2FpdGluZyBmb3IgbWFnaWMgaGVhZGVyICovXG52YXIgICAgRkxBR1MgPSAyOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIG1ldGhvZCBhbmQgZmxhZ3MgKGd6aXApICovXG52YXIgICAgVElNRSA9IDM7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIG1vZGlmaWNhdGlvbiB0aW1lIChnemlwKSAqL1xudmFyICAgIE9TID0gNDsgICAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBleHRyYSBmbGFncyBhbmQgb3BlcmF0aW5nIHN5c3RlbSAoZ3ppcCkgKi9cbnZhciAgICBFWExFTiA9IDU7ICAgICAgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgbGVuZ3RoIChnemlwKSAqL1xudmFyICAgIEVYVFJBID0gNjsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBleHRyYSBieXRlcyAoZ3ppcCkgKi9cbnZhciAgICBOQU1FID0gNzsgICAgICAgLyogaTogd2FpdGluZyBmb3IgZW5kIG9mIGZpbGUgbmFtZSAoZ3ppcCkgKi9cbnZhciAgICBDT01NRU5UID0gODsgICAgLyogaTogd2FpdGluZyBmb3IgZW5kIG9mIGNvbW1lbnQgKGd6aXApICovXG52YXIgICAgSENSQyA9IDk7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGhlYWRlciBjcmMgKGd6aXApICovXG52YXIgICAgRElDVElEID0gMTA7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIGRpY3Rpb25hcnkgY2hlY2sgdmFsdWUgKi9cbnZhciAgICBESUNUID0gMTE7ICAgICAgLyogd2FpdGluZyBmb3IgaW5mbGF0ZVNldERpY3Rpb25hcnkoKSBjYWxsICovXG52YXIgICAgICAgIFRZUEUgPSAxMjsgICAgICAvKiBpOiB3YWl0aW5nIGZvciB0eXBlIGJpdHMsIGluY2x1ZGluZyBsYXN0LWZsYWcgYml0ICovXG52YXIgICAgICAgIFRZUEVETyA9IDEzOyAgICAvKiBpOiBzYW1lLCBidXQgc2tpcCBjaGVjayB0byBleGl0IGluZmxhdGUgb24gbmV3IGJsb2NrICovXG52YXIgICAgICAgIFNUT1JFRCA9IDE0OyAgICAvKiBpOiB3YWl0aW5nIGZvciBzdG9yZWQgc2l6ZSAobGVuZ3RoIGFuZCBjb21wbGVtZW50KSAqL1xudmFyICAgICAgICBDT1BZXyA9IDE1OyAgICAgLyogaS9vOiBzYW1lIGFzIENPUFkgYmVsb3csIGJ1dCBvbmx5IGZpcnN0IHRpbWUgaW4gKi9cbnZhciAgICAgICAgQ09QWSA9IDE2OyAgICAgIC8qIGkvbzogd2FpdGluZyBmb3IgaW5wdXQgb3Igb3V0cHV0IHRvIGNvcHkgc3RvcmVkIGJsb2NrICovXG52YXIgICAgICAgIFRBQkxFID0gMTc7ICAgICAvKiBpOiB3YWl0aW5nIGZvciBkeW5hbWljIGJsb2NrIHRhYmxlIGxlbmd0aHMgKi9cbnZhciAgICAgICAgTEVOTEVOUyA9IDE4OyAgIC8qIGk6IHdhaXRpbmcgZm9yIGNvZGUgbGVuZ3RoIGNvZGUgbGVuZ3RocyAqL1xudmFyICAgICAgICBDT0RFTEVOUyA9IDE5OyAgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoL2xpdCBhbmQgZGlzdGFuY2UgY29kZSBsZW5ndGhzICovXG52YXIgICAgICAgICAgICBMRU5fID0gMjA7ICAgICAgLyogaTogc2FtZSBhcyBMRU4gYmVsb3csIGJ1dCBvbmx5IGZpcnN0IHRpbWUgaW4gKi9cbnZhciAgICAgICAgICAgIExFTiA9IDIxOyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGgvbGl0L2VvYiBjb2RlICovXG52YXIgICAgICAgICAgICBMRU5FWFQgPSAyMjsgICAgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoIGV4dHJhIGJpdHMgKi9cbnZhciAgICAgICAgICAgIERJU1QgPSAyMzsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBkaXN0YW5jZSBjb2RlICovXG52YXIgICAgICAgICAgICBESVNURVhUID0gMjQ7ICAgLyogaTogd2FpdGluZyBmb3IgZGlzdGFuY2UgZXh0cmEgYml0cyAqL1xudmFyICAgICAgICAgICAgTUFUQ0ggPSAyNTsgICAgIC8qIG86IHdhaXRpbmcgZm9yIG91dHB1dCBzcGFjZSB0byBjb3B5IHN0cmluZyAqL1xudmFyICAgICAgICAgICAgTElUID0gMjY7ICAgICAgIC8qIG86IHdhaXRpbmcgZm9yIG91dHB1dCBzcGFjZSB0byB3cml0ZSBsaXRlcmFsICovXG52YXIgICAgQ0hFQ0sgPSAyNzsgICAgIC8qIGk6IHdhaXRpbmcgZm9yIDMyLWJpdCBjaGVjayB2YWx1ZSAqL1xudmFyICAgIExFTkdUSCA9IDI4OyAgICAvKiBpOiB3YWl0aW5nIGZvciAzMi1iaXQgbGVuZ3RoIChnemlwKSAqL1xudmFyICAgIERPTkUgPSAyOTsgICAgICAvKiBmaW5pc2hlZCBjaGVjaywgZG9uZSAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xudmFyICAgIEJBRCA9IDMwOyAgICAgICAvKiBnb3QgYSBkYXRhIGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgICAgTUVNID0gMzE7ICAgICAgIC8qIGdvdCBhbiBpbmZsYXRlKCkgbWVtb3J5IGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgICAgU1lOQyA9IDMyOyAgICAgIC8qIGxvb2tpbmcgZm9yIHN5bmNocm9uaXphdGlvbiBieXRlcyB0byByZXN0YXJ0IGluZmxhdGUoKSAqL1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cblxudmFyIEVOT1VHSF9MRU5TID0gODUyO1xudmFyIEVOT1VHSF9ESVNUUyA9IDU5Mjtcbi8vdmFyIEVOT1VHSCA9ICAoRU5PVUdIX0xFTlMrRU5PVUdIX0RJU1RTKTtcblxudmFyIE1BWF9XQklUUyA9IDE1O1xuLyogMzJLIExaNzcgd2luZG93ICovXG52YXIgREVGX1dCSVRTID0gTUFYX1dCSVRTO1xuXG5cbmZ1bmN0aW9uIHpzd2FwMzIocSkge1xuICByZXR1cm4gICgoKHEgPj4+IDI0KSAmIDB4ZmYpICtcbiAgICAgICAgICAoKHEgPj4+IDgpICYgMHhmZjAwKSArXG4gICAgICAgICAgKChxICYgMHhmZjAwKSA8PCA4KSArXG4gICAgICAgICAgKChxICYgMHhmZikgPDwgMjQpKTtcbn1cblxuXG5mdW5jdGlvbiBJbmZsYXRlU3RhdGUoKSB7XG4gIHRoaXMubW9kZSA9IDA7ICAgICAgICAgICAgIC8qIGN1cnJlbnQgaW5mbGF0ZSBtb2RlICovXG4gIHRoaXMubGFzdCA9IGZhbHNlOyAgICAgICAgICAvKiB0cnVlIGlmIHByb2Nlc3NpbmcgbGFzdCBibG9jayAqL1xuICB0aGlzLndyYXAgPSAwOyAgICAgICAgICAgICAgLyogYml0IDAgdHJ1ZSBmb3IgemxpYiwgYml0IDEgdHJ1ZSBmb3IgZ3ppcCAqL1xuICB0aGlzLmhhdmVkaWN0ID0gZmFsc2U7ICAgICAgLyogdHJ1ZSBpZiBkaWN0aW9uYXJ5IHByb3ZpZGVkICovXG4gIHRoaXMuZmxhZ3MgPSAwOyAgICAgICAgICAgICAvKiBnemlwIGhlYWRlciBtZXRob2QgYW5kIGZsYWdzICgwIGlmIHpsaWIpICovXG4gIHRoaXMuZG1heCA9IDA7ICAgICAgICAgICAgICAvKiB6bGliIGhlYWRlciBtYXggZGlzdGFuY2UgKElORkxBVEVfU1RSSUNUKSAqL1xuICB0aGlzLmNoZWNrID0gMDsgICAgICAgICAgICAgLyogcHJvdGVjdGVkIGNvcHkgb2YgY2hlY2sgdmFsdWUgKi9cbiAgdGhpcy50b3RhbCA9IDA7ICAgICAgICAgICAgIC8qIHByb3RlY3RlZCBjb3B5IG9mIG91dHB1dCBjb3VudCAqL1xuICAvLyBUT0RPOiBtYXkgYmUge31cbiAgdGhpcy5oZWFkID0gbnVsbDsgICAgICAgICAgIC8qIHdoZXJlIHRvIHNhdmUgZ3ppcCBoZWFkZXIgaW5mb3JtYXRpb24gKi9cblxuICAvKiBzbGlkaW5nIHdpbmRvdyAqL1xuICB0aGlzLndiaXRzID0gMDsgICAgICAgICAgICAgLyogbG9nIGJhc2UgMiBvZiByZXF1ZXN0ZWQgd2luZG93IHNpemUgKi9cbiAgdGhpcy53c2l6ZSA9IDA7ICAgICAgICAgICAgIC8qIHdpbmRvdyBzaXplIG9yIHplcm8gaWYgbm90IHVzaW5nIHdpbmRvdyAqL1xuICB0aGlzLndoYXZlID0gMDsgICAgICAgICAgICAgLyogdmFsaWQgYnl0ZXMgaW4gdGhlIHdpbmRvdyAqL1xuICB0aGlzLnduZXh0ID0gMDsgICAgICAgICAgICAgLyogd2luZG93IHdyaXRlIGluZGV4ICovXG4gIHRoaXMud2luZG93ID0gbnVsbDsgICAgICAgICAvKiBhbGxvY2F0ZWQgc2xpZGluZyB3aW5kb3csIGlmIG5lZWRlZCAqL1xuXG4gIC8qIGJpdCBhY2N1bXVsYXRvciAqL1xuICB0aGlzLmhvbGQgPSAwOyAgICAgICAgICAgICAgLyogaW5wdXQgYml0IGFjY3VtdWxhdG9yICovXG4gIHRoaXMuYml0cyA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgYml0cyBpbiBcImluXCIgKi9cblxuICAvKiBmb3Igc3RyaW5nIGFuZCBzdG9yZWQgYmxvY2sgY29weWluZyAqL1xuICB0aGlzLmxlbmd0aCA9IDA7ICAgICAgICAgICAgLyogbGl0ZXJhbCBvciBsZW5ndGggb2YgZGF0YSB0byBjb3B5ICovXG4gIHRoaXMub2Zmc2V0ID0gMDsgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYWNrIHRvIGNvcHkgc3RyaW5nIGZyb20gKi9cblxuICAvKiBmb3IgdGFibGUgYW5kIGNvZGUgZGVjb2RpbmcgKi9cbiAgdGhpcy5leHRyYSA9IDA7ICAgICAgICAgICAgIC8qIGV4dHJhIGJpdHMgbmVlZGVkICovXG5cbiAgLyogZml4ZWQgYW5kIGR5bmFtaWMgY29kZSB0YWJsZXMgKi9cbiAgdGhpcy5sZW5jb2RlID0gbnVsbDsgICAgICAgICAgLyogc3RhcnRpbmcgdGFibGUgZm9yIGxlbmd0aC9saXRlcmFsIGNvZGVzICovXG4gIHRoaXMuZGlzdGNvZGUgPSBudWxsOyAgICAgICAgIC8qIHN0YXJ0aW5nIHRhYmxlIGZvciBkaXN0YW5jZSBjb2RlcyAqL1xuICB0aGlzLmxlbmJpdHMgPSAwOyAgICAgICAgICAgLyogaW5kZXggYml0cyBmb3IgbGVuY29kZSAqL1xuICB0aGlzLmRpc3RiaXRzID0gMDsgICAgICAgICAgLyogaW5kZXggYml0cyBmb3IgZGlzdGNvZGUgKi9cblxuICAvKiBkeW5hbWljIHRhYmxlIGJ1aWxkaW5nICovXG4gIHRoaXMubmNvZGUgPSAwOyAgICAgICAgICAgICAvKiBudW1iZXIgb2YgY29kZSBsZW5ndGggY29kZSBsZW5ndGhzICovXG4gIHRoaXMubmxlbiA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgbGVuZ3RoIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLm5kaXN0ID0gMDsgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGRpc3RhbmNlIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLmhhdmUgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGUgbGVuZ3RocyBpbiBsZW5zW10gKi9cbiAgdGhpcy5uZXh0ID0gbnVsbDsgICAgICAgICAgICAgIC8qIG5leHQgYXZhaWxhYmxlIHNwYWNlIGluIGNvZGVzW10gKi9cblxuICB0aGlzLmxlbnMgPSBuZXcgdXRpbHMuQnVmMTYoMzIwKTsgLyogdGVtcG9yYXJ5IHN0b3JhZ2UgZm9yIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLndvcmsgPSBuZXcgdXRpbHMuQnVmMTYoMjg4KTsgLyogd29yayBhcmVhIGZvciBjb2RlIHRhYmxlIGJ1aWxkaW5nICovXG5cbiAgLypcbiAgIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBwb2ludGVycyBpbiBqcywgd2UgdXNlIGxlbmNvZGUgYW5kIGRpc3Rjb2RlIGRpcmVjdGx5XG4gICBhcyBidWZmZXJzIHNvIHdlIGRvbid0IG5lZWQgY29kZXNcbiAgKi9cbiAgLy90aGlzLmNvZGVzID0gbmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSCk7ICAgICAgIC8qIHNwYWNlIGZvciBjb2RlIHRhYmxlcyAqL1xuICB0aGlzLmxlbmR5biA9IG51bGw7ICAgICAgICAgICAgICAvKiBkeW5hbWljIHRhYmxlIGZvciBsZW5ndGgvbGl0ZXJhbCBjb2RlcyAoSlMgc3BlY2lmaWMpICovXG4gIHRoaXMuZGlzdGR5biA9IG51bGw7ICAgICAgICAgICAgIC8qIGR5bmFtaWMgdGFibGUgZm9yIGRpc3RhbmNlIGNvZGVzIChKUyBzcGVjaWZpYykgKi9cbiAgdGhpcy5zYW5lID0gMDsgICAgICAgICAgICAgICAgICAgLyogaWYgZmFsc2UsIGFsbG93IGludmFsaWQgZGlzdGFuY2UgdG9vIGZhciAqL1xuICB0aGlzLmJhY2sgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBiaXRzIGJhY2sgb2YgbGFzdCB1bnByb2Nlc3NlZCBsZW5ndGgvbGl0ICovXG4gIHRoaXMud2FzID0gMDsgICAgICAgICAgICAgICAgICAgIC8qIGluaXRpYWwgbGVuZ3RoIG9mIG1hdGNoICovXG59XG5cbmZ1bmN0aW9uIGluZmxhdGVSZXNldEtlZXAoc3RybSkge1xuICB2YXIgc3RhdGU7XG5cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUjsgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIHN0cm0udG90YWxfaW4gPSBzdHJtLnRvdGFsX291dCA9IHN0YXRlLnRvdGFsID0gMDtcbiAgc3RybS5tc2cgPSAnJzsgLypaX05VTEwqL1xuICBpZiAoc3RhdGUud3JhcCkgeyAgICAgICAvKiB0byBzdXBwb3J0IGlsbC1jb25jZWl2ZWQgSmF2YSB0ZXN0IHN1aXRlICovXG4gICAgc3RybS5hZGxlciA9IHN0YXRlLndyYXAgJiAxO1xuICB9XG4gIHN0YXRlLm1vZGUgPSBIRUFEO1xuICBzdGF0ZS5sYXN0ID0gMDtcbiAgc3RhdGUuaGF2ZWRpY3QgPSAwO1xuICBzdGF0ZS5kbWF4ID0gMzI3Njg7XG4gIHN0YXRlLmhlYWQgPSBudWxsLypaX05VTEwqLztcbiAgc3RhdGUuaG9sZCA9IDA7XG4gIHN0YXRlLmJpdHMgPSAwO1xuICAvL3N0YXRlLmxlbmNvZGUgPSBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLm5leHQgPSBzdGF0ZS5jb2RlcztcbiAgc3RhdGUubGVuY29kZSA9IHN0YXRlLmxlbmR5biA9IG5ldyB1dGlscy5CdWYzMihFTk9VR0hfTEVOUyk7XG4gIHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUuZGlzdGR5biA9IG5ldyB1dGlscy5CdWYzMihFTk9VR0hfRElTVFMpO1xuXG4gIHN0YXRlLnNhbmUgPSAxO1xuICBzdGF0ZS5iYWNrID0gLTE7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogcmVzZXRcXG5cIikpO1xuICByZXR1cm4gWl9PSztcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZVJlc2V0KHN0cm0pIHtcbiAgdmFyIHN0YXRlO1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBzdGF0ZS53c2l6ZSA9IDA7XG4gIHN0YXRlLndoYXZlID0gMDtcbiAgc3RhdGUud25leHQgPSAwO1xuICByZXR1cm4gaW5mbGF0ZVJlc2V0S2VlcChzdHJtKTtcblxufVxuXG5mdW5jdGlvbiBpbmZsYXRlUmVzZXQyKHN0cm0sIHdpbmRvd0JpdHMpIHtcbiAgdmFyIHdyYXA7XG4gIHZhciBzdGF0ZTtcblxuICAvKiBnZXQgdGhlIHN0YXRlICovXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1I7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuXG4gIC8qIGV4dHJhY3Qgd3JhcCByZXF1ZXN0IGZyb20gd2luZG93Qml0cyBwYXJhbWV0ZXIgKi9cbiAgaWYgKHdpbmRvd0JpdHMgPCAwKSB7XG4gICAgd3JhcCA9IDA7XG4gICAgd2luZG93Qml0cyA9IC13aW5kb3dCaXRzO1xuICB9XG4gIGVsc2Uge1xuICAgIHdyYXAgPSAod2luZG93Qml0cyA+PiA0KSArIDE7XG4gICAgaWYgKHdpbmRvd0JpdHMgPCA0OCkge1xuICAgICAgd2luZG93Qml0cyAmPSAxNTtcbiAgICB9XG4gIH1cblxuICAvKiBzZXQgbnVtYmVyIG9mIHdpbmRvdyBiaXRzLCBmcmVlIHdpbmRvdyBpZiBkaWZmZXJlbnQgKi9cbiAgaWYgKHdpbmRvd0JpdHMgJiYgKHdpbmRvd0JpdHMgPCA4IHx8IHdpbmRvd0JpdHMgPiAxNSkpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cbiAgaWYgKHN0YXRlLndpbmRvdyAhPT0gbnVsbCAmJiBzdGF0ZS53Yml0cyAhPT0gd2luZG93Qml0cykge1xuICAgIHN0YXRlLndpbmRvdyA9IG51bGw7XG4gIH1cblxuICAvKiB1cGRhdGUgc3RhdGUgYW5kIHJlc2V0IHRoZSByZXN0IG9mIGl0ICovXG4gIHN0YXRlLndyYXAgPSB3cmFwO1xuICBzdGF0ZS53Yml0cyA9IHdpbmRvd0JpdHM7XG4gIHJldHVybiBpbmZsYXRlUmVzZXQoc3RybSk7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVJbml0MihzdHJtLCB3aW5kb3dCaXRzKSB7XG4gIHZhciByZXQ7XG4gIHZhciBzdGF0ZTtcblxuICBpZiAoIXN0cm0pIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIC8vc3RybS5tc2cgPSBaX05VTEw7ICAgICAgICAgICAgICAgICAvKiBpbiBjYXNlIHdlIHJldHVybiBhbiBlcnJvciAqL1xuXG4gIHN0YXRlID0gbmV3IEluZmxhdGVTdGF0ZSgpO1xuXG4gIC8vaWYgKHN0YXRlID09PSBaX05VTEwpIHJldHVybiBaX01FTV9FUlJPUjtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiBhbGxvY2F0ZWRcXG5cIikpO1xuICBzdHJtLnN0YXRlID0gc3RhdGU7XG4gIHN0YXRlLndpbmRvdyA9IG51bGwvKlpfTlVMTCovO1xuICByZXQgPSBpbmZsYXRlUmVzZXQyKHN0cm0sIHdpbmRvd0JpdHMpO1xuICBpZiAocmV0ICE9PSBaX09LKSB7XG4gICAgc3RybS5zdGF0ZSA9IG51bGwvKlpfTlVMTCovO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVJbml0KHN0cm0pIHtcbiAgcmV0dXJuIGluZmxhdGVJbml0MihzdHJtLCBERUZfV0JJVFMpO1xufVxuXG5cbi8qXG4gUmV0dXJuIHN0YXRlIHdpdGggbGVuZ3RoIGFuZCBkaXN0YW5jZSBkZWNvZGluZyB0YWJsZXMgYW5kIGluZGV4IHNpemVzIHNldCB0b1xuIGZpeGVkIGNvZGUgZGVjb2RpbmcuICBOb3JtYWxseSB0aGlzIHJldHVybnMgZml4ZWQgdGFibGVzIGZyb20gaW5mZml4ZWQuaC5cbiBJZiBCVUlMREZJWEVEIGlzIGRlZmluZWQsIHRoZW4gaW5zdGVhZCB0aGlzIHJvdXRpbmUgYnVpbGRzIHRoZSB0YWJsZXMgdGhlXG4gZmlyc3QgdGltZSBpdCdzIGNhbGxlZCwgYW5kIHJldHVybnMgdGhvc2UgdGFibGVzIHRoZSBmaXJzdCB0aW1lIGFuZFxuIHRoZXJlYWZ0ZXIuICBUaGlzIHJlZHVjZXMgdGhlIHNpemUgb2YgdGhlIGNvZGUgYnkgYWJvdXQgMksgYnl0ZXMsIGluXG4gZXhjaGFuZ2UgZm9yIGEgbGl0dGxlIGV4ZWN1dGlvbiB0aW1lLiAgSG93ZXZlciwgQlVJTERGSVhFRCBzaG91bGQgbm90IGJlXG4gdXNlZCBmb3IgdGhyZWFkZWQgYXBwbGljYXRpb25zLCBzaW5jZSB0aGUgcmV3cml0aW5nIG9mIHRoZSB0YWJsZXMgYW5kIHZpcmdpblxuIG1heSBub3QgYmUgdGhyZWFkLXNhZmUuXG4gKi9cbnZhciB2aXJnaW4gPSB0cnVlO1xuXG52YXIgbGVuZml4LCBkaXN0Zml4OyAvLyBXZSBoYXZlIG5vIHBvaW50ZXJzIGluIEpTLCBzbyBrZWVwIHRhYmxlcyBzZXBhcmF0ZVxuXG5mdW5jdGlvbiBmaXhlZHRhYmxlcyhzdGF0ZSkge1xuICAvKiBidWlsZCBmaXhlZCBodWZmbWFuIHRhYmxlcyBpZiBmaXJzdCBjYWxsIChtYXkgbm90IGJlIHRocmVhZCBzYWZlKSAqL1xuICBpZiAodmlyZ2luKSB7XG4gICAgdmFyIHN5bTtcblxuICAgIGxlbmZpeCA9IG5ldyB1dGlscy5CdWYzMig1MTIpO1xuICAgIGRpc3RmaXggPSBuZXcgdXRpbHMuQnVmMzIoMzIpO1xuXG4gICAgLyogbGl0ZXJhbC9sZW5ndGggdGFibGUgKi9cbiAgICBzeW0gPSAwO1xuICAgIHdoaWxlIChzeW0gPCAxNDQpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA4OyB9XG4gICAgd2hpbGUgKHN5bSA8IDI1NikgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDk7IH1cbiAgICB3aGlsZSAoc3ltIDwgMjgwKSB7IHN0YXRlLmxlbnNbc3ltKytdID0gNzsgfVxuICAgIHdoaWxlIChzeW0gPCAyODgpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA4OyB9XG5cbiAgICBpbmZsYXRlX3RhYmxlKExFTlMsICBzdGF0ZS5sZW5zLCAwLCAyODgsIGxlbmZpeCwgICAwLCBzdGF0ZS53b3JrLCB7IGJpdHM6IDkgfSk7XG5cbiAgICAvKiBkaXN0YW5jZSB0YWJsZSAqL1xuICAgIHN5bSA9IDA7XG4gICAgd2hpbGUgKHN5bSA8IDMyKSB7IHN0YXRlLmxlbnNbc3ltKytdID0gNTsgfVxuXG4gICAgaW5mbGF0ZV90YWJsZShESVNUUywgc3RhdGUubGVucywgMCwgMzIsICAgZGlzdGZpeCwgMCwgc3RhdGUud29yaywgeyBiaXRzOiA1IH0pO1xuXG4gICAgLyogZG8gdGhpcyBqdXN0IG9uY2UgKi9cbiAgICB2aXJnaW4gPSBmYWxzZTtcbiAgfVxuXG4gIHN0YXRlLmxlbmNvZGUgPSBsZW5maXg7XG4gIHN0YXRlLmxlbmJpdHMgPSA5O1xuICBzdGF0ZS5kaXN0Y29kZSA9IGRpc3RmaXg7XG4gIHN0YXRlLmRpc3RiaXRzID0gNTtcbn1cblxuXG4vKlxuIFVwZGF0ZSB0aGUgd2luZG93IHdpdGggdGhlIGxhc3Qgd3NpemUgKG5vcm1hbGx5IDMySykgYnl0ZXMgd3JpdHRlbiBiZWZvcmVcbiByZXR1cm5pbmcuICBJZiB3aW5kb3cgZG9lcyBub3QgZXhpc3QgeWV0LCBjcmVhdGUgaXQuICBUaGlzIGlzIG9ubHkgY2FsbGVkXG4gd2hlbiBhIHdpbmRvdyBpcyBhbHJlYWR5IGluIHVzZSwgb3Igd2hlbiBvdXRwdXQgaGFzIGJlZW4gd3JpdHRlbiBkdXJpbmcgdGhpc1xuIGluZmxhdGUgY2FsbCwgYnV0IHRoZSBlbmQgb2YgdGhlIGRlZmxhdGUgc3RyZWFtIGhhcyBub3QgYmVlbiByZWFjaGVkIHlldC5cbiBJdCBpcyBhbHNvIGNhbGxlZCB0byBjcmVhdGUgYSB3aW5kb3cgZm9yIGRpY3Rpb25hcnkgZGF0YSB3aGVuIGEgZGljdGlvbmFyeVxuIGlzIGxvYWRlZC5cblxuIFByb3ZpZGluZyBvdXRwdXQgYnVmZmVycyBsYXJnZXIgdGhhbiAzMksgdG8gaW5mbGF0ZSgpIHNob3VsZCBwcm92aWRlIGEgc3BlZWRcbiBhZHZhbnRhZ2UsIHNpbmNlIG9ubHkgdGhlIGxhc3QgMzJLIG9mIG91dHB1dCBpcyBjb3BpZWQgdG8gdGhlIHNsaWRpbmcgd2luZG93XG4gdXBvbiByZXR1cm4gZnJvbSBpbmZsYXRlKCksIGFuZCBzaW5jZSBhbGwgZGlzdGFuY2VzIGFmdGVyIHRoZSBmaXJzdCAzMksgb2ZcbiBvdXRwdXQgd2lsbCBmYWxsIGluIHRoZSBvdXRwdXQgZGF0YSwgbWFraW5nIG1hdGNoIGNvcGllcyBzaW1wbGVyIGFuZCBmYXN0ZXIuXG4gVGhlIGFkdmFudGFnZSBtYXkgYmUgZGVwZW5kZW50IG9uIHRoZSBzaXplIG9mIHRoZSBwcm9jZXNzb3IncyBkYXRhIGNhY2hlcy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRld2luZG93KHN0cm0sIHNyYywgZW5kLCBjb3B5KSB7XG4gIHZhciBkaXN0O1xuICB2YXIgc3RhdGUgPSBzdHJtLnN0YXRlO1xuXG4gIC8qIGlmIGl0IGhhc24ndCBiZWVuIGRvbmUgYWxyZWFkeSwgYWxsb2NhdGUgc3BhY2UgZm9yIHRoZSB3aW5kb3cgKi9cbiAgaWYgKHN0YXRlLndpbmRvdyA9PT0gbnVsbCkge1xuICAgIHN0YXRlLndzaXplID0gMSA8PCBzdGF0ZS53Yml0cztcbiAgICBzdGF0ZS53bmV4dCA9IDA7XG4gICAgc3RhdGUud2hhdmUgPSAwO1xuXG4gICAgc3RhdGUud2luZG93ID0gbmV3IHV0aWxzLkJ1Zjgoc3RhdGUud3NpemUpO1xuICB9XG5cbiAgLyogY29weSBzdGF0ZS0+d3NpemUgb3IgbGVzcyBvdXRwdXQgYnl0ZXMgaW50byB0aGUgY2lyY3VsYXIgd2luZG93ICovXG4gIGlmIChjb3B5ID49IHN0YXRlLndzaXplKSB7XG4gICAgdXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LCBzcmMsIGVuZCAtIHN0YXRlLndzaXplLCBzdGF0ZS53c2l6ZSwgMCk7XG4gICAgc3RhdGUud25leHQgPSAwO1xuICAgIHN0YXRlLndoYXZlID0gc3RhdGUud3NpemU7XG4gIH1cbiAgZWxzZSB7XG4gICAgZGlzdCA9IHN0YXRlLndzaXplIC0gc3RhdGUud25leHQ7XG4gICAgaWYgKGRpc3QgPiBjb3B5KSB7XG4gICAgICBkaXN0ID0gY29weTtcbiAgICB9XG4gICAgLy96bWVtY3B5KHN0YXRlLT53aW5kb3cgKyBzdGF0ZS0+d25leHQsIGVuZCAtIGNvcHksIGRpc3QpO1xuICAgIHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdywgc3JjLCBlbmQgLSBjb3B5LCBkaXN0LCBzdGF0ZS53bmV4dCk7XG4gICAgY29weSAtPSBkaXN0O1xuICAgIGlmIChjb3B5KSB7XG4gICAgICAvL3ptZW1jcHkoc3RhdGUtPndpbmRvdywgZW5kIC0gY29weSwgY29weSk7XG4gICAgICB1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csIHNyYywgZW5kIC0gY29weSwgY29weSwgMCk7XG4gICAgICBzdGF0ZS53bmV4dCA9IGNvcHk7XG4gICAgICBzdGF0ZS53aGF2ZSA9IHN0YXRlLndzaXplO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHN0YXRlLnduZXh0ICs9IGRpc3Q7XG4gICAgICBpZiAoc3RhdGUud25leHQgPT09IHN0YXRlLndzaXplKSB7IHN0YXRlLnduZXh0ID0gMDsgfVxuICAgICAgaWYgKHN0YXRlLndoYXZlIDwgc3RhdGUud3NpemUpIHsgc3RhdGUud2hhdmUgKz0gZGlzdDsgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZShzdHJtLCBmbHVzaCkge1xuICB2YXIgc3RhdGU7XG4gIHZhciBpbnB1dCwgb3V0cHV0OyAgICAgICAgICAvLyBpbnB1dC9vdXRwdXQgYnVmZmVyc1xuICB2YXIgbmV4dDsgICAgICAgICAgICAgICAgICAgLyogbmV4dCBpbnB1dCBJTkRFWCAqL1xuICB2YXIgcHV0OyAgICAgICAgICAgICAgICAgICAgLyogbmV4dCBvdXRwdXQgSU5ERVggKi9cbiAgdmFyIGhhdmUsIGxlZnQ7ICAgICAgICAgICAgIC8qIGF2YWlsYWJsZSBpbnB1dCBhbmQgb3V0cHV0ICovXG4gIHZhciBob2xkOyAgICAgICAgICAgICAgICAgICAvKiBiaXQgYnVmZmVyICovXG4gIHZhciBiaXRzOyAgICAgICAgICAgICAgICAgICAvKiBiaXRzIGluIGJpdCBidWZmZXIgKi9cbiAgdmFyIF9pbiwgX291dDsgICAgICAgICAgICAgIC8qIHNhdmUgc3RhcnRpbmcgYXZhaWxhYmxlIGlucHV0IGFuZCBvdXRwdXQgKi9cbiAgdmFyIGNvcHk7ICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBzdG9yZWQgb3IgbWF0Y2ggYnl0ZXMgdG8gY29weSAqL1xuICB2YXIgZnJvbTsgICAgICAgICAgICAgICAgICAgLyogd2hlcmUgdG8gY29weSBtYXRjaCBieXRlcyBmcm9tICovXG4gIHZhciBmcm9tX3NvdXJjZTtcbiAgdmFyIGhlcmUgPSAwOyAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgZGVjb2RpbmcgdGFibGUgZW50cnkgKi9cbiAgdmFyIGhlcmVfYml0cywgaGVyZV9vcCwgaGVyZV92YWw7IC8vIHBha2VkIFwiaGVyZVwiIGRlbm9ybWFsaXplZCAoSlMgc3BlY2lmaWMpXG4gIC8vdmFyIGxhc3Q7ICAgICAgICAgICAgICAgICAgIC8qIHBhcmVudCB0YWJsZSBlbnRyeSAqL1xuICB2YXIgbGFzdF9iaXRzLCBsYXN0X29wLCBsYXN0X3ZhbDsgLy8gcGFrZWQgXCJsYXN0XCIgZGVub3JtYWxpemVkIChKUyBzcGVjaWZpYylcbiAgdmFyIGxlbjsgICAgICAgICAgICAgICAgICAgIC8qIGxlbmd0aCB0byBjb3B5IGZvciByZXBlYXRzLCBiaXRzIHRvIGRyb3AgKi9cbiAgdmFyIHJldDsgICAgICAgICAgICAgICAgICAgIC8qIHJldHVybiBjb2RlICovXG4gIHZhciBoYnVmID0gbmV3IHV0aWxzLkJ1ZjgoNCk7ICAgIC8qIGJ1ZmZlciBmb3IgZ3ppcCBoZWFkZXIgY3JjIGNhbGN1bGF0aW9uICovXG4gIHZhciBvcHRzO1xuXG4gIHZhciBuOyAvLyB0ZW1wb3JhcnkgdmFyIGZvciBORUVEX0JJVFNcblxuICB2YXIgb3JkZXIgPSAvKiBwZXJtdXRhdGlvbiBvZiBjb2RlIGxlbmd0aHMgKi9cbiAgICBbIDE2LCAxNywgMTgsIDAsIDgsIDcsIDksIDYsIDEwLCA1LCAxMSwgNCwgMTIsIDMsIDEzLCAyLCAxNCwgMSwgMTUgXTtcblxuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSB8fCAhc3RybS5vdXRwdXQgfHxcbiAgICAgICghc3RybS5pbnB1dCAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKHN0YXRlLm1vZGUgPT09IFRZUEUpIHsgc3RhdGUubW9kZSA9IFRZUEVETzsgfSAgICAvKiBza2lwIGNoZWNrICovXG5cblxuICAvLy0tLSBMT0FEKCkgLS0tXG4gIHB1dCA9IHN0cm0ubmV4dF9vdXQ7XG4gIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICBsZWZ0ID0gc3RybS5hdmFpbF9vdXQ7XG4gIG5leHQgPSBzdHJtLm5leHRfaW47XG4gIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgaGF2ZSA9IHN0cm0uYXZhaWxfaW47XG4gIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICBiaXRzID0gc3RhdGUuYml0cztcbiAgLy8tLS1cblxuICBfaW4gPSBoYXZlO1xuICBfb3V0ID0gbGVmdDtcbiAgcmV0ID0gWl9PSztcblxuICBpbmZfbGVhdmU6IC8vIGdvdG8gZW11bGF0aW9uXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKHN0YXRlLm1vZGUpIHtcbiAgICAgIGNhc2UgSEVBRDpcbiAgICAgICAgaWYgKHN0YXRlLndyYXAgPT09IDApIHtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRURPO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTtcbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoKHN0YXRlLndyYXAgJiAyKSAmJiBob2xkID09PSAweDhiMWYpIHsgIC8qIGd6aXAgaGVhZGVyICovXG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSAwLypjcmMzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAvLz09PS8vXG5cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5tb2RlID0gRkxBR1M7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuZmxhZ3MgPSAwOyAgICAgICAgICAgLyogZXhwZWN0IHpsaWIgaGVhZGVyICovXG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5kb25lID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoc3RhdGUud3JhcCAmIDEpIHx8ICAgLyogY2hlY2sgaWYgemxpYiBoZWFkZXIgYWxsb3dlZCAqL1xuICAgICAgICAgICgoKGhvbGQgJiAweGZmKS8qQklUUyg4KSovIDw8IDgpICsgKGhvbGQgPj4gOCkpICUgMzEpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgaGVhZGVyIGNoZWNrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaG9sZCAmIDB4MGYpLypCSVRTKDQpKi8gIT09IFpfREVGTEFURUQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICd1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyg0KSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gNDtcbiAgICAgICAgYml0cyAtPSA0O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIGxlbiA9IChob2xkICYgMHgwZikvKkJJVFMoNCkqLyArIDg7XG4gICAgICAgIGlmIChzdGF0ZS53Yml0cyA9PT0gMCkge1xuICAgICAgICAgIHN0YXRlLndiaXRzID0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlbiA+IHN0YXRlLndiaXRzKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCB3aW5kb3cgc2l6ZSc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5kbWF4ID0gMSA8PCBsZW47XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICB6bGliIGhlYWRlciBva1xcblwiKSk7XG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDEvKmFkbGVyMzIoMEwsIFpfTlVMTCwgMCkqLztcbiAgICAgICAgc3RhdGUubW9kZSA9IGhvbGQgJiAweDIwMCA/IERJQ1RJRCA6IFRZUEU7XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRkxBR1M6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5mbGFncyA9IGhvbGQ7XG4gICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweGZmKSAhPT0gWl9ERUZMQVRFRCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gY29tcHJlc3Npb24gbWV0aG9kJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4ZTAwMCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gaGVhZGVyIGZsYWdzIHNldCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQudGV4dCA9ICgoaG9sZCA+PiA4KSAmIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBUSU1FO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIFRJTUU6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQudGltZSA9IGhvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgLy89PT0gQ1JDNChzdGF0ZS5jaGVjaywgaG9sZClcbiAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsyXSA9IChob2xkID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhidWZbM10gPSAoaG9sZCA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCA0LCAwKTtcbiAgICAgICAgICAvLz09PVxuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gT1M7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgT1M6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQueGZsYWdzID0gKGhvbGQgJiAweGZmKTtcbiAgICAgICAgICBzdGF0ZS5oZWFkLm9zID0gKGhvbGQgPj4gOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubW9kZSA9IEVYTEVOO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIEVYTEVOOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA0MDApIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIHN0YXRlLmxlbmd0aCA9IGhvbGQ7XG4gICAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICAgIHN0YXRlLmhlYWQuZXh0cmFfbGVuID0gaG9sZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhID0gbnVsbC8qWl9OVUxMKi87XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IEVYVFJBO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIEVYVFJBOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA0MDApIHtcbiAgICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICAgIGlmIChjb3B5ID4gaGF2ZSkgeyBjb3B5ID0gaGF2ZTsgfVxuICAgICAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgICAgICBsZW4gPSBzdGF0ZS5oZWFkLmV4dHJhX2xlbiAtIHN0YXRlLmxlbmd0aDtcbiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5oZWFkLmV4dHJhKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHVudHlwZWQgYXJyYXkgZm9yIG1vcmUgY29udmVuaWVudCBwcm9jZXNzaW5nIGxhdGVyXG4gICAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSA9IG5ldyBBcnJheShzdGF0ZS5oZWFkLmV4dHJhX2xlbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdXRpbHMuYXJyYXlTZXQoXG4gICAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSxcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBuZXh0LFxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIGZpZWxkIGlzIGxpbWl0ZWQgdG8gNjU1MzYgYnl0ZXNcbiAgICAgICAgICAgICAgICAvLyAtIG5vIG5lZWQgZm9yIGFkZGl0aW9uYWwgc2l6ZSBjaGVja1xuICAgICAgICAgICAgICAgIGNvcHksXG4gICAgICAgICAgICAgICAgLypsZW4gKyBjb3B5ID4gc3RhdGUuaGVhZC5leHRyYV9tYXggLSBsZW4gPyBzdGF0ZS5oZWFkLmV4dHJhX21heCA6IGNvcHksKi9cbiAgICAgICAgICAgICAgICBsZW5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgLy96bWVtY3B5KHN0YXRlLmhlYWQuZXh0cmEgKyBsZW4sIG5leHQsXG4gICAgICAgICAgICAgIC8vICAgICAgICBsZW4gKyBjb3B5ID4gc3RhdGUuaGVhZC5leHRyYV9tYXggP1xuICAgICAgICAgICAgICAvLyAgICAgICAgc3RhdGUuaGVhZC5leHRyYV9tYXggLSBsZW4gOiBjb3B5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sZW5ndGggPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTkFNRTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBOQU1FOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA4MDApIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBjb3B5ID0gMDtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBUT0RPOiAyIG9yIDEgYnl0ZXM/XG4gICAgICAgICAgICBsZW4gPSBpbnB1dFtuZXh0ICsgY29weSsrXTtcbiAgICAgICAgICAgIC8qIHVzZSBjb25zdGFudCBsaW1pdCBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5ICovXG4gICAgICAgICAgICBpZiAoc3RhdGUuaGVhZCAmJiBsZW4gJiZcbiAgICAgICAgICAgICAgICAoc3RhdGUubGVuZ3RoIDwgNjU1MzYgLypzdGF0ZS5oZWFkLm5hbWVfbWF4Ki8pKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmhlYWQubmFtZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSB3aGlsZSAobGVuICYmIGNvcHkgPCBoYXZlKTtcblxuICAgICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICAgIGlmIChsZW4pIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQubmFtZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubGVuZ3RoID0gMDtcbiAgICAgICAgc3RhdGUubW9kZSA9IENPTU1FTlQ7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgQ09NTUVOVDpcbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgxMDAwKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgY29weSA9IDA7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgbGVuID0gaW5wdXRbbmV4dCArIGNvcHkrK107XG4gICAgICAgICAgICAvKiB1c2UgY29uc3RhbnQgbGltaXQgYmVjYXVzZSBpbiBqcyB3ZSBzaG91bGQgbm90IHByZWFsbG9jYXRlIG1lbW9yeSAqL1xuICAgICAgICAgICAgaWYgKHN0YXRlLmhlYWQgJiYgbGVuICYmXG4gICAgICAgICAgICAgICAgKHN0YXRlLmxlbmd0aCA8IDY1NTM2IC8qc3RhdGUuaGVhZC5jb21tX21heCovKSkge1xuICAgICAgICAgICAgICBzdGF0ZS5oZWFkLmNvbW1lbnQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShsZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKGxlbiAmJiBjb3B5IDwgaGF2ZSk7XG4gICAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgaWYgKGxlbikgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5jb21tZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5tb2RlID0gSENSQztcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBIQ1JDOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIGlmIChob2xkICE9PSAoc3RhdGUuY2hlY2sgJiAweGZmZmYpKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdoZWFkZXIgY3JjIG1pc21hdGNoJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmhjcmMgPSAoKHN0YXRlLmZsYWdzID4+IDkpICYgMSk7XG4gICAgICAgICAgc3RhdGUuaGVhZC5kb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJQ1RJRDpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IHpzd2FwMzIoaG9sZCk7XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gRElDVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBESUNUOlxuICAgICAgICBpZiAoc3RhdGUuaGF2ZWRpY3QgPT09IDApIHtcbiAgICAgICAgICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gICAgICAgICAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gICAgICAgICAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgICAgICAgICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgICAgICAgICBzdGF0ZS5iaXRzID0gYml0cztcbiAgICAgICAgICAvLy0tLVxuICAgICAgICAgIHJldHVybiBaX05FRURfRElDVDtcbiAgICAgICAgfVxuICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAxLyphZGxlcjMyKDBMLCBaX05VTEwsIDApKi87XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIFRZUEU6XG4gICAgICAgIGlmIChmbHVzaCA9PT0gWl9CTE9DSyB8fCBmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBUWVBFRE86XG4gICAgICAgIGlmIChzdGF0ZS5sYXN0KSB7XG4gICAgICAgICAgLy8tLS0gQllURUJJVFMoKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBiaXRzICYgNztcbiAgICAgICAgICBiaXRzIC09IGJpdHMgJiA3O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQ0hFQ0s7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gTkVFREJJVFMoMyk7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMykge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5sYXN0ID0gKGhvbGQgJiAweDAxKS8qQklUUygxKSovO1xuICAgICAgICAvLy0tLSBEUk9QQklUUygxKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gMTtcbiAgICAgICAgYml0cyAtPSAxO1xuICAgICAgICAvLy0tLS8vXG5cbiAgICAgICAgc3dpdGNoICgoaG9sZCAmIDB4MDMpLypCSVRTKDIpKi8pIHtcbiAgICAgICAgICBjYXNlIDA6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBzdG9yZWQgYmxvY2sgKi9cbiAgICAgICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIHN0b3JlZCBibG9jayVzXFxuXCIsXG4gICAgICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IFNUT1JFRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGZpeGVkIGJsb2NrICovXG4gICAgICAgICAgICBmaXhlZHRhYmxlcyhzdGF0ZSk7XG4gICAgICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBmaXhlZCBjb2RlcyBibG9jayVzXFxuXCIsXG4gICAgICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IExFTl87ICAgICAgICAgICAgIC8qIGRlY29kZSBjb2RlcyAqL1xuICAgICAgICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7XG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDIpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSAyO1xuICAgICAgICAgICAgICBiaXRzIC09IDI7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZHluYW1pYyBibG9jayAqL1xuICAgICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgZHluYW1pYyBjb2RlcyBibG9jayVzXFxuXCIsXG4gICAgICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IFRBQkxFO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBibG9jayB0eXBlJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU1RPUkVEOlxuICAgICAgICAvLy0tLSBCWVRFQklUUygpIC0tLS8vIC8qIGdvIHRvIGJ5dGUgYm91bmRhcnkgKi9cbiAgICAgICAgaG9sZCA+Pj49IGJpdHMgJiA3O1xuICAgICAgICBiaXRzIC09IGJpdHMgJiA3O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoKGhvbGQgJiAweGZmZmYpICE9PSAoKGhvbGQgPj4+IDE2KSBeIDB4ZmZmZikpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IGhvbGQgJiAweGZmZmY7XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgc3RvcmVkIGxlbmd0aCAldVxcblwiLFxuICAgICAgICAvLyAgICAgICAgc3RhdGUubGVuZ3RoKSk7XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gQ09QWV87XG4gICAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT1BZXzpcbiAgICAgICAgc3RhdGUubW9kZSA9IENPUFk7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgQ09QWTpcbiAgICAgICAgY29weSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgaWYgKGNvcHkpIHtcbiAgICAgICAgICBpZiAoY29weSA+IGhhdmUpIHsgY29weSA9IGhhdmU7IH1cbiAgICAgICAgICBpZiAoY29weSA+IGxlZnQpIHsgY29weSA9IGxlZnQ7IH1cbiAgICAgICAgICBpZiAoY29weSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAvLy0tLSB6bWVtY3B5KHB1dCwgbmV4dCwgY29weSk7IC0tLVxuICAgICAgICAgIHV0aWxzLmFycmF5U2V0KG91dHB1dCwgaW5wdXQsIG5leHQsIGNvcHksIHB1dCk7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgbGVmdCAtPSBjb3B5O1xuICAgICAgICAgIHB1dCArPSBjb3B5O1xuICAgICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgc3RvcmVkIGVuZFxcblwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVEFCTEU6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE0KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNCkge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5ubGVuID0gKGhvbGQgJiAweDFmKS8qQklUUyg1KSovICsgMjU3O1xuICAgICAgICAvLy0tLSBEUk9QQklUUyg1KSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gNTtcbiAgICAgICAgYml0cyAtPSA1O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLm5kaXN0ID0gKGhvbGQgJiAweDFmKS8qQklUUyg1KSovICsgMTtcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoNSkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDU7XG4gICAgICAgIGJpdHMgLT0gNTtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5uY29kZSA9IChob2xkICYgMHgwZikvKkJJVFMoNCkqLyArIDQ7XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDQpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSA0O1xuICAgICAgICBiaXRzIC09IDQ7XG4gICAgICAgIC8vLS0tLy9cbi8vI2lmbmRlZiBQS1pJUF9CVUdfV09SS0FST1VORFxuICAgICAgICBpZiAoc3RhdGUubmxlbiA+IDI4NiB8fCBzdGF0ZS5uZGlzdCA+IDMwKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAndG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHMnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgdGFibGUgc2l6ZXMgb2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5oYXZlID0gMDtcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTkxFTlM7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOTEVOUzpcbiAgICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCBzdGF0ZS5uY29kZSkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDMpO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMykge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIHN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV0gPSAoaG9sZCAmIDB4MDcpOy8vQklUUygzKTtcbiAgICAgICAgICAvLy0tLSBEUk9QQklUUygzKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSAzO1xuICAgICAgICAgIGJpdHMgLT0gMztcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCAxOSkge1xuICAgICAgICAgIHN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAgIC8vc3RhdGUubmV4dCA9IHN0YXRlLmNvZGVzO1xuICAgICAgICAvL3N0YXRlLmxlbmNvZGUgPSBzdGF0ZS5uZXh0O1xuICAgICAgICAvLyBTd2l0Y2ggdG8gdXNlIGR5bmFtaWMgdGFibGVcbiAgICAgICAgc3RhdGUubGVuY29kZSA9IHN0YXRlLmxlbmR5bjtcbiAgICAgICAgc3RhdGUubGVuYml0cyA9IDc7XG5cbiAgICAgICAgb3B0cyA9IHsgYml0czogc3RhdGUubGVuYml0cyB9O1xuICAgICAgICByZXQgPSBpbmZsYXRlX3RhYmxlKENPREVTLCBzdGF0ZS5sZW5zLCAwLCAxOSwgc3RhdGUubGVuY29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAgIHN0YXRlLmxlbmJpdHMgPSBvcHRzLmJpdHM7XG5cbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgY29kZSBsZW5ndGhzIHNldCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIGNvZGUgbGVuZ3RocyBva1xcblwiKSk7XG4gICAgICAgIHN0YXRlLmhhdmUgPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQ09ERUxFTlM7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgQ09ERUxFTlM6XG4gICAgICAgIHdoaWxlIChzdGF0ZS5oYXZlIDwgc3RhdGUubmxlbiArIHN0YXRlLm5kaXN0KSB7XG4gICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5sZW5iaXRzKSAtIDEpXTsvKkJJVFMoc3RhdGUubGVuYml0cykqL1xuICAgICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICAgIGlmICgoaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGVyZV92YWwgPCAxNikge1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdID0gaGVyZV92YWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGhlcmVfdmFsID09PSAxNikge1xuICAgICAgICAgICAgICAvLz09PSBORUVEQklUUyhoZXJlLmJpdHMgKyAyKTtcbiAgICAgICAgICAgICAgbiA9IGhlcmVfYml0cyArIDI7XG4gICAgICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5oYXZlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCc7XG4gICAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZW4gPSBzdGF0ZS5sZW5zW3N0YXRlLmhhdmUgLSAxXTtcbiAgICAgICAgICAgICAgY29weSA9IDMgKyAoaG9sZCAmIDB4MDMpOy8vQklUUygyKTtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVyZV92YWwgPT09IDE3KSB7XG4gICAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDMpO1xuICAgICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgMztcbiAgICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgICAgbGVuID0gMDtcbiAgICAgICAgICAgICAgY29weSA9IDMgKyAoaG9sZCAmIDB4MDcpOy8vQklUUygzKTtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDM7XG4gICAgICAgICAgICAgIGJpdHMgLT0gMztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDcpO1xuICAgICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgNztcbiAgICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgICAgbGVuID0gMDtcbiAgICAgICAgICAgICAgY29weSA9IDExICsgKGhvbGQgJiAweDdmKTsvL0JJVFMoNyk7XG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDcpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSA3O1xuICAgICAgICAgICAgICBiaXRzIC09IDc7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5oYXZlICsgY29weSA+IHN0YXRlLm5sZW4gKyBzdGF0ZS5uZGlzdCkge1xuICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0JztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoY29weS0tKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXSA9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiBoYW5kbGUgZXJyb3IgYnJlYWtzIGluIHdoaWxlICovXG4gICAgICAgIGlmIChzdGF0ZS5tb2RlID09PSBCQUQpIHsgYnJlYWs7IH1cblxuICAgICAgICAvKiBjaGVjayBmb3IgZW5kLW9mLWJsb2NrIGNvZGUgKGJldHRlciBoYXZlIG9uZSkgKi9cbiAgICAgICAgaWYgKHN0YXRlLmxlbnNbMjU2XSA9PT0gMCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9jayc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGJ1aWxkIGNvZGUgdGFibGVzIC0tIG5vdGU6IGRvIG5vdCBjaGFuZ2UgdGhlIGxlbmJpdHMgb3IgZGlzdGJpdHNcbiAgICAgICAgICAgdmFsdWVzIGhlcmUgKDkgYW5kIDYpIHdpdGhvdXQgcmVhZGluZyB0aGUgY29tbWVudHMgaW4gaW5mdHJlZXMuaFxuICAgICAgICAgICBjb25jZXJuaW5nIHRoZSBFTk9VR0ggY29uc3RhbnRzLCB3aGljaCBkZXBlbmQgb24gdGhvc2UgdmFsdWVzICovXG4gICAgICAgIHN0YXRlLmxlbmJpdHMgPSA5O1xuXG4gICAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmxlbmJpdHMgfTtcbiAgICAgICAgcmV0ID0gaW5mbGF0ZV90YWJsZShMRU5TLCBzdGF0ZS5sZW5zLCAwLCBzdGF0ZS5ubGVuLCBzdGF0ZS5sZW5jb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgICAgLy8gc3RhdGUubmV4dF9pbmRleCA9IG9wdHMudGFibGVfaW5kZXg7XG4gICAgICAgIHN0YXRlLmxlbmJpdHMgPSBvcHRzLmJpdHM7XG4gICAgICAgIC8vIHN0YXRlLmxlbmNvZGUgPSBzdGF0ZS5uZXh0O1xuXG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXQnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5kaXN0Yml0cyA9IDY7XG4gICAgICAgIC8vc3RhdGUuZGlzdGNvZGUuY29weShzdGF0ZS5jb2Rlcyk7XG4gICAgICAgIC8vIFN3aXRjaCB0byB1c2UgZHluYW1pYyB0YWJsZVxuICAgICAgICBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLmRpc3RkeW47XG4gICAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmRpc3RiaXRzIH07XG4gICAgICAgIHJldCA9IGluZmxhdGVfdGFibGUoRElTVFMsIHN0YXRlLmxlbnMsIHN0YXRlLm5sZW4sIHN0YXRlLm5kaXN0LCBzdGF0ZS5kaXN0Y29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAgIC8vIHN0YXRlLm5leHRfaW5kZXggPSBvcHRzLnRhYmxlX2luZGV4O1xuICAgICAgICBzdGF0ZS5kaXN0Yml0cyA9IG9wdHMuYml0cztcbiAgICAgICAgLy8gc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5uZXh0O1xuXG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlcyBzZXQnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgJ2luZmxhdGU6ICAgICAgIGNvZGVzIG9rXFxuJykpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOXztcbiAgICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIExFTl86XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU47XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOOlxuICAgICAgICBpZiAoaGF2ZSA+PSA2ICYmIGxlZnQgPj0gMjU4KSB7XG4gICAgICAgICAgLy8tLS0gUkVTVE9SRSgpIC0tLVxuICAgICAgICAgIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gICAgICAgICAgc3RybS5hdmFpbF9vdXQgPSBsZWZ0O1xuICAgICAgICAgIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gICAgICAgICAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gICAgICAgICAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gICAgICAgICAgc3RhdGUuYml0cyA9IGJpdHM7XG4gICAgICAgICAgLy8tLS1cbiAgICAgICAgICBpbmZsYXRlX2Zhc3Qoc3RybSwgX291dCk7XG4gICAgICAgICAgLy8tLS0gTE9BRCgpIC0tLVxuICAgICAgICAgIHB1dCA9IHN0cm0ubmV4dF9vdXQ7XG4gICAgICAgICAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gICAgICAgICAgbGVmdCA9IHN0cm0uYXZhaWxfb3V0O1xuICAgICAgICAgIG5leHQgPSBzdHJtLm5leHRfaW47XG4gICAgICAgICAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICAgICAgICAgIGhhdmUgPSBzdHJtLmF2YWlsX2luO1xuICAgICAgICAgIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICAgICAgICAgIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICAgICAgICAgIC8vLS0tXG5cbiAgICAgICAgICBpZiAoc3RhdGUubW9kZSA9PT0gVFlQRSkge1xuICAgICAgICAgICAgc3RhdGUuYmFjayA9IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5iYWNrID0gMDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUubGVuYml0cykgLSAxKV07ICAvKkJJVFMoc3RhdGUubGVuYml0cykqL1xuICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICBpZiAoaGVyZV9iaXRzIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVfb3AgJiYgKGhlcmVfb3AgJiAweGYwKSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RfYml0cyA9IGhlcmVfYml0cztcbiAgICAgICAgICBsYXN0X29wID0gaGVyZV9vcDtcbiAgICAgICAgICBsYXN0X3ZhbCA9IGhlcmVfdmFsO1xuICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2xhc3RfdmFsICtcbiAgICAgICAgICAgICAgICAgICAgKChob2xkICYgKCgxIDw8IChsYXN0X2JpdHMgKyBsYXN0X29wKSkgLSAxKSkvKkJJVFMobGFzdC5iaXRzICsgbGFzdC5vcCkqLyA+PiBsYXN0X2JpdHMpXTtcbiAgICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgICBpZiAoKGxhc3RfYml0cyArIGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMobGFzdC5iaXRzKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBsYXN0X2JpdHM7XG4gICAgICAgICAgYml0cyAtPSBsYXN0X2JpdHM7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIHN0YXRlLmJhY2sgKz0gbGFzdF9iaXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUuYmFjayArPSBoZXJlX2JpdHM7XG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IGhlcmVfdmFsO1xuICAgICAgICBpZiAoaGVyZV9vcCA9PT0gMCkge1xuICAgICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBoZXJlLnZhbCA+PSAweDIwICYmIGhlcmUudmFsIDwgMHg3ZiA/XG4gICAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsICclYydcXG5cIiA6XG4gICAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsIDB4JTAyeFxcblwiLCBoZXJlLnZhbCkpO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBMSVQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVfb3AgJiAzMikge1xuICAgICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZW5kIG9mIGJsb2NrXFxuXCIpKTtcbiAgICAgICAgICBzdGF0ZS5iYWNrID0gLTE7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVfb3AgJiA2NCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5leHRyYSA9IGhlcmVfb3AgJiAxNTtcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTkVYVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU5FWFQ6XG4gICAgICAgIGlmIChzdGF0ZS5leHRyYSkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKHN0YXRlLmV4dHJhKTtcbiAgICAgICAgICBuID0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgc3RhdGUubGVuZ3RoICs9IGhvbGQgJiAoKDEgPDwgc3RhdGUuZXh0cmEpIC0gMSkvKkJJVFMoc3RhdGUuZXh0cmEpKi87XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMoc3RhdGUuZXh0cmEpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIGJpdHMgLT0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIHN0YXRlLmJhY2sgKz0gc3RhdGUuZXh0cmE7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBsZW5ndGggJXVcXG5cIiwgc3RhdGUubGVuZ3RoKSk7XG4gICAgICAgIHN0YXRlLndhcyA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgc3RhdGUubW9kZSA9IERJU1Q7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRElTVDpcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGhlcmUgPSBzdGF0ZS5kaXN0Y29kZVtob2xkICYgKCgxIDw8IHN0YXRlLmRpc3RiaXRzKSAtIDEpXTsvKkJJVFMoc3RhdGUuZGlzdGJpdHMpKi9cbiAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgaWYgKChoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgaWYgKChoZXJlX29wICYgMHhmMCkgPT09IDApIHtcbiAgICAgICAgICBsYXN0X2JpdHMgPSBoZXJlX2JpdHM7XG4gICAgICAgICAgbGFzdF9vcCA9IGhlcmVfb3A7XG4gICAgICAgICAgbGFzdF92YWwgPSBoZXJlX3ZhbDtcbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBoZXJlID0gc3RhdGUuZGlzdGNvZGVbbGFzdF92YWwgK1xuICAgICAgICAgICAgICAgICAgICAoKGhvbGQgJiAoKDEgPDwgKGxhc3RfYml0cyArIGxhc3Rfb3ApKSAtIDEpKS8qQklUUyhsYXN0LmJpdHMgKyBsYXN0Lm9wKSovID4+IGxhc3RfYml0cyldO1xuICAgICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICAgIGlmICgobGFzdF9iaXRzICsgaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhsYXN0LmJpdHMpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IGxhc3RfYml0cztcbiAgICAgICAgICBiaXRzIC09IGxhc3RfYml0cztcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUuYmFjayArPSBsYXN0X2JpdHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5iYWNrICs9IGhlcmVfYml0cztcbiAgICAgICAgaWYgKGhlcmVfb3AgJiA2NCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgY29kZSc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5vZmZzZXQgPSBoZXJlX3ZhbDtcbiAgICAgICAgc3RhdGUuZXh0cmEgPSAoaGVyZV9vcCkgJiAxNTtcbiAgICAgICAgc3RhdGUubW9kZSA9IERJU1RFWFQ7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRElTVEVYVDpcbiAgICAgICAgaWYgKHN0YXRlLmV4dHJhKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoc3RhdGUuZXh0cmEpO1xuICAgICAgICAgIG4gPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5vZmZzZXQgKz0gaG9sZCAmICgoMSA8PCBzdGF0ZS5leHRyYSkgLSAxKS8qQklUUyhzdGF0ZS5leHRyYSkqLztcbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhzdGF0ZS5leHRyYSkgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgYml0cyAtPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUuYmFjayArPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgfVxuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgICAgICAgaWYgKHN0YXRlLm9mZnNldCA+IHN0YXRlLmRtYXgpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBkaXN0YW5jZSAldVxcblwiLCBzdGF0ZS5vZmZzZXQpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IE1BVENIO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIE1BVENIOlxuICAgICAgICBpZiAobGVmdCA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgY29weSA9IF9vdXQgLSBsZWZ0O1xuICAgICAgICBpZiAoc3RhdGUub2Zmc2V0ID4gY29weSkgeyAgICAgICAgIC8qIGNvcHkgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICBjb3B5ID0gc3RhdGUub2Zmc2V0IC0gY29weTtcbiAgICAgICAgICBpZiAoY29weSA+IHN0YXRlLndoYXZlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuc2FuZSkge1xuICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhdWx0cyxcbi8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbi8vI2lmZGVmIElORkxBVEVfQUxMT1dfSU5WQUxJRF9ESVNUQU5DRV9UT09GQVJfQVJSUlxuLy8gICAgICAgICAgVHJhY2UoKHN0ZGVyciwgXCJpbmZsYXRlLmMgdG9vIGZhclxcblwiKSk7XG4vLyAgICAgICAgICBjb3B5IC09IHN0YXRlLndoYXZlO1xuLy8gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS5sZW5ndGgpIHsgY29weSA9IHN0YXRlLmxlbmd0aDsgfVxuLy8gICAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4vLyAgICAgICAgICBsZWZ0IC09IGNvcHk7XG4vLyAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbi8vICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgb3V0cHV0W3B1dCsrXSA9IDA7XG4vLyAgICAgICAgICB9IHdoaWxlICgtLWNvcHkpO1xuLy8gICAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgeyBzdGF0ZS5tb2RlID0gTEVOOyB9XG4vLyAgICAgICAgICBicmVhaztcbi8vI2VuZGlmXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3B5ID4gc3RhdGUud25leHQpIHtcbiAgICAgICAgICAgIGNvcHkgLT0gc3RhdGUud25leHQ7XG4gICAgICAgICAgICBmcm9tID0gc3RhdGUud3NpemUgLSBjb3B5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZyb20gPSBzdGF0ZS53bmV4dCAtIGNvcHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3B5ID4gc3RhdGUubGVuZ3RoKSB7IGNvcHkgPSBzdGF0ZS5sZW5ndGg7IH1cbiAgICAgICAgICBmcm9tX3NvdXJjZSA9IHN0YXRlLndpbmRvdztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBjb3B5IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgZnJvbSA9IHB1dCAtIHN0YXRlLm9mZnNldDtcbiAgICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3B5ID4gbGVmdCkgeyBjb3B5ID0gbGVmdDsgfVxuICAgICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgb3V0cHV0W3B1dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgIH0gd2hpbGUgKC0tY29weSk7XG4gICAgICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHsgc3RhdGUubW9kZSA9IExFTjsgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTElUOlxuICAgICAgICBpZiAobGVmdCA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgb3V0cHV0W3B1dCsrXSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgbGVmdC0tO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ0hFQ0s6XG4gICAgICAgIGlmIChzdGF0ZS53cmFwKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgLy8gVXNlICd8JyBpbnN0ZWFkIG9mICcrJyB0byBtYWtlIHN1cmUgdGhhdCByZXN1bHQgaXMgc2lnbmVkXG4gICAgICAgICAgICBob2xkIHw9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIF9vdXQgLT0gbGVmdDtcbiAgICAgICAgICBzdHJtLnRvdGFsX291dCArPSBfb3V0O1xuICAgICAgICAgIHN0YXRlLnRvdGFsICs9IF9vdXQ7XG4gICAgICAgICAgaWYgKF9vdXQpIHtcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9XG4gICAgICAgICAgICAgICAgLypVUERBVEUoc3RhdGUuY2hlY2ssIHB1dCAtIF9vdXQsIF9vdXQpOyovXG4gICAgICAgICAgICAgICAgKHN0YXRlLmZsYWdzID8gY3JjMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgcHV0IC0gX291dCkgOiBhZGxlcjMyKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHB1dCAtIF9vdXQpKTtcblxuICAgICAgICAgIH1cbiAgICAgICAgICBfb3V0ID0gbGVmdDtcbiAgICAgICAgICAvLyBOQjogY3JjMzIgc3RvcmVkIGFzIHNpZ25lZCAzMi1iaXQgaW50LCB6c3dhcDMyIHJldHVybnMgc2lnbmVkIHRvb1xuICAgICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgPyBob2xkIDogenN3YXAzMihob2xkKSkgIT09IHN0YXRlLmNoZWNrKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgZGF0YSBjaGVjayc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICBjaGVjayBtYXRjaGVzIHRyYWlsZXJcXG5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU5HVEg7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOR1RIOlxuICAgICAgICBpZiAoc3RhdGUud3JhcCAmJiBzdGF0ZS5mbGFncykge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTtcbiAgICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgaWYgKGhvbGQgIT09IChzdGF0ZS50b3RhbCAmIDB4ZmZmZmZmZmYpKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGxlbmd0aCBtYXRjaGVzIHRyYWlsZXJcXG5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm1vZGUgPSBET05FO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIERPTkU6XG4gICAgICAgIHJldCA9IFpfU1RSRUFNX0VORDtcbiAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgY2FzZSBCQUQ6XG4gICAgICAgIHJldCA9IFpfREFUQV9FUlJPUjtcbiAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgY2FzZSBNRU06XG4gICAgICAgIHJldHVybiBaX01FTV9FUlJPUjtcbiAgICAgIGNhc2UgU1lOQzpcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICAgIH1cbiAgfVxuXG4gIC8vIGluZl9sZWF2ZSA8LSBoZXJlIGlzIHJlYWwgcGxhY2UgZm9yIFwiZ290byBpbmZfbGVhdmVcIiwgZW11bGF0ZWQgdmlhIFwiYnJlYWsgaW5mX2xlYXZlXCJcblxuICAvKlxuICAgICBSZXR1cm4gZnJvbSBpbmZsYXRlKCksIHVwZGF0aW5nIHRoZSB0b3RhbCBjb3VudHMgYW5kIHRoZSBjaGVjayB2YWx1ZS5cbiAgICAgSWYgdGhlcmUgd2FzIG5vIHByb2dyZXNzIGR1cmluZyB0aGUgaW5mbGF0ZSgpIGNhbGwsIHJldHVybiBhIGJ1ZmZlclxuICAgICBlcnJvci4gIENhbGwgdXBkYXRld2luZG93KCkgdG8gY3JlYXRlIGFuZC9vciB1cGRhdGUgdGhlIHdpbmRvdyBzdGF0ZS5cbiAgICAgTm90ZTogYSBtZW1vcnkgZXJyb3IgZnJvbSBpbmZsYXRlKCkgaXMgbm9uLXJlY292ZXJhYmxlLlxuICAgKi9cblxuICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gIHN0YXRlLmhvbGQgPSBob2xkO1xuICBzdGF0ZS5iaXRzID0gYml0cztcbiAgLy8tLS1cblxuICBpZiAoc3RhdGUud3NpemUgfHwgKF9vdXQgIT09IHN0cm0uYXZhaWxfb3V0ICYmIHN0YXRlLm1vZGUgPCBCQUQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA8IENIRUNLIHx8IGZsdXNoICE9PSBaX0ZJTklTSCkpKSB7XG4gICAgaWYgKHVwZGF0ZXdpbmRvdyhzdHJtLCBzdHJtLm91dHB1dCwgc3RybS5uZXh0X291dCwgX291dCAtIHN0cm0uYXZhaWxfb3V0KSkge1xuICAgICAgc3RhdGUubW9kZSA9IE1FTTtcbiAgICAgIHJldHVybiBaX01FTV9FUlJPUjtcbiAgICB9XG4gIH1cbiAgX2luIC09IHN0cm0uYXZhaWxfaW47XG4gIF9vdXQgLT0gc3RybS5hdmFpbF9vdXQ7XG4gIHN0cm0udG90YWxfaW4gKz0gX2luO1xuICBzdHJtLnRvdGFsX291dCArPSBfb3V0O1xuICBzdGF0ZS50b3RhbCArPSBfb3V0O1xuICBpZiAoc3RhdGUud3JhcCAmJiBfb3V0KSB7XG4gICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gLypVUERBVEUoc3RhdGUuY2hlY2ssIHN0cm0ubmV4dF9vdXQgLSBfb3V0LCBfb3V0KTsqL1xuICAgICAgKHN0YXRlLmZsYWdzID8gY3JjMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgc3RybS5uZXh0X291dCAtIF9vdXQpIDogYWRsZXIzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBzdHJtLm5leHRfb3V0IC0gX291dCkpO1xuICB9XG4gIHN0cm0uZGF0YV90eXBlID0gc3RhdGUuYml0cyArIChzdGF0ZS5sYXN0ID8gNjQgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlID09PSBUWVBFID8gMTI4IDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA9PT0gTEVOXyB8fCBzdGF0ZS5tb2RlID09PSBDT1BZXyA/IDI1NiA6IDApO1xuICBpZiAoKChfaW4gPT09IDAgJiYgX291dCA9PT0gMCkgfHwgZmx1c2ggPT09IFpfRklOSVNIKSAmJiByZXQgPT09IFpfT0spIHtcbiAgICByZXQgPSBaX0JVRl9FUlJPUjtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBpbmZsYXRlRW5kKHN0cm0pIHtcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUgLyp8fCBzdHJtLT56ZnJlZSA9PSAoZnJlZV9mdW5jKTAqLykge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHZhciBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmIChzdGF0ZS53aW5kb3cpIHtcbiAgICBzdGF0ZS53aW5kb3cgPSBudWxsO1xuICB9XG4gIHN0cm0uc3RhdGUgPSBudWxsO1xuICByZXR1cm4gWl9PSztcbn1cblxuZnVuY3Rpb24gaW5mbGF0ZUdldEhlYWRlcihzdHJtLCBoZWFkKSB7XG4gIHZhciBzdGF0ZTtcblxuICAvKiBjaGVjayBzdGF0ZSAqL1xuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKChzdGF0ZS53cmFwICYgMikgPT09IDApIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG5cbiAgLyogc2F2ZSBoZWFkZXIgc3RydWN0dXJlICovXG4gIHN0YXRlLmhlYWQgPSBoZWFkO1xuICBoZWFkLmRvbmUgPSBmYWxzZTtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmZ1bmN0aW9uIGluZmxhdGVTZXREaWN0aW9uYXJ5KHN0cm0sIGRpY3Rpb25hcnkpIHtcbiAgdmFyIGRpY3RMZW5ndGggPSBkaWN0aW9uYXJ5Lmxlbmd0aDtcblxuICB2YXIgc3RhdGU7XG4gIHZhciBkaWN0aWQ7XG4gIHZhciByZXQ7XG5cbiAgLyogY2hlY2sgc3RhdGUgKi9cbiAgaWYgKCFzdHJtIC8qID09IFpfTlVMTCAqLyB8fCAhc3RybS5zdGF0ZSAvKiA9PSBaX05VTEwgKi8pIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICBpZiAoc3RhdGUud3JhcCAhPT0gMCAmJiBzdGF0ZS5tb2RlICE9PSBESUNUKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgLyogY2hlY2sgZm9yIGNvcnJlY3QgZGljdGlvbmFyeSBpZGVudGlmaWVyICovXG4gIGlmIChzdGF0ZS5tb2RlID09PSBESUNUKSB7XG4gICAgZGljdGlkID0gMTsgLyogYWRsZXIzMigwLCBudWxsLCAwKSovXG4gICAgLyogZGljdGlkID0gYWRsZXIzMihkaWN0aWQsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgpOyAqL1xuICAgIGRpY3RpZCA9IGFkbGVyMzIoZGljdGlkLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoLCAwKTtcbiAgICBpZiAoZGljdGlkICE9PSBzdGF0ZS5jaGVjaykge1xuICAgICAgcmV0dXJuIFpfREFUQV9FUlJPUjtcbiAgICB9XG4gIH1cbiAgLyogY29weSBkaWN0aW9uYXJ5IHRvIHdpbmRvdyB1c2luZyB1cGRhdGV3aW5kb3coKSwgd2hpY2ggd2lsbCBhbWVuZCB0aGVcbiAgIGV4aXN0aW5nIGRpY3Rpb25hcnkgaWYgYXBwcm9wcmlhdGUgKi9cbiAgcmV0ID0gdXBkYXRld2luZG93KHN0cm0sIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIGRpY3RMZW5ndGgpO1xuICBpZiAocmV0KSB7XG4gICAgc3RhdGUubW9kZSA9IE1FTTtcbiAgICByZXR1cm4gWl9NRU1fRVJST1I7XG4gIH1cbiAgc3RhdGUuaGF2ZWRpY3QgPSAxO1xuICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGRpY3Rpb25hcnkgc2V0XFxuXCIpKTtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmV4cG9ydHMuaW5mbGF0ZVJlc2V0ID0gaW5mbGF0ZVJlc2V0O1xuZXhwb3J0cy5pbmZsYXRlUmVzZXQyID0gaW5mbGF0ZVJlc2V0MjtcbmV4cG9ydHMuaW5mbGF0ZVJlc2V0S2VlcCA9IGluZmxhdGVSZXNldEtlZXA7XG5leHBvcnRzLmluZmxhdGVJbml0ID0gaW5mbGF0ZUluaXQ7XG5leHBvcnRzLmluZmxhdGVJbml0MiA9IGluZmxhdGVJbml0MjtcbmV4cG9ydHMuaW5mbGF0ZSA9IGluZmxhdGU7XG5leHBvcnRzLmluZmxhdGVFbmQgPSBpbmZsYXRlRW5kO1xuZXhwb3J0cy5pbmZsYXRlR2V0SGVhZGVyID0gaW5mbGF0ZUdldEhlYWRlcjtcbmV4cG9ydHMuaW5mbGF0ZVNldERpY3Rpb25hcnkgPSBpbmZsYXRlU2V0RGljdGlvbmFyeTtcbmV4cG9ydHMuaW5mbGF0ZUluZm8gPSAncGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSc7XG5cbi8qIE5vdCBpbXBsZW1lbnRlZFxuZXhwb3J0cy5pbmZsYXRlQ29weSA9IGluZmxhdGVDb3B5O1xuZXhwb3J0cy5pbmZsYXRlR2V0RGljdGlvbmFyeSA9IGluZmxhdGVHZXREaWN0aW9uYXJ5O1xuZXhwb3J0cy5pbmZsYXRlTWFyayA9IGluZmxhdGVNYXJrO1xuZXhwb3J0cy5pbmZsYXRlUHJpbWUgPSBpbmZsYXRlUHJpbWU7XG5leHBvcnRzLmluZmxhdGVTeW5jID0gaW5mbGF0ZVN5bmM7XG5leHBvcnRzLmluZmxhdGVTeW5jUG9pbnQgPSBpbmZsYXRlU3luY1BvaW50O1xuZXhwb3J0cy5pbmZsYXRlVW5kZXJtaW5lID0gaW5mbGF0ZVVuZGVybWluZTtcbiovXG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXG4gIC8qIEFsbG93ZWQgZmx1c2ggdmFsdWVzOyBzZWUgZGVmbGF0ZSgpIGFuZCBpbmZsYXRlKCkgYmVsb3cgZm9yIGRldGFpbHMgKi9cbiAgWl9OT19GTFVTSDogICAgICAgICAwLFxuICBaX1BBUlRJQUxfRkxVU0g6ICAgIDEsXG4gIFpfU1lOQ19GTFVTSDogICAgICAgMixcbiAgWl9GVUxMX0ZMVVNIOiAgICAgICAzLFxuICBaX0ZJTklTSDogICAgICAgICAgIDQsXG4gIFpfQkxPQ0s6ICAgICAgICAgICAgNSxcbiAgWl9UUkVFUzogICAgICAgICAgICA2LFxuXG4gIC8qIFJldHVybiBjb2RlcyBmb3IgdGhlIGNvbXByZXNzaW9uL2RlY29tcHJlc3Npb24gZnVuY3Rpb25zLiBOZWdhdGl2ZSB2YWx1ZXNcbiAgKiBhcmUgZXJyb3JzLCBwb3NpdGl2ZSB2YWx1ZXMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgYnV0IG5vcm1hbCBldmVudHMuXG4gICovXG4gIFpfT0s6ICAgICAgICAgICAgICAgMCxcbiAgWl9TVFJFQU1fRU5EOiAgICAgICAxLFxuICBaX05FRURfRElDVDogICAgICAgIDIsXG4gIFpfRVJSTk86ICAgICAgICAgICAtMSxcbiAgWl9TVFJFQU1fRVJST1I6ICAgIC0yLFxuICBaX0RBVEFfRVJST1I6ICAgICAgLTMsXG4gIC8vWl9NRU1fRVJST1I6ICAgICAtNCxcbiAgWl9CVUZfRVJST1I6ICAgICAgIC01LFxuICAvL1pfVkVSU0lPTl9FUlJPUjogLTYsXG5cbiAgLyogY29tcHJlc3Npb24gbGV2ZWxzICovXG4gIFpfTk9fQ09NUFJFU1NJT046ICAgICAgICAgMCxcbiAgWl9CRVNUX1NQRUVEOiAgICAgICAgICAgICAxLFxuICBaX0JFU1RfQ09NUFJFU1NJT046ICAgICAgIDksXG4gIFpfREVGQVVMVF9DT01QUkVTU0lPTjogICAtMSxcblxuXG4gIFpfRklMVEVSRUQ6ICAgICAgICAgICAgICAgMSxcbiAgWl9IVUZGTUFOX09OTFk6ICAgICAgICAgICAyLFxuICBaX1JMRTogICAgICAgICAgICAgICAgICAgIDMsXG4gIFpfRklYRUQ6ICAgICAgICAgICAgICAgICAgNCxcbiAgWl9ERUZBVUxUX1NUUkFURUdZOiAgICAgICAwLFxuXG4gIC8qIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZGF0YV90eXBlIGZpZWxkICh0aG91Z2ggc2VlIGluZmxhdGUoKSkgKi9cbiAgWl9CSU5BUlk6ICAgICAgICAgICAgICAgICAwLFxuICBaX1RFWFQ6ICAgICAgICAgICAgICAgICAgIDEsXG4gIC8vWl9BU0NJSTogICAgICAgICAgICAgICAgMSwgLy8gPSBaX1RFWFQgKGRlcHJlY2F0ZWQpXG4gIFpfVU5LTk9XTjogICAgICAgICAgICAgICAgMixcblxuICAvKiBUaGUgZGVmbGF0ZSBjb21wcmVzc2lvbiBtZXRob2QgKi9cbiAgWl9ERUZMQVRFRDogICAgICAgICAgICAgICA4XG4gIC8vWl9OVUxMOiAgICAgICAgICAgICAgICAgbnVsbCAvLyBVc2UgLTEgb3IgbnVsbCBpbmxpbmUsIGRlcGVuZGluZyBvbiB2YXIgdHlwZVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuZnVuY3Rpb24gR1poZWFkZXIoKSB7XG4gIC8qIHRydWUgaWYgY29tcHJlc3NlZCBkYXRhIGJlbGlldmVkIHRvIGJlIHRleHQgKi9cbiAgdGhpcy50ZXh0ICAgICAgID0gMDtcbiAgLyogbW9kaWZpY2F0aW9uIHRpbWUgKi9cbiAgdGhpcy50aW1lICAgICAgID0gMDtcbiAgLyogZXh0cmEgZmxhZ3MgKG5vdCB1c2VkIHdoZW4gd3JpdGluZyBhIGd6aXAgZmlsZSkgKi9cbiAgdGhpcy54ZmxhZ3MgICAgID0gMDtcbiAgLyogb3BlcmF0aW5nIHN5c3RlbSAqL1xuICB0aGlzLm9zICAgICAgICAgPSAwO1xuICAvKiBwb2ludGVyIHRvIGV4dHJhIGZpZWxkIG9yIFpfTlVMTCBpZiBub25lICovXG4gIHRoaXMuZXh0cmEgICAgICA9IG51bGw7XG4gIC8qIGV4dHJhIGZpZWxkIGxlbmd0aCAodmFsaWQgaWYgZXh0cmEgIT0gWl9OVUxMKSAqL1xuICB0aGlzLmV4dHJhX2xlbiAgPSAwOyAvLyBBY3R1YWxseSwgd2UgZG9uJ3QgbmVlZCBpdCBpbiBKUyxcbiAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGxlYXZlIGZvciBmZXcgY29kZSBtb2RpZmljYXRpb25zXG5cbiAgLy9cbiAgLy8gU2V0dXAgbGltaXRzIGlzIG5vdCBuZWNlc3NhcnkgYmVjYXVzZSBpbiBqcyB3ZSBzaG91bGQgbm90IHByZWFsbG9jYXRlIG1lbW9yeVxuICAvLyBmb3IgaW5mbGF0ZSB1c2UgY29uc3RhbnQgbGltaXQgaW4gNjU1MzYgYnl0ZXNcbiAgLy9cblxuICAvKiBzcGFjZSBhdCBleHRyYSAob25seSB3aGVuIHJlYWRpbmcgaGVhZGVyKSAqL1xuICAvLyB0aGlzLmV4dHJhX21heCAgPSAwO1xuICAvKiBwb2ludGVyIHRvIHplcm8tdGVybWluYXRlZCBmaWxlIG5hbWUgb3IgWl9OVUxMICovXG4gIHRoaXMubmFtZSAgICAgICA9ICcnO1xuICAvKiBzcGFjZSBhdCBuYW1lIChvbmx5IHdoZW4gcmVhZGluZyBoZWFkZXIpICovXG4gIC8vIHRoaXMubmFtZV9tYXggICA9IDA7XG4gIC8qIHBvaW50ZXIgdG8gemVyby10ZXJtaW5hdGVkIGNvbW1lbnQgb3IgWl9OVUxMICovXG4gIHRoaXMuY29tbWVudCAgICA9ICcnO1xuICAvKiBzcGFjZSBhdCBjb21tZW50IChvbmx5IHdoZW4gcmVhZGluZyBoZWFkZXIpICovXG4gIC8vIHRoaXMuY29tbV9tYXggICA9IDA7XG4gIC8qIHRydWUgaWYgdGhlcmUgd2FzIG9yIHdpbGwgYmUgYSBoZWFkZXIgY3JjICovXG4gIHRoaXMuaGNyYyAgICAgICA9IDA7XG4gIC8qIHRydWUgd2hlbiBkb25lIHJlYWRpbmcgZ3ppcCBoZWFkZXIgKG5vdCB1c2VkIHdoZW4gd3JpdGluZyBhIGd6aXAgZmlsZSkgKi9cbiAgdGhpcy5kb25lICAgICAgID0gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gR1poZWFkZXI7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciB6bGliX2luZmxhdGUgPSByZXF1aXJlKCcuL3psaWIvaW5mbGF0ZScpO1xudmFyIHV0aWxzICAgICAgICA9IHJlcXVpcmUoJy4vdXRpbHMvY29tbW9uJyk7XG52YXIgc3RyaW5ncyAgICAgID0gcmVxdWlyZSgnLi91dGlscy9zdHJpbmdzJyk7XG52YXIgYyAgICAgICAgICAgID0gcmVxdWlyZSgnLi96bGliL2NvbnN0YW50cycpO1xudmFyIG1zZyAgICAgICAgICA9IHJlcXVpcmUoJy4vemxpYi9tZXNzYWdlcycpO1xudmFyIFpTdHJlYW0gICAgICA9IHJlcXVpcmUoJy4vemxpYi96c3RyZWFtJyk7XG52YXIgR1poZWFkZXIgICAgID0gcmVxdWlyZSgnLi96bGliL2d6aGVhZGVyJyk7XG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogY2xhc3MgSW5mbGF0ZVxuICpcbiAqIEdlbmVyaWMgSlMtc3R5bGUgd3JhcHBlciBmb3IgemxpYiBjYWxscy4gSWYgeW91IGRvbid0IG5lZWRcbiAqIHN0cmVhbWluZyBiZWhhdmlvdXIgLSB1c2UgbW9yZSBzaW1wbGUgZnVuY3Rpb25zOiBbW2luZmxhdGVdXVxuICogYW5kIFtbaW5mbGF0ZVJhd11dLlxuICoqL1xuXG4vKiBpbnRlcm5hbFxuICogaW5mbGF0ZS5jaHVua3MgLT4gQXJyYXlcbiAqXG4gKiBDaHVua3Mgb2Ygb3V0cHV0IGRhdGEsIGlmIFtbSW5mbGF0ZSNvbkRhdGFdXSBub3Qgb3ZlcnJpZGRlbi5cbiAqKi9cblxuLyoqXG4gKiBJbmZsYXRlLnJlc3VsdCAtPiBVaW50OEFycmF5fEFycmF5fFN0cmluZ1xuICpcbiAqIFVuY29tcHJlc3NlZCByZXN1bHQsIGdlbmVyYXRlZCBieSBkZWZhdWx0IFtbSW5mbGF0ZSNvbkRhdGFdXVxuICogYW5kIFtbSW5mbGF0ZSNvbkVuZF1dIGhhbmRsZXJzLiBGaWxsZWQgYWZ0ZXIgeW91IHB1c2ggbGFzdCBjaHVua1xuICogKGNhbGwgW1tJbmZsYXRlI3B1c2hdXSB3aXRoIGBaX0ZJTklTSGAgLyBgdHJ1ZWAgcGFyYW0pIG9yIGlmIHlvdVxuICogcHVzaCBhIGNodW5rIHdpdGggZXhwbGljaXQgZmx1c2ggKGNhbGwgW1tJbmZsYXRlI3B1c2hdXSB3aXRoXG4gKiBgWl9TWU5DX0ZMVVNIYCBwYXJhbSkuXG4gKiovXG5cbi8qKlxuICogSW5mbGF0ZS5lcnIgLT4gTnVtYmVyXG4gKlxuICogRXJyb3IgY29kZSBhZnRlciBpbmZsYXRlIGZpbmlzaGVkLiAwIChaX09LKSBvbiBzdWNjZXNzLlxuICogU2hvdWxkIGJlIGNoZWNrZWQgaWYgYnJva2VuIGRhdGEgcG9zc2libGUuXG4gKiovXG5cbi8qKlxuICogSW5mbGF0ZS5tc2cgLT4gU3RyaW5nXG4gKlxuICogRXJyb3IgbWVzc2FnZSwgaWYgW1tJbmZsYXRlLmVycl1dICE9IDBcbiAqKi9cblxuXG4vKipcbiAqIG5ldyBJbmZsYXRlKG9wdGlvbnMpXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgaW5mbGF0ZSBvcHRpb25zLlxuICpcbiAqIENyZWF0ZXMgbmV3IGluZmxhdG9yIGluc3RhbmNlIHdpdGggc3BlY2lmaWVkIHBhcmFtcy4gVGhyb3dzIGV4Y2VwdGlvblxuICogb24gYmFkIHBhcmFtcy4gU3VwcG9ydGVkIG9wdGlvbnM6XG4gKlxuICogLSBgd2luZG93Qml0c2BcbiAqIC0gYGRpY3Rpb25hcnlgXG4gKlxuICogW2h0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZF0oaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkKVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlc2UuXG4gKlxuICogQWRkaXRpb25hbCBvcHRpb25zLCBmb3IgaW50ZXJuYWwgbmVlZHM6XG4gKlxuICogLSBgY2h1bmtTaXplYCAtIHNpemUgb2YgZ2VuZXJhdGVkIGRhdGEgY2h1bmtzICgxNksgYnkgZGVmYXVsdClcbiAqIC0gYHJhd2AgKEJvb2xlYW4pIC0gZG8gcmF3IGluZmxhdGVcbiAqIC0gYHRvYCAoU3RyaW5nKSAtIGlmIGVxdWFsIHRvICdzdHJpbmcnLCB0aGVuIHJlc3VsdCB3aWxsIGJlIGNvbnZlcnRlZFxuICogICBmcm9tIHV0ZjggdG8gdXRmMTYgKGphdmFzY3JpcHQpIHN0cmluZy4gV2hlbiBzdHJpbmcgb3V0cHV0IHJlcXVlc3RlZCxcbiAqICAgY2h1bmsgbGVuZ3RoIGNhbiBkaWZmZXIgZnJvbSBgY2h1bmtTaXplYCwgZGVwZW5kaW5nIG9uIGNvbnRlbnQuXG4gKlxuICogQnkgZGVmYXVsdCwgd2hlbiBubyBvcHRpb25zIHNldCwgYXV0b2RldGVjdCBkZWZsYXRlL2d6aXAgZGF0YSBmb3JtYXQgdmlhXG4gKiB3cmFwcGVyIGhlYWRlci5cbiAqXG4gKiAjIyMjIyBFeGFtcGxlOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHZhciBwYWtvID0gcmVxdWlyZSgncGFrbycpXG4gKiAgICwgY2h1bmsxID0gVWludDhBcnJheShbMSwyLDMsNCw1LDYsNyw4LDldKVxuICogICAsIGNodW5rMiA9IFVpbnQ4QXJyYXkoWzEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5XSk7XG4gKlxuICogdmFyIGluZmxhdGUgPSBuZXcgcGFrby5JbmZsYXRlKHsgbGV2ZWw6IDN9KTtcbiAqXG4gKiBpbmZsYXRlLnB1c2goY2h1bmsxLCBmYWxzZSk7XG4gKiBpbmZsYXRlLnB1c2goY2h1bmsyLCB0cnVlKTsgIC8vIHRydWUgLT4gbGFzdCBjaHVua1xuICpcbiAqIGlmIChpbmZsYXRlLmVycikgeyB0aHJvdyBuZXcgRXJyb3IoaW5mbGF0ZS5lcnIpOyB9XG4gKlxuICogY29uc29sZS5sb2coaW5mbGF0ZS5yZXN1bHQpO1xuICogYGBgXG4gKiovXG5mdW5jdGlvbiBJbmZsYXRlKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEluZmxhdGUpKSByZXR1cm4gbmV3IEluZmxhdGUob3B0aW9ucyk7XG5cbiAgdGhpcy5vcHRpb25zID0gdXRpbHMuYXNzaWduKHtcbiAgICBjaHVua1NpemU6IDE2Mzg0LFxuICAgIHdpbmRvd0JpdHM6IDAsXG4gICAgdG86ICcnXG4gIH0sIG9wdGlvbnMgfHwge30pO1xuXG4gIHZhciBvcHQgPSB0aGlzLm9wdGlvbnM7XG5cbiAgLy8gRm9yY2Ugd2luZG93IHNpemUgZm9yIGByYXdgIGRhdGEsIGlmIG5vdCBzZXQgZGlyZWN0bHksXG4gIC8vIGJlY2F1c2Ugd2UgaGF2ZSBubyBoZWFkZXIgZm9yIGF1dG9kZXRlY3QuXG4gIGlmIChvcHQucmF3ICYmIChvcHQud2luZG93Qml0cyA+PSAwKSAmJiAob3B0LndpbmRvd0JpdHMgPCAxNikpIHtcbiAgICBvcHQud2luZG93Qml0cyA9IC1vcHQud2luZG93Qml0cztcbiAgICBpZiAob3B0LndpbmRvd0JpdHMgPT09IDApIHsgb3B0LndpbmRvd0JpdHMgPSAtMTU7IH1cbiAgfVxuXG4gIC8vIElmIGB3aW5kb3dCaXRzYCBub3QgZGVmaW5lZCAoYW5kIG1vZGUgbm90IHJhdykgLSBzZXQgYXV0b2RldGVjdCBmbGFnIGZvciBnemlwL2RlZmxhdGVcbiAgaWYgKChvcHQud2luZG93Qml0cyA+PSAwKSAmJiAob3B0LndpbmRvd0JpdHMgPCAxNikgJiZcbiAgICAgICEob3B0aW9ucyAmJiBvcHRpb25zLndpbmRvd0JpdHMpKSB7XG4gICAgb3B0LndpbmRvd0JpdHMgKz0gMzI7XG4gIH1cblxuICAvLyBHemlwIGhlYWRlciBoYXMgbm8gaW5mbyBhYm91dCB3aW5kb3dzIHNpemUsIHdlIGNhbiBkbyBhdXRvZGV0ZWN0IG9ubHlcbiAgLy8gZm9yIGRlZmxhdGUuIFNvLCBpZiB3aW5kb3cgc2l6ZSBub3Qgc2V0LCBmb3JjZSBpdCB0byBtYXggd2hlbiBnemlwIHBvc3NpYmxlXG4gIGlmICgob3B0LndpbmRvd0JpdHMgPiAxNSkgJiYgKG9wdC53aW5kb3dCaXRzIDwgNDgpKSB7XG4gICAgLy8gYml0IDMgKDE2KSAtPiBnemlwcGVkIGRhdGFcbiAgICAvLyBiaXQgNCAoMzIpIC0+IGF1dG9kZXRlY3QgZ3ppcC9kZWZsYXRlXG4gICAgaWYgKChvcHQud2luZG93Qml0cyAmIDE1KSA9PT0gMCkge1xuICAgICAgb3B0LndpbmRvd0JpdHMgfD0gMTU7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5lcnIgICAgPSAwOyAgICAgIC8vIGVycm9yIGNvZGUsIGlmIGhhcHBlbnMgKDAgPSBaX09LKVxuICB0aGlzLm1zZyAgICA9ICcnOyAgICAgLy8gZXJyb3IgbWVzc2FnZVxuICB0aGlzLmVuZGVkICA9IGZhbHNlOyAgLy8gdXNlZCB0byBhdm9pZCBtdWx0aXBsZSBvbkVuZCgpIGNhbGxzXG4gIHRoaXMuY2h1bmtzID0gW107ICAgICAvLyBjaHVua3Mgb2YgY29tcHJlc3NlZCBkYXRhXG5cbiAgdGhpcy5zdHJtICAgPSBuZXcgWlN0cmVhbSgpO1xuICB0aGlzLnN0cm0uYXZhaWxfb3V0ID0gMDtcblxuICB2YXIgc3RhdHVzICA9IHpsaWJfaW5mbGF0ZS5pbmZsYXRlSW5pdDIoXG4gICAgdGhpcy5zdHJtLFxuICAgIG9wdC53aW5kb3dCaXRzXG4gICk7XG5cbiAgaWYgKHN0YXR1cyAhPT0gYy5aX09LKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZ1tzdGF0dXNdKTtcbiAgfVxuXG4gIHRoaXMuaGVhZGVyID0gbmV3IEdaaGVhZGVyKCk7XG5cbiAgemxpYl9pbmZsYXRlLmluZmxhdGVHZXRIZWFkZXIodGhpcy5zdHJtLCB0aGlzLmhlYWRlcik7XG5cbiAgLy8gU2V0dXAgZGljdGlvbmFyeVxuICBpZiAob3B0LmRpY3Rpb25hcnkpIHtcbiAgICAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBvcHQuZGljdGlvbmFyeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdC5kaWN0aW9uYXJ5ID0gc3RyaW5ncy5zdHJpbmcyYnVmKG9wdC5kaWN0aW9uYXJ5KTtcbiAgICB9IGVsc2UgaWYgKHRvU3RyaW5nLmNhbGwob3B0LmRpY3Rpb25hcnkpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG4gICAgICBvcHQuZGljdGlvbmFyeSA9IG5ldyBVaW50OEFycmF5KG9wdC5kaWN0aW9uYXJ5KTtcbiAgICB9XG4gICAgaWYgKG9wdC5yYXcpIHsgLy9JbiByYXcgbW9kZSB3ZSBuZWVkIHRvIHNldCB0aGUgZGljdGlvbmFyeSBlYXJseVxuICAgICAgc3RhdHVzID0gemxpYl9pbmZsYXRlLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSwgb3B0LmRpY3Rpb25hcnkpO1xuICAgICAgaWYgKHN0YXR1cyAhPT0gYy5aX09LKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW5mbGF0ZSNwdXNoKGRhdGFbLCBtb2RlXSkgLT4gQm9vbGVhblxuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5fEFycmF5QnVmZmVyfFN0cmluZyk6IGlucHV0IGRhdGFcbiAqIC0gbW9kZSAoTnVtYmVyfEJvb2xlYW4pOiAwLi42IGZvciBjb3JyZXNwb25kaW5nIFpfTk9fRkxVU0guLlpfVFJFRSBtb2Rlcy5cbiAqICAgU2VlIGNvbnN0YW50cy4gU2tpcHBlZCBvciBgZmFsc2VgIG1lYW5zIFpfTk9fRkxVU0gsIGB0cnVlYCBtZWFucyBaX0ZJTklTSC5cbiAqXG4gKiBTZW5kcyBpbnB1dCBkYXRhIHRvIGluZmxhdGUgcGlwZSwgZ2VuZXJhdGluZyBbW0luZmxhdGUjb25EYXRhXV0gY2FsbHMgd2l0aFxuICogbmV3IG91dHB1dCBjaHVua3MuIFJldHVybnMgYHRydWVgIG9uIHN1Y2Nlc3MuIFRoZSBsYXN0IGRhdGEgYmxvY2sgbXVzdCBoYXZlXG4gKiBtb2RlIFpfRklOSVNIIChvciBgdHJ1ZWApLiBUaGF0IHdpbGwgZmx1c2ggaW50ZXJuYWwgcGVuZGluZyBidWZmZXJzIGFuZCBjYWxsXG4gKiBbW0luZmxhdGUjb25FbmRdXS4gRm9yIGludGVyaW0gZXhwbGljaXQgZmx1c2hlcyAod2l0aG91dCBlbmRpbmcgdGhlIHN0cmVhbSkgeW91XG4gKiBjYW4gdXNlIG1vZGUgWl9TWU5DX0ZMVVNILCBrZWVwaW5nIHRoZSBkZWNvbXByZXNzaW9uIGNvbnRleHQuXG4gKlxuICogT24gZmFpbCBjYWxsIFtbSW5mbGF0ZSNvbkVuZF1dIHdpdGggZXJyb3IgY29kZSBhbmQgcmV0dXJuIGZhbHNlLlxuICpcbiAqIFdlIHN0cm9uZ2x5IHJlY29tbWVuZCB0byB1c2UgYFVpbnQ4QXJyYXlgIG9uIGlucHV0IGZvciBiZXN0IHNwZWVkIChvdXRwdXRcbiAqIGZvcm1hdCBpcyBkZXRlY3RlZCBhdXRvbWF0aWNhbGx5KS4gQWxzbywgZG9uJ3Qgc2tpcCBsYXN0IHBhcmFtIGFuZCBhbHdheXNcbiAqIHVzZSB0aGUgc2FtZSB0eXBlIGluIHlvdXIgY29kZSAoYm9vbGVhbiBvciBudW1iZXIpLiBUaGF0IHdpbGwgaW1wcm92ZSBKUyBzcGVlZC5cbiAqXG4gKiBGb3IgcmVndWxhciBgQXJyYXlgLXMgbWFrZSBzdXJlIGFsbCBlbGVtZW50cyBhcmUgWzAuLjI1NV0uXG4gKlxuICogIyMjIyMgRXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHB1c2goY2h1bmssIGZhbHNlKTsgLy8gcHVzaCBvbmUgb2YgZGF0YSBjaHVua3NcbiAqIC4uLlxuICogcHVzaChjaHVuaywgdHJ1ZSk7ICAvLyBwdXNoIGxhc3QgY2h1bmtcbiAqIGBgYFxuICoqL1xuSW5mbGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBtb2RlKSB7XG4gIHZhciBzdHJtID0gdGhpcy5zdHJtO1xuICB2YXIgY2h1bmtTaXplID0gdGhpcy5vcHRpb25zLmNodW5rU2l6ZTtcbiAgdmFyIGRpY3Rpb25hcnkgPSB0aGlzLm9wdGlvbnMuZGljdGlvbmFyeTtcbiAgdmFyIHN0YXR1cywgX21vZGU7XG4gIHZhciBuZXh0X291dF91dGY4LCB0YWlsLCB1dGY4c3RyO1xuXG4gIC8vIEZsYWcgdG8gcHJvcGVybHkgcHJvY2VzcyBaX0JVRl9FUlJPUiBvbiB0ZXN0aW5nIGluZmxhdGUgY2FsbFxuICAvLyB3aGVuIHdlIGNoZWNrIHRoYXQgYWxsIG91dHB1dCBkYXRhIHdhcyBmbHVzaGVkLlxuICB2YXIgYWxsb3dCdWZFcnJvciA9IGZhbHNlO1xuXG4gIGlmICh0aGlzLmVuZGVkKSB7IHJldHVybiBmYWxzZTsgfVxuICBfbW9kZSA9IChtb2RlID09PSB+fm1vZGUpID8gbW9kZSA6ICgobW9kZSA9PT0gdHJ1ZSkgPyBjLlpfRklOSVNIIDogYy5aX05PX0ZMVVNIKTtcblxuICAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBPbmx5IGJpbmFyeSBzdHJpbmdzIGNhbiBiZSBkZWNvbXByZXNzZWQgb24gcHJhY3RpY2VcbiAgICBzdHJtLmlucHV0ID0gc3RyaW5ncy5iaW5zdHJpbmcyYnVmKGRhdGEpO1xuICB9IGVsc2UgaWYgKHRvU3RyaW5nLmNhbGwoZGF0YSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICBzdHJtLmlucHV0ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgc3RybS5pbnB1dCA9IGRhdGE7XG4gIH1cblxuICBzdHJtLm5leHRfaW4gPSAwO1xuICBzdHJtLmF2YWlsX2luID0gc3RybS5pbnB1dC5sZW5ndGg7XG5cbiAgZG8ge1xuICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgc3RybS5vdXRwdXQgPSBuZXcgdXRpbHMuQnVmOChjaHVua1NpemUpO1xuICAgICAgc3RybS5uZXh0X291dCA9IDA7XG4gICAgICBzdHJtLmF2YWlsX291dCA9IGNodW5rU2l6ZTtcbiAgICB9XG5cbiAgICBzdGF0dXMgPSB6bGliX2luZmxhdGUuaW5mbGF0ZShzdHJtLCBjLlpfTk9fRkxVU0gpOyAgICAvKiBubyBiYWQgcmV0dXJuIHZhbHVlICovXG5cbiAgICBpZiAoc3RhdHVzID09PSBjLlpfTkVFRF9ESUNUICYmIGRpY3Rpb25hcnkpIHtcbiAgICAgIHN0YXR1cyA9IHpsaWJfaW5mbGF0ZS5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sIGRpY3Rpb25hcnkpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IGMuWl9CVUZfRVJST1IgJiYgYWxsb3dCdWZFcnJvciA9PT0gdHJ1ZSkge1xuICAgICAgc3RhdHVzID0gYy5aX09LO1xuICAgICAgYWxsb3dCdWZFcnJvciA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgIT09IGMuWl9TVFJFQU1fRU5EICYmIHN0YXR1cyAhPT0gYy5aX09LKSB7XG4gICAgICB0aGlzLm9uRW5kKHN0YXR1cyk7XG4gICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc3RybS5uZXh0X291dCkge1xuICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwIHx8IHN0YXR1cyA9PT0gYy5aX1NUUkVBTV9FTkQgfHwgKHN0cm0uYXZhaWxfaW4gPT09IDAgJiYgKF9tb2RlID09PSBjLlpfRklOSVNIIHx8IF9tb2RlID09PSBjLlpfU1lOQ19GTFVTSCkpKSB7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50byA9PT0gJ3N0cmluZycpIHtcblxuICAgICAgICAgIG5leHRfb3V0X3V0ZjggPSBzdHJpbmdzLnV0Zjhib3JkZXIoc3RybS5vdXRwdXQsIHN0cm0ubmV4dF9vdXQpO1xuXG4gICAgICAgICAgdGFpbCA9IHN0cm0ubmV4dF9vdXQgLSBuZXh0X291dF91dGY4O1xuICAgICAgICAgIHV0ZjhzdHIgPSBzdHJpbmdzLmJ1ZjJzdHJpbmcoc3RybS5vdXRwdXQsIG5leHRfb3V0X3V0ZjgpO1xuXG4gICAgICAgICAgLy8gbW92ZSB0YWlsXG4gICAgICAgICAgc3RybS5uZXh0X291dCA9IHRhaWw7XG4gICAgICAgICAgc3RybS5hdmFpbF9vdXQgPSBjaHVua1NpemUgLSB0YWlsO1xuICAgICAgICAgIGlmICh0YWlsKSB7IHV0aWxzLmFycmF5U2V0KHN0cm0ub3V0cHV0LCBzdHJtLm91dHB1dCwgbmV4dF9vdXRfdXRmOCwgdGFpbCwgMCk7IH1cblxuICAgICAgICAgIHRoaXMub25EYXRhKHV0ZjhzdHIpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vbkRhdGEodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LCBzdHJtLm5leHRfb3V0KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXaGVuIG5vIG1vcmUgaW5wdXQgZGF0YSwgd2Ugc2hvdWxkIGNoZWNrIHRoYXQgaW50ZXJuYWwgaW5mbGF0ZSBidWZmZXJzXG4gICAgLy8gYXJlIGZsdXNoZWQuIFRoZSBvbmx5IHdheSB0byBkbyBpdCB3aGVuIGF2YWlsX291dCA9IDAgLSBydW4gb25lIG1vcmVcbiAgICAvLyBpbmZsYXRlIHBhc3MuIEJ1dCBpZiBvdXRwdXQgZGF0YSBub3QgZXhpc3RzLCBpbmZsYXRlIHJldHVybiBaX0JVRl9FUlJPUi5cbiAgICAvLyBIZXJlIHdlIHNldCBmbGFnIHRvIHByb2Nlc3MgdGhpcyBlcnJvciBwcm9wZXJseS5cbiAgICAvL1xuICAgIC8vIE5PVEUuIERlZmxhdGUgZG9lcyBub3QgcmV0dXJuIGVycm9yIGluIHRoaXMgY2FzZSBhbmQgZG9lcyBub3QgbmVlZHMgc3VjaFxuICAgIC8vIGxvZ2ljLlxuICAgIGlmIChzdHJtLmF2YWlsX2luID09PSAwICYmIHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICBhbGxvd0J1ZkVycm9yID0gdHJ1ZTtcbiAgICB9XG5cbiAgfSB3aGlsZSAoKHN0cm0uYXZhaWxfaW4gPiAwIHx8IHN0cm0uYXZhaWxfb3V0ID09PSAwKSAmJiBzdGF0dXMgIT09IGMuWl9TVFJFQU1fRU5EKTtcblxuICBpZiAoc3RhdHVzID09PSBjLlpfU1RSRUFNX0VORCkge1xuICAgIF9tb2RlID0gYy5aX0ZJTklTSDtcbiAgfVxuXG4gIC8vIEZpbmFsaXplIG9uIHRoZSBsYXN0IGNodW5rLlxuICBpZiAoX21vZGUgPT09IGMuWl9GSU5JU0gpIHtcbiAgICBzdGF0dXMgPSB6bGliX2luZmxhdGUuaW5mbGF0ZUVuZCh0aGlzLnN0cm0pO1xuICAgIHRoaXMub25FbmQoc3RhdHVzKTtcbiAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICByZXR1cm4gc3RhdHVzID09PSBjLlpfT0s7XG4gIH1cblxuICAvLyBjYWxsYmFjayBpbnRlcmltIHJlc3VsdHMgaWYgWl9TWU5DX0ZMVVNILlxuICBpZiAoX21vZGUgPT09IGMuWl9TWU5DX0ZMVVNIKSB7XG4gICAgdGhpcy5vbkVuZChjLlpfT0spO1xuICAgIHN0cm0uYXZhaWxfb3V0ID0gMDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuXG4vKipcbiAqIEluZmxhdGUjb25EYXRhKGNodW5rKSAtPiBWb2lkXG4gKiAtIGNodW5rIChVaW50OEFycmF5fEFycmF5fFN0cmluZyk6IG91dHB1dCBkYXRhLiBUeXBlIG9mIGFycmF5IGRlcGVuZHNcbiAqICAgb24ganMgZW5naW5lIHN1cHBvcnQuIFdoZW4gc3RyaW5nIG91dHB1dCByZXF1ZXN0ZWQsIGVhY2ggY2h1bmtcbiAqICAgd2lsbCBiZSBzdHJpbmcuXG4gKlxuICogQnkgZGVmYXVsdCwgc3RvcmVzIGRhdGEgYmxvY2tzIGluIGBjaHVua3NbXWAgcHJvcGVydHkgYW5kIGdsdWVcbiAqIHRob3NlIGluIGBvbkVuZGAuIE92ZXJyaWRlIHRoaXMgaGFuZGxlciwgaWYgeW91IG5lZWQgYW5vdGhlciBiZWhhdmlvdXIuXG4gKiovXG5JbmZsYXRlLnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgdGhpcy5jaHVua3MucHVzaChjaHVuayk7XG59O1xuXG5cbi8qKlxuICogSW5mbGF0ZSNvbkVuZChzdGF0dXMpIC0+IFZvaWRcbiAqIC0gc3RhdHVzIChOdW1iZXIpOiBpbmZsYXRlIHN0YXR1cy4gMCAoWl9PSykgb24gc3VjY2VzcyxcbiAqICAgb3RoZXIgaWYgbm90LlxuICpcbiAqIENhbGxlZCBlaXRoZXIgYWZ0ZXIgeW91IHRlbGwgaW5mbGF0ZSB0aGF0IHRoZSBpbnB1dCBzdHJlYW0gaXNcbiAqIGNvbXBsZXRlIChaX0ZJTklTSCkgb3Igc2hvdWxkIGJlIGZsdXNoZWQgKFpfU1lOQ19GTFVTSClcbiAqIG9yIGlmIGFuIGVycm9yIGhhcHBlbmVkLiBCeSBkZWZhdWx0IC0gam9pbiBjb2xsZWN0ZWQgY2h1bmtzLFxuICogZnJlZSBtZW1vcnkgYW5kIGZpbGwgYHJlc3VsdHNgIC8gYGVycmAgcHJvcGVydGllcy5cbiAqKi9cbkluZmxhdGUucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAvLyBPbiBzdWNjZXNzIC0gam9pblxuICBpZiAoc3RhdHVzID09PSBjLlpfT0spIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gR2x1ZSAmIGNvbnZlcnQgaGVyZSwgdW50aWwgd2UgdGVhY2ggcGFrbyB0byBzZW5kXG4gICAgICAvLyB1dGY4IGFsaWduZWQgc3RyaW5ncyB0byBvbkRhdGFcbiAgICAgIHRoaXMucmVzdWx0ID0gdGhpcy5jaHVua3Muam9pbignJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gdXRpbHMuZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcyk7XG4gICAgfVxuICB9XG4gIHRoaXMuY2h1bmtzID0gW107XG4gIHRoaXMuZXJyID0gc3RhdHVzO1xuICB0aGlzLm1zZyA9IHRoaXMuc3RybS5tc2c7XG59O1xuXG5cbi8qKlxuICogaW5mbGF0ZShkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXl8U3RyaW5nKTogaW5wdXQgZGF0YSB0byBkZWNvbXByZXNzLlxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGluZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBEZWNvbXByZXNzIGBkYXRhYCB3aXRoIGluZmxhdGUvdW5nemlwIGFuZCBgb3B0aW9uc2AuIEF1dG9kZXRlY3RcbiAqIGZvcm1hdCB2aWEgd3JhcHBlciBoZWFkZXIgYnkgZGVmYXVsdC4gVGhhdCdzIHdoeSB3ZSBkb24ndCBwcm92aWRlXG4gKiBzZXBhcmF0ZSBgdW5nemlwYCBtZXRob2QuXG4gKlxuICogU3VwcG9ydGVkIG9wdGlvbnMgYXJlOlxuICpcbiAqIC0gd2luZG93Qml0c1xuICpcbiAqIFtodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWRdKGh0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZClcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIFN1Z2FyIChvcHRpb25zKTpcbiAqXG4gKiAtIGByYXdgIChCb29sZWFuKSAtIHNheSB0aGF0IHdlIHdvcmsgd2l0aCByYXcgc3RyZWFtLCBpZiB5b3UgZG9uJ3Qgd2lzaCB0byBzcGVjaWZ5XG4gKiAgIG5lZ2F0aXZlIHdpbmRvd0JpdHMgaW1wbGljaXRseS5cbiAqIC0gYHRvYCAoU3RyaW5nKSAtIGlmIGVxdWFsIHRvICdzdHJpbmcnLCB0aGVuIHJlc3VsdCB3aWxsIGJlIGNvbnZlcnRlZFxuICogICBmcm9tIHV0ZjggdG8gdXRmMTYgKGphdmFzY3JpcHQpIHN0cmluZy4gV2hlbiBzdHJpbmcgb3V0cHV0IHJlcXVlc3RlZCxcbiAqICAgY2h1bmsgbGVuZ3RoIGNhbiBkaWZmZXIgZnJvbSBgY2h1bmtTaXplYCwgZGVwZW5kaW5nIG9uIGNvbnRlbnQuXG4gKlxuICpcbiAqICMjIyMjIEV4YW1wbGU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogdmFyIHBha28gPSByZXF1aXJlKCdwYWtvJylcbiAqICAgLCBpbnB1dCA9IHBha28uZGVmbGF0ZShbMSwyLDMsNCw1LDYsNyw4LDldKVxuICogICAsIG91dHB1dDtcbiAqXG4gKiB0cnkge1xuICogICBvdXRwdXQgPSBwYWtvLmluZmxhdGUoaW5wdXQpO1xuICogfSBjYXRjaCAoZXJyKVxuICogICBjb25zb2xlLmxvZyhlcnIpO1xuICogfVxuICogYGBgXG4gKiovXG5mdW5jdGlvbiBpbmZsYXRlKGlucHV0LCBvcHRpb25zKSB7XG4gIHZhciBpbmZsYXRvciA9IG5ldyBJbmZsYXRlKG9wdGlvbnMpO1xuXG4gIGluZmxhdG9yLnB1c2goaW5wdXQsIHRydWUpO1xuXG4gIC8vIFRoYXQgd2lsbCBuZXZlciBoYXBwZW5zLCBpZiB5b3UgZG9uJ3QgY2hlYXQgd2l0aCBvcHRpb25zIDopXG4gIGlmIChpbmZsYXRvci5lcnIpIHsgdGhyb3cgaW5mbGF0b3IubXNnIHx8IG1zZ1tpbmZsYXRvci5lcnJdOyB9XG5cbiAgcmV0dXJuIGluZmxhdG9yLnJlc3VsdDtcbn1cblxuXG4vKipcbiAqIGluZmxhdGVSYXcoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5fEFycmF5fFN0cmluZ1xuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5fFN0cmluZyk6IGlucHV0IGRhdGEgdG8gZGVjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBpbmZsYXRlIG9wdGlvbnMuXG4gKlxuICogVGhlIHNhbWUgYXMgW1tpbmZsYXRlXV0sIGJ1dCBjcmVhdGVzIHJhdyBkYXRhLCB3aXRob3V0IHdyYXBwZXJcbiAqIChoZWFkZXIgYW5kIGFkbGVyMzIgY3JjKS5cbiAqKi9cbmZ1bmN0aW9uIGluZmxhdGVSYXcoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMucmF3ID0gdHJ1ZTtcbiAgcmV0dXJuIGluZmxhdGUoaW5wdXQsIG9wdGlvbnMpO1xufVxuXG5cbi8qKlxuICogdW5nemlwKGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheXxBcnJheXxTdHJpbmdcbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheXxTdHJpbmcpOiBpbnB1dCBkYXRhIHRvIGRlY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgaW5mbGF0ZSBvcHRpb25zLlxuICpcbiAqIEp1c3Qgc2hvcnRjdXQgdG8gW1tpbmZsYXRlXV0sIGJlY2F1c2UgaXQgYXV0b2RldGVjdHMgZm9ybWF0XG4gKiBieSBoZWFkZXIuY29udGVudC4gRG9uZSBmb3IgY29udmVuaWVuY2UuXG4gKiovXG5cblxuZXhwb3J0cy5JbmZsYXRlID0gSW5mbGF0ZTtcbmV4cG9ydHMuaW5mbGF0ZSA9IGluZmxhdGU7XG5leHBvcnRzLmluZmxhdGVSYXcgPSBpbmZsYXRlUmF3O1xuZXhwb3J0cy51bmd6aXAgID0gaW5mbGF0ZTtcbiIsICIvLyBUb3AgbGV2ZWwgZmlsZSBpcyBqdXN0IGEgbWl4aW4gb2Ygc3VibW9kdWxlcyAmIGNvbnN0YW50c1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNzaWduICAgID0gcmVxdWlyZSgnLi9saWIvdXRpbHMvY29tbW9uJykuYXNzaWduO1xuXG52YXIgZGVmbGF0ZSAgID0gcmVxdWlyZSgnLi9saWIvZGVmbGF0ZScpO1xudmFyIGluZmxhdGUgICA9IHJlcXVpcmUoJy4vbGliL2luZmxhdGUnKTtcbnZhciBjb25zdGFudHMgPSByZXF1aXJlKCcuL2xpYi96bGliL2NvbnN0YW50cycpO1xuXG52YXIgcGFrbyA9IHt9O1xuXG5hc3NpZ24ocGFrbywgZGVmbGF0ZSwgaW5mbGF0ZSwgY29uc3RhbnRzKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYWtvO1xuIiwgIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0O1xuIiwgIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiIsICJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCAidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbm93O1xuIiwgInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iLCAidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UmF3VGFnO1xuIiwgIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIiwgInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBnZXRSYXdUYWcgPSByZXF1aXJlKCcuL19nZXRSYXdUYWcnKSxcbiAgICBvYmplY3RUb1N0cmluZyA9IHJlcXVpcmUoJy4vX29iamVjdFRvU3RyaW5nJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VHZXRUYWc7XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwgInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1N5bWJvbDtcbiIsICJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE5BTiA9IDAgLyAwO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG52YXIgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b051bWJlcjtcbiIsICJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgbm93ID0gcmVxdWlyZSgnLi9ub3cnKSxcbiAgICB0b051bWJlciA9IHJlcXVpcmUoJy4vdG9OdW1iZXInKTtcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZ1xuICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgOiB0aW1lV2FpdGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVib3VuY2U7XG4iLCAiLypcbiogRmlsZVNhdmVyLmpzXG4qIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuKlxuKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG4qXG4qIExpY2Vuc2UgOiBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZCAoTUlUKVxuKiBzb3VyY2UgIDogaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qc1xuKi9cblxuLy8gVGhlIG9uZSBhbmQgb25seSB3YXkgb2YgZ2V0dGluZyBnbG9iYWwgc2NvcGUgaW4gYWxsIGVudmlyb25tZW50c1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzMyNzcxODIvMTAwODk5OVxudmFyIF9nbG9iYWwgPSB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cud2luZG93ID09PSB3aW5kb3dcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmXG4gID8gc2VsZiA6IHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbFxuICA/IGdsb2JhbFxuICA6IHRoaXNcblxuZnVuY3Rpb24gYm9tIChibG9iLCBvcHRzKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIG9wdHMgPSB7IGF1dG9Cb206IGZhbHNlIH1cbiAgZWxzZSBpZiAodHlwZW9mIG9wdHMgIT09ICdvYmplY3QnKSB7XG4gICAgY29uc29sZS53YXJuKCdEZXByZWNhdGVkOiBFeHBlY3RlZCB0aGlyZCBhcmd1bWVudCB0byBiZSBhIG9iamVjdCcpXG4gICAgb3B0cyA9IHsgYXV0b0JvbTogIW9wdHMgfVxuICB9XG5cbiAgLy8gcHJlcGVuZCBCT00gZm9yIFVURi04IFhNTCBhbmQgdGV4dC8qIHR5cGVzIChpbmNsdWRpbmcgSFRNTClcbiAgLy8gbm90ZTogeW91ciBicm93c2VyIHdpbGwgYXV0b21hdGljYWxseSBjb252ZXJ0IFVURi0xNiBVK0ZFRkYgdG8gRUYgQkIgQkZcbiAgaWYgKG9wdHMuYXV0b0JvbSAmJiAvXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChibG9iLnR5cGUpKSB7XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkVGRiksIGJsb2JdLCB7IHR5cGU6IGJsb2IudHlwZSB9KVxuICB9XG4gIHJldHVybiBibG9iXG59XG5cbmZ1bmN0aW9uIGRvd25sb2FkICh1cmwsIG5hbWUsIG9wdHMpIHtcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gIHhoci5vcGVuKCdHRVQnLCB1cmwpXG4gIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzYXZlQXMoeGhyLnJlc3BvbnNlLCBuYW1lLCBvcHRzKVxuICB9XG4gIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBkb3dubG9hZCBmaWxlJylcbiAgfVxuICB4aHIuc2VuZCgpXG59XG5cbmZ1bmN0aW9uIGNvcnNFbmFibGVkICh1cmwpIHtcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gIC8vIHVzZSBzeW5jIHRvIGF2b2lkIHBvcHVwIGJsb2NrZXJcbiAgeGhyLm9wZW4oJ0hFQUQnLCB1cmwsIGZhbHNlKVxuICB0cnkge1xuICAgIHhoci5zZW5kKClcbiAgfSBjYXRjaCAoZSkge31cbiAgcmV0dXJuIHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5XG59XG5cbi8vIGBhLmNsaWNrKClgIGRvZXNuJ3Qgd29yayBmb3IgYWxsIGJyb3dzZXJzICgjNDY1KVxuZnVuY3Rpb24gY2xpY2sgKG5vZGUpIHtcbiAgdHJ5IHtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJykpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJylcbiAgICBldnQuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSwgd2luZG93LCAwLCAwLCAwLCA4MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMjAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKVxuICAgIG5vZGUuZGlzcGF0Y2hFdmVudChldnQpXG4gIH1cbn1cblxudmFyIHNhdmVBcyA9IF9nbG9iYWwuc2F2ZUFzIHx8IChcbiAgLy8gcHJvYmFibHkgaW4gc29tZSB3ZWIgd29ya2VyXG4gICh0eXBlb2Ygd2luZG93ICE9PSAnb2JqZWN0JyB8fCB3aW5kb3cgIT09IF9nbG9iYWwpXG4gICAgPyBmdW5jdGlvbiBzYXZlQXMgKCkgeyAvKiBub29wICovIH1cblxuICAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSlcbiAgOiAnZG93bmxvYWQnIGluIEhUTUxBbmNob3JFbGVtZW50LnByb3RvdHlwZVxuICA/IGZ1bmN0aW9uIHNhdmVBcyAoYmxvYiwgbmFtZSwgb3B0cykge1xuICAgIHZhciBVUkwgPSBfZ2xvYmFsLlVSTCB8fCBfZ2xvYmFsLndlYmtpdFVSTFxuICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgbmFtZSA9IG5hbWUgfHwgYmxvYi5uYW1lIHx8ICdkb3dubG9hZCdcblxuICAgIGEuZG93bmxvYWQgPSBuYW1lXG4gICAgYS5yZWwgPSAnbm9vcGVuZXInIC8vIHRhYm5hYmJpbmdcblxuICAgIC8vIFRPRE86IGRldGVjdCBjaHJvbWUgZXh0ZW5zaW9ucyAmIHBhY2thZ2VkIGFwcHNcbiAgICAvLyBhLnRhcmdldCA9ICdfYmxhbmsnXG5cbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBTdXBwb3J0IHJlZ3VsYXIgbGlua3NcbiAgICAgIGEuaHJlZiA9IGJsb2JcbiAgICAgIGlmIChhLm9yaWdpbiAhPT0gbG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgIGNvcnNFbmFibGVkKGEuaHJlZilcbiAgICAgICAgICA/IGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpXG4gICAgICAgICAgOiBjbGljayhhLCBhLnRhcmdldCA9ICdfYmxhbmsnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xpY2soYSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3VwcG9ydCBibG9ic1xuICAgICAgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKVxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IFVSTC5yZXZva2VPYmplY3RVUkwoYS5ocmVmKSB9LCA0RTQpIC8vIDQwc1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGNsaWNrKGEpIH0sIDApXG4gICAgfVxuICB9XG5cbiAgLy8gVXNlIG1zU2F2ZU9yT3BlbkJsb2IgYXMgYSBzZWNvbmQgYXBwcm9hY2hcbiAgOiAnbXNTYXZlT3JPcGVuQmxvYicgaW4gbmF2aWdhdG9yXG4gID8gZnVuY3Rpb24gc2F2ZUFzIChibG9iLCBuYW1lLCBvcHRzKSB7XG4gICAgbmFtZSA9IG5hbWUgfHwgYmxvYi5uYW1lIHx8ICdkb3dubG9hZCdcblxuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xuICAgICAgICBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICAgICAgYS5ocmVmID0gYmxvYlxuICAgICAgICBhLnRhcmdldCA9ICdfYmxhbmsnXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjbGljayhhKSB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihib20oYmxvYiwgb3B0cyksIG5hbWUpXG4gICAgfVxuICB9XG5cbiAgLy8gRmFsbGJhY2sgdG8gdXNpbmcgRmlsZVJlYWRlciBhbmQgYSBwb3B1cFxuICA6IGZ1bmN0aW9uIHNhdmVBcyAoYmxvYiwgbmFtZSwgb3B0cywgcG9wdXApIHtcbiAgICAvLyBPcGVuIGEgcG9wdXAgaW1tZWRpYXRlbHkgZG8gZ28gYXJvdW5kIHBvcHVwIGJsb2NrZXJcbiAgICAvLyBNb3N0bHkgb25seSBhdmFpbGFibGUgb24gdXNlciBpbnRlcmFjdGlvbiBhbmQgdGhlIGZpbGVSZWFkZXIgaXMgYXN5bmMgc28uLi5cbiAgICBwb3B1cCA9IHBvcHVwIHx8IG9wZW4oJycsICdfYmxhbmsnKVxuICAgIGlmIChwb3B1cCkge1xuICAgICAgcG9wdXAuZG9jdW1lbnQudGl0bGUgPVxuICAgICAgcG9wdXAuZG9jdW1lbnQuYm9keS5pbm5lclRleHQgPSAnZG93bmxvYWRpbmcuLi4nXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykgcmV0dXJuIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpXG5cbiAgICB2YXIgZm9yY2UgPSBibG9iLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nXG4gICAgdmFyIGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChfZ2xvYmFsLkhUTUxFbGVtZW50KSB8fCBfZ2xvYmFsLnNhZmFyaVxuICAgIHZhciBpc0Nocm9tZUlPUyA9IC9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4gICAgaWYgKChpc0Nocm9tZUlPUyB8fCAoZm9yY2UgJiYgaXNTYWZhcmkpKSAmJiB0eXBlb2YgRmlsZVJlYWRlciA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IGFsbG93IGRvd25sb2FkaW5nIG9mIGJsb2IgVVJMc1xuICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB1cmwgPSByZWFkZXIucmVzdWx0XG4gICAgICAgIHVybCA9IGlzQ2hyb21lSU9TID8gdXJsIDogdXJsLnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKVxuICAgICAgICBpZiAocG9wdXApIHBvcHVwLmxvY2F0aW9uLmhyZWYgPSB1cmxcbiAgICAgICAgZWxzZSBsb2NhdGlvbiA9IHVybFxuICAgICAgICBwb3B1cCA9IG51bGwgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcbiAgICAgIH1cbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBVUkwgPSBfZ2xvYmFsLlVSTCB8fCBfZ2xvYmFsLndlYmtpdFVSTFxuICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYilcbiAgICAgIGlmIChwb3B1cCkgcG9wdXAubG9jYXRpb24gPSB1cmxcbiAgICAgIGVsc2UgbG9jYXRpb24uaHJlZiA9IHVybFxuICAgICAgcG9wdXAgPSBudWxsIC8vIHJldmVyc2UtdGFibmFiYmluZyAjNDYwXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpIH0sIDRFNCkgLy8gNDBzXG4gICAgfVxuICB9XG4pXG5cbl9nbG9iYWwuc2F2ZUFzID0gc2F2ZUFzLnNhdmVBcyA9IHNhdmVBc1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBzYXZlQXM7XG59XG4iLCAiLyohXG5cbnBpY2Fcbmh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGljYVxuXG4qL1xuXG4oZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5waWNhID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBDb2xsZWN0aW9uIG9mIG1hdGggZnVuY3Rpb25zXG4vL1xuLy8gMS4gQ29tYmluZSBjb21wb25lbnRzIHRvZ2V0aGVyXG4vLyAyLiBIYXMgYXN5bmMgaW5pdCB0byBsb2FkIHdhc20gbW9kdWxlc1xuLy9cbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gX2RlcmVxXygnaW5oZXJpdHMnKTtcblxudmFyIE11bHRpbWF0aCA9IF9kZXJlcV8oJ211bHRpbWF0aCcpO1xuXG52YXIgbW1fdW5zaGFycF9tYXNrID0gX2RlcmVxXygnbXVsdGltYXRoL2xpYi91bnNoYXJwX21hc2snKTtcblxudmFyIG1tX3Jlc2l6ZSA9IF9kZXJlcV8oJy4vbW1fcmVzaXplJyk7XG5cbmZ1bmN0aW9uIE1hdGhMaWIocmVxdWVzdGVkX2ZlYXR1cmVzKSB7XG4gIHZhciBfX3JlcXVlc3RlZF9mZWF0dXJlcyA9IHJlcXVlc3RlZF9mZWF0dXJlcyB8fCBbXTtcblxuICB2YXIgZmVhdHVyZXMgPSB7XG4gICAganM6IF9fcmVxdWVzdGVkX2ZlYXR1cmVzLmluZGV4T2YoJ2pzJykgPj0gMCxcbiAgICB3YXNtOiBfX3JlcXVlc3RlZF9mZWF0dXJlcy5pbmRleE9mKCd3YXNtJykgPj0gMFxuICB9O1xuICBNdWx0aW1hdGguY2FsbCh0aGlzLCBmZWF0dXJlcyk7XG4gIHRoaXMuZmVhdHVyZXMgPSB7XG4gICAganM6IGZlYXR1cmVzLmpzLFxuICAgIHdhc206IGZlYXR1cmVzLndhc20gJiYgdGhpcy5oYXNfd2FzbSgpXG4gIH07XG4gIHRoaXMudXNlKG1tX3Vuc2hhcnBfbWFzayk7XG4gIHRoaXMudXNlKG1tX3Jlc2l6ZSk7XG59XG5cbmluaGVyaXRzKE1hdGhMaWIsIE11bHRpbWF0aCk7XG5cbk1hdGhMaWIucHJvdG90eXBlLnJlc2l6ZUFuZFVuc2hhcnAgPSBmdW5jdGlvbiByZXNpemVBbmRVbnNoYXJwKG9wdGlvbnMsIGNhY2hlKSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLnJlc2l6ZShvcHRpb25zLCBjYWNoZSk7XG5cbiAgaWYgKG9wdGlvbnMudW5zaGFycEFtb3VudCkge1xuICAgIHRoaXMudW5zaGFycF9tYXNrKHJlc3VsdCwgb3B0aW9ucy50b1dpZHRoLCBvcHRpb25zLnRvSGVpZ2h0LCBvcHRpb25zLnVuc2hhcnBBbW91bnQsIG9wdGlvbnMudW5zaGFycFJhZGl1cywgb3B0aW9ucy51bnNoYXJwVGhyZXNob2xkKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGhMaWI7XG5cbn0se1wiLi9tbV9yZXNpemVcIjo0LFwiaW5oZXJpdHNcIjoxNSxcIm11bHRpbWF0aFwiOjE2LFwibXVsdGltYXRoL2xpYi91bnNoYXJwX21hc2tcIjoxOX1dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gUmVzaXplIGNvbnZvbHZlcnMsIHB1cmUgSlMgaW1wbGVtZW50YXRpb25cbi8vXG4ndXNlIHN0cmljdCc7IC8vIFByZWNpc2lvbiBvZiBmaXhlZCBGUCB2YWx1ZXNcbi8vdmFyIEZJWEVEX0ZSQUNfQklUUyA9IDE0O1xuXG5mdW5jdGlvbiBjbGFtcFRvOChpKSB7XG4gIHJldHVybiBpIDwgMCA/IDAgOiBpID4gMjU1ID8gMjU1IDogaTtcbn0gLy8gQ29udm9sdmUgaW1hZ2UgaW4gaG9yaXpvbnRhbCBkaXJlY3Rpb25zIGFuZCB0cmFuc3Bvc2Ugb3V0cHV0LiBJbiB0aGVvcnksXG4vLyB0cmFuc3Bvc2UgYWxsb3c6XG4vL1xuLy8gLSB1c2UgdGhlIHNhbWUgY29udm9sdmVyIGZvciBib3RoIHBhc3NlcyAodGhpcyBmYWlscyBkdWUgZGlmZmVyZW50XG4vLyAgIHR5cGVzIG9mIGlucHV0IGFycmF5IGFuZCB0ZW1wb3JhcnkgYnVmZmVyKVxuLy8gLSBtYWtpbmcgdmVydGljYWwgcGFzcyBieSBob3Jpc29ubHRhbCBsaW5lcyBpbnByb3ZlIENQVSBjYWNoZSB1c2UuXG4vL1xuLy8gQnV0IGluIHJlYWwgbGlmZSB0aGlzIGRvZXNuJ3Qgd29yayA6KVxuLy9cblxuXG5mdW5jdGlvbiBjb252b2x2ZUhvcml6b250YWxseShzcmMsIGRlc3QsIHNyY1csIHNyY0gsIGRlc3RXLCBmaWx0ZXJzKSB7XG4gIHZhciByLCBnLCBiLCBhO1xuICB2YXIgZmlsdGVyUHRyLCBmaWx0ZXJTaGlmdCwgZmlsdGVyU2l6ZTtcbiAgdmFyIHNyY1B0ciwgc3JjWSwgZGVzdFgsIGZpbHRlclZhbDtcbiAgdmFyIHNyY09mZnNldCA9IDAsXG4gICAgICBkZXN0T2Zmc2V0ID0gMDsgLy8gRm9yIGVhY2ggcm93XG5cbiAgZm9yIChzcmNZID0gMDsgc3JjWSA8IHNyY0g7IHNyY1krKykge1xuICAgIGZpbHRlclB0ciA9IDA7IC8vIEFwcGx5IHByZWNvbXB1dGVkIGZpbHRlcnMgdG8gZWFjaCBkZXN0aW5hdGlvbiByb3cgcG9pbnRcblxuICAgIGZvciAoZGVzdFggPSAwOyBkZXN0WCA8IGRlc3RXOyBkZXN0WCsrKSB7XG4gICAgICAvLyBHZXQgdGhlIGZpbHRlciB0aGF0IGRldGVybWluZXMgdGhlIGN1cnJlbnQgb3V0cHV0IHBpeGVsLlxuICAgICAgZmlsdGVyU2hpZnQgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTtcbiAgICAgIGZpbHRlclNpemUgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTtcbiAgICAgIHNyY1B0ciA9IHNyY09mZnNldCArIGZpbHRlclNoaWZ0ICogNCB8IDA7XG4gICAgICByID0gZyA9IGIgPSBhID0gMDsgLy8gQXBwbHkgdGhlIGZpbHRlciB0byB0aGUgcm93IHRvIGdldCB0aGUgZGVzdGluYXRpb24gcGl4ZWwgciwgZywgYiwgYVxuXG4gICAgICBmb3IgKDsgZmlsdGVyU2l6ZSA+IDA7IGZpbHRlclNpemUtLSkge1xuICAgICAgICBmaWx0ZXJWYWwgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTsgLy8gVXNlIHJldmVyc2Ugb3JkZXIgdG8gd29ya2Fyb3VuZCBkZW9wdHMgaW4gb2xkIHY4IChub2RlIHYuMTApXG4gICAgICAgIC8vIEJpZyB0aGFua3MgdG8gQG1yYWxlcGggKFZ5YWNoZXNsYXYgRWdvcm92KSBmb3IgdGhlIHRpcC5cblxuICAgICAgICBhID0gYSArIGZpbHRlclZhbCAqIHNyY1tzcmNQdHIgKyAzXSB8IDA7XG4gICAgICAgIGIgPSBiICsgZmlsdGVyVmFsICogc3JjW3NyY1B0ciArIDJdIHwgMDtcbiAgICAgICAgZyA9IGcgKyBmaWx0ZXJWYWwgKiBzcmNbc3JjUHRyICsgMV0gfCAwO1xuICAgICAgICByID0gciArIGZpbHRlclZhbCAqIHNyY1tzcmNQdHJdIHwgMDtcbiAgICAgICAgc3JjUHRyID0gc3JjUHRyICsgNCB8IDA7XG4gICAgICB9IC8vIEJyaW5nIHRoaXMgdmFsdWUgYmFjayBpbiByYW5nZS4gQWxsIG9mIHRoZSBmaWx0ZXIgc2NhbGluZyBmYWN0b3JzXG4gICAgICAvLyBhcmUgaW4gZml4ZWQgcG9pbnQgd2l0aCBGSVhFRF9GUkFDX0JJVFMgYml0cyBvZiBmcmFjdGlvbmFsIHBhcnQuXG4gICAgICAvL1xuICAgICAgLy8gKCEpIEFkZCAxLzIgb2YgdmFsdWUgYmVmb3JlIGNsYW1waW5nIHRvIGdldCBwcm9wZXIgcm91bmRpbmcuIEluIG90aGVyXG4gICAgICAvLyBjYXNlIGJyaWdodG5lc3MgbG9zcyB3aWxsIGJlIG5vdGljZWFibGUgaWYgeW91IHJlc2l6ZSBpbWFnZSB3aXRoIHdoaXRlXG4gICAgICAvLyBib3JkZXIgYW5kIHBsYWNlIGl0IG9uIHdoaXRlIGJhY2tncm91bmQuXG4gICAgICAvL1xuXG5cbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDNdID0gY2xhbXBUbzgoYSArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDJdID0gY2xhbXBUbzgoYiArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDFdID0gY2xhbXBUbzgoZyArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldF0gPSBjbGFtcFRvOChyICsgKDEgPDwgMTMpID4+IDE0XG4gICAgICAvKkZJWEVEX0ZSQUNfQklUUyovXG4gICAgICApO1xuICAgICAgZGVzdE9mZnNldCA9IGRlc3RPZmZzZXQgKyBzcmNIICogNCB8IDA7XG4gICAgfVxuXG4gICAgZGVzdE9mZnNldCA9IChzcmNZICsgMSkgKiA0IHwgMDtcbiAgICBzcmNPZmZzZXQgPSAoc3JjWSArIDEpICogc3JjVyAqIDQgfCAwO1xuICB9XG59IC8vIFRlY2huaWNhbGx5LCBjb252b2x2ZXJzIGFyZSB0aGUgc2FtZS4gQnV0IGlucHV0IGFycmF5IGFuZCB0ZW1wb3Jhcnlcbi8vIGJ1ZmZlciBjYW4gYmUgb2YgZGlmZmVyZW50IHR5cGUgKGVzcGVjaWFsbHksIGluIG9sZCBicm93c2VycykuIFNvLFxuLy8ga2VlcCBjb2RlIGluIHNlcGFyYXRlIGZ1bmN0aW9ucyB0byBhdm9pZCBkZW9wdGltaXphdGlvbnMgJiBzcGVlZCBsb3NzLlxuXG5cbmZ1bmN0aW9uIGNvbnZvbHZlVmVydGljYWxseShzcmMsIGRlc3QsIHNyY1csIHNyY0gsIGRlc3RXLCBmaWx0ZXJzKSB7XG4gIHZhciByLCBnLCBiLCBhO1xuICB2YXIgZmlsdGVyUHRyLCBmaWx0ZXJTaGlmdCwgZmlsdGVyU2l6ZTtcbiAgdmFyIHNyY1B0ciwgc3JjWSwgZGVzdFgsIGZpbHRlclZhbDtcbiAgdmFyIHNyY09mZnNldCA9IDAsXG4gICAgICBkZXN0T2Zmc2V0ID0gMDsgLy8gRm9yIGVhY2ggcm93XG5cbiAgZm9yIChzcmNZID0gMDsgc3JjWSA8IHNyY0g7IHNyY1krKykge1xuICAgIGZpbHRlclB0ciA9IDA7IC8vIEFwcGx5IHByZWNvbXB1dGVkIGZpbHRlcnMgdG8gZWFjaCBkZXN0aW5hdGlvbiByb3cgcG9pbnRcblxuICAgIGZvciAoZGVzdFggPSAwOyBkZXN0WCA8IGRlc3RXOyBkZXN0WCsrKSB7XG4gICAgICAvLyBHZXQgdGhlIGZpbHRlciB0aGF0IGRldGVybWluZXMgdGhlIGN1cnJlbnQgb3V0cHV0IHBpeGVsLlxuICAgICAgZmlsdGVyU2hpZnQgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTtcbiAgICAgIGZpbHRlclNpemUgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTtcbiAgICAgIHNyY1B0ciA9IHNyY09mZnNldCArIGZpbHRlclNoaWZ0ICogNCB8IDA7XG4gICAgICByID0gZyA9IGIgPSBhID0gMDsgLy8gQXBwbHkgdGhlIGZpbHRlciB0byB0aGUgcm93IHRvIGdldCB0aGUgZGVzdGluYXRpb24gcGl4ZWwgciwgZywgYiwgYVxuXG4gICAgICBmb3IgKDsgZmlsdGVyU2l6ZSA+IDA7IGZpbHRlclNpemUtLSkge1xuICAgICAgICBmaWx0ZXJWYWwgPSBmaWx0ZXJzW2ZpbHRlclB0cisrXTsgLy8gVXNlIHJldmVyc2Ugb3JkZXIgdG8gd29ya2Fyb3VuZCBkZW9wdHMgaW4gb2xkIHY4IChub2RlIHYuMTApXG4gICAgICAgIC8vIEJpZyB0aGFua3MgdG8gQG1yYWxlcGggKFZ5YWNoZXNsYXYgRWdvcm92KSBmb3IgdGhlIHRpcC5cblxuICAgICAgICBhID0gYSArIGZpbHRlclZhbCAqIHNyY1tzcmNQdHIgKyAzXSB8IDA7XG4gICAgICAgIGIgPSBiICsgZmlsdGVyVmFsICogc3JjW3NyY1B0ciArIDJdIHwgMDtcbiAgICAgICAgZyA9IGcgKyBmaWx0ZXJWYWwgKiBzcmNbc3JjUHRyICsgMV0gfCAwO1xuICAgICAgICByID0gciArIGZpbHRlclZhbCAqIHNyY1tzcmNQdHJdIHwgMDtcbiAgICAgICAgc3JjUHRyID0gc3JjUHRyICsgNCB8IDA7XG4gICAgICB9IC8vIEJyaW5nIHRoaXMgdmFsdWUgYmFjayBpbiByYW5nZS4gQWxsIG9mIHRoZSBmaWx0ZXIgc2NhbGluZyBmYWN0b3JzXG4gICAgICAvLyBhcmUgaW4gZml4ZWQgcG9pbnQgd2l0aCBGSVhFRF9GUkFDX0JJVFMgYml0cyBvZiBmcmFjdGlvbmFsIHBhcnQuXG4gICAgICAvL1xuICAgICAgLy8gKCEpIEFkZCAxLzIgb2YgdmFsdWUgYmVmb3JlIGNsYW1waW5nIHRvIGdldCBwcm9wZXIgcm91bmRpbmcuIEluIG90aGVyXG4gICAgICAvLyBjYXNlIGJyaWdodG5lc3MgbG9zcyB3aWxsIGJlIG5vdGljZWFibGUgaWYgeW91IHJlc2l6ZSBpbWFnZSB3aXRoIHdoaXRlXG4gICAgICAvLyBib3JkZXIgYW5kIHBsYWNlIGl0IG9uIHdoaXRlIGJhY2tncm91bmQuXG4gICAgICAvL1xuXG5cbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDNdID0gY2xhbXBUbzgoYSArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDJdID0gY2xhbXBUbzgoYiArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldCArIDFdID0gY2xhbXBUbzgoZyArICgxIDw8IDEzKSA+PiAxNFxuICAgICAgLypGSVhFRF9GUkFDX0JJVFMqL1xuICAgICAgKTtcbiAgICAgIGRlc3RbZGVzdE9mZnNldF0gPSBjbGFtcFRvOChyICsgKDEgPDwgMTMpID4+IDE0XG4gICAgICAvKkZJWEVEX0ZSQUNfQklUUyovXG4gICAgICApO1xuICAgICAgZGVzdE9mZnNldCA9IGRlc3RPZmZzZXQgKyBzcmNIICogNCB8IDA7XG4gICAgfVxuXG4gICAgZGVzdE9mZnNldCA9IChzcmNZICsgMSkgKiA0IHwgMDtcbiAgICBzcmNPZmZzZXQgPSAoc3JjWSArIDEpICogc3JjVyAqIDQgfCAwO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb252b2x2ZUhvcml6b250YWxseTogY29udm9sdmVIb3Jpem9udGFsbHksXG4gIGNvbnZvbHZlVmVydGljYWxseTogY29udm9sdmVWZXJ0aWNhbGx5XG59O1xuXG59LHt9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8vIFRoaXMgaXMgYXV0b2dlbmVyYXRlZCBmaWxlIGZyb20gbWF0aC53YXNtLCBkb24ndCBlZGl0LlxuLy9cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSAnQUdGemJRRUFBQUFCRkFKZ0JuOS9mMzkvZndCZ0IzOS9mMzkvZjM4QUFnOEJBMlZ1ZGdadFpXMXZjbmtDQUFFREF3SUFBUVFFQVhBQUFBY1pBZ2hqYjI1MmIyeDJaUUFBQ21OdmJuWnZiSFpsU0ZZQUFRa0JBQXJtQXdMQkF3RVFmd0pBSUFORkRRQWdCRVVOQUNBRlFRUnFJUlZCQUNFTVFRQWhEUU5BSUEwaERrRUFJUkZCQUNFSEEwQWdCMEVDYWlFU0FuOGdCU0FIUVFGMElnZHFJZ1pCQW1vdUFRQWlFd1JBUVFBaENFRUFJQk5ySVJRZ0ZTQUhhaUVQSUFBZ0RDQUdMZ0VBYWtFQ2RHb2hFRUVBSVFsQkFDRUtRUUFoQ3dOQUlCQW9BZ0FpQjBFWWRpQVBMZ0VBSWdac0lBdHFJUXNnQjBIL0FYRWdCbXdnQ0dvaENDQUhRUkIyUWY4QmNTQUdiQ0FLYWlFS0lBZEJDSFpCL3dGeElBWnNJQWxxSVFrZ0QwRUNhaUVQSUJCQkJHb2hFQ0FVUVFGcUloUU5BQXNnRWlBVGFnd0JDMEVBSVF0QkFDRUtRUUFoQ1VFQUlRZ2dFZ3NoQnlBQklBNUJBblJxSUFwQmdNQUFha0VPZFNJR1FmOEJJQVpCL3dGSUcwRVFkRUdBZ1B3SGNVRUFJQVpCQUVvYklBdEJnTUFBYWtFT2RTSUdRZjhCSUFaQi93RklHMEVZZEVFQUlBWkJBRW9iY2lBSlFZREFBR3BCRG5VaUJrSC9BU0FHUWY4QlNCdEJDSFJCZ1A0RGNVRUFJQVpCQUVvYmNpQUlRWURBQUdwQkRuVWlCa0gvQVNBR1FmOEJTQnRCL3dGeFFRQWdCa0VBU2h0eU5nSUFJQTRnQTJvaERpQVJRUUZxSWhFZ0JFY05BQXNnRENBQ2FpRU1JQTFCQVdvaURTQURSdzBBQ3dzTElRQUNRRUVBSUFJZ0F5QUVJQVVnQUJBQUlBSkJBQ0FFSUFVZ0JpQUJFQUFMQ3c9PSc7XG5cbn0se31dLDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbmFtZTogJ3Jlc2l6ZScsXG4gIGZuOiBfZGVyZXFfKCcuL3Jlc2l6ZScpLFxuICB3YXNtX2ZuOiBfZGVyZXFfKCcuL3Jlc2l6ZV93YXNtJyksXG4gIHdhc21fc3JjOiBfZGVyZXFfKCcuL2NvbnZvbHZlX3dhc21fYmFzZTY0Jylcbn07XG5cbn0se1wiLi9jb252b2x2ZV93YXNtX2Jhc2U2NFwiOjMsXCIuL3Jlc2l6ZVwiOjUsXCIuL3Jlc2l6ZV93YXNtXCI6OH1dLDU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRmlsdGVycyA9IF9kZXJlcV8oJy4vcmVzaXplX2ZpbHRlcl9nZW4nKTtcblxudmFyIGNvbnZvbHZlSG9yaXpvbnRhbGx5ID0gX2RlcmVxXygnLi9jb252b2x2ZScpLmNvbnZvbHZlSG9yaXpvbnRhbGx5O1xuXG52YXIgY29udm9sdmVWZXJ0aWNhbGx5ID0gX2RlcmVxXygnLi9jb252b2x2ZScpLmNvbnZvbHZlVmVydGljYWxseTtcblxuZnVuY3Rpb24gcmVzZXRBbHBoYShkc3QsIHdpZHRoLCBoZWlnaHQpIHtcbiAgdmFyIHB0ciA9IDMsXG4gICAgICBsZW4gPSB3aWR0aCAqIGhlaWdodCAqIDQgfCAwO1xuXG4gIHdoaWxlIChwdHIgPCBsZW4pIHtcbiAgICBkc3RbcHRyXSA9IDB4RkY7XG4gICAgcHRyID0gcHRyICsgNCB8IDA7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXNpemUob3B0aW9ucykge1xuICB2YXIgc3JjID0gb3B0aW9ucy5zcmM7XG4gIHZhciBzcmNXID0gb3B0aW9ucy53aWR0aDtcbiAgdmFyIHNyY0ggPSBvcHRpb25zLmhlaWdodDtcbiAgdmFyIGRlc3RXID0gb3B0aW9ucy50b1dpZHRoO1xuICB2YXIgZGVzdEggPSBvcHRpb25zLnRvSGVpZ2h0O1xuICB2YXIgc2NhbGVYID0gb3B0aW9ucy5zY2FsZVggfHwgb3B0aW9ucy50b1dpZHRoIC8gb3B0aW9ucy53aWR0aDtcbiAgdmFyIHNjYWxlWSA9IG9wdGlvbnMuc2NhbGVZIHx8IG9wdGlvbnMudG9IZWlnaHQgLyBvcHRpb25zLmhlaWdodDtcbiAgdmFyIG9mZnNldFggPSBvcHRpb25zLm9mZnNldFggfHwgMDtcbiAgdmFyIG9mZnNldFkgPSBvcHRpb25zLm9mZnNldFkgfHwgMDtcbiAgdmFyIGRlc3QgPSBvcHRpb25zLmRlc3QgfHwgbmV3IFVpbnQ4QXJyYXkoZGVzdFcgKiBkZXN0SCAqIDQpO1xuICB2YXIgcXVhbGl0eSA9IHR5cGVvZiBvcHRpb25zLnF1YWxpdHkgPT09ICd1bmRlZmluZWQnID8gMyA6IG9wdGlvbnMucXVhbGl0eTtcbiAgdmFyIGFscGhhID0gb3B0aW9ucy5hbHBoYSB8fCBmYWxzZTtcbiAgdmFyIGZpbHRlcnNYID0gY3JlYXRlRmlsdGVycyhxdWFsaXR5LCBzcmNXLCBkZXN0Vywgc2NhbGVYLCBvZmZzZXRYKSxcbiAgICAgIGZpbHRlcnNZID0gY3JlYXRlRmlsdGVycyhxdWFsaXR5LCBzcmNILCBkZXN0SCwgc2NhbGVZLCBvZmZzZXRZKTtcbiAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGRlc3RXICogc3JjSCAqIDQpOyAvLyBUbyB1c2Ugc2luZ2xlIGZ1bmN0aW9uIHdlIG5lZWQgc3JjICYgdG1wIG9mIHRoZSBzYW1lIHR5cGUuXG4gIC8vIEJ1dCBzcmMgY2FuIGJlIENhbnZhc1BpeGVsQXJyYXksIGFuZCB0bXAgLSBVaW50OEFycmF5LiBTbywga2VlcFxuICAvLyB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBwYXNzZXMgc2VwYXJhdGVseSB0byBhdm9pZCBkZW9wdGltaXphdGlvbi5cblxuICBjb252b2x2ZUhvcml6b250YWxseShzcmMsIHRtcCwgc3JjVywgc3JjSCwgZGVzdFcsIGZpbHRlcnNYKTtcbiAgY29udm9sdmVWZXJ0aWNhbGx5KHRtcCwgZGVzdCwgc3JjSCwgZGVzdFcsIGRlc3RILCBmaWx0ZXJzWSk7IC8vIFRoYXQncyBmYXN0ZXIgdGhhbiBkb2luZyBjaGVja3MgaW4gY29udm9sdmVyLlxuICAvLyAhISEgTm90ZSwgY2FudmFzIGRhdGEgaXMgbm90IHByZW11bHRpcGxlZC4gV2UgZG9uJ3QgbmVlZCBvdGhlclxuICAvLyBhbHBoYSBjb3JyZWN0aW9ucy5cblxuICBpZiAoIWFscGhhKSByZXNldEFscGhhKGRlc3QsIGRlc3RXLCBkZXN0SCk7XG4gIHJldHVybiBkZXN0O1xufTtcblxufSx7XCIuL2NvbnZvbHZlXCI6MixcIi4vcmVzaXplX2ZpbHRlcl9nZW5cIjo2fV0sNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBDYWxjdWxhdGUgY29udm9sdXRpb24gZmlsdGVycyBmb3IgZWFjaCBkZXN0aW5hdGlvbiBwb2ludCxcbi8vIGFuZCBwYWNrIGRhdGEgdG8gSW50MTZBcnJheTpcbi8vXG4vLyBbIHNoaWZ0LCBsZW5ndGgsIGRhdGEuLi4sIHNoaWZ0MiwgbGVuZ3RoMiwgZGF0YS4uLiwgLi4uIF1cbi8vXG4vLyAtIHNoaWZ0IC0gb2Zmc2V0IGluIHNyYyBpbWFnZVxuLy8gLSBsZW5ndGggLSBmaWx0ZXIgbGVuZ3RoIChpbiBzcmMgcG9pbnRzKVxuLy8gLSBkYXRhIC0gZmlsdGVyIHZhbHVlcyBzZXF1ZW5jZVxuLy9cbid1c2Ugc3RyaWN0JztcblxudmFyIEZJTFRFUl9JTkZPID0gX2RlcmVxXygnLi9yZXNpemVfZmlsdGVyX2luZm8nKTsgLy8gUHJlY2lzaW9uIG9mIGZpeGVkIEZQIHZhbHVlc1xuXG5cbnZhciBGSVhFRF9GUkFDX0JJVFMgPSAxNDtcblxuZnVuY3Rpb24gdG9GaXhlZFBvaW50KG51bSkge1xuICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiAoKDEgPDwgRklYRURfRlJBQ19CSVRTKSAtIDEpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXNpemVGaWx0ZXJHZW4ocXVhbGl0eSwgc3JjU2l6ZSwgZGVzdFNpemUsIHNjYWxlLCBvZmZzZXQpIHtcbiAgdmFyIGZpbHRlckZ1bmN0aW9uID0gRklMVEVSX0lORk9bcXVhbGl0eV0uZmlsdGVyO1xuICB2YXIgc2NhbGVJbnZlcnRlZCA9IDEuMCAvIHNjYWxlO1xuICB2YXIgc2NhbGVDbGFtcGVkID0gTWF0aC5taW4oMS4wLCBzY2FsZSk7IC8vIEZvciB1cHNjYWxlXG4gIC8vIEZpbHRlciB3aW5kb3cgKGF2ZXJhZ2luZyBpbnRlcnZhbCksIHNjYWxlZCB0byBzcmMgaW1hZ2VcblxuICB2YXIgc3JjV2luZG93ID0gRklMVEVSX0lORk9bcXVhbGl0eV0ud2luIC8gc2NhbGVDbGFtcGVkO1xuICB2YXIgZGVzdFBpeGVsLCBzcmNQaXhlbCwgc3JjRmlyc3QsIHNyY0xhc3QsIGZpbHRlckVsZW1lbnRTaXplLCBmbG9hdEZpbHRlciwgZnhwRmlsdGVyLCB0b3RhbCwgcHhsLCBpZHgsIGZsb2F0VmFsLCBmaWx0ZXJUb3RhbCwgZmlsdGVyVmFsO1xuICB2YXIgbGVmdE5vdEVtcHR5LCByaWdodE5vdEVtcHR5LCBmaWx0ZXJTaGlmdCwgZmlsdGVyU2l6ZTtcbiAgdmFyIG1heEZpbHRlckVsZW1lbnRTaXplID0gTWF0aC5mbG9vcigoc3JjV2luZG93ICsgMSkgKiAyKTtcbiAgdmFyIHBhY2tlZEZpbHRlciA9IG5ldyBJbnQxNkFycmF5KChtYXhGaWx0ZXJFbGVtZW50U2l6ZSArIDIpICogZGVzdFNpemUpO1xuICB2YXIgcGFja2VkRmlsdGVyUHRyID0gMDtcbiAgdmFyIHNsb3dDb3B5ID0gIXBhY2tlZEZpbHRlci5zdWJhcnJheSB8fCAhcGFja2VkRmlsdGVyLnNldDsgLy8gRm9yIGVhY2ggZGVzdGluYXRpb24gcGl4ZWwgY2FsY3VsYXRlIHNvdXJjZSByYW5nZSBhbmQgYnVpbHQgZmlsdGVyIHZhbHVlc1xuXG4gIGZvciAoZGVzdFBpeGVsID0gMDsgZGVzdFBpeGVsIDwgZGVzdFNpemU7IGRlc3RQaXhlbCsrKSB7XG4gICAgLy8gU2NhbGluZyBzaG91bGQgYmUgZG9uZSByZWxhdGl2ZSB0byBjZW50cmFsIHBpeGVsIHBvaW50XG4gICAgc3JjUGl4ZWwgPSAoZGVzdFBpeGVsICsgMC41KSAqIHNjYWxlSW52ZXJ0ZWQgKyBvZmZzZXQ7XG4gICAgc3JjRmlyc3QgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHNyY1BpeGVsIC0gc3JjV2luZG93KSk7XG4gICAgc3JjTGFzdCA9IE1hdGgubWluKHNyY1NpemUgLSAxLCBNYXRoLmNlaWwoc3JjUGl4ZWwgKyBzcmNXaW5kb3cpKTtcbiAgICBmaWx0ZXJFbGVtZW50U2l6ZSA9IHNyY0xhc3QgLSBzcmNGaXJzdCArIDE7XG4gICAgZmxvYXRGaWx0ZXIgPSBuZXcgRmxvYXQzMkFycmF5KGZpbHRlckVsZW1lbnRTaXplKTtcbiAgICBmeHBGaWx0ZXIgPSBuZXcgSW50MTZBcnJheShmaWx0ZXJFbGVtZW50U2l6ZSk7XG4gICAgdG90YWwgPSAwLjA7IC8vIEZpbGwgZmlsdGVyIHZhbHVlcyBmb3IgY2FsY3VsYXRlZCByYW5nZVxuXG4gICAgZm9yIChweGwgPSBzcmNGaXJzdCwgaWR4ID0gMDsgcHhsIDw9IHNyY0xhc3Q7IHB4bCsrLCBpZHgrKykge1xuICAgICAgZmxvYXRWYWwgPSBmaWx0ZXJGdW5jdGlvbigocHhsICsgMC41IC0gc3JjUGl4ZWwpICogc2NhbGVDbGFtcGVkKTtcbiAgICAgIHRvdGFsICs9IGZsb2F0VmFsO1xuICAgICAgZmxvYXRGaWx0ZXJbaWR4XSA9IGZsb2F0VmFsO1xuICAgIH0gLy8gTm9ybWFsaXplIGZpbHRlciwgY29udmVydCB0byBmaXhlZCBwb2ludCBhbmQgYWNjdW11bGF0ZSBjb252ZXJzaW9uIGVycm9yXG5cblxuICAgIGZpbHRlclRvdGFsID0gMDtcblxuICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgZmxvYXRGaWx0ZXIubGVuZ3RoOyBpZHgrKykge1xuICAgICAgZmlsdGVyVmFsID0gZmxvYXRGaWx0ZXJbaWR4XSAvIHRvdGFsO1xuICAgICAgZmlsdGVyVG90YWwgKz0gZmlsdGVyVmFsO1xuICAgICAgZnhwRmlsdGVyW2lkeF0gPSB0b0ZpeGVkUG9pbnQoZmlsdGVyVmFsKTtcbiAgICB9IC8vIENvbXBlbnNhdGUgbm9ybWFsaXphdGlvbiBlcnJvciwgdG8gbWluaW1pemUgYnJpZ2h0bmVzcyBkcmlmdFxuXG5cbiAgICBmeHBGaWx0ZXJbZGVzdFNpemUgPj4gMV0gKz0gdG9GaXhlZFBvaW50KDEuMCAtIGZpbHRlclRvdGFsKTsgLy9cbiAgICAvLyBOb3cgcGFjayBmaWx0ZXIgdG8gdXNlYWJsZSBmb3JtXG4gICAgLy9cbiAgICAvLyAxLiBUcmltIGhlYWRpbmcgYW5kIHRhaWxpbmcgemVybyB2YWx1ZXMsIGFuZCBjb21wZW5zYXRlIHNoaXRmL2xlbmd0aFxuICAgIC8vIDIuIFB1dCBhbGwgdG8gc2luZ2xlIGFycmF5IGluIHRoaXMgZm9ybWF0OlxuICAgIC8vXG4gICAgLy8gICAgWyBwb3Mgc2hpZnQsIGRhdGEgbGVuZ3RoLCB2YWx1ZTEsIHZhbHVlMiwgdmFsdWUzLCAuLi4gXVxuICAgIC8vXG5cbiAgICBsZWZ0Tm90RW1wdHkgPSAwO1xuXG4gICAgd2hpbGUgKGxlZnROb3RFbXB0eSA8IGZ4cEZpbHRlci5sZW5ndGggJiYgZnhwRmlsdGVyW2xlZnROb3RFbXB0eV0gPT09IDApIHtcbiAgICAgIGxlZnROb3RFbXB0eSsrO1xuICAgIH1cblxuICAgIGlmIChsZWZ0Tm90RW1wdHkgPCBmeHBGaWx0ZXIubGVuZ3RoKSB7XG4gICAgICByaWdodE5vdEVtcHR5ID0gZnhwRmlsdGVyLmxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChyaWdodE5vdEVtcHR5ID4gMCAmJiBmeHBGaWx0ZXJbcmlnaHROb3RFbXB0eV0gPT09IDApIHtcbiAgICAgICAgcmlnaHROb3RFbXB0eS0tO1xuICAgICAgfVxuXG4gICAgICBmaWx0ZXJTaGlmdCA9IHNyY0ZpcnN0ICsgbGVmdE5vdEVtcHR5O1xuICAgICAgZmlsdGVyU2l6ZSA9IHJpZ2h0Tm90RW1wdHkgLSBsZWZ0Tm90RW1wdHkgKyAxO1xuICAgICAgcGFja2VkRmlsdGVyW3BhY2tlZEZpbHRlclB0cisrXSA9IGZpbHRlclNoaWZ0OyAvLyBzaGlmdFxuXG4gICAgICBwYWNrZWRGaWx0ZXJbcGFja2VkRmlsdGVyUHRyKytdID0gZmlsdGVyU2l6ZTsgLy8gc2l6ZVxuXG4gICAgICBpZiAoIXNsb3dDb3B5KSB7XG4gICAgICAgIHBhY2tlZEZpbHRlci5zZXQoZnhwRmlsdGVyLnN1YmFycmF5KGxlZnROb3RFbXB0eSwgcmlnaHROb3RFbXB0eSArIDEpLCBwYWNrZWRGaWx0ZXJQdHIpO1xuICAgICAgICBwYWNrZWRGaWx0ZXJQdHIgKz0gZmlsdGVyU2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGZhbGxiYWNrIGZvciBvbGQgSUUgPCAxMSwgd2l0aG91dCBzdWJhcnJheS9zZXQgbWV0aG9kc1xuICAgICAgICBmb3IgKGlkeCA9IGxlZnROb3RFbXB0eTsgaWR4IDw9IHJpZ2h0Tm90RW1wdHk7IGlkeCsrKSB7XG4gICAgICAgICAgcGFja2VkRmlsdGVyW3BhY2tlZEZpbHRlclB0cisrXSA9IGZ4cEZpbHRlcltpZHhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHplcm8gZGF0YSwgd3JpdGUgaGVhZGVyIG9ubHlcbiAgICAgIHBhY2tlZEZpbHRlcltwYWNrZWRGaWx0ZXJQdHIrK10gPSAwOyAvLyBzaGlmdFxuXG4gICAgICBwYWNrZWRGaWx0ZXJbcGFja2VkRmlsdGVyUHRyKytdID0gMDsgLy8gc2l6ZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYWNrZWRGaWx0ZXI7XG59O1xuXG59LHtcIi4vcmVzaXplX2ZpbHRlcl9pbmZvXCI6N31dLDc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gRmlsdGVyIGRlZmluaXRpb25zIHRvIGJ1aWxkIHRhYmxlcyBmb3Jcbi8vIHJlc2l6aW5nIGNvbnZvbHZlcnMuXG4vL1xuLy8gUHJlc2V0cyBmb3IgcXVhbGl0eSAwLi4zLiBGaWx0ZXIgZnVuY3Rpb25zICsgd2luZG93IHNpemVcbi8vXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gW3tcbiAgLy8gTmVhcmVzdCBuZWlib3IgKEJveClcbiAgd2luOiAwLjUsXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKHgpIHtcbiAgICByZXR1cm4geCA+PSAtMC41ICYmIHggPCAwLjUgPyAxLjAgOiAwLjA7XG4gIH1cbn0sIHtcbiAgLy8gSGFtbWluZ1xuICB3aW46IDEuMCxcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoeCkge1xuICAgIGlmICh4IDw9IC0xLjAgfHwgeCA+PSAxLjApIHtcbiAgICAgIHJldHVybiAwLjA7XG4gICAgfVxuXG4gICAgaWYgKHggPiAtMS4xOTIwOTI5MEUtMDcgJiYgeCA8IDEuMTkyMDkyOTBFLTA3KSB7XG4gICAgICByZXR1cm4gMS4wO1xuICAgIH1cblxuICAgIHZhciB4cGkgPSB4ICogTWF0aC5QSTtcbiAgICByZXR1cm4gTWF0aC5zaW4oeHBpKSAvIHhwaSAqICgwLjU0ICsgMC40NiAqIE1hdGguY29zKHhwaSAvIDEuMCkpO1xuICB9XG59LCB7XG4gIC8vIExhbmN6b3MsIHdpbiA9IDJcbiAgd2luOiAyLjAsXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKHgpIHtcbiAgICBpZiAoeCA8PSAtMi4wIHx8IHggPj0gMi4wKSB7XG4gICAgICByZXR1cm4gMC4wO1xuICAgIH1cblxuICAgIGlmICh4ID4gLTEuMTkyMDkyOTBFLTA3ICYmIHggPCAxLjE5MjA5MjkwRS0wNykge1xuICAgICAgcmV0dXJuIDEuMDtcbiAgICB9XG5cbiAgICB2YXIgeHBpID0geCAqIE1hdGguUEk7XG4gICAgcmV0dXJuIE1hdGguc2luKHhwaSkgLyB4cGkgKiBNYXRoLnNpbih4cGkgLyAyLjApIC8gKHhwaSAvIDIuMCk7XG4gIH1cbn0sIHtcbiAgLy8gTGFuY3pvcywgd2luID0gM1xuICB3aW46IDMuMCxcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoeCkge1xuICAgIGlmICh4IDw9IC0zLjAgfHwgeCA+PSAzLjApIHtcbiAgICAgIHJldHVybiAwLjA7XG4gICAgfVxuXG4gICAgaWYgKHggPiAtMS4xOTIwOTI5MEUtMDcgJiYgeCA8IDEuMTkyMDkyOTBFLTA3KSB7XG4gICAgICByZXR1cm4gMS4wO1xuICAgIH1cblxuICAgIHZhciB4cGkgPSB4ICogTWF0aC5QSTtcbiAgICByZXR1cm4gTWF0aC5zaW4oeHBpKSAvIHhwaSAqIE1hdGguc2luKHhwaSAvIDMuMCkgLyAoeHBpIC8gMy4wKTtcbiAgfVxufV07XG5cbn0se31dLDg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRmlsdGVycyA9IF9kZXJlcV8oJy4vcmVzaXplX2ZpbHRlcl9nZW4nKTtcblxuZnVuY3Rpb24gcmVzZXRBbHBoYShkc3QsIHdpZHRoLCBoZWlnaHQpIHtcbiAgdmFyIHB0ciA9IDMsXG4gICAgICBsZW4gPSB3aWR0aCAqIGhlaWdodCAqIDQgfCAwO1xuXG4gIHdoaWxlIChwdHIgPCBsZW4pIHtcbiAgICBkc3RbcHRyXSA9IDB4RkY7XG4gICAgcHRyID0gcHRyICsgNCB8IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNVaW50OEFycmF5KHNyYykge1xuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoc3JjLmJ1ZmZlciwgMCwgc3JjLmJ5dGVMZW5ndGgpO1xufVxuXG52YXIgSVNfTEUgPSB0cnVlOyAvLyBzaG91bGQgbm90IGNyYXNoIGV2ZXJ5dGhpbmcgb24gbW9kdWxlIGxvYWQgaW4gb2xkIGJyb3dzZXJzXG5cbnRyeSB7XG4gIElTX0xFID0gbmV3IFVpbnQzMkFycmF5KG5ldyBVaW50OEFycmF5KFsxLCAwLCAwLCAwXSkuYnVmZmVyKVswXSA9PT0gMTtcbn0gY2F0Y2ggKF9fKSB7fVxuXG5mdW5jdGlvbiBjb3B5SW50MTZhc0xFKHNyYywgdGFyZ2V0LCB0YXJnZXRfb2Zmc2V0KSB7XG4gIGlmIChJU19MRSkge1xuICAgIHRhcmdldC5zZXQoYXNVaW50OEFycmF5KHNyYyksIHRhcmdldF9vZmZzZXQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAodmFyIHB0ciA9IHRhcmdldF9vZmZzZXQsIGkgPSAwOyBpIDwgc3JjLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRhdGEgPSBzcmNbaV07XG4gICAgdGFyZ2V0W3B0cisrXSA9IGRhdGEgJiAweEZGO1xuICAgIHRhcmdldFtwdHIrK10gPSBkYXRhID4+IDggJiAweEZGO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVzaXplX3dhc20ob3B0aW9ucykge1xuICB2YXIgc3JjID0gb3B0aW9ucy5zcmM7XG4gIHZhciBzcmNXID0gb3B0aW9ucy53aWR0aDtcbiAgdmFyIHNyY0ggPSBvcHRpb25zLmhlaWdodDtcbiAgdmFyIGRlc3RXID0gb3B0aW9ucy50b1dpZHRoO1xuICB2YXIgZGVzdEggPSBvcHRpb25zLnRvSGVpZ2h0O1xuICB2YXIgc2NhbGVYID0gb3B0aW9ucy5zY2FsZVggfHwgb3B0aW9ucy50b1dpZHRoIC8gb3B0aW9ucy53aWR0aDtcbiAgdmFyIHNjYWxlWSA9IG9wdGlvbnMuc2NhbGVZIHx8IG9wdGlvbnMudG9IZWlnaHQgLyBvcHRpb25zLmhlaWdodDtcbiAgdmFyIG9mZnNldFggPSBvcHRpb25zLm9mZnNldFggfHwgMC4wO1xuICB2YXIgb2Zmc2V0WSA9IG9wdGlvbnMub2Zmc2V0WSB8fCAwLjA7XG4gIHZhciBkZXN0ID0gb3B0aW9ucy5kZXN0IHx8IG5ldyBVaW50OEFycmF5KGRlc3RXICogZGVzdEggKiA0KTtcbiAgdmFyIHF1YWxpdHkgPSB0eXBlb2Ygb3B0aW9ucy5xdWFsaXR5ID09PSAndW5kZWZpbmVkJyA/IDMgOiBvcHRpb25zLnF1YWxpdHk7XG4gIHZhciBhbHBoYSA9IG9wdGlvbnMuYWxwaGEgfHwgZmFsc2U7XG4gIHZhciBmaWx0ZXJzWCA9IGNyZWF0ZUZpbHRlcnMocXVhbGl0eSwgc3JjVywgZGVzdFcsIHNjYWxlWCwgb2Zmc2V0WCksXG4gICAgICBmaWx0ZXJzWSA9IGNyZWF0ZUZpbHRlcnMocXVhbGl0eSwgc3JjSCwgZGVzdEgsIHNjYWxlWSwgb2Zmc2V0WSk7IC8vIGRlc3RpbmF0aW9uIGlzIDAgdG9vLlxuXG4gIHZhciBzcmNfb2Zmc2V0ID0gMDsgLy8gYnVmZmVyIGJldHdlZW4gY29udm9sdmUgcGFzc2VzXG5cbiAgdmFyIHRtcF9vZmZzZXQgPSB0aGlzLl9fYWxpZ24oc3JjX29mZnNldCArIE1hdGgubWF4KHNyYy5ieXRlTGVuZ3RoLCBkZXN0LmJ5dGVMZW5ndGgpKTtcblxuICB2YXIgZmlsdGVyc1hfb2Zmc2V0ID0gdGhpcy5fX2FsaWduKHRtcF9vZmZzZXQgKyBzcmNIICogZGVzdFcgKiA0KTtcblxuICB2YXIgZmlsdGVyc1lfb2Zmc2V0ID0gdGhpcy5fX2FsaWduKGZpbHRlcnNYX29mZnNldCArIGZpbHRlcnNYLmJ5dGVMZW5ndGgpO1xuXG4gIHZhciBhbGxvY19ieXRlcyA9IGZpbHRlcnNZX29mZnNldCArIGZpbHRlcnNZLmJ5dGVMZW5ndGg7XG5cbiAgdmFyIGluc3RhbmNlID0gdGhpcy5fX2luc3RhbmNlKCdyZXNpemUnLCBhbGxvY19ieXRlcyk7IC8vXG4gIC8vIEZpbGwgbWVtb3J5IGJsb2NrIHdpdGggZGF0YSB0byBwcm9jZXNzXG4gIC8vXG5cblxuICB2YXIgbWVtID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fX21lbW9yeS5idWZmZXIpO1xuICB2YXIgbWVtMzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5fX21lbW9yeS5idWZmZXIpOyAvLyAzMi1iaXQgY29weSBpcyBtdWNoIGZhc3RlciBpbiBjaHJvbWVcblxuICB2YXIgc3JjMzIgPSBuZXcgVWludDMyQXJyYXkoc3JjLmJ1ZmZlcik7XG4gIG1lbTMyLnNldChzcmMzMik7IC8vIFdlIHNob3VsZCBndWFyYW50ZWUgTEUgYnl0ZXMgb3JkZXIuIEZpbHRlcnMgYXJlIG5vdCBiaWcsIHNvXG4gIC8vIHNwZWVkIGRpZmZlcmVuY2UgaXMgbm90IHNpZ25pZmljYW50IHZzIGRpcmVjdCAuc2V0KClcblxuICBjb3B5SW50MTZhc0xFKGZpbHRlcnNYLCBtZW0sIGZpbHRlcnNYX29mZnNldCk7XG4gIGNvcHlJbnQxNmFzTEUoZmlsdGVyc1ksIG1lbSwgZmlsdGVyc1lfb2Zmc2V0KTsgLy9cbiAgLy8gTm93IGNhbGwgd2ViYXNzZW1ibHkgbWV0aG9kXG4gIC8vIGVtc2RrIGRvZXMgbWV0aG9kIG5hbWVzIHdpdGggJ18nXG5cbiAgdmFyIGZuID0gaW5zdGFuY2UuZXhwb3J0cy5jb252b2x2ZUhWIHx8IGluc3RhbmNlLmV4cG9ydHMuX2NvbnZvbHZlSFY7XG4gIGZuKGZpbHRlcnNYX29mZnNldCwgZmlsdGVyc1lfb2Zmc2V0LCB0bXBfb2Zmc2V0LCBzcmNXLCBzcmNILCBkZXN0VywgZGVzdEgpOyAvL1xuICAvLyBDb3B5IGRhdGEgYmFjayB0byB0eXBlZCBhcnJheVxuICAvL1xuICAvLyAzMi1iaXQgY29weSBpcyBtdWNoIGZhc3RlciBpbiBjaHJvbWVcblxuICB2YXIgZGVzdDMyID0gbmV3IFVpbnQzMkFycmF5KGRlc3QuYnVmZmVyKTtcbiAgZGVzdDMyLnNldChuZXcgVWludDMyQXJyYXkodGhpcy5fX21lbW9yeS5idWZmZXIsIDAsIGRlc3RIICogZGVzdFcpKTsgLy8gVGhhdCdzIGZhc3RlciB0aGFuIGRvaW5nIGNoZWNrcyBpbiBjb252b2x2ZXIuXG4gIC8vICEhISBOb3RlLCBjYW52YXMgZGF0YSBpcyBub3QgcHJlbXVsdGlwbGVkLiBXZSBkb24ndCBuZWVkIG90aGVyXG4gIC8vIGFscGhhIGNvcnJlY3Rpb25zLlxuXG4gIGlmICghYWxwaGEpIHJlc2V0QWxwaGEoZGVzdCwgZGVzdFcsIGRlc3RIKTtcbiAgcmV0dXJuIGRlc3Q7XG59O1xuXG59LHtcIi4vcmVzaXplX2ZpbHRlcl9nZW5cIjo2fV0sOTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBHQ19JTlRFUlZBTCA9IDEwMDtcblxuZnVuY3Rpb24gUG9vbChjcmVhdGUsIGlkbGUpIHtcbiAgdGhpcy5jcmVhdGUgPSBjcmVhdGU7XG4gIHRoaXMuYXZhaWxhYmxlID0gW107XG4gIHRoaXMuYWNxdWlyZWQgPSB7fTtcbiAgdGhpcy5sYXN0SWQgPSAxO1xuICB0aGlzLnRpbWVvdXRJZCA9IDA7XG4gIHRoaXMuaWRsZSA9IGlkbGUgfHwgMjAwMDtcbn1cblxuUG9vbC5wcm90b3R5cGUuYWNxdWlyZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgcmVzb3VyY2U7XG5cbiAgaWYgKHRoaXMuYXZhaWxhYmxlLmxlbmd0aCAhPT0gMCkge1xuICAgIHJlc291cmNlID0gdGhpcy5hdmFpbGFibGUucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzb3VyY2UgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIHJlc291cmNlLmlkID0gdGhpcy5sYXN0SWQrKztcblxuICAgIHJlc291cmNlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucmVsZWFzZShyZXNvdXJjZSk7XG4gICAgfTtcbiAgfVxuXG4gIHRoaXMuYWNxdWlyZWRbcmVzb3VyY2UuaWRdID0gcmVzb3VyY2U7XG4gIHJldHVybiByZXNvdXJjZTtcbn07XG5cblBvb2wucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgZGVsZXRlIHRoaXMuYWNxdWlyZWRbcmVzb3VyY2UuaWRdO1xuICByZXNvdXJjZS5sYXN0VXNlZCA9IERhdGUubm93KCk7XG4gIHRoaXMuYXZhaWxhYmxlLnB1c2gocmVzb3VyY2UpO1xuXG4gIGlmICh0aGlzLnRpbWVvdXRJZCA9PT0gMCkge1xuICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMyLmdjKCk7XG4gICAgfSwgR0NfSU5URVJWQUwpO1xuICB9XG59O1xuXG5Qb29sLnByb3RvdHlwZS5nYyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gIHRoaXMuYXZhaWxhYmxlID0gdGhpcy5hdmFpbGFibGUuZmlsdGVyKGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgIGlmIChub3cgLSByZXNvdXJjZS5sYXN0VXNlZCA+IF90aGlzMy5pZGxlKSB7XG4gICAgICByZXNvdXJjZS5kZXN0cm95KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIGlmICh0aGlzLmF2YWlsYWJsZS5sZW5ndGggIT09IDApIHtcbiAgICB0aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzMy5nYygpO1xuICAgIH0sIEdDX0lOVEVSVkFMKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnRpbWVvdXRJZCA9IDA7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUG9vbDtcblxufSx7fV0sMTA6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gQWRkIGludGVybWVkaWF0ZSByZXNpemluZyBzdGVwcyB3aGVuIHNjYWxpbmcgZG93biBieSBhIHZlcnkgbGFyZ2UgZmFjdG9yLlxuLy9cbi8vIEZvciBleGFtcGxlLCB3aGVuIHJlc2l6aW5nIDEwMDAweDEwMDAwIGRvd24gdG8gMTB4MTAsIGl0J2xsIHJlc2l6ZSBpdCB0b1xuLy8gMzAweDMwMCBmaXJzdC5cbi8vXG4vLyBJdCdzIG5lZWRlZCBiZWNhdXNlIHRpbGVyIGhhcyBpc3N1ZXMgd2hlbiB0aGUgZW50aXJlIHRpbGUgaXMgc2NhbGVkIGRvd25cbi8vIHRvIGEgZmV3IHBpeGVscyAoMTAyNHB4IHNvdXJjZSB0aWxlIHdpdGggYm9yZGVyIHNpemUgMyBzaG91bGQgcmVzdWx0IGluXG4vLyBhdCBsZWFzdCAzKzMrMiA9IDhweCB0YXJnZXQgdGlsZSwgc28gbWF4IHNjYWxlIGZhY3RvciBpcyAxMjggaGVyZSkuXG4vL1xuLy8gQWxzbywgYWRkaW5nIGludGVybWVkaWF0ZSBzdGVwcyBjYW4gc3BlZWQgdXAgcHJvY2Vzc2luZyBpZiB3ZSB1c2UgbG93ZXJcbi8vIHF1YWxpdHkgYWxnb3JpdGhtcyBmb3IgZmlyc3Qgc3RhZ2VzLlxuLy9cbid1c2Ugc3RyaWN0JzsgLy8gbWluIHNpemUgPSAwIHJlc3VsdHMgaW4gaW5maW5pdGUgbG9vcCxcbi8vIG1pbiBzaXplID0gMSBjYW4gY29uc3VtZSBsYXJnZSBhbW91bnQgb2YgbWVtb3J5XG5cbnZhciBNSU5fSU5ORVJfVElMRV9TSVpFID0gMjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVTdGFnZXMoZnJvbVdpZHRoLCBmcm9tSGVpZ2h0LCB0b1dpZHRoLCB0b0hlaWdodCwgc3JjVGlsZVNpemUsIGRlc3RUaWxlQm9yZGVyKSB7XG4gIHZhciBzY2FsZVggPSB0b1dpZHRoIC8gZnJvbVdpZHRoO1xuICB2YXIgc2NhbGVZID0gdG9IZWlnaHQgLyBmcm9tSGVpZ2h0OyAvLyBkZXJpdmVkIGZyb20gY3JlYXRlUmVnaW9ucyBlcXVhdGlvbjpcbiAgLy8gaW5uZXJUaWxlV2lkdGggPSBwaXhlbEZsb29yKHNyY1RpbGVTaXplICogc2NhbGVYKSAtIDIgKiBkZXN0VGlsZUJvcmRlcjtcblxuICB2YXIgbWluU2NhbGUgPSAoMiAqIGRlc3RUaWxlQm9yZGVyICsgTUlOX0lOTkVSX1RJTEVfU0laRSArIDEpIC8gc3JjVGlsZVNpemU7IC8vIHJlZnVzZSB0byBzY2FsZSBpbWFnZSBtdWx0aXBsZSB0aW1lcyBieSBsZXNzIHRoYW4gdHdpY2UgZWFjaCB0aW1lLFxuICAvLyBpdCBjb3VsZCBvbmx5IGhhcHBlbiBiZWNhdXNlIG9mIGludmFsaWQgb3B0aW9uc1xuXG4gIGlmIChtaW5TY2FsZSA+IDAuNSkgcmV0dXJuIFtbdG9XaWR0aCwgdG9IZWlnaHRdXTtcbiAgdmFyIHN0YWdlQ291bnQgPSBNYXRoLmNlaWwoTWF0aC5sb2coTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpKSAvIE1hdGgubG9nKG1pblNjYWxlKSk7IC8vIG5vIGFkZGl0aW9uYWwgcmVzaXplcyBhcmUgbmVjZXNzYXJ5LFxuICAvLyBzdGFnZUNvdW50IGNhbiBiZSB6ZXJvIG9yIGJlIG5lZ2F0aXZlIHdoZW4gZW5sYXJnaW5nIHRoZSBpbWFnZVxuXG4gIGlmIChzdGFnZUNvdW50IDw9IDEpIHJldHVybiBbW3RvV2lkdGgsIHRvSGVpZ2h0XV07XG4gIHZhciByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWdlQ291bnQ7IGkrKykge1xuICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoTWF0aC5wb3coTWF0aC5wb3coZnJvbVdpZHRoLCBzdGFnZUNvdW50IC0gaSAtIDEpICogTWF0aC5wb3codG9XaWR0aCwgaSArIDEpLCAxIC8gc3RhZ2VDb3VudCkpO1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKE1hdGgucG93KE1hdGgucG93KGZyb21IZWlnaHQsIHN0YWdlQ291bnQgLSBpIC0gMSkgKiBNYXRoLnBvdyh0b0hlaWdodCwgaSArIDEpLCAxIC8gc3RhZ2VDb3VudCkpO1xuICAgIHJlc3VsdC5wdXNoKFt3aWR0aCwgaGVpZ2h0XSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxufSx7fV0sMTE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gU3BsaXQgb3JpZ2luYWwgaW1hZ2UgaW50byBtdWx0aXBsZSAxMDI0eDEwMjQgY2h1bmtzIHRvIHJlZHVjZSBtZW1vcnkgdXNhZ2Vcbi8vIChpbWFnZXMgaGF2ZSB0byBiZSB1bnBhY2tlZCBpbnRvIHR5cGVkIGFycmF5cyBmb3IgcmVzaXppbmcpIGFuZCBhbGxvd1xuLy8gcGFyYWxsZWwgcHJvY2Vzc2luZyBvZiBtdWx0aXBsZSB0aWxlcyBhdCBhIHRpbWUuXG4vL1xuJ3VzZSBzdHJpY3QnO1xuLypcbiAqIHBpeGVsRmxvb3IgYW5kIHBpeGVsQ2VpbCBhcmUgbW9kaWZpZWQgdmVyc2lvbnMgb2YgTWF0aC5mbG9vciBhbmQgTWF0aC5jZWlsXG4gKiBmdW5jdGlvbnMgd2hpY2ggdGFrZSBpbnRvIGFjY291bnQgZmxvYXRpbmcgcG9pbnQgYXJpdGhtZXRpYyBlcnJvcnMuXG4gKiBUaG9zZSBlcnJvcnMgY2FuIGNhdXNlIHVuZGVzaXJlZCBpbmNyZW1lbnRzL2RlY3JlbWVudHMgb2Ygc2l6ZXMgYW5kIG9mZnNldHM6XG4gKiBNYXRoLmNlaWwoMzYgLyAoMzYgLyA1MDApKSA9IDUwMVxuICogcGl4ZWxDZWlsKDM2IC8gKDM2IC8gNTAwKSkgPSA1MDBcbiAqL1xuXG52YXIgUElYRUxfRVBTSUxPTiA9IDFlLTU7XG5cbmZ1bmN0aW9uIHBpeGVsRmxvb3IoeCkge1xuICB2YXIgbmVhcmVzdCA9IE1hdGgucm91bmQoeCk7XG5cbiAgaWYgKE1hdGguYWJzKHggLSBuZWFyZXN0KSA8IFBJWEVMX0VQU0lMT04pIHtcbiAgICByZXR1cm4gbmVhcmVzdDtcbiAgfVxuXG4gIHJldHVybiBNYXRoLmZsb29yKHgpO1xufVxuXG5mdW5jdGlvbiBwaXhlbENlaWwoeCkge1xuICB2YXIgbmVhcmVzdCA9IE1hdGgucm91bmQoeCk7XG5cbiAgaWYgKE1hdGguYWJzKHggLSBuZWFyZXN0KSA8IFBJWEVMX0VQU0lMT04pIHtcbiAgICByZXR1cm4gbmVhcmVzdDtcbiAgfVxuXG4gIHJldHVybiBNYXRoLmNlaWwoeCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlUmVnaW9ucyhvcHRpb25zKSB7XG4gIHZhciBzY2FsZVggPSBvcHRpb25zLnRvV2lkdGggLyBvcHRpb25zLndpZHRoO1xuICB2YXIgc2NhbGVZID0gb3B0aW9ucy50b0hlaWdodCAvIG9wdGlvbnMuaGVpZ2h0O1xuICB2YXIgaW5uZXJUaWxlV2lkdGggPSBwaXhlbEZsb29yKG9wdGlvbnMuc3JjVGlsZVNpemUgKiBzY2FsZVgpIC0gMiAqIG9wdGlvbnMuZGVzdFRpbGVCb3JkZXI7XG4gIHZhciBpbm5lclRpbGVIZWlnaHQgPSBwaXhlbEZsb29yKG9wdGlvbnMuc3JjVGlsZVNpemUgKiBzY2FsZVkpIC0gMiAqIG9wdGlvbnMuZGVzdFRpbGVCb3JkZXI7IC8vIHByZXZlbnQgaW5maW5pdGUgbG9vcCwgdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuXG5cbiAgaWYgKGlubmVyVGlsZVdpZHRoIDwgMSB8fCBpbm5lclRpbGVIZWlnaHQgPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnRlcm5hbCBlcnJvciBpbiBwaWNhOiB0YXJnZXQgdGlsZSB3aWR0aC9oZWlnaHQgaXMgdG9vIHNtYWxsLicpO1xuICB9XG5cbiAgdmFyIHgsIHk7XG4gIHZhciBpbm5lclgsIGlubmVyWSwgdG9UaWxlV2lkdGgsIHRvVGlsZUhlaWdodDtcbiAgdmFyIHRpbGVzID0gW107XG4gIHZhciB0aWxlOyAvLyB3ZSBnbyB0b3AtdG8tZG93biBpbnN0ZWFkIG9mIGxlZnQtdG8tcmlnaHQgdG8gbWFrZSBpbWFnZSBkaXNwbGF5ZWQgZnJvbSB0b3AgdG9cbiAgLy8gZG9lc24gaW4gdGhlIGJyb3dzZXJcblxuICBmb3IgKGlubmVyWSA9IDA7IGlubmVyWSA8IG9wdGlvbnMudG9IZWlnaHQ7IGlubmVyWSArPSBpbm5lclRpbGVIZWlnaHQpIHtcbiAgICBmb3IgKGlubmVyWCA9IDA7IGlubmVyWCA8IG9wdGlvbnMudG9XaWR0aDsgaW5uZXJYICs9IGlubmVyVGlsZVdpZHRoKSB7XG4gICAgICB4ID0gaW5uZXJYIC0gb3B0aW9ucy5kZXN0VGlsZUJvcmRlcjtcblxuICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgIHggPSAwO1xuICAgICAgfVxuXG4gICAgICB0b1RpbGVXaWR0aCA9IGlubmVyWCArIGlubmVyVGlsZVdpZHRoICsgb3B0aW9ucy5kZXN0VGlsZUJvcmRlciAtIHg7XG5cbiAgICAgIGlmICh4ICsgdG9UaWxlV2lkdGggPj0gb3B0aW9ucy50b1dpZHRoKSB7XG4gICAgICAgIHRvVGlsZVdpZHRoID0gb3B0aW9ucy50b1dpZHRoIC0geDtcbiAgICAgIH1cblxuICAgICAgeSA9IGlubmVyWSAtIG9wdGlvbnMuZGVzdFRpbGVCb3JkZXI7XG5cbiAgICAgIGlmICh5IDwgMCkge1xuICAgICAgICB5ID0gMDtcbiAgICAgIH1cblxuICAgICAgdG9UaWxlSGVpZ2h0ID0gaW5uZXJZICsgaW5uZXJUaWxlSGVpZ2h0ICsgb3B0aW9ucy5kZXN0VGlsZUJvcmRlciAtIHk7XG5cbiAgICAgIGlmICh5ICsgdG9UaWxlSGVpZ2h0ID49IG9wdGlvbnMudG9IZWlnaHQpIHtcbiAgICAgICAgdG9UaWxlSGVpZ2h0ID0gb3B0aW9ucy50b0hlaWdodCAtIHk7XG4gICAgICB9XG5cbiAgICAgIHRpbGUgPSB7XG4gICAgICAgIHRvWDogeCxcbiAgICAgICAgdG9ZOiB5LFxuICAgICAgICB0b1dpZHRoOiB0b1RpbGVXaWR0aCxcbiAgICAgICAgdG9IZWlnaHQ6IHRvVGlsZUhlaWdodCxcbiAgICAgICAgdG9Jbm5lclg6IGlubmVyWCxcbiAgICAgICAgdG9Jbm5lclk6IGlubmVyWSxcbiAgICAgICAgdG9Jbm5lcldpZHRoOiBpbm5lclRpbGVXaWR0aCxcbiAgICAgICAgdG9Jbm5lckhlaWdodDogaW5uZXJUaWxlSGVpZ2h0LFxuICAgICAgICBvZmZzZXRYOiB4IC8gc2NhbGVYIC0gcGl4ZWxGbG9vcih4IC8gc2NhbGVYKSxcbiAgICAgICAgb2Zmc2V0WTogeSAvIHNjYWxlWSAtIHBpeGVsRmxvb3IoeSAvIHNjYWxlWSksXG4gICAgICAgIHNjYWxlWDogc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHNjYWxlWSxcbiAgICAgICAgeDogcGl4ZWxGbG9vcih4IC8gc2NhbGVYKSxcbiAgICAgICAgeTogcGl4ZWxGbG9vcih5IC8gc2NhbGVZKSxcbiAgICAgICAgd2lkdGg6IHBpeGVsQ2VpbCh0b1RpbGVXaWR0aCAvIHNjYWxlWCksXG4gICAgICAgIGhlaWdodDogcGl4ZWxDZWlsKHRvVGlsZUhlaWdodCAvIHNjYWxlWSlcbiAgICAgIH07XG4gICAgICB0aWxlcy5wdXNoKHRpbGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aWxlcztcbn07XG5cbn0se31dLDEyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb2JqQ2xhc3Mob2JqKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuaXNDYW52YXMgPSBmdW5jdGlvbiBpc0NhbnZhcyhlbGVtZW50KSB7XG4gIHZhciBjbmFtZSA9IG9iakNsYXNzKGVsZW1lbnQpO1xuICByZXR1cm4gY25hbWUgPT09ICdbb2JqZWN0IEhUTUxDYW52YXNFbGVtZW50XSdcbiAgLyogYnJvd3NlciAqL1xuICB8fCBjbmFtZSA9PT0gJ1tvYmplY3QgT2Zmc2NyZWVuQ2FudmFzXScgfHwgY25hbWUgPT09ICdbb2JqZWN0IENhbnZhc10nXG4gIC8qIG5vZGUtY2FudmFzICovXG4gIDtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmlzSW1hZ2UgPSBmdW5jdGlvbiBpc0ltYWdlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIG9iakNsYXNzKGVsZW1lbnQpID09PSAnW29iamVjdCBIVE1MSW1hZ2VFbGVtZW50XSc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5pc0ltYWdlQml0bWFwID0gZnVuY3Rpb24gaXNJbWFnZUJpdG1hcChlbGVtZW50KSB7XG4gIHJldHVybiBvYmpDbGFzcyhlbGVtZW50KSA9PT0gJ1tvYmplY3QgSW1hZ2VCaXRtYXBdJztcbn07XG5cbm1vZHVsZS5leHBvcnRzLmxpbWl0ZXIgPSBmdW5jdGlvbiBsaW1pdGVyKGNvbmN1cnJlbmN5KSB7XG4gIHZhciBhY3RpdmUgPSAwLFxuICAgICAgcXVldWUgPSBbXTtcblxuICBmdW5jdGlvbiByb2xsKCkge1xuICAgIGlmIChhY3RpdmUgPCBjb25jdXJyZW5jeSAmJiBxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZSsrO1xuICAgICAgcXVldWUuc2hpZnQoKSgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBsaW1pdChmbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBxdWV1ZS5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm4oKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgYWN0aXZlLS07XG4gICAgICAgICAgcm9sbCgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgYWN0aXZlLS07XG4gICAgICAgICAgcm9sbCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcm9sbCgpO1xuICAgIH0pO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMuY2liX3F1YWxpdHlfbmFtZSA9IGZ1bmN0aW9uIGNpYl9xdWFsaXR5X25hbWUobnVtKSB7XG4gIHN3aXRjaCAobnVtKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuICdwaXhlbGF0ZWQnO1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuICdsb3cnO1xuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuICdtZWRpdW0nO1xuICB9XG5cbiAgcmV0dXJuICdoaWdoJztcbn07XG5cbm1vZHVsZS5leHBvcnRzLmNpYl9zdXBwb3J0ID0gZnVuY3Rpb24gY2liX3N1cHBvcnQoY3JlYXRlQ2FudmFzKSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBjID0gY3JlYXRlQ2FudmFzKDEwMCwgMTAwKTtcbiAgICByZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAoYywgMCwgMCwgMTAwLCAxMDAsIHtcbiAgICAgIHJlc2l6ZVdpZHRoOiAxMCxcbiAgICAgIHJlc2l6ZUhlaWdodDogMTAsXG4gICAgICByZXNpemVRdWFsaXR5OiAnaGlnaCdcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChiaXRtYXApIHtcbiAgICAgIHZhciBzdGF0dXMgPSBiaXRtYXAud2lkdGggPT09IDEwOyAvLyBCcmFuY2ggYmVsb3cgaXMgZmlsdGVyZWQgb24gdXBwZXIgbGV2ZWwuIFdlIGRvIG5vdCBjYWxsIHJlc2l6ZVxuICAgICAgLy8gZGV0ZWN0aW9uIGZvciBiYXNpYyBJbWFnZUJpdG1hcC5cbiAgICAgIC8vXG4gICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW1hZ2VCaXRtYXBcbiAgICAgIC8vIG9sZCBDcm9tZSA1MSBoYXMgSW1hZ2VCaXRtYXAgd2l0aG91dCAuY2xvc2UoKS4gVGhlbiB0aGlzIGNvZGVcbiAgICAgIC8vIHdpbGwgdGhyb3cgYW5kIHJldHVybiAnZmFsc2UnIGFzIGV4cGVjdGVkLlxuICAgICAgLy9cblxuICAgICAgYml0bWFwLmNsb3NlKCk7XG4gICAgICBjID0gbnVsbDtcbiAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfSk7XG4gIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59O1xuXG59LHt9XSwxMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBXZWIgV29ya2VyIHdyYXBwZXIgZm9yIGltYWdlIHJlc2l6ZSBmdW5jdGlvblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIE1hdGhMaWIgPSBfZGVyZXFfKCcuL21hdGhsaWInKTtcblxuICB2YXIgbWF0aExpYjtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblxuICBvbm1lc3NhZ2UgPSBmdW5jdGlvbiBvbm1lc3NhZ2UoZXYpIHtcbiAgICB2YXIgb3B0cyA9IGV2LmRhdGEub3B0cztcbiAgICBpZiAoIW1hdGhMaWIpIG1hdGhMaWIgPSBuZXcgTWF0aExpYihldi5kYXRhLmZlYXR1cmVzKTsgLy8gVXNlIG11bHRpbWF0aCdzIHN5bmMgYXV0by1pbml0LiBBdm9pZCBQcm9taXNlIHVzZSBpbiBvbGQgYnJvd3NlcnMsXG4gICAgLy8gYmVjYXVzZSBwb2x5ZmlsbHMgYXJlIG5vdCBwcm9wYWdhdGVkIHRvIHdlYndvcmtlci5cblxuICAgIHZhciByZXN1bHQgPSBtYXRoTGliLnJlc2l6ZUFuZFVuc2hhcnAob3B0cyk7XG4gICAgcG9zdE1lc3NhZ2Uoe1xuICAgICAgcmVzdWx0OiByZXN1bHRcbiAgICB9LCBbcmVzdWx0LmJ1ZmZlcl0pO1xuICB9O1xufTtcblxufSx7XCIuL21hdGhsaWJcIjoxfV0sMTQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gQ2FsY3VsYXRlIEdhdXNzaWFuIGJsdXIgb2YgYW4gaW1hZ2UgdXNpbmcgSUlSIGZpbHRlclxuLy8gVGhlIG1ldGhvZCBpcyB0YWtlbiBmcm9tIEludGVsJ3Mgd2hpdGUgcGFwZXIgYW5kIGNvZGUgZXhhbXBsZSBhdHRhY2hlZCB0byBpdDpcbi8vIGh0dHBzOi8vc29mdHdhcmUuaW50ZWwuY29tL2VuLXVzL2FydGljbGVzL2lpci1nYXVzc2lhbi1ibHVyLWZpbHRlclxuLy8gLWltcGxlbWVudGF0aW9uLXVzaW5nLWludGVsLWFkdmFuY2VkLXZlY3Rvci1leHRlbnNpb25zXG5cbnZhciBhMCwgYTEsIGEyLCBhMywgYjEsIGIyLCBsZWZ0X2Nvcm5lciwgcmlnaHRfY29ybmVyO1xuXG5mdW5jdGlvbiBnYXVzc0NvZWYoc2lnbWEpIHtcbiAgaWYgKHNpZ21hIDwgMC41KSB7XG4gICAgc2lnbWEgPSAwLjU7XG4gIH1cblxuICB2YXIgYSA9IE1hdGguZXhwKDAuNzI2ICogMC43MjYpIC8gc2lnbWEsXG4gICAgICBnMSA9IE1hdGguZXhwKC1hKSxcbiAgICAgIGcyID0gTWF0aC5leHAoLTIgKiBhKSxcbiAgICAgIGsgPSAoMSAtIGcxKSAqICgxIC0gZzEpIC8gKDEgKyAyICogYSAqIGcxIC0gZzIpO1xuXG4gIGEwID0gaztcbiAgYTEgPSBrICogKGEgLSAxKSAqIGcxO1xuICBhMiA9IGsgKiAoYSArIDEpICogZzE7XG4gIGEzID0gLWsgKiBnMjtcbiAgYjEgPSAyICogZzE7XG4gIGIyID0gLWcyO1xuICBsZWZ0X2Nvcm5lciA9IChhMCArIGExKSAvICgxIC0gYjEgLSBiMik7XG4gIHJpZ2h0X2Nvcm5lciA9IChhMiArIGEzKSAvICgxIC0gYjEgLSBiMik7XG5cbiAgLy8gQXR0ZW1wdCB0byBmb3JjZSB0eXBlIHRvIEZQMzIuXG4gIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsgYTAsIGExLCBhMiwgYTMsIGIxLCBiMiwgbGVmdF9jb3JuZXIsIHJpZ2h0X2Nvcm5lciBdKTtcbn1cblxuZnVuY3Rpb24gY29udm9sdmVNb25vMTYoc3JjLCBvdXQsIGxpbmUsIGNvZWZmLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIC8vIHRha2VzIHNyYyBpbWFnZSBhbmQgd3JpdGVzIHRoZSBibHVycmVkIGFuZCB0cmFuc3Bvc2VkIHJlc3VsdCBpbnRvIG91dFxuXG4gIHZhciBwcmV2X3NyYywgY3Vycl9zcmMsIGN1cnJfb3V0LCBwcmV2X291dCwgcHJldl9wcmV2X291dDtcbiAgdmFyIHNyY19pbmRleCwgb3V0X2luZGV4LCBsaW5lX2luZGV4O1xuICB2YXIgaSwgajtcbiAgdmFyIGNvZWZmX2EwLCBjb2VmZl9hMSwgY29lZmZfYjEsIGNvZWZmX2IyO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykge1xuICAgIHNyY19pbmRleCA9IGkgKiB3aWR0aDtcbiAgICBvdXRfaW5kZXggPSBpO1xuICAgIGxpbmVfaW5kZXggPSAwO1xuXG4gICAgLy8gbGVmdCB0byByaWdodFxuICAgIHByZXZfc3JjID0gc3JjW3NyY19pbmRleF07XG4gICAgcHJldl9wcmV2X291dCA9IHByZXZfc3JjICogY29lZmZbNl07XG4gICAgcHJldl9vdXQgPSBwcmV2X3ByZXZfb3V0O1xuXG4gICAgY29lZmZfYTAgPSBjb2VmZlswXTtcbiAgICBjb2VmZl9hMSA9IGNvZWZmWzFdO1xuICAgIGNvZWZmX2IxID0gY29lZmZbNF07XG4gICAgY29lZmZfYjIgPSBjb2VmZls1XTtcblxuICAgIGZvciAoaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7XG4gICAgICBjdXJyX3NyYyA9IHNyY1tzcmNfaW5kZXhdO1xuXG4gICAgICBjdXJyX291dCA9IGN1cnJfc3JjICogY29lZmZfYTAgK1xuICAgICAgICAgICAgICAgICBwcmV2X3NyYyAqIGNvZWZmX2ExICtcbiAgICAgICAgICAgICAgICAgcHJldl9vdXQgKiBjb2VmZl9iMSArXG4gICAgICAgICAgICAgICAgIHByZXZfcHJldl9vdXQgKiBjb2VmZl9iMjtcblxuICAgICAgcHJldl9wcmV2X291dCA9IHByZXZfb3V0O1xuICAgICAgcHJldl9vdXQgPSBjdXJyX291dDtcbiAgICAgIHByZXZfc3JjID0gY3Vycl9zcmM7XG5cbiAgICAgIGxpbmVbbGluZV9pbmRleF0gPSBwcmV2X291dDtcbiAgICAgIGxpbmVfaW5kZXgrKztcbiAgICAgIHNyY19pbmRleCsrO1xuICAgIH1cblxuICAgIHNyY19pbmRleC0tO1xuICAgIGxpbmVfaW5kZXgtLTtcbiAgICBvdXRfaW5kZXggKz0gaGVpZ2h0ICogKHdpZHRoIC0gMSk7XG5cbiAgICAvLyByaWdodCB0byBsZWZ0XG4gICAgcHJldl9zcmMgPSBzcmNbc3JjX2luZGV4XTtcbiAgICBwcmV2X3ByZXZfb3V0ID0gcHJldl9zcmMgKiBjb2VmZls3XTtcbiAgICBwcmV2X291dCA9IHByZXZfcHJldl9vdXQ7XG4gICAgY3Vycl9zcmMgPSBwcmV2X3NyYztcblxuICAgIGNvZWZmX2EwID0gY29lZmZbMl07XG4gICAgY29lZmZfYTEgPSBjb2VmZlszXTtcblxuICAgIGZvciAoaiA9IHdpZHRoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgIGN1cnJfb3V0ID0gY3Vycl9zcmMgKiBjb2VmZl9hMCArXG4gICAgICAgICAgICAgICAgIHByZXZfc3JjICogY29lZmZfYTEgK1xuICAgICAgICAgICAgICAgICBwcmV2X291dCAqIGNvZWZmX2IxICtcbiAgICAgICAgICAgICAgICAgcHJldl9wcmV2X291dCAqIGNvZWZmX2IyO1xuXG4gICAgICBwcmV2X3ByZXZfb3V0ID0gcHJldl9vdXQ7XG4gICAgICBwcmV2X291dCA9IGN1cnJfb3V0O1xuXG4gICAgICBwcmV2X3NyYyA9IGN1cnJfc3JjO1xuICAgICAgY3Vycl9zcmMgPSBzcmNbc3JjX2luZGV4XTtcblxuICAgICAgb3V0W291dF9pbmRleF0gPSBsaW5lW2xpbmVfaW5kZXhdICsgcHJldl9vdXQ7XG5cbiAgICAgIHNyY19pbmRleC0tO1xuICAgICAgbGluZV9pbmRleC0tO1xuICAgICAgb3V0X2luZGV4IC09IGhlaWdodDtcbiAgICB9XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBibHVyTW9ubzE2KHNyYywgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gIC8vIFF1aWNrIGV4aXQgb24gemVybyByYWRpdXNcbiAgaWYgKCFyYWRpdXMpIHsgcmV0dXJuOyB9XG5cbiAgdmFyIG91dCAgICAgID0gbmV3IFVpbnQxNkFycmF5KHNyYy5sZW5ndGgpLFxuICAgICAgdG1wX2xpbmUgPSBuZXcgRmxvYXQzMkFycmF5KE1hdGgubWF4KHdpZHRoLCBoZWlnaHQpKTtcblxuICB2YXIgY29lZmYgPSBnYXVzc0NvZWYocmFkaXVzKTtcblxuICBjb252b2x2ZU1vbm8xNihzcmMsIG91dCwgdG1wX2xpbmUsIGNvZWZmLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICBjb252b2x2ZU1vbm8xNihvdXQsIHNyYywgdG1wX2xpbmUsIGNvZWZmLCBoZWlnaHQsIHdpZHRoLCByYWRpdXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJsdXJNb25vMTY7XG5cbn0se31dLDE1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgICB9XG4gIH1cbn1cblxufSx7fV0sMTY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBhc3NpZ24gICAgICAgICA9IF9kZXJlcV8oJ29iamVjdC1hc3NpZ24nKTtcbnZhciBiYXNlNjRkZWNvZGUgICA9IF9kZXJlcV8oJy4vbGliL2Jhc2U2NGRlY29kZScpO1xudmFyIGhhc1dlYkFzc2VtYmx5ID0gX2RlcmVxXygnLi9saWIvd2FfZGV0ZWN0Jyk7XG5cblxudmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAganM6IHRydWUsXG4gIHdhc206IHRydWVcbn07XG5cblxuZnVuY3Rpb24gTXVsdGlNYXRoKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE11bHRpTWF0aCkpIHJldHVybiBuZXcgTXVsdGlNYXRoKG9wdGlvbnMpO1xuXG4gIHZhciBvcHRzID0gYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMsIG9wdGlvbnMgfHwge30pO1xuXG4gIHRoaXMub3B0aW9ucyAgICAgICAgID0gb3B0cztcblxuICB0aGlzLl9fY2FjaGUgICAgICAgICA9IHt9O1xuXG4gIHRoaXMuX19pbml0X3Byb21pc2UgID0gbnVsbDtcbiAgdGhpcy5fX21vZHVsZXMgICAgICAgPSBvcHRzLm1vZHVsZXMgfHwge307XG4gIHRoaXMuX19tZW1vcnkgICAgICAgID0gbnVsbDtcbiAgdGhpcy5fX3dhc20gICAgICAgICAgPSB7fTtcblxuICB0aGlzLl9faXNMRSA9ICgobmV3IFVpbnQzMkFycmF5KChuZXcgVWludDhBcnJheShbIDEsIDAsIDAsIDAgXSkpLmJ1ZmZlcikpWzBdID09PSAxKTtcblxuICBpZiAoIXRoaXMub3B0aW9ucy5qcyAmJiAhdGhpcy5vcHRpb25zLndhc20pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hdGhsaWI6IGF0IGxlYXN0IFwianNcIiBvciBcIndhc21cIiBzaG91bGQgYmUgZW5hYmxlZCcpO1xuICB9XG59XG5cblxuTXVsdGlNYXRoLnByb3RvdHlwZS5oYXNfd2FzbSA9IGhhc1dlYkFzc2VtYmx5O1xuXG5cbk11bHRpTWF0aC5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gKG1vZHVsZSkge1xuICB0aGlzLl9fbW9kdWxlc1ttb2R1bGUubmFtZV0gPSBtb2R1bGU7XG5cbiAgLy8gUGluIHRoZSBiZXN0IHBvc3NpYmxlIGltcGxlbWVudGF0aW9uXG4gIGlmICh0aGlzLm9wdGlvbnMud2FzbSAmJiB0aGlzLmhhc193YXNtKCkgJiYgbW9kdWxlLndhc21fZm4pIHtcbiAgICB0aGlzW21vZHVsZS5uYW1lXSA9IG1vZHVsZS53YXNtX2ZuO1xuICB9IGVsc2Uge1xuICAgIHRoaXNbbW9kdWxlLm5hbWVdID0gbW9kdWxlLmZuO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbk11bHRpTWF0aC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX19pbml0X3Byb21pc2UpIHJldHVybiB0aGlzLl9faW5pdF9wcm9taXNlO1xuXG4gIGlmICghdGhpcy5vcHRpb25zLmpzICYmIHRoaXMub3B0aW9ucy53YXNtICYmICF0aGlzLmhhc193YXNtKCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdtYXRobGliOiBvbmx5IFwid2FzbVwiIHdhcyBlbmFibGVkLCBidXQgaXRcXCdzIG5vdCBzdXBwb3J0ZWQnKSk7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy5fX2luaXRfcHJvbWlzZSA9IFByb21pc2UuYWxsKE9iamVjdC5rZXlzKHNlbGYuX19tb2R1bGVzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgbW9kdWxlID0gc2VsZi5fX21vZHVsZXNbbmFtZV07XG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy53YXNtIHx8ICFzZWxmLmhhc193YXNtKCkgfHwgIW1vZHVsZS53YXNtX2ZuKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIElmIGFscmVhZHkgY29tcGlsZWQgLSBleGl0XG4gICAgaWYgKHNlbGYuX193YXNtW25hbWVdKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIENvbXBpbGUgd2FzbSBzb3VyY2VcbiAgICByZXR1cm4gV2ViQXNzZW1ibHkuY29tcGlsZShzZWxmLl9fYmFzZTY0ZGVjb2RlKG1vZHVsZS53YXNtX3NyYykpXG4gICAgICAudGhlbihmdW5jdGlvbiAobSkgeyBzZWxmLl9fd2FzbVtuYW1lXSA9IG07IH0pO1xuICB9KSlcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxmOyB9KTtcblxuICByZXR1cm4gdGhpcy5fX2luaXRfcHJvbWlzZTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIE1ldGhvZHMgYmVsb3cgYXJlIGZvciBpbnRlcm5hbCB1c2UgZnJvbSBwbHVnaW5zXG5cblxuLy8gU2ltcGxlIGRlY29kZSBiYXNlNjQgdG8gdHlwZWQgYXJyYXkuIFVzZWZ1bCB0byBsb2FkIGVtYmVkZGVkIHdlYmFzc2VtYmx5XG4vLyBjb2RlLiBZb3UgcHJvYmFibHkgZG9uJ3QgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kIGRpcmVjdGx5LlxuLy9cbk11bHRpTWF0aC5wcm90b3R5cGUuX19iYXNlNjRkZWNvZGUgPSBiYXNlNjRkZWNvZGU7XG5cblxuLy8gSW5jcmVhc2UgY3VycmVudCBtZW1vcnkgdG8gaW5jbHVkZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGJ5dGVzLiBEbyBub3RoaW5nIGlmXG4vLyBzaXplIGlzIGFscmVhZHkgb2suIFlvdSBwcm9iYWJseSBkb24ndCBuZWVkIHRvIGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHksXG4vLyBiZWNhdXNlIGl0IHdpbGwgYmUgaW52b2tlZCBmcm9tIGAuX19pbnN0YW5jZSgpYC5cbi8vXG5NdWx0aU1hdGgucHJvdG90eXBlLl9fcmVhbGxvY2F0ZSA9IGZ1bmN0aW9uIG1lbV9ncm93X3RvKGJ5dGVzKSB7XG4gIGlmICghdGhpcy5fX21lbW9yeSkge1xuICAgIHRoaXMuX19tZW1vcnkgPSBuZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtcbiAgICAgIGluaXRpYWw6IE1hdGguY2VpbChieXRlcyAvICg2NCAqIDEwMjQpKVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9fbWVtb3J5O1xuICB9XG5cbiAgdmFyIG1lbV9zaXplID0gdGhpcy5fX21lbW9yeS5idWZmZXIuYnl0ZUxlbmd0aDtcblxuICBpZiAobWVtX3NpemUgPCBieXRlcykge1xuICAgIHRoaXMuX19tZW1vcnkuZ3JvdyhNYXRoLmNlaWwoKGJ5dGVzIC0gbWVtX3NpemUpIC8gKDY0ICogMTAyNCkpKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9fbWVtb3J5O1xufTtcblxuXG4vLyBSZXR1cm5zIGluc3RhbnRpbmF0ZWQgd2ViYXNzZW1ibHkgaXRlbSBieSBuYW1lLCB3aXRoIHNwZWNpZmllZCBtZW1vcnkgc2l6ZVxuLy8gYW5kIGVudmlyb25tZW50LlxuLy8gLSB1c2UgY2FjaGUgaWYgYXZhaWxhYmxlXG4vLyAtIGRvIHN5bmMgbW9kdWxlIGluaXQsIGlmIGFzeW5jIGluaXQgd2FzIG5vdCBjYWxsZWQgZWFybGllclxuLy8gLSBhbGxvY2F0ZSBtZW1vcnkgaWYgbm90IGVub3VndGhcbi8vIC0gY2FuIGV4cG9ydCBmdW5jdGlvbnMgdG8gd2ViYXNzZW1ibHkgdmlhIFwiZW52X2V4dHJhXCIsXG4vLyAgIGZvciBleGFtcGxlLCB7IGV4cDogTWF0aC5leHAgfVxuLy9cbk11bHRpTWF0aC5wcm90b3R5cGUuX19pbnN0YW5jZSA9IGZ1bmN0aW9uIGluc3RhbmNlKG5hbWUsIG1lbXNpemUsIGVudl9leHRyYSkge1xuICBpZiAobWVtc2l6ZSkgdGhpcy5fX3JlYWxsb2NhdGUobWVtc2l6ZSk7XG5cbiAgLy8gSWYgLmluaXQoKSB3YXMgbm90IGNhbGxlZCwgZG8gc3luYyBjb21waWxlXG4gIGlmICghdGhpcy5fX3dhc21bbmFtZV0pIHtcbiAgICB2YXIgbW9kdWxlID0gdGhpcy5fX21vZHVsZXNbbmFtZV07XG4gICAgdGhpcy5fX3dhc21bbmFtZV0gPSBuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKHRoaXMuX19iYXNlNjRkZWNvZGUobW9kdWxlLndhc21fc3JjKSk7XG4gIH1cblxuICBpZiAoIXRoaXMuX19jYWNoZVtuYW1lXSkge1xuICAgIHZhciBlbnZfYmFzZSA9IHtcbiAgICAgIG1lbW9yeUJhc2U6IDAsXG4gICAgICBtZW1vcnk6IHRoaXMuX19tZW1vcnksXG4gICAgICB0YWJsZUJhc2U6IDAsXG4gICAgICB0YWJsZTogbmV3IFdlYkFzc2VtYmx5LlRhYmxlKHsgaW5pdGlhbDogMCwgZWxlbWVudDogJ2FueWZ1bmMnIH0pXG4gICAgfTtcblxuICAgIHRoaXMuX19jYWNoZVtuYW1lXSA9IG5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZSh0aGlzLl9fd2FzbVtuYW1lXSwge1xuICAgICAgZW52OiBhc3NpZ24oZW52X2Jhc2UsIGVudl9leHRyYSB8fCB7fSlcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9fY2FjaGVbbmFtZV07XG59O1xuXG5cbi8vIEhlbHBlciB0byBjYWxjdWxhdGUgbWVtb3J5IGFsaWdoIGZvciBwb2ludGVycy4gV2ViYXNzZW1ibHkgZG9lcyBub3QgcmVxdWlyZVxuLy8gdGhpcywgYnV0IHlvdSBtYXkgd2lzaCB0byBleHBlcmltZW50LiBEZWZhdWx0IGJhc2UgPSA4O1xuLy9cbk11bHRpTWF0aC5wcm90b3R5cGUuX19hbGlnbiA9IGZ1bmN0aW9uIGFsaWduKG51bWJlciwgYmFzZSkge1xuICBiYXNlID0gYmFzZSB8fCA4O1xuICB2YXIgcmVtaW5kZXIgPSBudW1iZXIgJSBiYXNlO1xuICByZXR1cm4gbnVtYmVyICsgKHJlbWluZGVyID8gYmFzZSAtIHJlbWluZGVyIDogMCk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gTXVsdGlNYXRoO1xuXG59LHtcIi4vbGliL2Jhc2U2NGRlY29kZVwiOjE3LFwiLi9saWIvd2FfZGV0ZWN0XCI6MjMsXCJvYmplY3QtYXNzaWduXCI6MjR9XSwxNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBiYXNlNjQgZGVjb2RlIHN0ciAtPiBVaW50OEFycmF5LCB0byBsb2FkIFdBIG1vZHVsZXNcbi8vXG4ndXNlIHN0cmljdCc7XG5cblxudmFyIEJBU0U2NF9NQVAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiYXNlNjRkZWNvZGUoc3RyKSB7XG4gIHZhciBpbnB1dCA9IHN0ci5yZXBsYWNlKC9bXFxyXFxuPV0vZywgJycpLCAvLyByZW1vdmUgQ1IvTEYgJiBwYWRkaW5nIHRvIHNpbXBsaWZ5IHNjYW5cbiAgICAgIG1heCAgID0gaW5wdXQubGVuZ3RoO1xuXG4gIHZhciBvdXQgPSBuZXcgVWludDhBcnJheSgobWF4ICogMykgPj4gMik7XG5cbiAgLy8gQ29sbGVjdCBieSA2KjQgYml0cyAoMyBieXRlcylcblxuICB2YXIgYml0cyA9IDA7XG4gIHZhciBwdHIgID0gMDtcblxuICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBtYXg7IGlkeCsrKSB7XG4gICAgaWYgKChpZHggJSA0ID09PSAwKSAmJiBpZHgpIHtcbiAgICAgIG91dFtwdHIrK10gPSAoYml0cyA+PiAxNikgJiAweEZGO1xuICAgICAgb3V0W3B0cisrXSA9IChiaXRzID4+IDgpICYgMHhGRjtcbiAgICAgIG91dFtwdHIrK10gPSBiaXRzICYgMHhGRjtcbiAgICB9XG5cbiAgICBiaXRzID0gKGJpdHMgPDwgNikgfCBCQVNFNjRfTUFQLmluZGV4T2YoaW5wdXQuY2hhckF0KGlkeCkpO1xuICB9XG5cbiAgLy8gRHVtcCB0YWlsXG5cbiAgdmFyIHRhaWxiaXRzID0gKG1heCAlIDQpICogNjtcblxuICBpZiAodGFpbGJpdHMgPT09IDApIHtcbiAgICBvdXRbcHRyKytdID0gKGJpdHMgPj4gMTYpICYgMHhGRjtcbiAgICBvdXRbcHRyKytdID0gKGJpdHMgPj4gOCkgJiAweEZGO1xuICAgIG91dFtwdHIrK10gPSBiaXRzICYgMHhGRjtcbiAgfSBlbHNlIGlmICh0YWlsYml0cyA9PT0gMTgpIHtcbiAgICBvdXRbcHRyKytdID0gKGJpdHMgPj4gMTApICYgMHhGRjtcbiAgICBvdXRbcHRyKytdID0gKGJpdHMgPj4gMikgJiAweEZGO1xuICB9IGVsc2UgaWYgKHRhaWxiaXRzID09PSAxMikge1xuICAgIG91dFtwdHIrK10gPSAoYml0cyA+PiA0KSAmIDB4RkY7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxufSx7fV0sMTg6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gQ2FsY3VsYXRlcyAxNi1iaXQgcHJlY2lzaW9uIEhTTCBsaWdodG5lc3MgZnJvbSA4LWJpdCByZ2JhIGJ1ZmZlclxuLy9cbid1c2Ugc3RyaWN0JztcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhzbF9sMTZfanMoaW1nLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIHZhciBzaXplID0gd2lkdGggKiBoZWlnaHQ7XG4gIHZhciBvdXQgPSBuZXcgVWludDE2QXJyYXkoc2l6ZSk7XG4gIHZhciByLCBnLCBiLCBtaW4sIG1heDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICByID0gaW1nWzQgKiBpXTtcbiAgICBnID0gaW1nWzQgKiBpICsgMV07XG4gICAgYiA9IGltZ1s0ICogaSArIDJdO1xuICAgIG1heCA9IChyID49IGcgJiYgciA+PSBiKSA/IHIgOiAoZyA+PSBiICYmIGcgPj0gcikgPyBnIDogYjtcbiAgICBtaW4gPSAociA8PSBnICYmIHIgPD0gYikgPyByIDogKGcgPD0gYiAmJiBnIDw9IHIpID8gZyA6IGI7XG4gICAgb3V0W2ldID0gKG1heCArIG1pbikgKiAyNTcgPj4gMTtcbiAgfVxuICByZXR1cm4gb3V0O1xufTtcblxufSx7fV0sMTk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbmFtZTogICAgICd1bnNoYXJwX21hc2snLFxuICBmbjogICAgICAgX2RlcmVxXygnLi91bnNoYXJwX21hc2snKSxcbiAgd2FzbV9mbjogIF9kZXJlcV8oJy4vdW5zaGFycF9tYXNrX3dhc20nKSxcbiAgd2FzbV9zcmM6IF9kZXJlcV8oJy4vdW5zaGFycF9tYXNrX3dhc21fYmFzZTY0Jylcbn07XG5cbn0se1wiLi91bnNoYXJwX21hc2tcIjoyMCxcIi4vdW5zaGFycF9tYXNrX3dhc21cIjoyMSxcIi4vdW5zaGFycF9tYXNrX3dhc21fYmFzZTY0XCI6MjJ9XSwyMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vLyBVbnNoYXJwIG1hc2sgZmlsdGVyXG4vL1xuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjMzMjI4MjAvMTAzMTgwNFxuLy8gVVNNKE8pID0gTyArICgyICogKEFtb3VudCAvIDEwMCkgKiAoTyAtIEdCKSlcbi8vIEdCIC0gZ2F1c3NpYW4gYmx1ci5cbi8vXG4vLyBJbWFnZSBpcyBjb252ZXJ0ZWQgZnJvbSBSR0IgdG8gSFNMLCB1bnNoYXJwIG1hc2sgaXMgYXBwbGllZCB0byB0aGVcbi8vIGxpZ2h0bmVzcyBjaGFubmVsIGFuZCB0aGVuIGltYWdlIGlzIGNvbnZlcnRlZCBiYWNrIHRvIFJHQi5cbi8vXG4ndXNlIHN0cmljdCc7XG5cblxudmFyIGdsdXJfbW9ubzE2ID0gX2RlcmVxXygnZ2x1ci9tb25vMTYnKTtcbnZhciBoc2xfbDE2ICAgICA9IF9kZXJlcV8oJy4vaHNsX2wxNicpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdW5zaGFycChpbWcsIHdpZHRoLCBoZWlnaHQsIGFtb3VudCwgcmFkaXVzLCB0aHJlc2hvbGQpIHtcbiAgdmFyIHIsIGcsIGI7XG4gIHZhciBoLCBzLCBsO1xuICB2YXIgbWluLCBtYXg7XG4gIHZhciBtMSwgbTIsIGhTaGlmdGVkO1xuICB2YXIgZGlmZiwgaVRpbWVzNDtcblxuICBpZiAoYW1vdW50ID09PSAwIHx8IHJhZGl1cyA8IDAuNSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocmFkaXVzID4gMi4wKSB7XG4gICAgcmFkaXVzID0gMi4wO1xuICB9XG5cbiAgdmFyIGxpZ2h0bmVzcyA9IGhzbF9sMTYoaW1nLCB3aWR0aCwgaGVpZ2h0KTtcblxuICB2YXIgYmx1cmVkID0gbmV3IFVpbnQxNkFycmF5KGxpZ2h0bmVzcyk7IC8vIGNvcHksIGJlY2F1c2UgYmx1ciBtb2RpZnkgc3JjXG5cbiAgZ2x1cl9tb25vMTYoYmx1cmVkLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuXG4gIHZhciBhbW91bnRGcCA9IChhbW91bnQgLyAxMDAgKiAweDEwMDAgKyAwLjUpfDA7XG4gIHZhciB0aHJlc2hvbGRGcCA9ICh0aHJlc2hvbGQgKiAyNTcpfDA7XG5cbiAgdmFyIHNpemUgPSB3aWR0aCAqIGhlaWdodDtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICBkaWZmID0gMiAqIChsaWdodG5lc3NbaV0gLSBibHVyZWRbaV0pO1xuXG4gICAgaWYgKE1hdGguYWJzKGRpZmYpID49IHRocmVzaG9sZEZwKSB7XG4gICAgICBpVGltZXM0ID0gaSAqIDQ7XG4gICAgICByID0gaW1nW2lUaW1lczRdO1xuICAgICAgZyA9IGltZ1tpVGltZXM0ICsgMV07XG4gICAgICBiID0gaW1nW2lUaW1lczQgKyAyXTtcblxuICAgICAgLy8gY29udmVydCBSR0IgdG8gSFNMXG4gICAgICAvLyB0YWtlIFJHQiwgOC1iaXQgdW5zaWduZWQgaW50ZWdlciBwZXIgZWFjaCBjaGFubmVsXG4gICAgICAvLyBzYXZlIEhTTCwgSCBhbmQgTCBhcmUgMTYtYml0IHVuc2lnbmVkIGludGVnZXJzLCBTIGlzIDEyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyXG4gICAgICAvLyBtYXRoIGlzIHRha2VuIGZyb20gaGVyZTogaHR0cDovL3d3dy5lYXN5cmdiLmNvbS9pbmRleC5waHA/WD1NQVRIJkg9MThcbiAgICAgIC8vIGFuZCBhZG9wdGVkIHRvIGJlIGludGVnZXIgKGZpeGVkIHBvaW50IGluIGZhY3QpIGZvciBzYWtlIG9mIHBlcmZvcm1hbmNlXG4gICAgICBtYXggPSAociA+PSBnICYmIHIgPj0gYikgPyByIDogKGcgPj0gciAmJiBnID49IGIpID8gZyA6IGI7IC8vIG1pbiBhbmQgbWF4IGFyZSBpbiBbMC4uMHhmZl1cbiAgICAgIG1pbiA9IChyIDw9IGcgJiYgciA8PSBiKSA/IHIgOiAoZyA8PSByICYmIGcgPD0gYikgPyBnIDogYjtcbiAgICAgIGwgPSAobWF4ICsgbWluKSAqIDI1NyA+PiAxOyAvLyBsIGlzIGluIFswLi4weGZmZmZdIHRoYXQgaXMgY2F1c2VkIGJ5IG11bHRpcGxpY2F0aW9uIGJ5IDI1N1xuXG4gICAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgICAgaCA9IHMgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IChsIDw9IDB4N2ZmZikgP1xuICAgICAgICAgICgoKG1heCAtIG1pbikgKiAweGZmZikgLyAobWF4ICsgbWluKSl8MCA6XG4gICAgICAgICAgKCgobWF4IC0gbWluKSAqIDB4ZmZmKSAvICgyICogMHhmZiAtIG1heCAtIG1pbikpfDA7IC8vIHMgaXMgaW4gWzAuLjB4ZmZmXVxuICAgICAgICAvLyBoIGNvdWxkIGJlIGxlc3MgMCwgaXQgd2lsbCBiZSBmaXhlZCBpbiBiYWNrd2FyZCBjb252ZXJzaW9uIHRvIFJHQiwgfGh8IDw9IDB4ZmZmZiAvIDZcbiAgICAgICAgaCA9IChyID09PSBtYXgpID8gKCgoZyAtIGIpICogMHhmZmZmKSAvICg2ICogKG1heCAtIG1pbikpKXwwXG4gICAgICAgICAgOiAoZyA9PT0gbWF4KSA/IDB4NTU1NSArICgoKChiIC0gcikgKiAweGZmZmYpIC8gKDYgKiAobWF4IC0gbWluKSkpfDApIC8vIDB4NTU1NSA9PSAweGZmZmYgLyAzXG4gICAgICAgICAgOiAweGFhYWEgKyAoKCgociAtIGcpICogMHhmZmZmKSAvICg2ICogKG1heCAtIG1pbikpKXwwKTsgLy8gMHhhYWFhID09IDB4ZmZmZiAqIDIgLyAzXG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCB1bnNoYXJwIG1hc2sgbWFzayB0byB0aGUgbGlnaHRuZXNzIGNoYW5uZWxcbiAgICAgIGwgKz0gKGFtb3VudEZwICogZGlmZiArIDB4ODAwKSA+PiAxMjtcbiAgICAgIGlmIChsID4gMHhmZmZmKSB7XG4gICAgICAgIGwgPSAweGZmZmY7XG4gICAgICB9IGVsc2UgaWYgKGwgPCAwKSB7XG4gICAgICAgIGwgPSAwO1xuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IEhTTCBiYWNrIHRvIFJHQlxuICAgICAgLy8gZm9yIGluZm9ybWF0aW9uIGFib3V0IG1hdGggbG9vayBhYm92ZVxuICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgciA9IGcgPSBiID0gbCA+PiA4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbTIgPSAobCA8PSAweDdmZmYpID8gKGwgKiAoMHgxMDAwICsgcykgKyAweDgwMCkgPj4gMTIgOlxuICAgICAgICAgIGwgICsgKCgoMHhmZmZmIC0gbCkgKiBzICsgMHg4MDApID4+ICAxMik7XG4gICAgICAgIG0xID0gMiAqIGwgLSBtMiA+PiA4O1xuICAgICAgICBtMiA+Pj0gODtcbiAgICAgICAgLy8gc2F2ZSByZXN1bHQgdG8gUkdCIGNoYW5uZWxzXG4gICAgICAgIC8vIFIgY2hhbm5lbFxuICAgICAgICBoU2hpZnRlZCA9IChoICsgMHg1NTU1KSAmIDB4ZmZmZjsgLy8gMHg1NTU1ID09IDB4ZmZmZiAvIDNcbiAgICAgICAgciA9IChoU2hpZnRlZCA+PSAweGFhYWEpID8gbTEgLy8gMHhhYWFhID09IDB4ZmZmZiAqIDIgLyAzXG4gICAgICAgICAgOiAoaFNoaWZ0ZWQgPj0gMHg3ZmZmKSA/ICBtMSArICgobTIgLSBtMSkgKiA2ICogKDB4YWFhYSAtIGhTaGlmdGVkKSArIDB4ODAwMCA+PiAxNilcbiAgICAgICAgICA6IChoU2hpZnRlZCA+PSAweDJhYWEpID8gbTIgLy8gMHgyYWFhID09IDB4ZmZmZiAvIDZcbiAgICAgICAgICA6IG0xICsgKChtMiAtIG0xKSAqIDYgKiBoU2hpZnRlZCArIDB4ODAwMCA+PiAxNik7XG4gICAgICAgIC8vIEcgY2hhbm5lbFxuICAgICAgICBoU2hpZnRlZCA9IGggJiAweGZmZmY7XG4gICAgICAgIGcgPSAoaFNoaWZ0ZWQgPj0gMHhhYWFhKSA/IG0xIC8vIDB4YWFhYSA9PSAweGZmZmYgKiAyIC8gM1xuICAgICAgICAgIDogKGhTaGlmdGVkID49IDB4N2ZmZikgPyAgbTEgKyAoKG0yIC0gbTEpICogNiAqICgweGFhYWEgLSBoU2hpZnRlZCkgKyAweDgwMDAgPj4gMTYpXG4gICAgICAgICAgOiAoaFNoaWZ0ZWQgPj0gMHgyYWFhKSA/IG0yIC8vIDB4MmFhYSA9PSAweGZmZmYgLyA2XG4gICAgICAgICAgOiBtMSArICgobTIgLSBtMSkgKiA2ICogaFNoaWZ0ZWQgKyAweDgwMDAgPj4gMTYpO1xuICAgICAgICAvLyBCIGNoYW5uZWxcbiAgICAgICAgaFNoaWZ0ZWQgPSAoaCAtIDB4NTU1NSkgJiAweGZmZmY7XG4gICAgICAgIGIgPSAoaFNoaWZ0ZWQgPj0gMHhhYWFhKSA/IG0xIC8vIDB4YWFhYSA9PSAweGZmZmYgKiAyIC8gM1xuICAgICAgICAgIDogKGhTaGlmdGVkID49IDB4N2ZmZikgPyAgbTEgKyAoKG0yIC0gbTEpICogNiAqICgweGFhYWEgLSBoU2hpZnRlZCkgKyAweDgwMDAgPj4gMTYpXG4gICAgICAgICAgOiAoaFNoaWZ0ZWQgPj0gMHgyYWFhKSA/IG0yIC8vIDB4MmFhYSA9PSAweGZmZmYgLyA2XG4gICAgICAgICAgOiBtMSArICgobTIgLSBtMSkgKiA2ICogaFNoaWZ0ZWQgKyAweDgwMDAgPj4gMTYpO1xuICAgICAgfVxuXG4gICAgICBpbWdbaVRpbWVzNF0gPSByO1xuICAgICAgaW1nW2lUaW1lczQgKyAxXSA9IGc7XG4gICAgICBpbWdbaVRpbWVzNCArIDJdID0gYjtcbiAgICB9XG4gIH1cbn07XG5cbn0se1wiLi9oc2xfbDE2XCI6MTgsXCJnbHVyL21vbm8xNlwiOjE0fV0sMjE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdW5zaGFycChpbWcsIHdpZHRoLCBoZWlnaHQsIGFtb3VudCwgcmFkaXVzLCB0aHJlc2hvbGQpIHtcbiAgaWYgKGFtb3VudCA9PT0gMCB8fCByYWRpdXMgPCAwLjUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocmFkaXVzID4gMi4wKSB7XG4gICAgcmFkaXVzID0gMi4wO1xuICB9XG5cbiAgdmFyIHBpeGVscyA9IHdpZHRoICogaGVpZ2h0O1xuXG4gIHZhciBpbWdfYnl0ZXNfY250ICAgICAgICA9IHBpeGVscyAqIDQ7XG4gIHZhciBoc2xfYnl0ZXNfY250ICAgICAgICA9IHBpeGVscyAqIDI7XG4gIHZhciBibHVyX2J5dGVzX2NudCAgICAgICA9IHBpeGVscyAqIDI7XG4gIHZhciBibHVyX2xpbmVfYnl0ZV9jbnQgICA9IE1hdGgubWF4KHdpZHRoLCBoZWlnaHQpICogNDsgLy8gZmxvYXQzMiBhcnJheVxuICB2YXIgYmx1cl9jb2VmZnNfYnl0ZV9jbnQgPSA4ICogNDsgLy8gZmxvYXQzMiBhcnJheVxuXG4gIHZhciBpbWdfb2Zmc2V0ICAgICAgICAgPSAwO1xuICB2YXIgaHNsX29mZnNldCAgICAgICAgID0gaW1nX2J5dGVzX2NudDtcbiAgdmFyIGJsdXJfb2Zmc2V0ICAgICAgICA9IGhzbF9vZmZzZXQgKyBoc2xfYnl0ZXNfY250O1xuICB2YXIgYmx1cl90bXBfb2Zmc2V0ICAgID0gYmx1cl9vZmZzZXQgKyBibHVyX2J5dGVzX2NudDtcbiAgdmFyIGJsdXJfbGluZV9vZmZzZXQgICA9IGJsdXJfdG1wX29mZnNldCArIGJsdXJfYnl0ZXNfY250O1xuICB2YXIgYmx1cl9jb2VmZnNfb2Zmc2V0ID0gYmx1cl9saW5lX29mZnNldCArIGJsdXJfbGluZV9ieXRlX2NudDtcblxuICB2YXIgaW5zdGFuY2UgPSB0aGlzLl9faW5zdGFuY2UoXG4gICAgJ3Vuc2hhcnBfbWFzaycsXG4gICAgaW1nX2J5dGVzX2NudCArIGhzbF9ieXRlc19jbnQgKyBibHVyX2J5dGVzX2NudCAqIDIgKyBibHVyX2xpbmVfYnl0ZV9jbnQgKyBibHVyX2NvZWZmc19ieXRlX2NudCxcbiAgICB7IGV4cDogTWF0aC5leHAgfVxuICApO1xuXG4gIC8vIDMyLWJpdCBjb3B5IGlzIG11Y2ggZmFzdGVyIGluIGNocm9tZVxuICB2YXIgaW1nMzIgPSBuZXcgVWludDMyQXJyYXkoaW1nLmJ1ZmZlcik7XG4gIHZhciBtZW0zMiA9IG5ldyBVaW50MzJBcnJheSh0aGlzLl9fbWVtb3J5LmJ1ZmZlcik7XG4gIG1lbTMyLnNldChpbWczMik7XG5cbiAgLy8gSFNMXG4gIHZhciBmbiA9IGluc3RhbmNlLmV4cG9ydHMuaHNsX2wxNiB8fCBpbnN0YW5jZS5leHBvcnRzLl9oc2xfbDE2O1xuICBmbihpbWdfb2Zmc2V0LCBoc2xfb2Zmc2V0LCB3aWR0aCwgaGVpZ2h0KTtcblxuICAvLyBCTFVSXG4gIGZuID0gaW5zdGFuY2UuZXhwb3J0cy5ibHVyTW9ubzE2IHx8IGluc3RhbmNlLmV4cG9ydHMuX2JsdXJNb25vMTY7XG4gIGZuKGhzbF9vZmZzZXQsIGJsdXJfb2Zmc2V0LCBibHVyX3RtcF9vZmZzZXQsXG4gICAgYmx1cl9saW5lX29mZnNldCwgYmx1cl9jb2VmZnNfb2Zmc2V0LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuXG4gIC8vIFVOU0hBUlBcbiAgZm4gPSBpbnN0YW5jZS5leHBvcnRzLnVuc2hhcnAgfHwgaW5zdGFuY2UuZXhwb3J0cy5fdW5zaGFycDtcbiAgZm4oaW1nX29mZnNldCwgaW1nX29mZnNldCwgaHNsX29mZnNldCxcbiAgICBibHVyX29mZnNldCwgd2lkdGgsIGhlaWdodCwgYW1vdW50LCB0aHJlc2hvbGQpO1xuXG4gIC8vIDMyLWJpdCBjb3B5IGlzIG11Y2ggZmFzdGVyIGluIGNocm9tZVxuICBpbWczMi5zZXQobmV3IFVpbnQzMkFycmF5KHRoaXMuX19tZW1vcnkuYnVmZmVyLCAwLCBwaXhlbHMpKTtcbn07XG5cbn0se31dLDIyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8vIFRoaXMgaXMgYXV0b2dlbmVyYXRlZCBmaWxlIGZyb20gbWF0aC53YXNtLCBkb24ndCBlZGl0LlxuLy9cbid1c2Ugc3RyaWN0JztcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAnQUdGemJRRUFBQUFCTVFaZ0FYd0JmR0FDZlg4QVlBWi9mMzkvZjM4QVlBaC9mMzkvZjM5L2ZRQmdCSDkvZjM4QVlBaC9mMzkvZjM5L2Z3QUNHUUlEWlc1MkEyVjRjQUFBQTJWdWRnWnRaVzF2Y25rQ0FBRURCZ1VCQWdNRUJRUUVBWEFBQUFkTUJSWmZYMkoxYVd4a1gyZGhkWE56YVdGdVgyTnZaV1p6QUFFT1gxOW5ZWFZ6Y3pFMlgyeHBibVVBQWdwaWJIVnlUVzl1YnpFMkFBTUhhSE5zWDJ3eE5nQUVCM1Z1YzJoaGNuQUFCUWtCQUFxSkVBWFpBUUVHZkFKQUlBRkUyNGE2UTRJYSt6OGdBTHVqSWdPYUVBQWlCQ0FFb0NJR3RqZ0NFQ0FCSUFORUFBQUFBQUFBQU1DaUVBQWlCYmFNT0FJVUlBRkVBQUFBQUFBQThEOGdCS0VpQWlBQ29pQUVJQU1nQTZDaVJBQUFBQUFBQVBBL29DQUZvYU1pQXJZNEFnQWdBU0FFSUFORUFBQUFBQUFBOEwrZ0lBS2lvaUlIdGpnQ0JDQUJJQVFnQTBRQUFBQUFBQUR3UDZBZ0FxS2lJZ08yT0FJSUlBRWdCU0FDb2lJRXRvdzRBZ3dnQVNBQ0lBZWdJQVZFQUFBQUFBQUE4RDhnQnFHZ0lnS2p0amdDR0NBQklBTWdCS0VnQXFPMk9BSWNDd3UzQXdNRGZ3UjlDSHdDUUNBREtnSVVJUWtnQXlvQ0VDRUtJQU1xQWd3aEN5QURLZ0lJSVF3Q1FDQUVRWDlxSWdkQkFFZ2lDQTBBSUFJZ0FDOEJBTGdpRFNBREtnSVl1NklpRGlBSnV5SVFvaUFPSUFxN0loR2lJQTBnQXlvQ0JMc2lFcUlnQXlvQ0FMc2lFeUFOb3FDZ29DSVB0amdDQUNBQ1FRUnFJUUlnQUVFQ2FpRUFJQWRGRFFBZ0JDRUdBMEFnQWlBT0lCQ2lJQThpRGlBUm9pQU5JQktpSUJNZ0FDOEJBTGdpRGFLZ29LQWlEN1k0QWdBZ0FrRUVhaUVDSUFCQkFtb2hBQ0FHUVg5cUlnWkJBVW9OQUFzTEFrQWdDQTBBSUFFZ0J5QUZiRUVCZEdvZ0FFRithaThCQUNJSXVDSU5JQXU3SWhHaUlBMGdETHNpRXFLZ0lBMGdBeW9DSEx1aUlnNGdDcnNpRTZLZ0lBNGdDYnNpRktLZ0lnOGdBa0Y4YWlvQ0FMdWdxenNCQUNBSFJRMEFJQUpCZUdvaEFpQUFRWHhxSVFCQkFDQUZRUUYwYXlFSElBRWdCU0FFUVFGMFFYeHFiR29oQmdOQUlBZ2hBeUFBTHdFQUlRZ2dCaUFOSUJHaUlBTzRJZzBnRXFLZ0lBOGlFQ0FUb3FBZ0RpQVVvcUFpRHlBQ0tnSUF1NkNyT3dFQUlBWWdCMm9oQmlBQVFYNXFJUUFnQWtGOGFpRUNJQkFoRGlBRVFYOXFJZ1JCQVVvTkFBc0xDd3ZmQWdJRGZ3WjhBa0FnQjBNQUFBQUFXdzBBSUFSRTI0YTZRNElhK3o4Z0IwTUFBQUEvbDd1aklneWFFQUFpRFNBTm9DSVB0amdDRUNBRUlBeEVBQUFBQUFBQUFNQ2lFQUFpRHJhTU9BSVVJQVJFQUFBQUFBQUE4RDhnRGFFaUN5QUxvaUFOSUF3Z0RLQ2lSQUFBQUFBQUFQQS9vQ0FPb2FNaUM3WTRBZ0FnQkNBTklBeEVBQUFBQUFBQThMK2dJQXVpb2lJUXRqZ0NCQ0FFSUEwZ0RFUUFBQUFBQUFEd1A2QWdDNktpSWd5Mk9BSUlJQVFnRGlBTG9pSU50b3c0QWd3Z0JDQUxJQkNnSUE1RUFBQUFBQUFBOEQ4Z0Q2R2dJZ3VqdGpnQ0dDQUVJQXdnRGFFZ0M2TzJPQUljSUFZRVFDQUZRUUYwSVFvZ0JpRUpJQUloQ0FOQUlBQWdDQ0FESUFRZ0JTQUdFQUlnQUNBS2FpRUFJQWhCQW1vaENDQUpRWDlxSWdrTkFBc0xJQVZGRFFBZ0JrRUJkQ0VJSUFVaEFBTkFJQUlnQVNBRElBUWdCaUFGRUFJZ0FpQUlhaUVDSUFGQkFtb2hBU0FBUVg5cUlnQU5BQXNMQzd3QkFRVi9JQU1nQW13aUF3UkFRUUFnQTJzaEJnTkFJQUFvQWdBaUJFRUlkaUlIUWY4QmNTRUNBbjhnQkVIL0FYRWlBeUFFUVJCMklnUkIvd0Z4SWdWUEJFQWdBeUlJSUFNZ0FrOE5BUm9MSUFRZ0JDQUhJQUlnQTBrYklBSWdCVWtiUWY4QmNRc2hDQUpBSUFNZ0FrMEVRQ0FESUFWTkRRRUxJQVFnQnlBRUlBTWdBazhiSUFJZ0JVc2JRZjhCY1NFREN5QUFRUVJxSVFBZ0FTQURJQWhxUVlFQ2JFRUJkanNCQUNBQlFRSnFJUUVnQmtFQmFpSUdEUUFMQ3d2VEJnRUtmd0pBSUFhelF3QUFnRVdVUXdBQXlFS1Z1MFFBQUFBQUFBRGdQNkNxSVEwZ0JTQUViQ0lMQkVBZ0IwR0JBbXdoRGdOQVFRQWdBaThCQUNBREx3RUFheUlHUVFGMElnZHJJQWNnQmtFQVNCc2dEazhFUUNBQVFRSnFMUUFBSVFVQ2Z5QUFMUUFBSWdZZ0FFRUJhaTBBQUNJRVNTSUpSUVJBSUFZaUNDQUdJQVZQRFFFYUN5QUZJQVVnQkNBRUlBVkpHeUFHSUFSTEd3c2hDQUovSUFZZ0JFMEVRQ0FHSWdvZ0JpQUZUUTBCR2dzZ0JTQUZJQVFnQkNBRlN4c2dDUnNMSWdvZ0NHb2lEMEdCQW13aUVFRUJkaUVSUVFBaERBSi9RUUFpQ1NBSUlBcEdEUUFhSUFnZ0Ntc2lDVUgvSDJ3Z0QwSCtBeUFJYXlBS2F5QVFRWUNBQkVrYmJTRU1JQVlnQ0VZRVFDQUVJQVZyUWYvL0Eyd2dDVUVHYkcwTUFRc2dCU0FHYXlBR0lBUnJJQVFnQ0VZaUJodEIvLzhEYkNBSlFRWnNiVUhWcWdGQnF0VUNJQVliYWdzaENTQVJJQWNnRFd4QmdCQnFRUXgxYWlJR1FRQWdCa0VBU2hzaUJrSC8vd01nQmtILy93TklHeUVHQWtBQ2Z3SkFJQXhCLy84RGNTSUZCRUFnQmtILy93RktEUUVnQlVHQUlHb2dCbXhCZ0JCcVFReDJEQUlMSUFaQkNIWWlCaUVGSUFZaEJBd0NDeUFGSUFaQi8vOERjMnhCZ0JCcVFReDJJQVpxQ3lJRlFRaDJJUWNnQmtFQmRDQUZhMEVJZGlJR0lRUUNRQ0FKUWRXcUFXcEIvLzhEY1NJRlFhblZBa3NOQUNBRlFmLy9BVThFUUVHcTFRSWdCV3NnQnlBR2EyeEJCbXhCZ0lBQ2FrRVFkaUFHYWlFRURBRUxJQWNoQkNBRlFhblZBRXNOQUNBRklBY2dCbXRzUVFac1FZQ0FBbXBCRUhZZ0Jtb2hCQXNDZnlBR0lnVWdDVUgvL3dOeElnaEJxZFVDU3cwQUdrR3ExUUlnQ0dzZ0J5QUdhMnhCQm14QmdJQUNha0VRZGlBR2FpQUlRZi8vQVU4TkFCb2dCeUlGSUFoQnFkVUFTdzBBR2lBSUlBY2dCbXRzUVFac1FZQ0FBbXBCRUhZZ0Jtb0xJUVVnQ1VHcjFRSnFRZi8vQTNFaUNFR3AxUUpMRFFBZ0NFSC8vd0ZQQkVCQnF0VUNJQWhySUFjZ0JtdHNRUVpzUVlDQUFtcEJFSFlnQm1vaEJnd0JDeUFJUWFuVkFFc0VRQ0FISVFZTUFRc2dDQ0FISUFacmJFRUdiRUdBZ0FKcVFSQjJJQVpxSVFZTElBRWdCRG9BQUNBQlFRRnFJQVU2QUFBZ0FVRUNhaUFHT2dBQUN5QURRUUpxSVFNZ0FrRUNhaUVDSUFCQkJHb2hBQ0FCUVFScUlRRWdDMEYvYWlJTERRQUxDd3NMJztcblxufSx7fV0sMjM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLy8gRGV0ZWN0IFdlYkFzc2VtYmx5IHN1cHBvcnQuXG4vLyAtIENoZWNrIGdsb2JhbCBXZWJBc3NlbWJseSBvYmplY3Rcbi8vIC0gVHJ5IHRvIGxvYWQgc2ltcGxlIG1vZHVsZSAoY2FuIGJlIGRpc2FibGVkIHZpYSBDU1ApXG4vL1xuJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciB3YTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhhc1dlYkFzc2VtYmx5KCkge1xuICAvLyB1c2UgY2FjaGUgaWYgY2FsbGVkIGJlZm9yZTtcbiAgaWYgKHR5cGVvZiB3YSAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiB3YTtcblxuICB3YSA9IGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gd2E7XG5cbiAgLy8gSWYgV2ViQXNzZW5ibHkgaXMgZGlzYWJsZWQsIGNvZGUgY2FuIHRocm93IG9uIGNvbXBpbGVcbiAgdHJ5IHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYnJpb24vbWluLXdhc20tZmFpbC9ibG9iL21hc3Rlci9taW4td2FzbS1mYWlsLmluLmpzXG4gICAgLy8gQWRkaXRpb25hbCBjaGVjayB0aGF0IFdBIGludGVybmFscyBhcmUgY29ycmVjdFxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgY29tbWEtc3BhY2luZywgbWF4LWxlbiAqL1xuICAgIHZhciBiaW4gICAgICA9IG5ldyBVaW50OEFycmF5KFsgMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw2LDEsOTYsMSwxMjcsMSwxMjcsMywyLDEsMCw1LDMsMSwwLDEsNyw4LDEsNCwxMTYsMTAxLDExNSwxMTYsMCwwLDEwLDE2LDEsMTQsMCwzMiwwLDY1LDEsNTQsMiwwLDMyLDAsNDAsMiwwLDExIF0pO1xuICAgIHZhciBtb2R1bGUgICA9IG5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoYmluKTtcbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobW9kdWxlLCB7fSk7XG5cbiAgICAvLyB0ZXN0IHN0b3JpbmcgdG8gYW5kIGxvYWRpbmcgZnJvbSBhIG5vbi16ZXJvIGxvY2F0aW9uIHZpYSBhIHBhcmFtZXRlci5cbiAgICAvLyBTYWZhcmkgb24gaU9TIDExLjIuNSByZXR1cm5zIDAgdW5leHBlY3RlZGx5IGF0IG5vbi16ZXJvIGxvY2F0aW9uc1xuICAgIGlmIChpbnN0YW5jZS5leHBvcnRzLnRlc3QoNCkgIT09IDApIHdhID0gdHJ1ZTtcblxuICAgIHJldHVybiB3YTtcbiAgfSBjYXRjaCAoX18pIHt9XG5cbiAgcmV0dXJuIHdhO1xufTtcblxufSx7fV0sMjQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcblxufSx7fV0sMjU6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xudmFyIGJ1bmRsZUZuID0gYXJndW1lbnRzWzNdO1xudmFyIHNvdXJjZXMgPSBhcmd1bWVudHNbNF07XG52YXIgY2FjaGUgPSBhcmd1bWVudHNbNV07XG5cbnZhciBzdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcbiAgICB2YXIgd2tleTtcbiAgICB2YXIgY2FjaGVLZXlzID0gT2JqZWN0LmtleXMoY2FjaGUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYWNoZUtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBjYWNoZUtleXNbaV07XG4gICAgICAgIHZhciBleHAgPSBjYWNoZVtrZXldLmV4cG9ydHM7XG4gICAgICAgIC8vIFVzaW5nIGJhYmVsIGFzIGEgdHJhbnNwaWxlciB0byB1c2UgZXNtb2R1bGUsIHRoZSBleHBvcnQgd2lsbCBhbHdheXNcbiAgICAgICAgLy8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGRlZmF1bHQgZXhwb3J0IGFzIGEgcHJvcGVydHkgb2YgaXQuIFRvIGVuc3VyZVxuICAgICAgICAvLyB0aGUgZXhpc3RpbmcgYXBpIGFuZCBiYWJlbCBlc21vZHVsZSBleHBvcnRzIGFyZSBib3RoIHN1cHBvcnRlZCB3ZVxuICAgICAgICAvLyBjaGVjayBmb3IgYm90aFxuICAgICAgICBpZiAoZXhwID09PSBmbiB8fCBleHAgJiYgZXhwLmRlZmF1bHQgPT09IGZuKSB7XG4gICAgICAgICAgICB3a2V5ID0ga2V5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXdrZXkpIHtcbiAgICAgICAgd2tleSA9IE1hdGguZmxvb3IoTWF0aC5wb3coMTYsIDgpICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMTYpO1xuICAgICAgICB2YXIgd2NhY2hlID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2FjaGVLZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGNhY2hlS2V5c1tpXTtcbiAgICAgICAgICAgIHdjYWNoZVtrZXldID0ga2V5O1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZXNbd2tleV0gPSBbXG4gICAgICAgICAgICAnZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7JyArIGZuICsgJyhzZWxmKTsgfScsXG4gICAgICAgICAgICB3Y2FjaGVcbiAgICAgICAgXTtcbiAgICB9XG4gICAgdmFyIHNrZXkgPSBNYXRoLmZsb29yKE1hdGgucG93KDE2LCA4KSAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDE2KTtcblxuICAgIHZhciBzY2FjaGUgPSB7fTsgc2NhY2hlW3drZXldID0gd2tleTtcbiAgICBzb3VyY2VzW3NrZXldID0gW1xuICAgICAgICAnZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7JyArXG4gICAgICAgICAgICAvLyB0cnkgdG8gY2FsbCBkZWZhdWx0IGlmIGRlZmluZWQgdG8gYWxzbyBzdXBwb3J0IGJhYmVsIGVzbW9kdWxlIGV4cG9ydHNcbiAgICAgICAgICAgICd2YXIgZiA9IHJlcXVpcmUoJyArIHN0cmluZ2lmeSh3a2V5KSArICcpOycgK1xuICAgICAgICAgICAgJyhmLmRlZmF1bHQgPyBmLmRlZmF1bHQgOiBmKShzZWxmKTsnICtcbiAgICAgICAgJ30nLFxuICAgICAgICBzY2FjaGVcbiAgICBdO1xuXG4gICAgdmFyIHdvcmtlclNvdXJjZXMgPSB7fTtcbiAgICByZXNvbHZlU291cmNlcyhza2V5KTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVTb3VyY2VzKGtleSkge1xuICAgICAgICB3b3JrZXJTb3VyY2VzW2tleV0gPSB0cnVlO1xuXG4gICAgICAgIGZvciAodmFyIGRlcFBhdGggaW4gc291cmNlc1trZXldWzFdKSB7XG4gICAgICAgICAgICB2YXIgZGVwS2V5ID0gc291cmNlc1trZXldWzFdW2RlcFBhdGhdO1xuICAgICAgICAgICAgaWYgKCF3b3JrZXJTb3VyY2VzW2RlcEtleV0pIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlU291cmNlcyhkZXBLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHNyYyA9ICcoJyArIGJ1bmRsZUZuICsgJykoeydcbiAgICAgICAgKyBPYmplY3Qua2V5cyh3b3JrZXJTb3VyY2VzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmeShrZXkpICsgJzpbJ1xuICAgICAgICAgICAgICAgICsgc291cmNlc1trZXldWzBdXG4gICAgICAgICAgICAgICAgKyAnLCcgKyBzdHJpbmdpZnkoc291cmNlc1trZXldWzFdKSArICddJ1xuICAgICAgICAgICAgO1xuICAgICAgICB9KS5qb2luKCcsJylcbiAgICAgICAgKyAnfSx7fSxbJyArIHN0cmluZ2lmeShza2V5KSArICddKSdcbiAgICA7XG5cbiAgICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMO1xuXG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbc3JjXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmJhcmUpIHsgcmV0dXJuIGJsb2I7IH1cbiAgICB2YXIgd29ya2VyVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJVcmwpO1xuICAgIHdvcmtlci5vYmplY3RVUkwgPSB3b3JrZXJVcmw7XG4gICAgcmV0dXJuIHdvcmtlcjtcbn07XG5cbn0se31dLFwiL2luZGV4LmpzXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG52YXIgYXNzaWduID0gX2RlcmVxXygnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgd2Vid29ya2lmeSA9IF9kZXJlcV8oJ3dlYndvcmtpZnknKTtcblxudmFyIE1hdGhMaWIgPSBfZGVyZXFfKCcuL2xpYi9tYXRobGliJyk7XG5cbnZhciBQb29sID0gX2RlcmVxXygnLi9saWIvcG9vbCcpO1xuXG52YXIgdXRpbHMgPSBfZGVyZXFfKCcuL2xpYi91dGlscycpO1xuXG52YXIgd29ya2VyID0gX2RlcmVxXygnLi9saWIvd29ya2VyJyk7XG5cbnZhciBjcmVhdGVTdGFnZXMgPSBfZGVyZXFfKCcuL2xpYi9zdGVwcGVyJyk7XG5cbnZhciBjcmVhdGVSZWdpb25zID0gX2RlcmVxXygnLi9saWIvdGlsZXInKTsgLy8gRGVkdXBsaWNhdGUgcG9vbHMgJiBsaW1pdGVycyB3aXRoIHRoZSBzYW1lIGNvbmZpZ3Ncbi8vIHdoZW4gdXNlciBjcmVhdGVzIG11bHRpcGxlIHBpY2EgaW5zdGFuY2VzLlxuXG5cbnZhciBzaW5nbGV0b25lcyA9IHt9O1xudmFyIE5FRURfU0FGQVJJX0ZJWCA9IGZhbHNlO1xuXG50cnkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkge1xuICAgIE5FRURfU0FGQVJJX0ZJWCA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgPj0gMDtcbiAgfVxufSBjYXRjaCAoZSkge31cblxudmFyIGNvbmN1cnJlbmN5ID0gMTtcblxuaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbmN1cnJlbmN5ID0gTWF0aC5taW4obmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kgfHwgMSwgNCk7XG59XG5cbnZhciBERUZBVUxUX1BJQ0FfT1BUUyA9IHtcbiAgdGlsZTogMTAyNCxcbiAgY29uY3VycmVuY3k6IGNvbmN1cnJlbmN5LFxuICBmZWF0dXJlczogWydqcycsICd3YXNtJywgJ3d3J10sXG4gIGlkbGU6IDIwMDAsXG4gIGNyZWF0ZUNhbnZhczogZnVuY3Rpb24gY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB2YXIgdG1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdG1wQ2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgdG1wQ2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICByZXR1cm4gdG1wQ2FudmFzO1xuICB9XG59O1xudmFyIERFRkFVTFRfUkVTSVpFX09QVFMgPSB7XG4gIHF1YWxpdHk6IDMsXG4gIGFscGhhOiBmYWxzZSxcbiAgdW5zaGFycEFtb3VudDogMCxcbiAgdW5zaGFycFJhZGl1czogMC4wLFxuICB1bnNoYXJwVGhyZXNob2xkOiAwXG59O1xudmFyIENBTl9ORVdfSU1BR0VfREFUQTtcbnZhciBDQU5fQ1JFQVRFX0lNQUdFX0JJVE1BUDtcblxuZnVuY3Rpb24gd29ya2VyRmFicmljKCkge1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiB3ZWJ3b3JraWZ5KHdvcmtlciksXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHRoaXMudmFsdWUudGVybWluYXRlKCk7XG5cbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMO1xuXG4gICAgICAgIGlmICh1cmwgJiYgdXJsLnJldm9rZU9iamVjdFVSTCAmJiB0aGlzLnZhbHVlLm9iamVjdFVSTCkge1xuICAgICAgICAgIHVybC5yZXZva2VPYmplY3RVUkwodGhpcy52YWx1ZS5vYmplY3RVUkwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIG1ldGhvZHNcblxuXG5mdW5jdGlvbiBQaWNhKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBpY2EpKSByZXR1cm4gbmV3IFBpY2Eob3B0aW9ucyk7XG4gIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgREVGQVVMVF9QSUNBX09QVFMsIG9wdGlvbnMgfHwge30pO1xuICB2YXIgbGltaXRlcl9rZXkgPSBcImxrX1wiLmNvbmNhdCh0aGlzLm9wdGlvbnMuY29uY3VycmVuY3kpOyAvLyBTaGFyZSBsaW1pdGVycyB0byBhdm9pZCBtdWx0aXBsZSBwYXJhbGxlbCB3b3JrZXJzIHdoZW4gdXNlciBjcmVhdGVzXG4gIC8vIG11bHRpcGxlIHBpY2EgaW5zdGFuY2VzLlxuXG4gIHRoaXMuX19saW1pdCA9IHNpbmdsZXRvbmVzW2xpbWl0ZXJfa2V5XSB8fCB1dGlscy5saW1pdGVyKHRoaXMub3B0aW9ucy5jb25jdXJyZW5jeSk7XG4gIGlmICghc2luZ2xldG9uZXNbbGltaXRlcl9rZXldKSBzaW5nbGV0b25lc1tsaW1pdGVyX2tleV0gPSB0aGlzLl9fbGltaXQ7IC8vIExpc3Qgb2Ygc3VwcG9ydGVkIGZlYXR1cmVzLCBhY2NvcmRpbmcgdG8gb3B0aW9ucyAmIGJyb3dzZXIvbm9kZS5qc1xuXG4gIHRoaXMuZmVhdHVyZXMgPSB7XG4gICAganM6IGZhbHNlLFxuICAgIC8vIHB1cmUgSlMgaW1wbGVtZW50YXRpb24sIGNhbiBiZSBkaXNhYmxlZCBmb3IgdGVzdGluZ1xuICAgIHdhc206IGZhbHNlLFxuICAgIC8vIHdlYmFzc2VtYmx5IGltcGxlbWVudGF0aW9uIGZvciBoZWF2eSBmdW5jdGlvbnNcbiAgICBjaWI6IGZhbHNlLFxuICAgIC8vIHJlc2l6ZSB2aWEgY3JlYXRlSW1hZ2VCaXRtYXAgKG9ubHkgRkYgYXQgdGhpcyBtb21lbnQpXG4gICAgd3c6IGZhbHNlIC8vIHdlYndvcmtlcnNcblxuICB9O1xuICB0aGlzLl9fd29ya2Vyc1Bvb2wgPSBudWxsOyAvLyBTdG9yZSByZXF1ZXN0ZWQgZmVhdHVyZXMgZm9yIHdlYndvcmtlcnNcblxuICB0aGlzLl9fcmVxdWVzdGVkX2ZlYXR1cmVzID0gW107XG4gIHRoaXMuX19tYXRobGliID0gbnVsbDtcbn1cblxuUGljYS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAodGhpcy5fX2luaXRQcm9taXNlKSByZXR1cm4gdGhpcy5fX2luaXRQcm9taXNlOyAvLyBUZXN0IGlmIHdlIGNhbiBjcmVhdGUgSW1hZ2VEYXRhIHdpdGhvdXQgY2FudmFzIGFuZCBtZW1vcnkgY29weVxuXG4gIGlmIChDQU5fTkVXX0lNQUdFX0RBVEEgIT09IGZhbHNlICYmIENBTl9ORVdfSU1BR0VfREFUQSAhPT0gdHJ1ZSkge1xuICAgIENBTl9ORVdfSU1BR0VfREFUQSA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBJbWFnZURhdGEgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLW5ldyAqL1xuICAgICAgICBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheSg0MDApLCAxMCwgMTApO1xuICAgICAgICBDQU5fTkVXX0lNQUdFX0RBVEEgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoX18pIHt9XG4gICAgfVxuICB9IC8vIEltYWdlQml0bWFwIGNhbiBiZSBlZmZlY3RpdmUgaW4gMiBwbGFjZXM6XG4gIC8vXG4gIC8vIDEuIFRocmVhZGVkIGpwZWcgdW5wYWNrIChiYXNpYylcbiAgLy8gMi4gQnVpbHQtaW4gcmVzaXplIChibG9ja2VkIGR1ZSBwcm9ibGVtIGluIGNocm9tZSwgc2VlIGlzc3VlICM4OSlcbiAgLy9cbiAgLy8gRm9yIGJhc2ljIHVzZSB3ZSBhbHNvIG5lZWQgSW1hZ2VCaXRtYXAgd28gc3VwcG9ydCAuY2xvc2UoKSBtZXRob2QsXG4gIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9BUEkvSW1hZ2VCaXRtYXBcblxuXG4gIGlmIChDQU5fQ1JFQVRFX0lNQUdFX0JJVE1BUCAhPT0gZmFsc2UgJiYgQ0FOX0NSRUFURV9JTUFHRV9CSVRNQVAgIT09IHRydWUpIHtcbiAgICBDQU5fQ1JFQVRFX0lNQUdFX0JJVE1BUCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBJbWFnZUJpdG1hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChJbWFnZUJpdG1hcC5wcm90b3R5cGUgJiYgSW1hZ2VCaXRtYXAucHJvdG90eXBlLmNsb3NlKSB7XG4gICAgICAgIENBTl9DUkVBVEVfSU1BR0VfQklUTUFQID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVidWcoJ0ltYWdlQml0bWFwIGRvZXMgbm90IHN1cHBvcnQgLmNsb3NlKCksIGRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGZlYXR1cmVzID0gdGhpcy5vcHRpb25zLmZlYXR1cmVzLnNsaWNlKCk7XG5cbiAgaWYgKGZlYXR1cmVzLmluZGV4T2YoJ2FsbCcpID49IDApIHtcbiAgICBmZWF0dXJlcyA9IFsnY2liJywgJ3dhc20nLCAnanMnLCAnd3cnXTtcbiAgfVxuXG4gIHRoaXMuX19yZXF1ZXN0ZWRfZmVhdHVyZXMgPSBmZWF0dXJlcztcbiAgdGhpcy5fX21hdGhsaWIgPSBuZXcgTWF0aExpYihmZWF0dXJlcyk7IC8vIENoZWNrIFdlYldvcmtlciBzdXBwb3J0IGlmIHJlcXVlc3RlZFxuXG4gIGlmIChmZWF0dXJlcy5pbmRleE9mKCd3dycpID49IDApIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ1dvcmtlcicgaW4gd2luZG93KSB7XG4gICAgICAvLyBJRSA8PSAxMSBkb24ndCBhbGxvdyB0byBjcmVhdGUgd2Vid29ya2VycyBmcm9tIHN0cmluZy4gV2Ugc2hvdWxkIGNoZWNrIGl0LlxuICAgICAgLy8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy84MDE4MTAvd2ViLXdvcmtlcnMtZnJvbS1ibG9iLXVybHMtaW4taWUtMTAtYW5kLTExXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgd2tyID0gX2RlcmVxXygnd2Vid29ya2lmeScpKGZ1bmN0aW9uICgpIHt9KTtcblxuICAgICAgICB3a3IudGVybWluYXRlKCk7XG4gICAgICAgIHRoaXMuZmVhdHVyZXMud3cgPSB0cnVlOyAvLyBwb29sIHVuaXF1ZW5lc3MgZGVwZW5kcyBvbiBwb29sIGNvbmZpZyArIHdlYndvcmtlciBjb25maWdcblxuICAgICAgICB2YXIgd3Bvb2xfa2V5ID0gXCJ3cF9cIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGhpcy5vcHRpb25zKSk7XG5cbiAgICAgICAgaWYgKHNpbmdsZXRvbmVzW3dwb29sX2tleV0pIHtcbiAgICAgICAgICB0aGlzLl9fd29ya2Vyc1Bvb2wgPSBzaW5nbGV0b25lc1t3cG9vbF9rZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX193b3JrZXJzUG9vbCA9IG5ldyBQb29sKHdvcmtlckZhYnJpYywgdGhpcy5vcHRpb25zLmlkbGUpO1xuICAgICAgICAgIHNpbmdsZXRvbmVzW3dwb29sX2tleV0gPSB0aGlzLl9fd29ya2Vyc1Bvb2w7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKF9fKSB7fVxuICAgIH1cbiAgfVxuXG4gIHZhciBpbml0TWF0aCA9IHRoaXMuX19tYXRobGliLmluaXQoKS50aGVuKGZ1bmN0aW9uIChtYXRobGliKSB7XG4gICAgLy8gQ29weSBkZXRlY3RlZCBmZWF0dXJlc1xuICAgIGFzc2lnbihfdGhpcy5mZWF0dXJlcywgbWF0aGxpYi5mZWF0dXJlcyk7XG4gIH0pO1xuXG4gIHZhciBjaGVja0NpYlJlc2l6ZTtcblxuICBpZiAoIUNBTl9DUkVBVEVfSU1BR0VfQklUTUFQKSB7XG4gICAgY2hlY2tDaWJSZXNpemUgPSBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGNoZWNrQ2liUmVzaXplID0gdXRpbHMuY2liX3N1cHBvcnQodGhpcy5vcHRpb25zLmNyZWF0ZUNhbnZhcykudGhlbihmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICBpZiAoX3RoaXMuZmVhdHVyZXMuY2liICYmIGZlYXR1cmVzLmluZGV4T2YoJ2NpYicpIDwgMCkge1xuICAgICAgICBfdGhpcy5kZWJ1ZygnY3JlYXRlSW1hZ2VCaXRtYXAoKSByZXNpemUgc3VwcG9ydGVkLCBidXQgZGlzYWJsZWQgYnkgY29uZmlnJyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmVhdHVyZXMuaW5kZXhPZignY2liJykgPj0gMCkgX3RoaXMuZmVhdHVyZXMuY2liID0gc3RhdHVzO1xuICAgIH0pO1xuICB9IC8vIEluaXQgbWF0aCBsaWIuIFRoYXQncyBhc3luYyBiZWNhdXNlIGNhbiBsb2FkIHNvbWVcblxuXG4gIHRoaXMuX19pbml0UHJvbWlzZSA9IFByb21pc2UuYWxsKFtpbml0TWF0aCwgY2hlY2tDaWJSZXNpemVdKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5fX2luaXRQcm9taXNlO1xufTtcblxuUGljYS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIHRoaXMuZGVidWcoJ1N0YXJ0IHJlc2l6ZS4uLicpO1xuICB2YXIgb3B0cyA9IGFzc2lnbih7fSwgREVGQVVMVF9SRVNJWkVfT1BUUyk7XG5cbiAgaWYgKCFpc05hTihvcHRpb25zKSkge1xuICAgIG9wdHMgPSBhc3NpZ24ob3B0cywge1xuICAgICAgcXVhbGl0eTogb3B0aW9uc1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdGlvbnMpIHtcbiAgICBvcHRzID0gYXNzaWduKG9wdHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgb3B0cy50b1dpZHRoID0gdG8ud2lkdGg7XG4gIG9wdHMudG9IZWlnaHQgPSB0by5oZWlnaHQ7XG4gIG9wdHMud2lkdGggPSBmcm9tLm5hdHVyYWxXaWR0aCB8fCBmcm9tLndpZHRoO1xuICBvcHRzLmhlaWdodCA9IGZyb20ubmF0dXJhbEhlaWdodCB8fCBmcm9tLmhlaWdodDsgLy8gUHJldmVudCBzdGVwcGVyIGZyb20gaW5maW5pdGUgbG9vcFxuXG4gIGlmICh0by53aWR0aCA9PT0gMCB8fCB0by5oZWlnaHQgPT09IDApIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBvdXRwdXQgc2l6ZTogXCIuY29uY2F0KHRvLndpZHRoLCBcInhcIikuY29uY2F0KHRvLmhlaWdodCkpKTtcbiAgfVxuXG4gIGlmIChvcHRzLnVuc2hhcnBSYWRpdXMgPiAyKSBvcHRzLnVuc2hhcnBSYWRpdXMgPSAyO1xuICB2YXIgY2FuY2VsZWQgPSBmYWxzZTtcbiAgdmFyIGNhbmNlbFRva2VuID0gbnVsbDtcblxuICBpZiAob3B0cy5jYW5jZWxUb2tlbikge1xuICAgIC8vIFdyYXAgY2FuY2VsVG9rZW4gdG8gYXZvaWQgc3VjY2Vzc2l2ZSByZXNvbHZlICYgc2V0IGZsYWdcbiAgICBjYW5jZWxUb2tlbiA9IG9wdHMuY2FuY2VsVG9rZW4udGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY2FuY2VsZWQgPSB0cnVlO1xuICAgICAgdGhyb3cgZGF0YTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYW5jZWxlZCA9IHRydWU7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgREVTVF9USUxFX0JPUkRFUiA9IDM7IC8vIE1heCBwb3NzaWJsZSBmaWx0ZXIgd2luZG93IHNpemVcblxuICB2YXIgZGVzdFRpbGVCb3JkZXIgPSBNYXRoLmNlaWwoTWF0aC5tYXgoREVTVF9USUxFX0JPUkRFUiwgMi41ICogb3B0cy51bnNoYXJwUmFkaXVzIHwgMCkpO1xuICByZXR1cm4gdGhpcy5pbml0KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNhbmNlbGVkKSByZXR1cm4gY2FuY2VsVG9rZW47IC8vIGlmIGNyZWF0ZUltYWdlQml0bWFwIHN1cHBvcnRzIHJlc2l6ZSwganVzdCBkbyBpdCBhbmQgcmV0dXJuXG5cbiAgICBpZiAoX3RoaXMyLmZlYXR1cmVzLmNpYikge1xuICAgICAgdmFyIHRvQ3R4ID0gdG8uZ2V0Q29udGV4dCgnMmQnLCB7XG4gICAgICAgIGFscGhhOiBCb29sZWFuKG9wdHMuYWxwaGEpXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMyLmRlYnVnKCdSZXNpemUgdmlhIGNyZWF0ZUltYWdlQml0bWFwKCknKTtcblxuICAgICAgcmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKGZyb20sIHtcbiAgICAgICAgcmVzaXplV2lkdGg6IG9wdHMudG9XaWR0aCxcbiAgICAgICAgcmVzaXplSGVpZ2h0OiBvcHRzLnRvSGVpZ2h0LFxuICAgICAgICByZXNpemVRdWFsaXR5OiB1dGlscy5jaWJfcXVhbGl0eV9uYW1lKG9wdHMucXVhbGl0eSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGltYWdlQml0bWFwKSB7XG4gICAgICAgIGlmIChjYW5jZWxlZCkgcmV0dXJuIGNhbmNlbFRva2VuOyAvLyBpZiBubyB1bnNoYXJwIC0gZHJhdyBkaXJlY3RseSB0byBvdXRwdXQgY2FudmFzXG5cbiAgICAgICAgaWYgKCFvcHRzLnVuc2hhcnBBbW91bnQpIHtcbiAgICAgICAgICB0b0N0eC5kcmF3SW1hZ2UoaW1hZ2VCaXRtYXAsIDAsIDApO1xuICAgICAgICAgIGltYWdlQml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgdG9DdHggPSBudWxsO1xuXG4gICAgICAgICAgX3RoaXMyLmRlYnVnKCdGaW5pc2hlZCEnKTtcblxuICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5kZWJ1ZygnVW5zaGFycCByZXN1bHQnKTtcblxuICAgICAgICB2YXIgdG1wQ2FudmFzID0gX3RoaXMyLm9wdGlvbnMuY3JlYXRlQ2FudmFzKG9wdHMudG9XaWR0aCwgb3B0cy50b0hlaWdodCk7XG5cbiAgICAgICAgdmFyIHRtcEN0eCA9IHRtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHtcbiAgICAgICAgICBhbHBoYTogQm9vbGVhbihvcHRzLmFscGhhKVxuICAgICAgICB9KTtcbiAgICAgICAgdG1wQ3R4LmRyYXdJbWFnZShpbWFnZUJpdG1hcCwgMCwgMCk7XG4gICAgICAgIGltYWdlQml0bWFwLmNsb3NlKCk7XG4gICAgICAgIHZhciBpRGF0YSA9IHRtcEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgb3B0cy50b1dpZHRoLCBvcHRzLnRvSGVpZ2h0KTtcblxuICAgICAgICBfdGhpczIuX19tYXRobGliLnVuc2hhcnBfbWFzayhpRGF0YS5kYXRhLCBvcHRzLnRvV2lkdGgsIG9wdHMudG9IZWlnaHQsIG9wdHMudW5zaGFycEFtb3VudCwgb3B0cy51bnNoYXJwUmFkaXVzLCBvcHRzLnVuc2hhcnBUaHJlc2hvbGQpO1xuXG4gICAgICAgIHRvQ3R4LnB1dEltYWdlRGF0YShpRGF0YSwgMCwgMCk7IC8vIFNhZmFyaSAxMiB3b3JrYXJvdW5kXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGljYS9pc3N1ZXMvMTk5XG5cbiAgICAgICAgdG1wQ2FudmFzLndpZHRoID0gdG1wQ2FudmFzLmhlaWdodCA9IDA7XG4gICAgICAgIGlEYXRhID0gdG1wQ3R4ID0gdG1wQ2FudmFzID0gdG9DdHggPSBudWxsO1xuXG4gICAgICAgIF90aGlzMi5kZWJ1ZygnRmluaXNoZWQhJyk7XG5cbiAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgfSk7XG4gICAgfSAvL1xuICAgIC8vIE5vIGVhc3kgd2F5LCBsZXQncyByZXNpemUgbWFudWFsbHkgdmlhIGFycmF5c1xuICAgIC8vXG4gICAgLy8gU2hhcmUgY2FjaGUgYmV0d2VlbiBjYWxsczpcbiAgICAvL1xuICAgIC8vIC0gd2FzbSBpbnN0YW5jZVxuICAgIC8vIC0gd2FzbSBtZW1vcnkgb2JqZWN0XG4gICAgLy9cblxuXG4gICAgdmFyIGNhY2hlID0ge307IC8vIENhbGwgcmVzaXplciBpbiB3ZWJ3b3JrZXIgb3IgbG9jYWxseSwgZGVwZW5kaW5nIG9uIGNvbmZpZ1xuXG4gICAgdmFyIGludm9rZVJlc2l6ZSA9IGZ1bmN0aW9uIGludm9rZVJlc2l6ZShvcHRzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMyLmZlYXR1cmVzLnd3KSByZXR1cm4gX3RoaXMyLl9fbWF0aGxpYi5yZXNpemVBbmRVbnNoYXJwKG9wdHMsIGNhY2hlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICB2YXIgdyA9IF90aGlzMi5fX3dvcmtlcnNQb29sLmFjcXVpcmUoKTtcblxuICAgICAgICAgIGlmIChjYW5jZWxUb2tlbikgY2FuY2VsVG9rZW5bXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB3LnZhbHVlLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgdy5yZWxlYXNlKCk7XG4gICAgICAgICAgICBpZiAoZXYuZGF0YS5lcnIpIHJlamVjdChldi5kYXRhLmVycik7ZWxzZSByZXNvbHZlKGV2LmRhdGEucmVzdWx0KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdy52YWx1ZS5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBvcHRzOiBvcHRzLFxuICAgICAgICAgICAgZmVhdHVyZXM6IF90aGlzMi5fX3JlcXVlc3RlZF9mZWF0dXJlcyxcbiAgICAgICAgICAgIHByZWxvYWQ6IHtcbiAgICAgICAgICAgICAgd2FzbV9ub2R1bGU6IF90aGlzMi5fX21hdGhsaWIuX19cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBbb3B0cy5zcmMuYnVmZmVyXSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciB0aWxlQW5kUmVzaXplID0gZnVuY3Rpb24gdGlsZUFuZFJlc2l6ZShmcm9tLCB0bywgb3B0cykge1xuICAgICAgdmFyIHNyY0N0eDtcbiAgICAgIHZhciBzcmNJbWFnZUJpdG1hcDtcbiAgICAgIHZhciBpc0ltYWdlQml0bWFwUmV1c2VkID0gZmFsc2U7XG4gICAgICB2YXIgdG9DdHg7XG5cbiAgICAgIHZhciBwcm9jZXNzVGlsZSA9IGZ1bmN0aW9uIHByb2Nlc3NUaWxlKHRpbGUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5fX2xpbWl0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoY2FuY2VsZWQpIHJldHVybiBjYW5jZWxUb2tlbjtcbiAgICAgICAgICB2YXIgc3JjSW1hZ2VEYXRhOyAvLyBFeHRyYWN0IHRpbGUgUkdCQSBidWZmZXIsIGRlcGVuZGluZyBvbiBpbnB1dCB0eXBlXG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNDYW52YXMoZnJvbSkpIHtcbiAgICAgICAgICAgIF90aGlzMi5kZWJ1ZygnR2V0IHRpbGUgcGl4ZWwgZGF0YScpOyAvLyBJZiBpbnB1dCBpcyBDYW52YXMgLSBleHRyYWN0IHJlZ2lvbiBkYXRhIGRpcmVjdGx5XG5cblxuICAgICAgICAgICAgc3JjSW1hZ2VEYXRhID0gc3JjQ3R4LmdldEltYWdlRGF0YSh0aWxlLngsIHRpbGUueSwgdGlsZS53aWR0aCwgdGlsZS5oZWlnaHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBpbnB1dCBpcyBJbWFnZSBvciBkZWNvZGVkIHRvIEltYWdlQml0bWFwLFxuICAgICAgICAgICAgLy8gZHJhdyByZWdpb24gdG8gdGVtcG9yYXJ5IGNhbnZhcyBhbmQgZXh0cmFjdCBkYXRhIGZyb20gaXRcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBOb3RlISBBdHRlbXB0IHRvIHJldXNlIHRoaXMgY2FudmFzIGNhdXNlcyBzaWduaWZpY2FudCBzbG93ZG93biBpbiBjaHJvbWVcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBfdGhpczIuZGVidWcoJ0RyYXcgdGlsZSBpbWFnZUJpdG1hcC9pbWFnZSB0byB0ZW1wb3JhcnkgY2FudmFzJyk7XG5cbiAgICAgICAgICAgIHZhciB0bXBDYW52YXMgPSBfdGhpczIub3B0aW9ucy5jcmVhdGVDYW52YXModGlsZS53aWR0aCwgdGlsZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICB2YXIgdG1wQ3R4ID0gdG1wQ2FudmFzLmdldENvbnRleHQoJzJkJywge1xuICAgICAgICAgICAgICBhbHBoYTogQm9vbGVhbihvcHRzLmFscGhhKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0bXBDdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICAgICAgdG1wQ3R4LmRyYXdJbWFnZShzcmNJbWFnZUJpdG1hcCB8fCBmcm9tLCB0aWxlLngsIHRpbGUueSwgdGlsZS53aWR0aCwgdGlsZS5oZWlnaHQsIDAsIDAsIHRpbGUud2lkdGgsIHRpbGUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgX3RoaXMyLmRlYnVnKCdHZXQgdGlsZSBwaXhlbCBkYXRhJyk7XG5cbiAgICAgICAgICAgIHNyY0ltYWdlRGF0YSA9IHRtcEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgdGlsZS53aWR0aCwgdGlsZS5oZWlnaHQpOyAvLyBTYWZhcmkgMTIgd29ya2Fyb3VuZFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9waWNhL2lzc3Vlcy8xOTlcblxuICAgICAgICAgICAgdG1wQ2FudmFzLndpZHRoID0gdG1wQ2FudmFzLmhlaWdodCA9IDA7XG4gICAgICAgICAgICB0bXBDdHggPSB0bXBDYW52YXMgPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBvID0ge1xuICAgICAgICAgICAgc3JjOiBzcmNJbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICAgIHdpZHRoOiB0aWxlLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aWxlLmhlaWdodCxcbiAgICAgICAgICAgIHRvV2lkdGg6IHRpbGUudG9XaWR0aCxcbiAgICAgICAgICAgIHRvSGVpZ2h0OiB0aWxlLnRvSGVpZ2h0LFxuICAgICAgICAgICAgc2NhbGVYOiB0aWxlLnNjYWxlWCxcbiAgICAgICAgICAgIHNjYWxlWTogdGlsZS5zY2FsZVksXG4gICAgICAgICAgICBvZmZzZXRYOiB0aWxlLm9mZnNldFgsXG4gICAgICAgICAgICBvZmZzZXRZOiB0aWxlLm9mZnNldFksXG4gICAgICAgICAgICBxdWFsaXR5OiBvcHRzLnF1YWxpdHksXG4gICAgICAgICAgICBhbHBoYTogb3B0cy5hbHBoYSxcbiAgICAgICAgICAgIHVuc2hhcnBBbW91bnQ6IG9wdHMudW5zaGFycEFtb3VudCxcbiAgICAgICAgICAgIHVuc2hhcnBSYWRpdXM6IG9wdHMudW5zaGFycFJhZGl1cyxcbiAgICAgICAgICAgIHVuc2hhcnBUaHJlc2hvbGQ6IG9wdHMudW5zaGFycFRocmVzaG9sZFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBfdGhpczIuZGVidWcoJ0ludm9rZSByZXNpemUgbWF0aCcpO1xuXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZVJlc2l6ZShvKTtcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChjYW5jZWxlZCkgcmV0dXJuIGNhbmNlbFRva2VuO1xuICAgICAgICAgICAgc3JjSW1hZ2VEYXRhID0gbnVsbDtcbiAgICAgICAgICAgIHZhciB0b0ltYWdlRGF0YTtcblxuICAgICAgICAgICAgX3RoaXMyLmRlYnVnKCdDb252ZXJ0IHJhdyByZ2JhIHRpbGUgcmVzdWx0IHRvIEltYWdlRGF0YScpO1xuXG4gICAgICAgICAgICBpZiAoQ0FOX05FV19JTUFHRV9EQVRBKSB7XG4gICAgICAgICAgICAgIC8vIHRoaXMgYnJhbmNoIGlzIGZvciBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgICAgICAgLy8gSWYgYG5ldyBJbWFnZURhdGEoKWAgJiBVaW50OENsYW1wZWRBcnJheSBzdXBvcnRlZFxuICAgICAgICAgICAgICB0b0ltYWdlRGF0YSA9IG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHJlc3VsdCksIHRpbGUudG9XaWR0aCwgdGlsZS50b0hlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBmYWxsYmFjayBmb3IgYG5vZGUtY2FudmFzYCBhbmQgb2xkIGJyb3dzZXJzXG4gICAgICAgICAgICAgIC8vIChJRTExIGhhcyBJbWFnZURhdGEgYnV0IGRvZXMgbm90IHN1cHBvcnQgYG5ldyBJbWFnZURhdGEoKWApXG4gICAgICAgICAgICAgIHRvSW1hZ2VEYXRhID0gdG9DdHguY3JlYXRlSW1hZ2VEYXRhKHRpbGUudG9XaWR0aCwgdGlsZS50b0hlaWdodCk7XG5cbiAgICAgICAgICAgICAgaWYgKHRvSW1hZ2VEYXRhLmRhdGEuc2V0KSB7XG4gICAgICAgICAgICAgICAgdG9JbWFnZURhdGEuZGF0YS5zZXQocmVzdWx0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJRTkgZG9uJ3QgaGF2ZSBgLnNldCgpYFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0b0ltYWdlRGF0YS5kYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICB0b0ltYWdlRGF0YS5kYXRhW2ldID0gcmVzdWx0W2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczIuZGVidWcoJ0RyYXcgdGlsZScpO1xuXG4gICAgICAgICAgICBpZiAoTkVFRF9TQUZBUklfRklYKSB7XG4gICAgICAgICAgICAgIC8vIFNhZmFyaSBkcmF3cyB0aGluIHdoaXRlIHN0cmlwZXMgYmV0d2VlbiB0aWxlcyB3aXRob3V0IHRoaXMgZml4XG4gICAgICAgICAgICAgIHRvQ3R4LnB1dEltYWdlRGF0YSh0b0ltYWdlRGF0YSwgdGlsZS50b1gsIHRpbGUudG9ZLCB0aWxlLnRvSW5uZXJYIC0gdGlsZS50b1gsIHRpbGUudG9Jbm5lclkgLSB0aWxlLnRvWSwgdGlsZS50b0lubmVyV2lkdGggKyAxZS01LCB0aWxlLnRvSW5uZXJIZWlnaHQgKyAxZS01KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRvQ3R4LnB1dEltYWdlRGF0YSh0b0ltYWdlRGF0YSwgdGlsZS50b1gsIHRpbGUudG9ZLCB0aWxlLnRvSW5uZXJYIC0gdGlsZS50b1gsIHRpbGUudG9Jbm5lclkgLSB0aWxlLnRvWSwgdGlsZS50b0lubmVyV2lkdGgsIHRpbGUudG9Jbm5lckhlaWdodCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07IC8vIE5lZWQgdG8gbm9ybWFsaXplIGRhdGEgc291cmNlIGZpcnN0LiBJdCBjYW4gYmUgY2FudmFzIG9yIGltYWdlLlxuICAgICAgLy8gSWYgaW1hZ2UgLSB0cnkgdG8gZGVjb2RlIGluIGJhY2tncm91bmQgaWYgcG9zc2libGVcblxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRvQ3R4ID0gdG8uZ2V0Q29udGV4dCgnMmQnLCB7XG4gICAgICAgICAgYWxwaGE6IEJvb2xlYW4ob3B0cy5hbHBoYSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzQ2FudmFzKGZyb20pKSB7XG4gICAgICAgICAgc3JjQ3R4ID0gZnJvbS5nZXRDb250ZXh0KCcyZCcsIHtcbiAgICAgICAgICAgIGFscGhhOiBCb29sZWFuKG9wdHMuYWxwaGEpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNJbWFnZUJpdG1hcChmcm9tKSkge1xuICAgICAgICAgIHNyY0ltYWdlQml0bWFwID0gZnJvbTtcbiAgICAgICAgICBpc0ltYWdlQml0bWFwUmV1c2VkID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc0ltYWdlKGZyb20pKSB7XG4gICAgICAgICAgLy8gdHJ5IGRvIGRlY29kZSBpbWFnZSBpbiBiYWNrZ3JvdW5kIGZvciBmYXN0ZXIgbmV4dCBvcGVyYXRpb25zXG4gICAgICAgICAgaWYgKCFDQU5fQ1JFQVRFX0lNQUdFX0JJVE1BUCkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICBfdGhpczIuZGVidWcoJ0RlY29kZSBpbWFnZSB2aWEgY3JlYXRlSW1hZ2VCaXRtYXAnKTtcblxuICAgICAgICAgIHJldHVybiBjcmVhdGVJbWFnZUJpdG1hcChmcm9tKS50aGVuKGZ1bmN0aW9uIChpbWFnZUJpdG1hcCkge1xuICAgICAgICAgICAgc3JjSW1hZ2VCaXRtYXAgPSBpbWFnZUJpdG1hcDtcbiAgICAgICAgICB9KSAvLyBTdXBwcmVzcyBlcnJvciB0byB1c2UgZmFsbGJhY2ssIGlmIG1ldGhvZCBmYWlsc1xuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGljYS9pc3N1ZXMvMTkwXG5cbiAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuICAgICAgICAgIFtcImNhdGNoXCJdKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGljYTogXCIuZnJvbVwiIHNob3VsZCBiZSBJbWFnZSwgQ2FudmFzIG9yIEltYWdlQml0bWFwJyk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNhbmNlbGVkKSByZXR1cm4gY2FuY2VsVG9rZW47XG5cbiAgICAgICAgX3RoaXMyLmRlYnVnKCdDYWxjdWxhdGUgdGlsZXMnKTsgLy9cbiAgICAgICAgLy8gSGVyZSB3ZSBhcmUgd2l0aCBcIm5vcm1hbGl6ZWRcIiBzb3VyY2UsXG4gICAgICAgIC8vIGZvbGxvdyB0byB0aWxpbmdcbiAgICAgICAgLy9cblxuXG4gICAgICAgIHZhciByZWdpb25zID0gY3JlYXRlUmVnaW9ucyh7XG4gICAgICAgICAgd2lkdGg6IG9wdHMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBvcHRzLmhlaWdodCxcbiAgICAgICAgICBzcmNUaWxlU2l6ZTogX3RoaXMyLm9wdGlvbnMudGlsZSxcbiAgICAgICAgICB0b1dpZHRoOiBvcHRzLnRvV2lkdGgsXG4gICAgICAgICAgdG9IZWlnaHQ6IG9wdHMudG9IZWlnaHQsXG4gICAgICAgICAgZGVzdFRpbGVCb3JkZXI6IGRlc3RUaWxlQm9yZGVyXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgam9icyA9IHJlZ2lvbnMubWFwKGZ1bmN0aW9uICh0aWxlKSB7XG4gICAgICAgICAgcmV0dXJuIHByb2Nlc3NUaWxlKHRpbGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICAgIGlmIChzcmNJbWFnZUJpdG1hcCkge1xuICAgICAgICAgICAgaWYgKCFpc0ltYWdlQml0bWFwUmV1c2VkKSBzcmNJbWFnZUJpdG1hcC5jbG9zZSgpO1xuICAgICAgICAgICAgc3JjSW1hZ2VCaXRtYXAgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5kZWJ1ZygnUHJvY2VzcyB0aWxlcycpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChqb2JzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIuZGVidWcoJ0ZpbmlzaGVkIScpO1xuXG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBwcm9jZXNzU3RhZ2VzID0gZnVuY3Rpb24gcHJvY2Vzc1N0YWdlcyhzdGFnZXMsIGZyb20sIHRvLCBvcHRzKSB7XG4gICAgICBpZiAoY2FuY2VsZWQpIHJldHVybiBjYW5jZWxUb2tlbjtcblxuICAgICAgdmFyIF9zdGFnZXMkc2hpZnQgPSBzdGFnZXMuc2hpZnQoKSxcbiAgICAgICAgICBfc3RhZ2VzJHNoaWZ0MiA9IF9zbGljZWRUb0FycmF5KF9zdGFnZXMkc2hpZnQsIDIpLFxuICAgICAgICAgIHRvV2lkdGggPSBfc3RhZ2VzJHNoaWZ0MlswXSxcbiAgICAgICAgICB0b0hlaWdodCA9IF9zdGFnZXMkc2hpZnQyWzFdO1xuXG4gICAgICB2YXIgaXNMYXN0U3RhZ2UgPSBzdGFnZXMubGVuZ3RoID09PSAwO1xuICAgICAgb3B0cyA9IGFzc2lnbih7fSwgb3B0cywge1xuICAgICAgICB0b1dpZHRoOiB0b1dpZHRoLFxuICAgICAgICB0b0hlaWdodDogdG9IZWlnaHQsXG4gICAgICAgIC8vIG9ubHkgdXNlIHVzZXItZGVmaW5lZCBxdWFsaXR5IGZvciB0aGUgbGFzdCBzdGFnZSxcbiAgICAgICAgLy8gdXNlIHNpbXBsZXIgKEhhbW1pbmcpIGZpbHRlciBmb3IgdGhlIGZpcnN0IHN0YWdlcyB3aGVyZVxuICAgICAgICAvLyBzY2FsZSBmYWN0b3IgaXMgbGFyZ2UgZW5vdWdoIChtb3JlIHRoYW4gMi0zKVxuICAgICAgICBxdWFsaXR5OiBpc0xhc3RTdGFnZSA/IG9wdHMucXVhbGl0eSA6IE1hdGgubWluKDEsIG9wdHMucXVhbGl0eSlcbiAgICAgIH0pO1xuICAgICAgdmFyIHRtcENhbnZhcztcblxuICAgICAgaWYgKCFpc0xhc3RTdGFnZSkge1xuICAgICAgICAvLyBjcmVhdGUgdGVtcG9yYXJ5IGNhbnZhc1xuICAgICAgICB0bXBDYW52YXMgPSBfdGhpczIub3B0aW9ucy5jcmVhdGVDYW52YXModG9XaWR0aCwgdG9IZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGlsZUFuZFJlc2l6ZShmcm9tLCBpc0xhc3RTdGFnZSA/IHRvIDogdG1wQ2FudmFzLCBvcHRzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzTGFzdFN0YWdlKSByZXR1cm4gdG87XG4gICAgICAgIG9wdHMud2lkdGggPSB0b1dpZHRoO1xuICAgICAgICBvcHRzLmhlaWdodCA9IHRvSGVpZ2h0O1xuICAgICAgICByZXR1cm4gcHJvY2Vzc1N0YWdlcyhzdGFnZXMsIHRtcENhbnZhcywgdG8sIG9wdHMpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGlmICh0bXBDYW52YXMpIHtcbiAgICAgICAgICAvLyBTYWZhcmkgMTIgd29ya2Fyb3VuZFxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGljYS9pc3N1ZXMvMTk5XG4gICAgICAgICAgdG1wQ2FudmFzLndpZHRoID0gdG1wQ2FudmFzLmhlaWdodCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBzdGFnZXMgPSBjcmVhdGVTdGFnZXMob3B0cy53aWR0aCwgb3B0cy5oZWlnaHQsIG9wdHMudG9XaWR0aCwgb3B0cy50b0hlaWdodCwgX3RoaXMyLm9wdGlvbnMudGlsZSwgZGVzdFRpbGVCb3JkZXIpO1xuICAgIHJldHVybiBwcm9jZXNzU3RhZ2VzKHN0YWdlcywgZnJvbSwgdG8sIG9wdHMpO1xuICB9KTtcbn07IC8vIFJHQkEgYnVmZmVyIHJlc2l6ZVxuLy9cblxuXG5QaWNhLnByb3RvdHlwZS5yZXNpemVCdWZmZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgX3RoaXMzID0gdGhpcztcblxuICB2YXIgb3B0cyA9IGFzc2lnbih7fSwgREVGQVVMVF9SRVNJWkVfT1BUUywgb3B0aW9ucyk7XG4gIHJldHVybiB0aGlzLmluaXQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMzLl9fbWF0aGxpYi5yZXNpemVBbmRVbnNoYXJwKG9wdHMpO1xuICB9KTtcbn07XG5cblBpY2EucHJvdG90eXBlLnRvQmxvYiA9IGZ1bmN0aW9uIChjYW52YXMsIG1pbWVUeXBlLCBxdWFsaXR5KSB7XG4gIG1pbWVUeXBlID0gbWltZVR5cGUgfHwgJ2ltYWdlL3BuZyc7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIGlmIChjYW52YXMudG9CbG9iKSB7XG4gICAgICBjYW52YXMudG9CbG9iKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKGJsb2IpO1xuICAgICAgfSwgbWltZVR5cGUsIHF1YWxpdHkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjYW52YXMuY29udmVydFRvQmxvYikge1xuICAgICAgcmVzb2x2ZShjYW52YXMuY29udmVydFRvQmxvYih7XG4gICAgICAgIHR5cGU6IG1pbWVUeXBlLFxuICAgICAgICBxdWFsaXR5OiBxdWFsaXR5XG4gICAgICB9KSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBGYWxsYmFjayBmb3Igb2xkIGJyb3dzZXJzXG5cblxuICAgIHZhciBhc1N0cmluZyA9IGF0b2IoY2FudmFzLnRvRGF0YVVSTChtaW1lVHlwZSwgcXVhbGl0eSkuc3BsaXQoJywnKVsxXSk7XG4gICAgdmFyIGxlbiA9IGFzU3RyaW5nLmxlbmd0aDtcbiAgICB2YXIgYXNCdWZmZXIgPSBuZXcgVWludDhBcnJheShsZW4pO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXNCdWZmZXJbaV0gPSBhc1N0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cblxuICAgIHJlc29sdmUobmV3IEJsb2IoW2FzQnVmZmVyXSwge1xuICAgICAgdHlwZTogbWltZVR5cGVcbiAgICB9KSk7XG4gIH0pO1xufTtcblxuUGljYS5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbiAoKSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBQaWNhO1xuXG59LHtcIi4vbGliL21hdGhsaWJcIjoxLFwiLi9saWIvcG9vbFwiOjksXCIuL2xpYi9zdGVwcGVyXCI6MTAsXCIuL2xpYi90aWxlclwiOjExLFwiLi9saWIvdXRpbHNcIjoxMixcIi4vbGliL3dvcmtlclwiOjEzLFwib2JqZWN0LWFzc2lnblwiOjI0LFwid2Vid29ya2lmeVwiOjI1fV19LHt9LFtdKShcIi9pbmRleC5qc1wiKVxufSk7XG4iLCAiXG47KGZ1bmN0aW9uKCl7XG52YXIgVVBORyA9IHt9O1xuXG4vLyBNYWtlIGF2YWlsYWJsZSBmb3IgaW1wb3J0IGJ5IGByZXF1aXJlKClgXG52YXIgcGFrbztcbmlmICh0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIHttb2R1bGUuZXhwb3J0cyA9IFVQTkc7fSAgZWxzZSB7d2luZG93LlVQTkcgPSBVUE5HO31cbmlmICh0eXBlb2YgcmVxdWlyZSA9PSBcImZ1bmN0aW9uXCIpIHtwYWtvID0gcmVxdWlyZShcInBha29cIik7fSAgZWxzZSB7cGFrbyA9IHdpbmRvdy5wYWtvO31cbmZ1bmN0aW9uIGxvZygpIHsgaWYgKHR5cGVvZiBwcm9jZXNzPT1cInVuZGVmaW5lZFwiIHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WPT1cImRldmVsb3BtZW50XCIpIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7ICB9XG4oZnVuY3Rpb24oVVBORywgcGFrbyl7XG5cblx0XG5cblx0XG5cblVQTkcudG9SR0JBOCA9IGZ1bmN0aW9uKG91dClcbntcblx0dmFyIHcgPSBvdXQud2lkdGgsIGggPSBvdXQuaGVpZ2h0O1xuXHRpZihvdXQudGFicy5hY1RMPT1udWxsKSByZXR1cm4gW1VQTkcudG9SR0JBOC5kZWNvZGVJbWFnZShvdXQuZGF0YSwgdywgaCwgb3V0KS5idWZmZXJdO1xuXHRcblx0dmFyIGZybXMgPSBbXTtcblx0aWYob3V0LmZyYW1lc1swXS5kYXRhPT1udWxsKSBvdXQuZnJhbWVzWzBdLmRhdGEgPSBvdXQuZGF0YTtcblx0XG5cdHZhciBpbWcsIGVtcHR5ID0gbmV3IFVpbnQ4QXJyYXkodypoKjQpO1xuXHRmb3IodmFyIGk9MDsgaTxvdXQuZnJhbWVzLmxlbmd0aDsgaSsrKVxuXHR7XG5cdFx0dmFyIGZybSA9IG91dC5mcmFtZXNbaV07XG5cdFx0dmFyIGZ4PWZybS5yZWN0LngsIGZ5PWZybS5yZWN0LnksIGZ3ID0gZnJtLnJlY3Qud2lkdGgsIGZoID0gZnJtLnJlY3QuaGVpZ2h0O1xuXHRcdHZhciBmZGF0YSA9IFVQTkcudG9SR0JBOC5kZWNvZGVJbWFnZShmcm0uZGF0YSwgZncsZmgsIG91dCk7XG5cdFx0XG5cdFx0aWYoaT09MCkgaW1nID0gZmRhdGE7XG5cdFx0ZWxzZSBpZihmcm0uYmxlbmQgID09MCkgVVBORy5fY29weVRpbGUoZmRhdGEsIGZ3LCBmaCwgaW1nLCB3LCBoLCBmeCwgZnksIDApO1xuXHRcdGVsc2UgaWYoZnJtLmJsZW5kICA9PTEpIFVQTkcuX2NvcHlUaWxlKGZkYXRhLCBmdywgZmgsIGltZywgdywgaCwgZngsIGZ5LCAxKTtcblx0XHRcblx0XHRmcm1zLnB1c2goaW1nLmJ1ZmZlcik7ICBpbWcgPSBpbWcuc2xpY2UoMCk7XG5cdFx0XG5cdFx0aWYgICAgIChmcm0uZGlzcG9zZT09MCkge31cblx0XHRlbHNlIGlmKGZybS5kaXNwb3NlPT0xKSBVUE5HLl9jb3B5VGlsZShlbXB0eSwgZncsIGZoLCBpbWcsIHcsIGgsIGZ4LCBmeSwgMCk7XG5cdFx0ZWxzZSBpZihmcm0uZGlzcG9zZT09Mikge1xuXHRcdFx0dmFyIHBpID0gaS0xO1xuXHRcdFx0d2hpbGUob3V0LmZyYW1lc1twaV0uZGlzcG9zZT09MikgcGktLTtcblx0XHRcdGltZyA9IG5ldyBVaW50OEFycmF5KGZybXNbcGldKS5zbGljZSgwKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGZybXM7XG59XG5VUE5HLnRvUkdCQTguZGVjb2RlSW1hZ2UgPSBmdW5jdGlvbihkYXRhLCB3LCBoLCBvdXQpXG57XG5cdHZhciBhcmVhID0gdypoLCBicHAgPSBVUE5HLmRlY29kZS5fZ2V0QlBQKG91dCk7XG5cdHZhciBicGwgPSBNYXRoLmNlaWwodypicHAvOCk7XHQvLyBieXRlcyBwZXIgbGluZVxuXG5cdHZhciBiZiA9IG5ldyBVaW50OEFycmF5KGFyZWEqNCksIGJmMzIgPSBuZXcgVWludDMyQXJyYXkoYmYuYnVmZmVyKTtcblx0dmFyIGN0eXBlID0gb3V0LmN0eXBlLCBkZXB0aCA9IG91dC5kZXB0aDtcblx0dmFyIHJzID0gVVBORy5fYmluLnJlYWRVc2hvcnQ7XG5cdFxuXHQvL2NvbnNvbGUubG9nKGN0eXBlLCBkZXB0aCk7XG5cblx0aWYgICAgIChjdHlwZT09NikgeyAvLyBSR0IgKyBhbHBoYVxuXHRcdHZhciBxYXJlYSA9IGFyZWE8PDI7XG5cdFx0aWYoZGVwdGg9PSA4KSBmb3IodmFyIGk9MDsgaTxxYXJlYTtpKyspIHsgIGJmW2ldID0gZGF0YVtpXTsgIC8qaWYoKGkmMyk9PTMgJiYgZGF0YVtpXSE9MCkgYmZbaV09MjU1OyovIH1cblx0XHRpZihkZXB0aD09MTYpIGZvcih2YXIgaT0wOyBpPHFhcmVhO2krKykgeyAgYmZbaV0gPSBkYXRhW2k8PDFdOyAgfVxuXHR9XG5cdGVsc2UgaWYoY3R5cGU9PTIpIHtcdC8vIFJHQlxuXHRcdHZhciB0cz1vdXQudGFic1tcInRSTlNcIl0sIHRyPS0xLCB0Zz0tMSwgdGI9LTE7XG5cdFx0aWYodHMpIHsgIHRyPXRzWzBdOyAgdGc9dHNbMV07ICB0Yj10c1syXTsgIH1cblx0XHRpZihkZXB0aD09IDgpIGZvcih2YXIgaT0wOyBpPGFyZWE7IGkrKykgeyAgdmFyIHFpPWk8PDIsIHRpPWkqMzsgIGJmW3FpXSA9IGRhdGFbdGldOyAgYmZbcWkrMV0gPSBkYXRhW3RpKzFdOyAgYmZbcWkrMl0gPSBkYXRhW3RpKzJdOyAgYmZbcWkrM10gPSAyNTU7XG5cdFx0XHRpZih0ciE9LTEgJiYgZGF0YVt0aV0gICA9PXRyICYmIGRhdGFbdGkrMV0gICA9PXRnICYmIGRhdGFbdGkrMl0gICA9PXRiKSBiZltxaSszXSA9IDA7ICB9XG5cdFx0aWYoZGVwdGg9PTE2KSBmb3IodmFyIGk9MDsgaTxhcmVhOyBpKyspIHsgIHZhciBxaT1pPDwyLCB0aT1pKjY7ICBiZltxaV0gPSBkYXRhW3RpXTsgIGJmW3FpKzFdID0gZGF0YVt0aSsyXTsgIGJmW3FpKzJdID0gZGF0YVt0aSs0XTsgIGJmW3FpKzNdID0gMjU1O1xuXHRcdFx0aWYodHIhPS0xICYmIHJzKGRhdGEsdGkpPT10ciAmJiBycyhkYXRhLHRpKzIpPT10ZyAmJiBycyhkYXRhLHRpKzQpPT10YikgYmZbcWkrM10gPSAwOyAgfVxuXHR9XG5cdGVsc2UgaWYoY3R5cGU9PTMpIHtcdC8vIHBhbGV0dGVcblx0XHR2YXIgcD1vdXQudGFic1tcIlBMVEVcIl0sIGFwPW91dC50YWJzW1widFJOU1wiXSwgdGw9YXA/YXAubGVuZ3RoOjA7XG5cdFx0Ly9jb25zb2xlLmxvZyhwLCBhcCk7XG5cdFx0aWYoZGVwdGg9PTEpIGZvcih2YXIgeT0wOyB5PGg7IHkrKykgeyAgdmFyIHMwID0geSpicGwsIHQwID0geSp3O1xuXHRcdFx0Zm9yKHZhciBpPTA7IGk8dzsgaSsrKSB7IHZhciBxaT0odDAraSk8PDIsIGo9KChkYXRhW3MwKyhpPj4zKV0+Pig3LSgoaSY3KTw8MCkpKSYgMSksIGNqPTMqajsgIGJmW3FpXT1wW2NqXTsgIGJmW3FpKzFdPXBbY2orMV07ICBiZltxaSsyXT1wW2NqKzJdOyAgYmZbcWkrM109KGo8dGwpP2FwW2pdOjI1NTsgIH1cblx0XHR9XG5cdFx0aWYoZGVwdGg9PTIpIGZvcih2YXIgeT0wOyB5PGg7IHkrKykgeyAgdmFyIHMwID0geSpicGwsIHQwID0geSp3O1xuXHRcdFx0Zm9yKHZhciBpPTA7IGk8dzsgaSsrKSB7IHZhciBxaT0odDAraSk8PDIsIGo9KChkYXRhW3MwKyhpPj4yKV0+Pig2LSgoaSYzKTw8MSkpKSYgMyksIGNqPTMqajsgIGJmW3FpXT1wW2NqXTsgIGJmW3FpKzFdPXBbY2orMV07ICBiZltxaSsyXT1wW2NqKzJdOyAgYmZbcWkrM109KGo8dGwpP2FwW2pdOjI1NTsgIH1cblx0XHR9XG5cdFx0aWYoZGVwdGg9PTQpIGZvcih2YXIgeT0wOyB5PGg7IHkrKykgeyAgdmFyIHMwID0geSpicGwsIHQwID0geSp3O1xuXHRcdFx0Zm9yKHZhciBpPTA7IGk8dzsgaSsrKSB7IHZhciBxaT0odDAraSk8PDIsIGo9KChkYXRhW3MwKyhpPj4xKV0+Pig0LSgoaSYxKTw8MikpKSYxNSksIGNqPTMqajsgIGJmW3FpXT1wW2NqXTsgIGJmW3FpKzFdPXBbY2orMV07ICBiZltxaSsyXT1wW2NqKzJdOyAgYmZbcWkrM109KGo8dGwpP2FwW2pdOjI1NTsgIH1cblx0XHR9XG5cdFx0aWYoZGVwdGg9PTgpIGZvcih2YXIgaT0wOyBpPGFyZWE7IGkrKyApIHsgIHZhciBxaT1pPDwyLCBqPWRhdGFbaV0gICAgICAgICAgICAgICAgICAgICAgLCBjaj0zKmo7ICBiZltxaV09cFtjal07ICBiZltxaSsxXT1wW2NqKzFdOyAgYmZbcWkrMl09cFtjaisyXTsgIGJmW3FpKzNdPShqPHRsKT9hcFtqXToyNTU7ICB9XG5cdH1cblx0ZWxzZSBpZihjdHlwZT09NCkge1x0Ly8gZ3JheSArIGFscGhhXG5cdFx0aWYoZGVwdGg9PSA4KSAgZm9yKHZhciBpPTA7IGk8YXJlYTsgaSsrKSB7ICB2YXIgcWk9aTw8MiwgZGk9aTw8MSwgZ3I9ZGF0YVtkaV07ICBiZltxaV09Z3I7ICBiZltxaSsxXT1ncjsgIGJmW3FpKzJdPWdyOyAgYmZbcWkrM109ZGF0YVtkaSsxXTsgIH1cblx0XHRpZihkZXB0aD09MTYpICBmb3IodmFyIGk9MDsgaTxhcmVhOyBpKyspIHsgIHZhciBxaT1pPDwyLCBkaT1pPDwyLCBncj1kYXRhW2RpXTsgIGJmW3FpXT1ncjsgIGJmW3FpKzFdPWdyOyAgYmZbcWkrMl09Z3I7ICBiZltxaSszXT1kYXRhW2RpKzJdOyAgfVxuXHR9XG5cdGVsc2UgaWYoY3R5cGU9PTApIHtcdC8vIGdyYXlcblx0XHR2YXIgdHIgPSBvdXQudGFic1tcInRSTlNcIl0gPyBvdXQudGFic1tcInRSTlNcIl0gOiAtMTtcblx0XHRpZihkZXB0aD09IDEpIGZvcih2YXIgaT0wOyBpPGFyZWE7IGkrKykgeyAgdmFyIGdyPTI1NSooKGRhdGFbaT4+M10+Pig3IC0oKGkmNykgICApKSkmIDEpLCBhbD0oZ3I9PXRyKjI1NSk/MDoyNTU7ICBiZjMyW2ldPShhbDw8MjQpfChncjw8MTYpfChncjw8OCl8Z3I7ICB9XG5cdFx0aWYoZGVwdGg9PSAyKSBmb3IodmFyIGk9MDsgaTxhcmVhOyBpKyspIHsgIHZhciBncj0gODUqKChkYXRhW2k+PjJdPj4oNiAtKChpJjMpPDwxKSkpJiAzKSwgYWw9KGdyPT10ciogODUpPzA6MjU1OyAgYmYzMltpXT0oYWw8PDI0KXwoZ3I8PDE2KXwoZ3I8PDgpfGdyOyAgfVxuXHRcdGlmKGRlcHRoPT0gNCkgZm9yKHZhciBpPTA7IGk8YXJlYTsgaSsrKSB7ICB2YXIgZ3I9IDE3KigoZGF0YVtpPj4xXT4+KDQgLSgoaSYxKTw8MikpKSYxNSksIGFsPShncj09dHIqIDE3KT8wOjI1NTsgIGJmMzJbaV09KGFsPDwyNCl8KGdyPDwxNil8KGdyPDw4KXxncjsgIH1cblx0XHRpZihkZXB0aD09IDgpIGZvcih2YXIgaT0wOyBpPGFyZWE7IGkrKykgeyAgdmFyIGdyPWRhdGFbaSAgXSAsIGFsPShnciAgICAgICAgICAgPT10cik/MDoyNTU7ICBiZjMyW2ldPShhbDw8MjQpfChncjw8MTYpfChncjw8OCl8Z3I7ICB9XG5cdFx0aWYoZGVwdGg9PTE2KSBmb3IodmFyIGk9MDsgaTxhcmVhOyBpKyspIHsgIHZhciBncj1kYXRhW2k8PDFdLCBhbD0ocnMoZGF0YSxpPDwxKT09dHIpPzA6MjU1OyAgYmYzMltpXT0oYWw8PDI0KXwoZ3I8PDE2KXwoZ3I8PDgpfGdyOyAgfVxuXHR9XG5cdHJldHVybiBiZjtcbn1cblxuXG5cblVQTkcuZGVjb2RlID0gZnVuY3Rpb24oYnVmZilcbntcblx0dmFyIGRhdGEgPSBuZXcgVWludDhBcnJheShidWZmKSwgb2Zmc2V0ID0gOCwgYmluID0gVVBORy5fYmluLCByVXMgPSBiaW4ucmVhZFVzaG9ydCwgclVpID0gYmluLnJlYWRVaW50O1xuXHR2YXIgb3V0ID0ge3RhYnM6e30sIGZyYW1lczpbXX07XG5cdHZhciBkZCA9IG5ldyBVaW50OEFycmF5KGRhdGEubGVuZ3RoKSwgZG9mZiA9IDA7XHQgLy8gcHV0IGFsbCBJREFUIGRhdGEgaW50byBpdFxuXHR2YXIgZmQsIGZvZmYgPSAwO1x0Ly8gZnJhbWVzXG5cdFxuXHR2YXIgbWdjayA9IFsweDg5LCAweDUwLCAweDRlLCAweDQ3LCAweDBkLCAweDBhLCAweDFhLCAweDBhXTtcblx0Zm9yKHZhciBpPTA7IGk8ODsgaSsrKSBpZihkYXRhW2ldIT1tZ2NrW2ldKSB0aHJvdyBcIlRoZSBpbnB1dCBpcyBub3QgYSBQTkcgZmlsZSFcIjtcblxuXHR3aGlsZShvZmZzZXQ8ZGF0YS5sZW5ndGgpXG5cdHtcblx0XHR2YXIgbGVuICA9IGJpbi5yZWFkVWludChkYXRhLCBvZmZzZXQpOyAgb2Zmc2V0ICs9IDQ7XG5cdFx0dmFyIHR5cGUgPSBiaW4ucmVhZEFTQ0lJKGRhdGEsIG9mZnNldCwgNCk7ICBvZmZzZXQgKz0gNDtcblx0XHQvL2xvZyh0eXBlLGxlbik7XG5cdFx0XG5cdFx0aWYgICAgICh0eXBlPT1cIklIRFJcIikgIHsgIFVQTkcuZGVjb2RlLl9JSERSKGRhdGEsIG9mZnNldCwgb3V0KTsgIH1cblx0XHRlbHNlIGlmKHR5cGU9PVwiSURBVFwiKSB7XG5cdFx0XHRmb3IodmFyIGk9MDsgaTxsZW47IGkrKykgZGRbZG9mZitpXSA9IGRhdGFbb2Zmc2V0K2ldO1xuXHRcdFx0ZG9mZiArPSBsZW47XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJhY1RMXCIpICB7XG5cdFx0XHRvdXQudGFic1t0eXBlXSA9IHsgIG51bV9mcmFtZXM6clVpKGRhdGEsIG9mZnNldCksIG51bV9wbGF5czpyVWkoZGF0YSwgb2Zmc2V0KzQpICB9O1xuXHRcdFx0ZmQgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCk7XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJmY1RMXCIpICB7XG5cdFx0XHRpZihmb2ZmIT0wKSB7ICB2YXIgZnIgPSBvdXQuZnJhbWVzW291dC5mcmFtZXMubGVuZ3RoLTFdO1xuXHRcdFx0XHRmci5kYXRhID0gVVBORy5kZWNvZGUuX2RlY29tcHJlc3Mob3V0LCBmZC5zbGljZSgwLGZvZmYpLCBmci5yZWN0LndpZHRoLCBmci5yZWN0LmhlaWdodCk7ICBmb2ZmPTA7XG5cdFx0XHR9XG5cdFx0XHR2YXIgcmN0ID0ge3g6clVpKGRhdGEsIG9mZnNldCsxMikseTpyVWkoZGF0YSwgb2Zmc2V0KzE2KSx3aWR0aDpyVWkoZGF0YSwgb2Zmc2V0KzQpLGhlaWdodDpyVWkoZGF0YSwgb2Zmc2V0KzgpfTtcblx0XHRcdHZhciBkZWwgPSByVXMoZGF0YSwgb2Zmc2V0KzIyKTsgIGRlbCA9IHJVcyhkYXRhLCBvZmZzZXQrMjApIC8gKGRlbD09MD8xMDA6ZGVsKTtcblx0XHRcdHZhciBmcm0gPSB7cmVjdDpyY3QsIGRlbGF5Ok1hdGgucm91bmQoZGVsKjEwMDApLCBkaXNwb3NlOmRhdGFbb2Zmc2V0KzI0XSwgYmxlbmQ6ZGF0YVtvZmZzZXQrMjVdfTtcblx0XHRcdC8vY29uc29sZS5sb2coZnJtKTtcblx0XHRcdG91dC5mcmFtZXMucHVzaChmcm0pO1xuXHRcdH1cblx0XHRlbHNlIGlmKHR5cGU9PVwiZmRBVFwiKSB7XG5cdFx0XHRmb3IodmFyIGk9MDsgaTxsZW4tNDsgaSsrKSBmZFtmb2ZmK2ldID0gZGF0YVtvZmZzZXQraSs0XTtcblx0XHRcdGZvZmYgKz0gbGVuLTQ7XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJwSFlzXCIpIHtcblx0XHRcdG91dC50YWJzW3R5cGVdID0gW2Jpbi5yZWFkVWludChkYXRhLCBvZmZzZXQpLCBiaW4ucmVhZFVpbnQoZGF0YSwgb2Zmc2V0KzQpLCBkYXRhW29mZnNldCs4XV07XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJjSFJNXCIpIHtcblx0XHRcdG91dC50YWJzW3R5cGVdID0gW107XG5cdFx0XHRmb3IodmFyIGk9MDsgaTw4OyBpKyspIG91dC50YWJzW3R5cGVdLnB1c2goYmluLnJlYWRVaW50KGRhdGEsIG9mZnNldCtpKjQpKTtcblx0XHR9XG5cdFx0ZWxzZSBpZih0eXBlPT1cInRFWHRcIikge1xuXHRcdFx0aWYob3V0LnRhYnNbdHlwZV09PW51bGwpIG91dC50YWJzW3R5cGVdID0ge307XG5cdFx0XHR2YXIgbnogPSBiaW4ubmV4dFplcm8oZGF0YSwgb2Zmc2V0KTtcblx0XHRcdHZhciBrZXl3ID0gYmluLnJlYWRBU0NJSShkYXRhLCBvZmZzZXQsIG56LW9mZnNldCk7XG5cdFx0XHR2YXIgdGV4dCA9IGJpbi5yZWFkQVNDSUkoZGF0YSwgbnorMSwgb2Zmc2V0K2xlbi1uei0xKTtcblx0XHRcdG91dC50YWJzW3R5cGVdW2tleXddID0gdGV4dDtcblx0XHR9XG5cdFx0ZWxzZSBpZih0eXBlPT1cImlUWHRcIikge1xuXHRcdFx0aWYob3V0LnRhYnNbdHlwZV09PW51bGwpIG91dC50YWJzW3R5cGVdID0ge307XG5cdFx0XHR2YXIgbnogPSAwLCBvZmYgPSBvZmZzZXQ7XG5cdFx0XHRueiA9IGJpbi5uZXh0WmVybyhkYXRhLCBvZmYpO1xuXHRcdFx0dmFyIGtleXcgPSBiaW4ucmVhZEFTQ0lJKGRhdGEsIG9mZiwgbnotb2ZmKTsgIG9mZiA9IG56ICsgMTtcblx0XHRcdHZhciBjZmxhZyA9IGRhdGFbb2ZmXSwgY21ldGggPSBkYXRhW29mZisxXTsgIG9mZis9Mjtcblx0XHRcdG56ID0gYmluLm5leHRaZXJvKGRhdGEsIG9mZik7XG5cdFx0XHR2YXIgbHRhZyA9IGJpbi5yZWFkQVNDSUkoZGF0YSwgb2ZmLCBuei1vZmYpOyAgb2ZmID0gbnogKyAxO1xuXHRcdFx0bnogPSBiaW4ubmV4dFplcm8oZGF0YSwgb2ZmKTtcblx0XHRcdHZhciB0a2V5dyA9IGJpbi5yZWFkVVRGOChkYXRhLCBvZmYsIG56LW9mZik7ICBvZmYgPSBueiArIDE7XG5cdFx0XHR2YXIgdGV4dCAgPSBiaW4ucmVhZFVURjgoZGF0YSwgb2ZmLCBsZW4tKG9mZi1vZmZzZXQpKTtcblx0XHRcdG91dC50YWJzW3R5cGVdW2tleXddID0gdGV4dDtcblx0XHR9XG5cdFx0ZWxzZSBpZih0eXBlPT1cIlBMVEVcIikge1xuXHRcdFx0b3V0LnRhYnNbdHlwZV0gPSBiaW4ucmVhZEJ5dGVzKGRhdGEsIG9mZnNldCwgbGVuKTtcblx0XHR9XG5cdFx0ZWxzZSBpZih0eXBlPT1cImhJU1RcIikge1xuXHRcdFx0dmFyIHBsID0gb3V0LnRhYnNbXCJQTFRFXCJdLmxlbmd0aC8zO1xuXHRcdFx0b3V0LnRhYnNbdHlwZV0gPSBbXTsgIGZvcih2YXIgaT0wOyBpPHBsOyBpKyspIG91dC50YWJzW3R5cGVdLnB1c2goclVzKGRhdGEsIG9mZnNldCtpKjIpKTtcblx0XHR9XG5cdFx0ZWxzZSBpZih0eXBlPT1cInRSTlNcIikge1xuXHRcdFx0aWYgICAgIChvdXQuY3R5cGU9PTMpIG91dC50YWJzW3R5cGVdID0gYmluLnJlYWRCeXRlcyhkYXRhLCBvZmZzZXQsIGxlbik7XG5cdFx0XHRlbHNlIGlmKG91dC5jdHlwZT09MCkgb3V0LnRhYnNbdHlwZV0gPSByVXMoZGF0YSwgb2Zmc2V0KTtcblx0XHRcdGVsc2UgaWYob3V0LmN0eXBlPT0yKSBvdXQudGFic1t0eXBlXSA9IFsgclVzKGRhdGEsb2Zmc2V0KSxyVXMoZGF0YSxvZmZzZXQrMiksclVzKGRhdGEsb2Zmc2V0KzQpIF07XG5cdFx0XHQvL2Vsc2UgY29uc29sZS5sb2coXCJ0Uk5TIGZvciB1bnN1cHBvcnRlZCBjb2xvciB0eXBlXCIsb3V0LmN0eXBlLCBsZW4pO1xuXHRcdH1cblx0XHRlbHNlIGlmKHR5cGU9PVwiZ0FNQVwiKSBvdXQudGFic1t0eXBlXSA9IGJpbi5yZWFkVWludChkYXRhLCBvZmZzZXQpLzEwMDAwMDtcblx0XHRlbHNlIGlmKHR5cGU9PVwic1JHQlwiKSBvdXQudGFic1t0eXBlXSA9IGRhdGFbb2Zmc2V0XTtcblx0XHRlbHNlIGlmKHR5cGU9PVwiYktHRFwiKVxuXHRcdHtcblx0XHRcdGlmICAgICAob3V0LmN0eXBlPT0wIHx8IG91dC5jdHlwZT09NCkgb3V0LnRhYnNbdHlwZV0gPSBbclVzKGRhdGEsIG9mZnNldCldO1xuXHRcdFx0ZWxzZSBpZihvdXQuY3R5cGU9PTIgfHwgb3V0LmN0eXBlPT02KSBvdXQudGFic1t0eXBlXSA9IFtyVXMoZGF0YSwgb2Zmc2V0KSwgclVzKGRhdGEsIG9mZnNldCsyKSwgclVzKGRhdGEsIG9mZnNldCs0KV07XG5cdFx0XHRlbHNlIGlmKG91dC5jdHlwZT09Mykgb3V0LnRhYnNbdHlwZV0gPSBkYXRhW29mZnNldF07XG5cdFx0fVxuXHRcdGVsc2UgaWYodHlwZT09XCJJRU5EXCIpIHtcblx0XHRcdGlmKGZvZmYhPTApIHsgIHZhciBmciA9IG91dC5mcmFtZXNbb3V0LmZyYW1lcy5sZW5ndGgtMV07XG5cdFx0XHRcdGZyLmRhdGEgPSBVUE5HLmRlY29kZS5fZGVjb21wcmVzcyhvdXQsIGZkLnNsaWNlKDAsZm9mZiksIGZyLnJlY3Qud2lkdGgsIGZyLnJlY3QuaGVpZ2h0KTsgIGZvZmY9MDtcblx0XHRcdH1cdFxuXHRcdFx0b3V0LmRhdGEgPSBVUE5HLmRlY29kZS5fZGVjb21wcmVzcyhvdXQsIGRkLCBvdXQud2lkdGgsIG91dC5oZWlnaHQpOyAgYnJlYWs7XG5cdFx0fVxuXHRcdC8vZWxzZSB7ICBsb2coXCJ1bmtub3duIGNodW5rIHR5cGVcIiwgdHlwZSwgbGVuKTsgIH1cblx0XHRvZmZzZXQgKz0gbGVuO1xuXHRcdHZhciBjcmMgPSBiaW4ucmVhZFVpbnQoZGF0YSwgb2Zmc2V0KTsgIG9mZnNldCArPSA0O1xuXHR9XG5cdGRlbGV0ZSBvdXQuY29tcHJlc3M7ICBkZWxldGUgb3V0LmludGVybGFjZTsgIGRlbGV0ZSBvdXQuZmlsdGVyO1xuXHRyZXR1cm4gb3V0O1xufVxuXG5VUE5HLmRlY29kZS5fZGVjb21wcmVzcyA9IGZ1bmN0aW9uKG91dCwgZGQsIHcsIGgpIHtcblx0aWYob3V0LmNvbXByZXNzID09MCkgZGQgPSBVUE5HLmRlY29kZS5faW5mbGF0ZShkZCk7XG5cblx0aWYgICAgIChvdXQuaW50ZXJsYWNlPT0wKSBkZCA9IFVQTkcuZGVjb2RlLl9maWx0ZXJaZXJvKGRkLCBvdXQsIDAsIHcsIGgpO1xuXHRlbHNlIGlmKG91dC5pbnRlcmxhY2U9PTEpIGRkID0gVVBORy5kZWNvZGUuX3JlYWRJbnRlcmxhY2UoZGQsIG91dCk7XG5cdHJldHVybiBkZDtcbn1cblxuVVBORy5kZWNvZGUuX2luZmxhdGUgPSBmdW5jdGlvbihkYXRhKSB7ICByZXR1cm4gcGFrb1tcImluZmxhdGVcIl0oZGF0YSk7ICB9XG5cblVQTkcuZGVjb2RlLl9yZWFkSW50ZXJsYWNlID0gZnVuY3Rpb24oZGF0YSwgb3V0KVxue1xuXHR2YXIgdyA9IG91dC53aWR0aCwgaCA9IG91dC5oZWlnaHQ7XG5cdHZhciBicHAgPSBVUE5HLmRlY29kZS5fZ2V0QlBQKG91dCksIGNicHAgPSBicHA+PjMsIGJwbCA9IE1hdGguY2VpbCh3KmJwcC84KTtcblx0dmFyIGltZyA9IG5ldyBVaW50OEFycmF5KCBoICogYnBsICk7XG5cdHZhciBkaSA9IDA7XG5cblx0dmFyIHN0YXJ0aW5nX3JvdyAgPSBbIDAsIDAsIDQsIDAsIDIsIDAsIDEgXTtcblx0dmFyIHN0YXJ0aW5nX2NvbCAgPSBbIDAsIDQsIDAsIDIsIDAsIDEsIDAgXTtcblx0dmFyIHJvd19pbmNyZW1lbnQgPSBbIDgsIDgsIDgsIDQsIDQsIDIsIDIgXTtcblx0dmFyIGNvbF9pbmNyZW1lbnQgPSBbIDgsIDgsIDQsIDQsIDIsIDIsIDEgXTtcblxuXHR2YXIgcGFzcz0wO1xuXHR3aGlsZShwYXNzPDcpXG5cdHtcblx0XHR2YXIgcmkgPSByb3dfaW5jcmVtZW50W3Bhc3NdLCBjaSA9IGNvbF9pbmNyZW1lbnRbcGFzc107XG5cdFx0dmFyIHN3ID0gMCwgc2ggPSAwO1xuXHRcdHZhciBjciA9IHN0YXJ0aW5nX3Jvd1twYXNzXTsgIHdoaWxlKGNyPGgpIHsgIGNyKz1yaTsgIHNoKys7ICB9XG5cdFx0dmFyIGNjID0gc3RhcnRpbmdfY29sW3Bhc3NdOyAgd2hpbGUoY2M8dykgeyAgY2MrPWNpOyAgc3crKzsgIH1cblx0XHR2YXIgYnBsbCA9IE1hdGguY2VpbChzdypicHAvOCk7XG5cdFx0VVBORy5kZWNvZGUuX2ZpbHRlclplcm8oZGF0YSwgb3V0LCBkaSwgc3csIHNoKTtcblxuXHRcdHZhciB5PTAsIHJvdyA9IHN0YXJ0aW5nX3Jvd1twYXNzXTtcblx0XHR3aGlsZShyb3c8aClcblx0XHR7XG5cdFx0XHR2YXIgY29sID0gc3RhcnRpbmdfY29sW3Bhc3NdO1xuXHRcdFx0dmFyIGNkaSA9IChkaSt5KmJwbGwpPDwzO1xuXG5cdFx0XHR3aGlsZShjb2w8dylcblx0XHRcdHtcblx0XHRcdFx0aWYoYnBwPT0xKSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9IGRhdGFbY2RpPj4zXTsgIHZhbCA9ICh2YWw+Pig3LShjZGkmNykpKSYxO1xuXHRcdFx0XHRcdGltZ1tyb3cqYnBsICsgKGNvbD4+MyldIHw9ICh2YWwgPDwgKDctKChjb2wmMyk8PDApKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoYnBwPT0yKSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9IGRhdGFbY2RpPj4zXTsgIHZhbCA9ICh2YWw+Pig2LShjZGkmNykpKSYzO1xuXHRcdFx0XHRcdGltZ1tyb3cqYnBsICsgKGNvbD4+MildIHw9ICh2YWwgPDwgKDYtKChjb2wmMyk8PDEpKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoYnBwPT00KSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9IGRhdGFbY2RpPj4zXTsgIHZhbCA9ICh2YWw+Pig0LShjZGkmNykpKSYxNTtcblx0XHRcdFx0XHRpbWdbcm93KmJwbCArIChjb2w+PjEpXSB8PSAodmFsIDw8ICg0LSgoY29sJjEpPDwyKSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKGJwcD49OCkge1xuXHRcdFx0XHRcdHZhciBpaSA9IHJvdypicGwrY29sKmNicHA7XG5cdFx0XHRcdFx0Zm9yKHZhciBqPTA7IGo8Y2JwcDsgaisrKSBpbWdbaWkral0gPSBkYXRhWyhjZGk+PjMpK2pdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNkaSs9YnBwOyAgY29sKz1jaTtcblx0XHRcdH1cblx0XHRcdHkrKzsgIHJvdyArPSByaTtcblx0XHR9XG5cdFx0aWYoc3cqc2ghPTApIGRpICs9IHNoICogKDEgKyBicGxsKTtcblx0XHRwYXNzID0gcGFzcyArIDE7XG5cdH1cblx0cmV0dXJuIGltZztcbn1cblxuVVBORy5kZWNvZGUuX2dldEJQUCA9IGZ1bmN0aW9uKG91dCkge1xuXHR2YXIgbm9jID0gWzEsbnVsbCwzLDEsMixudWxsLDRdW291dC5jdHlwZV07XG5cdHJldHVybiBub2MgKiBvdXQuZGVwdGg7XG59XG5cblVQTkcuZGVjb2RlLl9maWx0ZXJaZXJvID0gZnVuY3Rpb24oZGF0YSwgb3V0LCBvZmYsIHcsIGgpXG57XG5cdHZhciBicHAgPSBVUE5HLmRlY29kZS5fZ2V0QlBQKG91dCksIGJwbCA9IE1hdGguY2VpbCh3KmJwcC84KSwgcGFldGggPSBVUE5HLmRlY29kZS5fcGFldGg7XG5cdGJwcCA9IE1hdGguY2VpbChicHAvOCk7XG5cblx0Zm9yKHZhciB5PTA7IHk8aDsgeSsrKSAge1xuXHRcdHZhciBpID0gb2ZmK3kqYnBsLCBkaSA9IGkreSsxO1xuXHRcdHZhciB0eXBlID0gZGF0YVtkaS0xXTtcblxuXHRcdGlmICAgICAodHlwZT09MCkgZm9yKHZhciB4PSAgMDsgeDxicGw7IHgrKykgZGF0YVtpK3hdID0gZGF0YVtkaSt4XTtcblx0XHRlbHNlIGlmKHR5cGU9PTEpIHtcblx0XHRcdGZvcih2YXIgeD0gIDA7IHg8YnBwOyB4KyspIGRhdGFbaSt4XSA9IGRhdGFbZGkreF07XG5cdFx0XHRmb3IodmFyIHg9YnBwOyB4PGJwbDsgeCsrKSBkYXRhW2kreF0gPSAoZGF0YVtkaSt4XSArIGRhdGFbaSt4LWJwcF0pJjI1NTtcblx0XHR9XG5cdFx0ZWxzZSBpZih5PT0wKSB7XG5cdFx0XHRmb3IodmFyIHg9ICAwOyB4PGJwcDsgeCsrKSBkYXRhW2kreF0gPSBkYXRhW2RpK3hdO1xuXHRcdFx0aWYodHlwZT09MikgZm9yKHZhciB4PWJwcDsgeDxicGw7IHgrKykgZGF0YVtpK3hdID0gKGRhdGFbZGkreF0pJjI1NTtcblx0XHRcdGlmKHR5cGU9PTMpIGZvcih2YXIgeD1icHA7IHg8YnBsOyB4KyspIGRhdGFbaSt4XSA9IChkYXRhW2RpK3hdICsgKGRhdGFbaSt4LWJwcF0+PjEpICkmMjU1O1xuXHRcdFx0aWYodHlwZT09NCkgZm9yKHZhciB4PWJwcDsgeDxicGw7IHgrKykgZGF0YVtpK3hdID0gKGRhdGFbZGkreF0gKyBwYWV0aChkYXRhW2kreC1icHBdLCAwLCAwKSApJjI1NTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRpZih0eXBlPT0yKSB7IGZvcih2YXIgeD0gIDA7IHg8YnBsOyB4KyspIGRhdGFbaSt4XSA9IChkYXRhW2RpK3hdICsgZGF0YVtpK3gtYnBsXSkmMjU1OyAgfVxuXG5cdFx0XHRpZih0eXBlPT0zKSB7IGZvcih2YXIgeD0gIDA7IHg8YnBwOyB4KyspIGRhdGFbaSt4XSA9IChkYXRhW2RpK3hdICsgKGRhdGFbaSt4LWJwbF0+PjEpKSYyNTU7XG5cdFx0XHQgICAgICAgICAgICAgIGZvcih2YXIgeD1icHA7IHg8YnBsOyB4KyspIGRhdGFbaSt4XSA9IChkYXRhW2RpK3hdICsgKChkYXRhW2kreC1icGxdK2RhdGFbaSt4LWJwcF0pPj4xKSApJjI1NTsgIH1cblxuXHRcdFx0aWYodHlwZT09NCkgeyBmb3IodmFyIHg9ICAwOyB4PGJwcDsgeCsrKSBkYXRhW2kreF0gPSAoZGF0YVtkaSt4XSArIHBhZXRoKDAsIGRhdGFbaSt4LWJwbF0sIDApKSYyNTU7XG5cdFx0XHRcdFx0XHQgIGZvcih2YXIgeD1icHA7IHg8YnBsOyB4KyspIGRhdGFbaSt4XSA9IChkYXRhW2RpK3hdICsgcGFldGgoZGF0YVtpK3gtYnBwXSwgZGF0YVtpK3gtYnBsXSwgZGF0YVtpK3gtYnBwLWJwbF0pICkmMjU1OyAgfVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxuVVBORy5kZWNvZGUuX3BhZXRoID0gZnVuY3Rpb24oYSxiLGMpXG57XG5cdHZhciBwID0gYStiLWMsIHBhID0gTWF0aC5hYnMocC1hKSwgcGIgPSBNYXRoLmFicyhwLWIpLCBwYyA9IE1hdGguYWJzKHAtYyk7XG5cdGlmIChwYSA8PSBwYiAmJiBwYSA8PSBwYykgIHJldHVybiBhO1xuXHRlbHNlIGlmIChwYiA8PSBwYykgIHJldHVybiBiO1xuXHRyZXR1cm4gYztcbn1cblxuVVBORy5kZWNvZGUuX0lIRFIgPSBmdW5jdGlvbihkYXRhLCBvZmZzZXQsIG91dClcbntcblx0dmFyIGJpbiA9IFVQTkcuX2Jpbjtcblx0b3V0LndpZHRoICA9IGJpbi5yZWFkVWludChkYXRhLCBvZmZzZXQpOyAgb2Zmc2V0ICs9IDQ7XG5cdG91dC5oZWlnaHQgPSBiaW4ucmVhZFVpbnQoZGF0YSwgb2Zmc2V0KTsgIG9mZnNldCArPSA0O1xuXHRvdXQuZGVwdGggICAgID0gZGF0YVtvZmZzZXRdOyAgb2Zmc2V0Kys7XG5cdG91dC5jdHlwZSAgICAgPSBkYXRhW29mZnNldF07ICBvZmZzZXQrKztcblx0b3V0LmNvbXByZXNzICA9IGRhdGFbb2Zmc2V0XTsgIG9mZnNldCsrO1xuXHRvdXQuZmlsdGVyICAgID0gZGF0YVtvZmZzZXRdOyAgb2Zmc2V0Kys7XG5cdG91dC5pbnRlcmxhY2UgPSBkYXRhW29mZnNldF07ICBvZmZzZXQrKztcbn1cblxuVVBORy5fYmluID0ge1xuXHRuZXh0WmVybyAgIDogZnVuY3Rpb24oZGF0YSxwKSAgeyAgd2hpbGUoZGF0YVtwXSE9MCkgcCsrOyAgcmV0dXJuIHA7ICB9LFxuXHRyZWFkVXNob3J0IDogZnVuY3Rpb24oYnVmZixwKSAgeyAgcmV0dXJuIChidWZmW3BdPDwgOCkgfCBidWZmW3ArMV07ICB9LFxuXHR3cml0ZVVzaG9ydDogZnVuY3Rpb24oYnVmZixwLG4peyAgYnVmZltwXSA9IChuPj44KSYyNTU7ICBidWZmW3ArMV0gPSBuJjI1NTsgIH0sXG5cdHJlYWRVaW50ICAgOiBmdW5jdGlvbihidWZmLHApICB7ICByZXR1cm4gKGJ1ZmZbcF0qKDI1NioyNTYqMjU2KSkgKyAoKGJ1ZmZbcCsxXTw8MTYpIHwgKGJ1ZmZbcCsyXTw8IDgpIHwgYnVmZltwKzNdKTsgIH0sXG5cdHdyaXRlVWludCAgOiBmdW5jdGlvbihidWZmLHAsbil7ICBidWZmW3BdPShuPj4yNCkmMjU1OyAgYnVmZltwKzFdPShuPj4xNikmMjU1OyAgYnVmZltwKzJdPShuPj44KSYyNTU7ICBidWZmW3ArM109biYyNTU7ICB9LFxuXHRyZWFkQVNDSUkgIDogZnVuY3Rpb24oYnVmZixwLGwpeyAgdmFyIHMgPSBcIlwiOyAgZm9yKHZhciBpPTA7IGk8bDsgaSsrKSBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmZltwK2ldKTsgIHJldHVybiBzOyAgICB9LFxuXHR3cml0ZUFTQ0lJIDogZnVuY3Rpb24oZGF0YSxwLHMpeyAgZm9yKHZhciBpPTA7IGk8cy5sZW5ndGg7IGkrKykgZGF0YVtwK2ldID0gcy5jaGFyQ29kZUF0KGkpOyAgfSxcblx0cmVhZEJ5dGVzICA6IGZ1bmN0aW9uKGJ1ZmYscCxsKXsgIHZhciBhcnIgPSBbXTsgICBmb3IodmFyIGk9MDsgaTxsOyBpKyspIGFyci5wdXNoKGJ1ZmZbcCtpXSk7ICAgcmV0dXJuIGFycjsgIH0sXG5cdHBhZCA6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4ubGVuZ3RoIDwgMiA/IFwiMFwiICsgbiA6IG47IH0sXG5cdHJlYWRVVEY4IDogZnVuY3Rpb24oYnVmZiwgcCwgbCkge1xuXHRcdHZhciBzID0gXCJcIiwgbnM7XG5cdFx0Zm9yKHZhciBpPTA7IGk8bDsgaSsrKSBzICs9IFwiJVwiICsgVVBORy5fYmluLnBhZChidWZmW3AraV0udG9TdHJpbmcoMTYpKTtcblx0XHR0cnkgeyAgbnMgPSBkZWNvZGVVUklDb21wb25lbnQocyk7IH1cblx0XHRjYXRjaChlKSB7ICByZXR1cm4gVVBORy5fYmluLnJlYWRBU0NJSShidWZmLCBwLCBsKTsgIH1cblx0XHRyZXR1cm4gIG5zO1xuXHR9XG59XG5VUE5HLl9jb3B5VGlsZSA9IGZ1bmN0aW9uKHNiLCBzdywgc2gsIHRiLCB0dywgdGgsIHhvZmYsIHlvZmYsIG1vZGUpXG57XG5cdHZhciB3ID0gTWF0aC5taW4oc3csdHcpLCBoID0gTWF0aC5taW4oc2gsdGgpO1xuXHR2YXIgc2k9MCwgdGk9MDtcblx0Zm9yKHZhciB5PTA7IHk8aDsgeSsrKVxuXHRcdGZvcih2YXIgeD0wOyB4PHc7IHgrKylcblx0XHR7XG5cdFx0XHRpZih4b2ZmPj0wICYmIHlvZmY+PTApIHsgIHNpID0gKHkqc3creCk8PDI7ICB0aSA9ICgoIHlvZmYreSkqdHcreG9mZit4KTw8MjsgIH1cblx0XHRcdGVsc2UgICAgICAgICAgICAgICAgICAgeyAgc2kgPSAoKC15b2ZmK3kpKnN3LXhvZmYreCk8PDI7ICB0aSA9ICh5KnR3K3gpPDwyOyAgfVxuXHRcdFx0XG5cdFx0XHRpZiAgICAgKG1vZGU9PTApIHsgIHRiW3RpXSA9IHNiW3NpXTsgIHRiW3RpKzFdID0gc2Jbc2krMV07ICB0Ylt0aSsyXSA9IHNiW3NpKzJdOyAgdGJbdGkrM10gPSBzYltzaSszXTsgIH1cblx0XHRcdGVsc2UgaWYobW9kZT09MSkge1xuXHRcdFx0XHR2YXIgZmEgPSBzYltzaSszXSooMS8yNTUpLCBmcj1zYltzaV0qZmEsIGZnPXNiW3NpKzFdKmZhLCBmYj1zYltzaSsyXSpmYTsgXG5cdFx0XHRcdHZhciBiYSA9IHRiW3RpKzNdKigxLzI1NSksIGJyPXRiW3RpXSpiYSwgYmc9dGJbdGkrMV0qYmEsIGJiPXRiW3RpKzJdKmJhOyBcblx0XHRcdFx0XG5cdFx0XHRcdHZhciBpZmE9MS1mYSwgb2EgPSBmYStiYSppZmEsIGlvYSA9IChvYT09MD8wOjEvb2EpO1xuXHRcdFx0XHR0Ylt0aSszXSA9IDI1NSpvYTsgIFxuXHRcdFx0XHR0Ylt0aSswXSA9IChmciticippZmEpKmlvYTsgIFxuXHRcdFx0XHR0Ylt0aSsxXSA9IChmZytiZyppZmEpKmlvYTsgICBcblx0XHRcdFx0dGJbdGkrMl0gPSAoZmIrYmIqaWZhKSppb2E7ICBcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYobW9kZT09Mil7XHQvLyBjb3B5IG9ubHkgZGlmZmVyZW5jZXMsIG90aGVyd2lzZSB6ZXJvXG5cdFx0XHRcdHZhciBmYSA9IHNiW3NpKzNdLCBmcj1zYltzaV0sIGZnPXNiW3NpKzFdLCBmYj1zYltzaSsyXTsgXG5cdFx0XHRcdHZhciBiYSA9IHRiW3RpKzNdLCBicj10Ylt0aV0sIGJnPXRiW3RpKzFdLCBiYj10Ylt0aSsyXTsgXG5cdFx0XHRcdGlmKGZhPT1iYSAmJiBmcj09YnIgJiYgZmc9PWJnICYmIGZiPT1iYikgeyAgdGJbdGldPTA7ICB0Ylt0aSsxXT0wOyAgdGJbdGkrMl09MDsgIHRiW3RpKzNdPTA7ICB9XG5cdFx0XHRcdGVsc2UgeyAgdGJbdGldPWZyOyAgdGJbdGkrMV09Zmc7ICB0Ylt0aSsyXT1mYjsgIHRiW3RpKzNdPWZhOyAgfVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihtb2RlPT0zKXtcdC8vIGNoZWNrIGlmIGNhbiBiZSBibGVuZGVkXG5cdFx0XHRcdHZhciBmYSA9IHNiW3NpKzNdLCBmcj1zYltzaV0sIGZnPXNiW3NpKzFdLCBmYj1zYltzaSsyXTsgXG5cdFx0XHRcdHZhciBiYSA9IHRiW3RpKzNdLCBicj10Ylt0aV0sIGJnPXRiW3RpKzFdLCBiYj10Ylt0aSsyXTsgXG5cdFx0XHRcdGlmKGZhPT1iYSAmJiBmcj09YnIgJiYgZmc9PWJnICYmIGZiPT1iYikgY29udGludWU7XG5cdFx0XHRcdC8vaWYoZmEhPTI1NSAmJiBiYSE9MCkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZihmYTwyMjAgJiYgYmE+MjApIHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdHJldHVybiB0cnVlO1xufVxuXG5cblxuVVBORy5lbmNvZGUgPSBmdW5jdGlvbihidWZzLCB3LCBoLCBwcywgZGVscywgZm9yYmlkUGx0ZSlcbntcblx0aWYocHM9PW51bGwpIHBzPTA7XG5cdGlmKGZvcmJpZFBsdGU9PW51bGwpIGZvcmJpZFBsdGUgPSBmYWxzZTtcblx0dmFyIGRhdGEgPSBuZXcgVWludDhBcnJheShidWZzWzBdLmJ5dGVMZW5ndGgqYnVmcy5sZW5ndGgrMTAwKTtcblx0dmFyIHdyPVsweDg5LCAweDUwLCAweDRlLCAweDQ3LCAweDBkLCAweDBhLCAweDFhLCAweDBhXTtcblx0Zm9yKHZhciBpPTA7IGk8ODsgaSsrKSBkYXRhW2ldPXdyW2ldO1xuXHR2YXIgb2Zmc2V0ID0gOCwgIGJpbiA9IFVQTkcuX2JpbiwgY3JjID0gVVBORy5jcmMuY3JjLCB3VWkgPSBiaW4ud3JpdGVVaW50LCB3VXMgPSBiaW4ud3JpdGVVc2hvcnQsIHdBcyA9IGJpbi53cml0ZUFTQ0lJO1xuXG5cdHZhciBuaW1nID0gVVBORy5lbmNvZGUuY29tcHJlc3NQTkcoYnVmcywgdywgaCwgcHMsIGZvcmJpZFBsdGUpO1xuXG5cdHdVaShkYXRhLG9mZnNldCwgMTMpOyAgICAgb2Zmc2V0Kz00O1xuXHR3QXMoZGF0YSxvZmZzZXQsXCJJSERSXCIpOyAgb2Zmc2V0Kz00O1xuXHR3VWkoZGF0YSxvZmZzZXQsdyk7ICBvZmZzZXQrPTQ7XG5cdHdVaShkYXRhLG9mZnNldCxoKTsgIG9mZnNldCs9NDtcblx0ZGF0YVtvZmZzZXRdID0gbmltZy5kZXB0aDsgIG9mZnNldCsrOyAgLy8gZGVwdGhcblx0ZGF0YVtvZmZzZXRdID0gbmltZy5jdHlwZTsgIG9mZnNldCsrOyAgLy8gY3R5cGVcblx0ZGF0YVtvZmZzZXRdID0gMDsgIG9mZnNldCsrOyAgLy8gY29tcHJlc3Ncblx0ZGF0YVtvZmZzZXRdID0gMDsgIG9mZnNldCsrOyAgLy8gZmlsdGVyXG5cdGRhdGFbb2Zmc2V0XSA9IDA7ICBvZmZzZXQrKzsgIC8vIGludGVybGFjZVxuXHR3VWkoZGF0YSxvZmZzZXQsY3JjKGRhdGEsb2Zmc2V0LTE3LDE3KSk7ICBvZmZzZXQrPTQ7IC8vIGNyY1xuXG5cdC8vIDkgYnl0ZXMgdG8gc2F5LCB0aGF0IGl0IGlzIHNSR0Jcblx0d1VpKGRhdGEsb2Zmc2V0LCAxKTsgICAgICBvZmZzZXQrPTQ7XG5cdHdBcyhkYXRhLG9mZnNldCxcInNSR0JcIik7ICBvZmZzZXQrPTQ7XG5cdGRhdGFbb2Zmc2V0XSA9IDE7ICBvZmZzZXQrKztcblx0d1VpKGRhdGEsb2Zmc2V0LGNyYyhkYXRhLG9mZnNldC01LDUpKTsgIG9mZnNldCs9NDsgLy8gY3JjXG5cblx0dmFyIGFuaW0gPSBidWZzLmxlbmd0aD4xO1xuXHRpZihhbmltKSB7XG5cdFx0d1VpKGRhdGEsb2Zmc2V0LCA4KTsgICAgICBvZmZzZXQrPTQ7XG5cdFx0d0FzKGRhdGEsb2Zmc2V0LFwiYWNUTFwiKTsgIG9mZnNldCs9NDtcblx0XHR3VWkoZGF0YSxvZmZzZXQsIGJ1ZnMubGVuZ3RoKTsgICAgICBvZmZzZXQrPTQ7XG5cdFx0d1VpKGRhdGEsb2Zmc2V0LCAwKTsgICAgICBvZmZzZXQrPTQ7XG5cdFx0d1VpKGRhdGEsb2Zmc2V0LGNyYyhkYXRhLG9mZnNldC0xMiwxMikpOyAgb2Zmc2V0Kz00OyAvLyBjcmNcblx0fVxuXG5cdGlmKG5pbWcuY3R5cGU9PTMpIHtcblx0XHR2YXIgZGwgPSBuaW1nLnBsdGUubGVuZ3RoO1xuXHRcdHdVaShkYXRhLG9mZnNldCwgZGwqMyk7ICBvZmZzZXQrPTQ7XG5cdFx0d0FzKGRhdGEsb2Zmc2V0LFwiUExURVwiKTsgIG9mZnNldCs9NDtcblx0XHRmb3IodmFyIGk9MDsgaTxkbDsgaSsrKXtcblx0XHRcdHZhciB0aT1pKjMsIGM9bmltZy5wbHRlW2ldLCByPShjKSYyNTUsIGc9KGM+PjgpJjI1NSwgYj0oYz4+MTYpJjI1NTtcblx0XHRcdGRhdGFbb2Zmc2V0K3RpKzBdPXI7ICBkYXRhW29mZnNldCt0aSsxXT1nOyAgZGF0YVtvZmZzZXQrdGkrMl09Yjtcblx0XHR9XG5cdFx0b2Zmc2V0Kz1kbCozO1xuXHRcdHdVaShkYXRhLG9mZnNldCxjcmMoZGF0YSxvZmZzZXQtZGwqMy00LGRsKjMrNCkpOyAgb2Zmc2V0Kz00OyAvLyBjcmNcblxuXHRcdGlmKG5pbWcuZ290QWxwaGEpIHtcblx0XHRcdHdVaShkYXRhLG9mZnNldCwgZGwpOyAgb2Zmc2V0Kz00O1xuXHRcdFx0d0FzKGRhdGEsb2Zmc2V0LFwidFJOU1wiKTsgIG9mZnNldCs9NDtcblx0XHRcdGZvcih2YXIgaT0wOyBpPGRsOyBpKyspICBkYXRhW29mZnNldCtpXT0obmltZy5wbHRlW2ldPj4yNCkmMjU1O1xuXHRcdFx0b2Zmc2V0Kz1kbDtcblx0XHRcdHdVaShkYXRhLG9mZnNldCxjcmMoZGF0YSxvZmZzZXQtZGwtNCxkbCs0KSk7ICBvZmZzZXQrPTQ7IC8vIGNyY1xuXHRcdH1cblx0fVxuXHRcblx0dmFyIGZpID0gMDtcblx0Zm9yKHZhciBqPTA7IGo8bmltZy5mcmFtZXMubGVuZ3RoOyBqKyspXG5cdHtcblx0XHR2YXIgZnIgPSBuaW1nLmZyYW1lc1tqXTtcblx0XHRpZihhbmltKSB7XG5cdFx0XHR3VWkoZGF0YSxvZmZzZXQsIDI2KTsgICAgIG9mZnNldCs9NDtcblx0XHRcdHdBcyhkYXRhLG9mZnNldCxcImZjVExcIik7ICBvZmZzZXQrPTQ7XG5cdFx0XHR3VWkoZGF0YSwgb2Zmc2V0LCBmaSsrKTsgICBvZmZzZXQrPTQ7XG5cdFx0XHR3VWkoZGF0YSwgb2Zmc2V0LCBmci5yZWN0LndpZHRoICk7ICAgb2Zmc2V0Kz00O1xuXHRcdFx0d1VpKGRhdGEsIG9mZnNldCwgZnIucmVjdC5oZWlnaHQpOyAgIG9mZnNldCs9NDtcblx0XHRcdHdVaShkYXRhLCBvZmZzZXQsIGZyLnJlY3QueCk7ICAgb2Zmc2V0Kz00O1xuXHRcdFx0d1VpKGRhdGEsIG9mZnNldCwgZnIucmVjdC55KTsgICBvZmZzZXQrPTQ7XG5cdFx0XHR3VXMoZGF0YSwgb2Zmc2V0LCBkZWxzW2pdKTsgICBvZmZzZXQrPTI7XG5cdFx0XHR3VXMoZGF0YSwgb2Zmc2V0LCAgMTAwMCk7ICAgb2Zmc2V0Kz0yO1xuXHRcdFx0ZGF0YVtvZmZzZXRdID0gZnIuZGlzcG9zZTsgIG9mZnNldCsrO1x0Ly8gZGlzcG9zZVxuXHRcdFx0ZGF0YVtvZmZzZXRdID0gZnIuYmxlbmQgIDsgIG9mZnNldCsrO1x0Ly8gYmxlbmRcblx0XHRcdHdVaShkYXRhLG9mZnNldCxjcmMoZGF0YSxvZmZzZXQtMzAsMzApKTsgIG9mZnNldCs9NDsgLy8gY3JjXG5cdFx0fVxuXHRcdFx0XHRcblx0XHR2YXIgaW1nZCA9IGZyLmNpbWcsIGRsID0gaW1nZC5sZW5ndGg7XG5cdFx0d1VpKGRhdGEsb2Zmc2V0LCBkbCsoaj09MD8wOjQpKTsgICAgIG9mZnNldCs9NDtcblx0XHR2YXIgaW9mZiA9IG9mZnNldDtcblx0XHR3QXMoZGF0YSxvZmZzZXQsKGo9PTApP1wiSURBVFwiOlwiZmRBVFwiKTsgIG9mZnNldCs9NDtcblx0XHRpZihqIT0wKSB7ICB3VWkoZGF0YSwgb2Zmc2V0LCBmaSsrKTsgIG9mZnNldCs9NDsgIH1cblx0XHRmb3IodmFyIGk9MDsgaTxkbDsgaSsrKSBkYXRhW29mZnNldCtpXSA9IGltZ2RbaV07XG5cdFx0b2Zmc2V0ICs9IGRsO1xuXHRcdHdVaShkYXRhLG9mZnNldCxjcmMoZGF0YSxpb2ZmLG9mZnNldC1pb2ZmKSk7ICBvZmZzZXQrPTQ7IC8vIGNyY1xuXHR9XG5cblx0d1VpKGRhdGEsb2Zmc2V0LCAwKTsgICAgIG9mZnNldCs9NDtcblx0d0FzKGRhdGEsb2Zmc2V0LFwiSUVORFwiKTsgIG9mZnNldCs9NDtcblx0d1VpKGRhdGEsb2Zmc2V0LGNyYyhkYXRhLG9mZnNldC00LDQpKTsgIG9mZnNldCs9NDsgLy8gY3JjXG5cblx0cmV0dXJuIGRhdGEuYnVmZmVyLnNsaWNlKDAsb2Zmc2V0KTtcbn1cblxuVVBORy5lbmNvZGUuY29tcHJlc3NQTkcgPSBmdW5jdGlvbihidWZzLCB3LCBoLCBwcywgZm9yYmlkUGx0ZSlcbntcblx0dmFyIG91dCA9IFVQTkcuZW5jb2RlLmNvbXByZXNzKGJ1ZnMsIHcsIGgsIHBzLCBmYWxzZSwgZm9yYmlkUGx0ZSk7XG5cdGZvcih2YXIgaT0wOyBpPGJ1ZnMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgZnJtID0gb3V0LmZyYW1lc1tpXSwgbnc9ZnJtLnJlY3Qud2lkdGgsIG5oPWZybS5yZWN0LmhlaWdodCwgYnBsPWZybS5icGwsIGJwcD1mcm0uYnBwO1xuXHRcdHZhciBmZGF0YSA9IG5ldyBVaW50OEFycmF5KG5oKmJwbCtuaCk7XG5cdFx0ZnJtLmNpbWcgPSBVUE5HLmVuY29kZS5fZmlsdGVyWmVybyhmcm0uaW1nLG5oLGJwcCxicGwsZmRhdGEpO1xuXHR9XHRcblx0cmV0dXJuIG91dDtcbn1cblxuVVBORy5lbmNvZGUuY29tcHJlc3MgPSBmdW5jdGlvbihidWZzLCB3LCBoLCBwcywgZm9yR0lGLCBmb3JiaWRQbHRlKVxue1xuXHRpZihmb3JiaWRQbHRlPT1udWxsKSBmb3JiaWRQbHRlID0gZmFsc2U7XG5cdFxuXHR2YXIgY3R5cGUgPSA2LCBkZXB0aCA9IDgsIGJwcCA9IDQsIGFscGhhQW5kPTI1NVxuXHRcblx0Zm9yKHZhciBqPTA7IGo8YnVmcy5sZW5ndGg7IGorKykgIHsgIC8vIHdoZW4gbm90IHF1YW50aXplZCwgb3RoZXIgZnJhbWVzIGNhbiBjb250YWluIGNvbG9ycywgdGhhdCBhcmUgbm90IGluIGFuIGluaXRpYWwgZnJhbWVcblx0XHR2YXIgaW1nID0gbmV3IFVpbnQ4QXJyYXkoYnVmc1tqXSksIGlsZW4gPSBpbWcubGVuZ3RoO1xuXHRcdGZvcih2YXIgaT0wOyBpPGlsZW47IGkrPTQpIGFscGhhQW5kICY9IGltZ1tpKzNdO1xuXHR9XG5cdHZhciBnb3RBbHBoYSA9IChhbHBoYUFuZCkhPTI1NTtcblx0XG5cdHZhciBjbWFwPXt9LCBwbHRlPVtdOyAgaWYoYnVmcy5sZW5ndGghPTApIHsgIGNtYXBbMF09MDsgIHBsdGUucHVzaCgwKTsgIGlmKHBzIT0wKSBwcy0tOyAgfSBcblx0XG5cdFxuXHRpZihwcyE9MCkge1xuXHRcdHZhciBxcmVzID0gVVBORy5xdWFudGl6ZShidWZzLCBwcywgZm9yR0lGKTsgIGJ1ZnMgPSBxcmVzLmJ1ZnM7XG5cdFx0Zm9yKHZhciBpPTA7IGk8cXJlcy5wbHRlLmxlbmd0aDsgaSsrKSB7ICB2YXIgYz1xcmVzLnBsdGVbaV0uZXN0LnJnYmE7ICBpZihjbWFwW2NdPT1udWxsKSB7ICBjbWFwW2NdPXBsdGUubGVuZ3RoOyAgcGx0ZS5wdXNoKGMpOyAgfSAgICAgfVxuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIHdoYXQgaWYgcHM9PTAsIGJ1dCB0aGVyZSBhcmUgPD0yNTYgY29sb3JzPyAgd2Ugc3RpbGwgbmVlZCB0byBkZXRlY3QsIGlmIHRoZSBwYWxldHRlIGNvdWxkIGJlIHVzZWRcblx0XHRmb3IodmFyIGo9MDsgajxidWZzLmxlbmd0aDsgaisrKSAgeyAgLy8gd2hlbiBub3QgcXVhbnRpemVkLCBvdGhlciBmcmFtZXMgY2FuIGNvbnRhaW4gY29sb3JzLCB0aGF0IGFyZSBub3QgaW4gYW4gaW5pdGlhbCBmcmFtZVxuXHRcdFx0dmFyIGltZzMyID0gbmV3IFVpbnQzMkFycmF5KGJ1ZnNbal0pLCBpbGVuID0gaW1nMzIubGVuZ3RoO1xuXHRcdFx0Zm9yKHZhciBpPTA7IGk8aWxlbjsgaSsrKSB7XG5cdFx0XHRcdHZhciBjID0gaW1nMzJbaV07XG5cdFx0XHRcdGlmKChpPHcgfHwgKGMhPWltZzMyW2ktMV0gJiYgYyE9aW1nMzJbaS13XSkpICYmIGNtYXBbY109PW51bGwpIHsgIGNtYXBbY109cGx0ZS5sZW5ndGg7ICBwbHRlLnB1c2goYyk7ICBpZihwbHRlLmxlbmd0aD49MzAwKSBicmVhazsgIH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHZhciBicnV0ZSA9IGdvdEFscGhhID8gZm9yR0lGIDogZmFsc2U7XHRcdC8vIGJydXRlIDogZnJhbWVzIGNhbiBvbmx5IGJlIGNvcGllZCwgbm90IFwiYmxlbmRlZFwiXG5cdHZhciBjYz1wbHRlLmxlbmd0aDsgIC8vY29uc29sZS5sb2coY2MpO1xuXHRpZihjYzw9MjU2ICYmIGZvcmJpZFBsdGU9PWZhbHNlKSB7XG5cdFx0aWYoY2M8PSAyKSBkZXB0aD0xOyAgZWxzZSBpZihjYzw9IDQpIGRlcHRoPTI7ICBlbHNlIGlmKGNjPD0xNikgZGVwdGg9NDsgIGVsc2UgZGVwdGg9ODtcblx0XHRpZihmb3JHSUYpIGRlcHRoPTg7XG5cdFx0Z290QWxwaGEgPSB0cnVlO1xuXHR9XG5cdFxuXHRcblx0dmFyIGZybXMgPSBbXTtcblx0Zm9yKHZhciBqPTA7IGo8YnVmcy5sZW5ndGg7IGorKylcblx0e1xuXHRcdHZhciBjaW1nID0gbmV3IFVpbnQ4QXJyYXkoYnVmc1tqXSksIGNpbWczMiA9IG5ldyBVaW50MzJBcnJheShjaW1nLmJ1ZmZlcik7XG5cdFx0XG5cdFx0dmFyIG54PTAsIG55PTAsIG53PXcsIG5oPWgsIGJsZW5kPTA7XG5cdFx0aWYoaiE9MCAmJiAhYnJ1dGUpIHtcblx0XHRcdHZhciB0bGltID0gKGZvckdJRiB8fCBqPT0xIHx8IGZybXNbZnJtcy5sZW5ndGgtMl0uZGlzcG9zZT09Mik/MToyLCB0c3RwID0gMCwgdGFyZWEgPSAxZTk7XG5cdFx0XHRmb3IodmFyIGl0PTA7IGl0PHRsaW07IGl0KyspXG5cdFx0XHR7XG5cdFx0XHRcdHZhciBwaW1nID0gbmV3IFVpbnQ4QXJyYXkoYnVmc1tqLTEtaXRdKSwgcDMyID0gbmV3IFVpbnQzMkFycmF5KGJ1ZnNbai0xLWl0XSk7XG5cdFx0XHRcdHZhciBtaXg9dyxtaXk9aCxtYXg9LTEsbWF5PS0xO1xuXHRcdFx0XHRmb3IodmFyIHk9MDsgeTxoOyB5KyspIGZvcih2YXIgeD0wOyB4PHc7IHgrKykge1xuXHRcdFx0XHRcdHZhciBpID0geSp3K3g7XG5cdFx0XHRcdFx0aWYoY2ltZzMyW2ldIT1wMzJbaV0pIHtcblx0XHRcdFx0XHRcdGlmKHg8bWl4KSBtaXg9eDsgIGlmKHg+bWF4KSBtYXg9eDtcblx0XHRcdFx0XHRcdGlmKHk8bWl5KSBtaXk9eTsgIGlmKHk+bWF5KSBtYXk9eTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIHNhcmVhID0gKG1heD09LTEpID8gMSA6IChtYXgtbWl4KzEpKihtYXktbWl5KzEpO1xuXHRcdFx0XHRpZihzYXJlYTx0YXJlYSkge1xuXHRcdFx0XHRcdHRhcmVhID0gc2FyZWE7ICB0c3RwID0gaXQ7ICBcblx0XHRcdFx0XHRpZihtYXg9PS0xKSB7ICBueD1ueT0wOyAgbnc9bmg9MTsgIH1cblx0XHRcdFx0XHRlbHNlIHsgIG54ID0gbWl4OyBueSA9IG1peTsgbncgPSBtYXgtbWl4KzE7IG5oID0gbWF5LW1peSsxOyAgfVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHZhciBwaW1nID0gbmV3IFVpbnQ4QXJyYXkoYnVmc1tqLTEtdHN0cF0pO1xuXHRcdFx0aWYodHN0cD09MSkgZnJtc1tmcm1zLmxlbmd0aC0xXS5kaXNwb3NlID0gMjtcblx0XHRcdFxuXHRcdFx0dmFyIG5pbWcgPSBuZXcgVWludDhBcnJheShudypuaCo0KSwgbmltZzMyID0gbmV3IFVpbnQzMkFycmF5KG5pbWcuYnVmZmVyKTtcblx0XHRcdFVQTkcuICAgX2NvcHlUaWxlKHBpbWcsdyxoLCBuaW1nLG53LG5oLCAtbngsLW55LCAwKTtcblx0XHRcdGlmKFVQTkcuX2NvcHlUaWxlKGNpbWcsdyxoLCBuaW1nLG53LG5oLCAtbngsLW55LCAzKSkge1xuXHRcdFx0XHRVUE5HLl9jb3B5VGlsZShjaW1nLHcsaCwgbmltZyxudyxuaCwgLW54LC1ueSwgMik7ICBibGVuZCA9IDE7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0VVBORy5fY29weVRpbGUoY2ltZyx3LGgsIG5pbWcsbncsbmgsIC1ueCwtbnksIDApOyAgYmxlbmQgPSAwO1xuXHRcdFx0fVxuXHRcdFx0Y2ltZyA9IG5pbWc7ICBjaW1nMzIgPSBuZXcgVWludDMyQXJyYXkoY2ltZy5idWZmZXIpO1xuXHRcdH1cblx0XHR2YXIgYnBsID0gNCpudztcblx0XHRpZihjYzw9MjU2ICYmIGZvcmJpZFBsdGU9PWZhbHNlKSB7XG5cdFx0XHRicGwgPSBNYXRoLmNlaWwoZGVwdGgqbncvOCk7XG5cdFx0XHR2YXIgbmltZyA9IG5ldyBVaW50OEFycmF5KGJwbCpuaCk7XG5cdFx0XHRmb3IodmFyIHk9MDsgeTxuaDsgeSsrKSB7ICB2YXIgaT15KmJwbCwgaWk9eSpudztcblx0XHRcdFx0aWYgICAgIChkZXB0aD09OCkgZm9yKHZhciB4PTA7IHg8bnc7IHgrKykgbmltZ1tpKyh4KSAgIF0gICA9ICAoY21hcFtjaW1nMzJbaWkreF1dICAgICAgICAgICAgICk7XG5cdFx0XHRcdGVsc2UgaWYoZGVwdGg9PTQpIGZvcih2YXIgeD0wOyB4PG53OyB4KyspIG5pbWdbaSsoeD4+MSldICB8PSAgKGNtYXBbY2ltZzMyW2lpK3hdXTw8KDQtKHgmMSkqNCkpO1xuXHRcdFx0XHRlbHNlIGlmKGRlcHRoPT0yKSBmb3IodmFyIHg9MDsgeDxudzsgeCsrKSBuaW1nW2krKHg+PjIpXSAgfD0gIChjbWFwW2NpbWczMltpaSt4XV08PCg2LSh4JjMpKjIpKTtcblx0XHRcdFx0ZWxzZSBpZihkZXB0aD09MSkgZm9yKHZhciB4PTA7IHg8bnc7IHgrKykgbmltZ1tpKyh4Pj4zKV0gIHw9ICAoY21hcFtjaW1nMzJbaWkreF1dPDwoNy0oeCY3KSoxKSk7XG5cdFx0XHR9XG5cdFx0XHRjaW1nPW5pbWc7ICBjdHlwZT0zOyAgYnBwPTE7XG5cdFx0fVxuXHRcdGVsc2UgaWYoZ290QWxwaGE9PWZhbHNlICYmIGJ1ZnMubGVuZ3RoPT0xKSB7XHQvLyBzb21lIG5leHQgXCJyZWR1Y2VkXCIgZnJhbWVzIG1heSBjb250YWluIGFscGhhIGZvciBibGVuZGluZ1xuXHRcdFx0dmFyIG5pbWcgPSBuZXcgVWludDhBcnJheShudypuaCozKSwgYXJlYT1udypuaDtcblx0XHRcdGZvcih2YXIgaT0wOyBpPGFyZWE7IGkrKykgeyB2YXIgdGk9aSozLCBxaT1pKjQ7ICBuaW1nW3RpXT1jaW1nW3FpXTsgIG5pbWdbdGkrMV09Y2ltZ1txaSsxXTsgIG5pbWdbdGkrMl09Y2ltZ1txaSsyXTsgIH1cblx0XHRcdGNpbWc9bmltZzsgIGN0eXBlPTI7ICBicHA9MzsgIGJwbD0zKm53O1xuXHRcdH1cblx0XHRmcm1zLnB1c2goe3JlY3Q6e3g6bngseTpueSx3aWR0aDpudyxoZWlnaHQ6bmh9LCBpbWc6Y2ltZywgYnBsOmJwbCwgYnBwOmJwcCwgYmxlbmQ6YmxlbmQsIGRpc3Bvc2U6YnJ1dGU/MTowfSk7XG5cdH1cblx0cmV0dXJuIHtjdHlwZTpjdHlwZSwgZGVwdGg6ZGVwdGgsIHBsdGU6cGx0ZSwgZ290QWxwaGE6Z290QWxwaGEsIGZyYW1lczpmcm1zICB9O1xufVxuXG5VUE5HLmVuY29kZS5fZmlsdGVyWmVybyA9IGZ1bmN0aW9uKGltZyxoLGJwcCxicGwsZGF0YSlcbntcblx0dmFyIGZscyA9IFtdO1xuXHRmb3IodmFyIHQ9MDsgdDw1OyB0KyspIHsgIGlmKGgqYnBsPjUwMDAwMCAmJiAodD09MiB8fCB0PT0zIHx8IHQ9PTQpKSBjb250aW51ZTtcblx0XHRmb3IodmFyIHk9MDsgeTxoOyB5KyspIFVQTkcuZW5jb2RlLl9maWx0ZXJMaW5lKGRhdGEsIGltZywgeSwgYnBsLCBicHAsIHQpO1xuXHRcdGZscy5wdXNoKHBha29bXCJkZWZsYXRlXCJdKGRhdGEpKTsgIGlmKGJwcD09MSkgYnJlYWs7XG5cdH1cblx0dmFyIHRpLCB0c2l6ZT0xZTk7XG5cdGZvcih2YXIgaT0wOyBpPGZscy5sZW5ndGg7IGkrKykgaWYoZmxzW2ldLmxlbmd0aDx0c2l6ZSkgeyAgdGk9aTsgIHRzaXplPWZsc1tpXS5sZW5ndGg7ICB9XG5cdHJldHVybiBmbHNbdGldO1xufVxuVVBORy5lbmNvZGUuX2ZpbHRlckxpbmUgPSBmdW5jdGlvbihkYXRhLCBpbWcsIHksIGJwbCwgYnBwLCB0eXBlKVxue1xuXHR2YXIgaSA9IHkqYnBsLCBkaSA9IGkreSwgcGFldGggPSBVUE5HLmRlY29kZS5fcGFldGhcblx0ZGF0YVtkaV09dHlwZTsgIGRpKys7XG5cblx0aWYodHlwZT09MCkgZm9yKHZhciB4PTA7IHg8YnBsOyB4KyspIGRhdGFbZGkreF0gPSBpbWdbaSt4XTtcblx0ZWxzZSBpZih0eXBlPT0xKSB7XG5cdFx0Zm9yKHZhciB4PSAgMDsgeDxicHA7IHgrKykgZGF0YVtkaSt4XSA9ICBpbWdbaSt4XTtcblx0XHRmb3IodmFyIHg9YnBwOyB4PGJwbDsgeCsrKSBkYXRhW2RpK3hdID0gKGltZ1tpK3hdLWltZ1tpK3gtYnBwXSsyNTYpJjI1NTtcblx0fVxuXHRlbHNlIGlmKHk9PTApIHtcblx0XHRmb3IodmFyIHg9ICAwOyB4PGJwcDsgeCsrKSBkYXRhW2RpK3hdID0gaW1nW2kreF07XG5cblx0XHRpZih0eXBlPT0yKSBmb3IodmFyIHg9YnBwOyB4PGJwbDsgeCsrKSBkYXRhW2RpK3hdID0gaW1nW2kreF07XG5cdFx0aWYodHlwZT09MykgZm9yKHZhciB4PWJwcDsgeDxicGw7IHgrKykgZGF0YVtkaSt4XSA9IChpbWdbaSt4XSAtIChpbWdbaSt4LWJwcF0+PjEpICsyNTYpJjI1NTtcblx0XHRpZih0eXBlPT00KSBmb3IodmFyIHg9YnBwOyB4PGJwbDsgeCsrKSBkYXRhW2RpK3hdID0gKGltZ1tpK3hdIC0gcGFldGgoaW1nW2kreC1icHBdLCAwLCAwKSArMjU2KSYyNTU7XG5cdH1cblx0ZWxzZSB7XG5cdFx0aWYodHlwZT09MikgeyBmb3IodmFyIHg9ICAwOyB4PGJwbDsgeCsrKSBkYXRhW2RpK3hdID0gKGltZ1tpK3hdKzI1NiAtIGltZ1tpK3gtYnBsXSkmMjU1OyAgfVxuXHRcdGlmKHR5cGU9PTMpIHsgZm9yKHZhciB4PSAgMDsgeDxicHA7IHgrKykgZGF0YVtkaSt4XSA9IChpbWdbaSt4XSsyNTYgLSAoaW1nW2kreC1icGxdPj4xKSkmMjU1O1xuXHRcdFx0XHRcdCAgZm9yKHZhciB4PWJwcDsgeDxicGw7IHgrKykgZGF0YVtkaSt4XSA9IChpbWdbaSt4XSsyNTYgLSAoKGltZ1tpK3gtYnBsXStpbWdbaSt4LWJwcF0pPj4xKSkmMjU1OyAgfVxuXHRcdGlmKHR5cGU9PTQpIHsgZm9yKHZhciB4PSAgMDsgeDxicHA7IHgrKykgZGF0YVtkaSt4XSA9IChpbWdbaSt4XSsyNTYgLSBwYWV0aCgwLCBpbWdbaSt4LWJwbF0sIDApKSYyNTU7XG5cdFx0XHRcdFx0ICBmb3IodmFyIHg9YnBwOyB4PGJwbDsgeCsrKSBkYXRhW2RpK3hdID0gKGltZ1tpK3hdKzI1NiAtIHBhZXRoKGltZ1tpK3gtYnBwXSwgaW1nW2kreC1icGxdLCBpbWdbaSt4LWJwcC1icGxdKSkmMjU1OyAgfVxuXHR9XG59XG5cblVQTkcuY3JjID0ge1xuXHR0YWJsZSA6ICggZnVuY3Rpb24oKSB7XG5cdCAgIHZhciB0YWIgPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcblx0ICAgZm9yICh2YXIgbj0wOyBuPDI1NjsgbisrKSB7XG5cdFx0XHR2YXIgYyA9IG47XG5cdFx0XHRmb3IgKHZhciBrPTA7IGs8ODsgaysrKSB7XG5cdFx0XHRcdGlmIChjICYgMSkgIGMgPSAweGVkYjg4MzIwIF4gKGMgPj4+IDEpO1xuXHRcdFx0XHRlbHNlICAgICAgICBjID0gYyA+Pj4gMTtcblx0XHRcdH1cblx0XHRcdHRhYltuXSA9IGM7ICB9XG5cdFx0cmV0dXJuIHRhYjsgIH0pKCksXG5cdHVwZGF0ZSA6IGZ1bmN0aW9uKGMsIGJ1Ziwgb2ZmLCBsZW4pIHtcblx0XHRmb3IgKHZhciBpPTA7IGk8bGVuOyBpKyspICBjID0gVVBORy5jcmMudGFibGVbKGMgXiBidWZbb2ZmK2ldKSAmIDB4ZmZdIF4gKGMgPj4+IDgpO1xuXHRcdHJldHVybiBjO1xuXHR9LFxuXHRjcmMgOiBmdW5jdGlvbihiLG8sbCkgIHsgIHJldHVybiBVUE5HLmNyYy51cGRhdGUoMHhmZmZmZmZmZixiLG8sbCkgXiAweGZmZmZmZmZmOyAgfVxufVxuXG5cblVQTkcucXVhbnRpemUgPSBmdW5jdGlvbihidWZzLCBwcywgcm91bmRBbHBoYSlcbntcdFxuXHR2YXIgaW1ncyA9IFtdLCB0b3RsID0gMDtcblx0Zm9yKHZhciBpPTA7IGk8YnVmcy5sZW5ndGg7IGkrKykgeyAgaW1ncy5wdXNoKFVQTkcuZW5jb2RlLmFscGhhTXVsKG5ldyBVaW50OEFycmF5KGJ1ZnNbaV0pLCByb3VuZEFscGhhKSk7ICB0b3RsKz1idWZzW2ldLmJ5dGVMZW5ndGg7ICB9XG5cdFxuXHR2YXIgbmltZyA9IG5ldyBVaW50OEFycmF5KHRvdGwpLCBuaW1nMzIgPSBuZXcgVWludDMyQXJyYXkobmltZy5idWZmZXIpLCBub2ZmPTA7XG5cdGZvcih2YXIgaT0wOyBpPGltZ3MubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaW1nID0gaW1nc1tpXSwgaWwgPSBpbWcubGVuZ3RoO1xuXHRcdGZvcih2YXIgaj0wOyBqPGlsOyBqKyspIG5pbWdbbm9mZitqXSA9IGltZ1tqXTtcblx0XHRub2ZmICs9IGlsO1xuXHR9XG5cdFxuXHR2YXIgcm9vdCA9IHtpMDowLCBpMTpuaW1nLmxlbmd0aCwgYnN0Om51bGwsIGVzdDpudWxsLCB0ZHN0OjAsIGxlZnQ6bnVsbCwgcmlnaHQ6bnVsbCB9OyAgLy8gYmFzaWMgc3RhdGlzdGljLCBleHRyYSBzdGF0aXN0aWNcblx0cm9vdC5ic3QgPSBVUE5HLnF1YW50aXplLnN0YXRzKCAgbmltZyxyb290LmkwLCByb290LmkxICApOyAgcm9vdC5lc3QgPSBVUE5HLnF1YW50aXplLmVzdGF0cyggcm9vdC5ic3QgKTtcblx0dmFyIGxlYWZzID0gW3Jvb3RdO1xuXHRcblx0d2hpbGUobGVhZnMubGVuZ3RoPHBzKVxuXHR7XG5cdFx0dmFyIG1heEwgPSAwLCBtaT0wO1xuXHRcdGZvcih2YXIgaT0wOyBpPGxlYWZzLmxlbmd0aDsgaSsrKSBpZihsZWFmc1tpXS5lc3QuTCA+IG1heEwpIHsgIG1heEw9bGVhZnNbaV0uZXN0Lkw7ICBtaT1pOyAgfVxuXHRcdGlmKG1heEw8MWUtMykgYnJlYWs7XG5cdFx0dmFyIG5vZGUgPSBsZWFmc1ttaV07XG5cdFx0XG5cdFx0dmFyIHMwID0gVVBORy5xdWFudGl6ZS5zcGxpdFBpeGVscyhuaW1nLG5pbWczMiwgbm9kZS5pMCwgbm9kZS5pMSwgbm9kZS5lc3QuZSwgbm9kZS5lc3QuZU1xMjU1KTtcblx0XHRcblx0XHR2YXIgbG4gPSB7aTA6bm9kZS5pMCwgaTE6czAsIGJzdDpudWxsLCBlc3Q6bnVsbCwgdGRzdDowLCBsZWZ0Om51bGwsIHJpZ2h0Om51bGwgfTsgIGxuLmJzdCA9IFVQTkcucXVhbnRpemUuc3RhdHMoIG5pbWcsIGxuLmkwLCBsbi5pMSApOyAgXG5cdFx0bG4uZXN0ID0gVVBORy5xdWFudGl6ZS5lc3RhdHMoIGxuLmJzdCApO1xuXHRcdHZhciBybiA9IHtpMDpzMCwgaTE6bm9kZS5pMSwgYnN0Om51bGwsIGVzdDpudWxsLCB0ZHN0OjAsIGxlZnQ6bnVsbCwgcmlnaHQ6bnVsbCB9OyAgcm4uYnN0ID0ge1I6W10sIG06W10sIE46bm9kZS5ic3QuTi1sbi5ic3QuTn07XG5cdFx0Zm9yKHZhciBpPTA7IGk8MTY7IGkrKykgcm4uYnN0LlJbaV0gPSBub2RlLmJzdC5SW2ldLWxuLmJzdC5SW2ldO1xuXHRcdGZvcih2YXIgaT0wOyBpPCA0OyBpKyspIHJuLmJzdC5tW2ldID0gbm9kZS5ic3QubVtpXS1sbi5ic3QubVtpXTtcblx0XHRybi5lc3QgPSBVUE5HLnF1YW50aXplLmVzdGF0cyggcm4uYnN0ICk7XG5cdFx0XG5cdFx0bm9kZS5sZWZ0ID0gbG47ICBub2RlLnJpZ2h0ID0gcm47XG5cdFx0bGVhZnNbbWldPWxuOyAgbGVhZnMucHVzaChybik7XG5cdH1cblx0bGVhZnMuc29ydChmdW5jdGlvbihhLGIpIHsgIHJldHVybiBiLmJzdC5OLWEuYnN0Lk47ICB9KTtcblx0XG5cdGZvcih2YXIgaWk9MDsgaWk8aW1ncy5sZW5ndGg7IGlpKyspIHtcblx0XHR2YXIgcGxhbmVEc3QgPSBVUE5HLnF1YW50aXplLnBsYW5lRHN0O1xuXHRcdHZhciBzYiA9IG5ldyBVaW50OEFycmF5KGltZ3NbaWldLmJ1ZmZlciksIHRiID0gbmV3IFVpbnQzMkFycmF5KGltZ3NbaWldLmJ1ZmZlciksIGxlbiA9IHNiLmxlbmd0aDtcblx0XHRcblx0XHR2YXIgc3RhY2sgPSBbXSwgc2k9MDtcblx0XHRmb3IodmFyIGk9MDsgaTxsZW47IGkrPTQpIHtcblx0XHRcdHZhciByPXNiW2ldKigxLzI1NSksIGc9c2JbaSsxXSooMS8yNTUpLCBiPXNiW2krMl0qKDEvMjU1KSwgYT1zYltpKzNdKigxLzI1NSk7XG5cdFx0XHRcblx0XHRcdC8vICBleGFjdCwgYnV0IHRvbyBzbG93IDooXG5cdFx0XHQvL3ZhciBuZCA9IFVQTkcucXVhbnRpemUuZ2V0TmVhcmVzdChyb290LCByLCBnLCBiLCBhKTtcblx0XHRcdHZhciBuZCA9IHJvb3Q7XG5cdFx0XHR3aGlsZShuZC5sZWZ0KSBuZCA9IChwbGFuZURzdChuZC5lc3QscixnLGIsYSk8PTApID8gbmQubGVmdCA6IG5kLnJpZ2h0O1xuXHRcdFx0XG5cdFx0XHR0YltpPj4yXSA9IG5kLmVzdC5yZ2JhO1xuXHRcdH1cblx0XHRpbWdzW2lpXT10Yi5idWZmZXI7XG5cdH1cblx0cmV0dXJuIHsgIGJ1ZnM6aW1ncywgcGx0ZTpsZWFmcyAgfTtcbn1cblVQTkcucXVhbnRpemUuZ2V0TmVhcmVzdCA9IGZ1bmN0aW9uKG5kLCByLGcsYixhKVxue1xuXHRpZihuZC5sZWZ0PT1udWxsKSB7ICBuZC50ZHN0ID0gVVBORy5xdWFudGl6ZS5kaXN0KG5kLmVzdC5xLHIsZyxiLGEpOyAgcmV0dXJuIG5kOyAgfVxuXHR2YXIgcGxhbmVEc3QgPSBVUE5HLnF1YW50aXplLnBsYW5lRHN0KG5kLmVzdCxyLGcsYixhKTtcblx0XG5cdHZhciBub2RlMCA9IG5kLmxlZnQsIG5vZGUxID0gbmQucmlnaHQ7XG5cdGlmKHBsYW5lRHN0PjApIHsgIG5vZGUwPW5kLnJpZ2h0OyAgbm9kZTE9bmQubGVmdDsgIH1cblx0XG5cdHZhciBsbiA9IFVQTkcucXVhbnRpemUuZ2V0TmVhcmVzdChub2RlMCwgcixnLGIsYSk7XG5cdGlmKGxuLnRkc3Q8PXBsYW5lRHN0KnBsYW5lRHN0KSByZXR1cm4gbG47XG5cdHZhciBybiA9IFVQTkcucXVhbnRpemUuZ2V0TmVhcmVzdChub2RlMSwgcixnLGIsYSk7XG5cdHJldHVybiBybi50ZHN0PGxuLnRkc3QgPyBybiA6IGxuO1xufVxuVVBORy5xdWFudGl6ZS5wbGFuZURzdCA9IGZ1bmN0aW9uKGVzdCwgcixnLGIsYSkgeyAgdmFyIGUgPSBlc3QuZTsgIHJldHVybiBlWzBdKnIgKyBlWzFdKmcgKyBlWzJdKmIgKyBlWzNdKmEgLSBlc3QuZU1xOyAgfVxuVVBORy5xdWFudGl6ZS5kaXN0ICAgICA9IGZ1bmN0aW9uKHEsICAgcixnLGIsYSkgeyAgdmFyIGQwPXItcVswXSwgZDE9Zy1xWzFdLCBkMj1iLXFbMl0sIGQzPWEtcVszXTsgIHJldHVybiBkMCpkMCtkMSpkMStkMipkMitkMypkMzsgIH1cblxuVVBORy5xdWFudGl6ZS5zcGxpdFBpeGVscyA9IGZ1bmN0aW9uKG5pbWcsIG5pbWczMiwgaTAsIGkxLCBlLCBlTXEpXG57XG5cdHZhciB2ZWNEb3QgPSBVUE5HLnF1YW50aXplLnZlY0RvdDtcblx0aTEtPTQ7XG5cdHZhciBzaGZzID0gMDtcblx0d2hpbGUoaTA8aTEpXG5cdHtcblx0XHR3aGlsZSh2ZWNEb3QobmltZywgaTAsIGUpPD1lTXEpIGkwKz00O1xuXHRcdHdoaWxlKHZlY0RvdChuaW1nLCBpMSwgZSk+IGVNcSkgaTEtPTQ7XG5cdFx0aWYoaTA+PWkxKSBicmVhaztcblx0XHRcblx0XHR2YXIgdCA9IG5pbWczMltpMD4+Ml07ICBuaW1nMzJbaTA+PjJdID0gbmltZzMyW2kxPj4yXTsgIG5pbWczMltpMT4+Ml09dDtcblx0XHRcblx0XHRpMCs9NDsgIGkxLT00O1xuXHR9XG5cdHdoaWxlKHZlY0RvdChuaW1nLCBpMCwgZSk+ZU1xKSBpMC09NDtcblx0cmV0dXJuIGkwKzQ7XG59XG5VUE5HLnF1YW50aXplLnZlY0RvdCA9IGZ1bmN0aW9uKG5pbWcsIGksIGUpXG57XG5cdHJldHVybiBuaW1nW2ldKmVbMF0gKyBuaW1nW2krMV0qZVsxXSArIG5pbWdbaSsyXSplWzJdICsgbmltZ1tpKzNdKmVbM107XG59XG5VUE5HLnF1YW50aXplLnN0YXRzID0gZnVuY3Rpb24obmltZywgaTAsIGkxKXtcblx0dmFyIFIgPSBbMCwwLDAsMCwgIDAsMCwwLDAsICAwLDAsMCwwLCAgMCwwLDAsMF07XG5cdHZhciBtID0gWzAsMCwwLDBdO1xuXHR2YXIgTiA9IChpMS1pMCk+PjI7XG5cdGZvcih2YXIgaT1pMDsgaTxpMTsgaSs9NClcblx0e1xuXHRcdHZhciByID0gbmltZ1tpXSooMS8yNTUpLCBnID0gbmltZ1tpKzFdKigxLzI1NSksIGIgPSBuaW1nW2krMl0qKDEvMjU1KSwgYSA9IG5pbWdbaSszXSooMS8yNTUpO1xuXHRcdC8vdmFyIHIgPSBuaW1nW2ldLCBnID0gbmltZ1tpKzFdLCBiID0gbmltZ1tpKzJdLCBhID0gbmltZ1tpKzNdO1xuXHRcdG1bMF0rPXI7ICBtWzFdKz1nOyAgbVsyXSs9YjsgIG1bM10rPWE7XG5cdFx0XG5cdFx0UlsgMF0gKz0gcipyOyAgUlsgMV0gKz0gcipnOyAgUlsgMl0gKz0gcipiOyAgUlsgM10gKz0gciphOyAgXG5cdFx0ICAgICAgICAgICAgICAgUlsgNV0gKz0gZypnOyAgUlsgNl0gKz0gZypiOyAgUlsgN10gKz0gZyphOyBcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSWzEwXSArPSBiKmI7ICBSWzExXSArPSBiKmE7ICBcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSWzE1XSArPSBhKmE7ICBcblx0fVxuXHRSWzRdPVJbMV07ICBSWzhdPVJbMl07ICBSWzEyXT1SWzNdOyAgUls5XT1SWzZdOyAgUlsxM109Uls3XTsgIFJbMTRdPVJbMTFdO1xuXHRcblx0cmV0dXJuIHtSOlIsIG06bSwgTjpOfTtcbn1cblVQTkcucXVhbnRpemUuZXN0YXRzID0gZnVuY3Rpb24oc3RhdHMpe1xuXHR2YXIgUiA9IHN0YXRzLlIsIG0gPSBzdGF0cy5tLCBOID0gc3RhdHMuTjtcblx0XG5cdHZhciBtMCA9IG1bMF0sIG0xID0gbVsxXSwgbTIgPSBtWzJdLCBtMyA9IG1bM10sIGlOID0gKE49PTAgPyAwIDogMS9OKTtcblx0dmFyIFJqID0gW1xuXHRcdFJbIDBdIC0gbTAqbTAqaU4sICBSWyAxXSAtIG0wKm0xKmlOLCAgUlsgMl0gLSBtMCptMippTiwgIFJbIDNdIC0gbTAqbTMqaU4sICBcblx0XHRSWyA0XSAtIG0xKm0wKmlOLCAgUlsgNV0gLSBtMSptMSppTiwgIFJbIDZdIC0gbTEqbTIqaU4sICBSWyA3XSAtIG0xKm0zKmlOLFxuXHRcdFJbIDhdIC0gbTIqbTAqaU4sICBSWyA5XSAtIG0yKm0xKmlOLCAgUlsxMF0gLSBtMiptMippTiwgIFJbMTFdIC0gbTIqbTMqaU4sICBcblx0XHRSWzEyXSAtIG0zKm0wKmlOLCAgUlsxM10gLSBtMyptMSppTiwgIFJbMTRdIC0gbTMqbTIqaU4sICBSWzE1XSAtIG0zKm0zKmlOIFxuXHRdO1xuXHRcblx0dmFyIEEgPSBSaiwgTSA9IFVQTkcuTTQ7XG5cdHZhciBiID0gWzAuNSwwLjUsMC41LDAuNV0sIG1pID0gMCwgdG1pID0gMDtcblx0XG5cdGlmKE4hPTApXG5cdGZvcih2YXIgaT0wOyBpPDEwOyBpKyspIHtcblx0XHRiID0gTS5tdWx0VmVjKEEsIGIpOyAgdG1pID0gTWF0aC5zcXJ0KE0uZG90KGIsYikpOyAgYiA9IE0uc21sKDEvdG1pLCAgYik7XG5cdFx0aWYoTWF0aC5hYnModG1pLW1pKTwxZS05KSBicmVhazsgIG1pID0gdG1pO1xuXHR9XHRcblx0Ly9iID0gWzAsMCwxLDBdOyAgbWk9Tjtcblx0dmFyIHEgPSBbbTAqaU4sIG0xKmlOLCBtMippTiwgbTMqaU5dO1xuXHR2YXIgZU1xMjU1ID0gTS5kb3QoTS5zbWwoMjU1LHEpLGIpO1xuXHRcblx0dmFyIGlhID0gKHFbM108MC4wMDEpID8gMCA6IDEvcVszXTtcblx0XG5cdHJldHVybiB7ICBDb3Y6UmosIHE6cSwgZTpiLCBMOm1pLCAgZU1xMjU1OmVNcTI1NSwgZU1xIDogTS5kb3QoYixxKSxcblx0XHRcdFx0cmdiYTogKCgoTWF0aC5yb3VuZCgyNTUqcVszXSk8PDI0KSB8IChNYXRoLnJvdW5kKDI1NSpxWzJdKmlhKTw8MTYpIHwgIChNYXRoLnJvdW5kKDI1NSpxWzFdKmlhKTw8OCkgfCAoTWF0aC5yb3VuZCgyNTUqcVswXSppYSk8PDApKT4+PjApICB9O1xufVxuVVBORy5NNCA9IHtcblx0bXVsdFZlYyA6IGZ1bmN0aW9uKG0sdikge1xuXHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0bVsgMF0qdlswXSArIG1bIDFdKnZbMV0gKyBtWyAyXSp2WzJdICsgbVsgM10qdlszXSxcblx0XHRcdFx0bVsgNF0qdlswXSArIG1bIDVdKnZbMV0gKyBtWyA2XSp2WzJdICsgbVsgN10qdlszXSxcblx0XHRcdFx0bVsgOF0qdlswXSArIG1bIDldKnZbMV0gKyBtWzEwXSp2WzJdICsgbVsxMV0qdlszXSxcblx0XHRcdFx0bVsxMl0qdlswXSArIG1bMTNdKnZbMV0gKyBtWzE0XSp2WzJdICsgbVsxNV0qdlszXVxuXHRcdFx0XTtcblx0fSxcblx0ZG90IDogZnVuY3Rpb24oeCx5KSB7ICByZXR1cm4gIHhbMF0qeVswXSt4WzFdKnlbMV0reFsyXSp5WzJdK3hbM10qeVszXTsgIH0sXG5cdHNtbCA6IGZ1bmN0aW9uKGEseSkgeyAgcmV0dXJuIFthKnlbMF0sYSp5WzFdLGEqeVsyXSxhKnlbM11dOyAgfVxufVxuXG5VUE5HLmVuY29kZS5hbHBoYU11bCA9IGZ1bmN0aW9uKGltZywgcm91bmRBKSB7XG5cdHZhciBuaW1nID0gbmV3IFVpbnQ4QXJyYXkoaW1nLmxlbmd0aCksIGFyZWEgPSBpbWcubGVuZ3RoPj4yOyBcblx0Zm9yKHZhciBpPTA7IGk8YXJlYTsgaSsrKSB7XG5cdFx0dmFyIHFpPWk8PDIsIGlhPWltZ1txaSszXTsgICBcblx0XHRpZihyb3VuZEEpIGlhID0gKChpYTwxMjgpKT8wOjI1NTtcblx0XHR2YXIgYSA9IGlhKigxLzI1NSk7XG5cdFx0bmltZ1txaSswXSA9IGltZ1txaSswXSphOyAgbmltZ1txaSsxXSA9IGltZ1txaSsxXSphOyAgbmltZ1txaSsyXSA9IGltZ1txaSsyXSphOyAgbmltZ1txaSszXSA9IGlhO1xuXHR9XG5cdHJldHVybiBuaW1nO1xufVxuXG5cdFxuXHRcblx0XG5cdFxuXHRcblxuXG59KShVUE5HLCBwYWtvKTtcbn0pKCk7XG5cbiIsICJleHBvcnQgY29uc3QgRU1QVFlfT0JKID0ge307XG5leHBvcnQgY29uc3QgRU1QVFlfQVJSID0gW107XG5leHBvcnQgY29uc3QgSVNfTk9OX0RJTUVOU0lPTkFMID0gL2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaTtcbiIsICJpbXBvcnQgeyBfY2F0Y2hFcnJvciB9IGZyb20gJy4vZGlmZi9jYXRjaC1lcnJvcic7XG5cbi8qKlxuICogVGhlIGBvcHRpb25gIG9iamVjdCBjYW4gcG90ZW50aWFsbHkgY29udGFpbiBjYWxsYmFjayBmdW5jdGlvbnNcbiAqIHRoYXQgYXJlIGNhbGxlZCBkdXJpbmcgdmFyaW91cyBzdGFnZXMgb2Ygb3VyIHJlbmRlcmVyLiBUaGlzIGlzIHRoZVxuICogZm91bmRhdGlvbiBvbiB3aGljaCBhbGwgb3VyIGFkZG9ucyBsaWtlIGBwcmVhY3QvZGVidWdgLCBgcHJlYWN0L2NvbXBhdGAsXG4gKiBhbmQgYHByZWFjdC9ob29rc2AgYXJlIGJhc2VkIG9uLiBTZWUgdGhlIGBPcHRpb25zYCB0eXBlIGluIGBpbnRlcm5hbC5kLnRzYFxuICogZm9yIGEgZnVsbCBsaXN0IG9mIGF2YWlsYWJsZSBvcHRpb24gaG9va3MgKG1vc3QgZWRpdG9ycy9JREVzIGFsbG93IHlvdSB0b1xuICogY3RybCtjbGljayBvciBjbWQrY2xpY2sgb24gbWFjIHRoZSB0eXBlIGRlZmluaXRpb24gYmVsb3cpLlxuICogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLk9wdGlvbnN9XG4gKi9cbmNvbnN0IG9wdGlvbnMgPSB7XG5cdF9jYXRjaEVycm9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBvcHRpb25zO1xuIiwgImltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5cbi8qKlxuICogQ3JlYXRlIGFuIHZpcnR1YWwgbm9kZSAodXNlZCBmb3IgSlNYKVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnRcbiAqIGNvbnN0cnVjdG9yIGZvciB0aGlzIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkfSBbcHJvcHNdIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuJykuQ29tcG9uZW50Q2hpbGRyZW4+fSBbY2hpbGRyZW5dIFRoZSBjaGlsZHJlbiBvZiB0aGUgdmlydHVhbCBub2RlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuXHRsZXQgbm9ybWFsaXplZFByb3BzID0ge30sXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRpO1xuXHRmb3IgKGkgaW4gcHJvcHMpIHtcblx0XHRpZiAoaSA9PSAna2V5Jykga2V5ID0gcHJvcHNbaV07XG5cdFx0ZWxzZSBpZiAoaSA9PSAncmVmJykgcmVmID0gcHJvcHNbaV07XG5cdFx0ZWxzZSBub3JtYWxpemVkUHJvcHNbaV0gPSBwcm9wc1tpXTtcblx0fVxuXG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMykge1xuXHRcdGNoaWxkcmVuID0gW2NoaWxkcmVuXTtcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vcHJlYWN0anMvcHJlYWN0L2lzc3Vlcy8xOTE2XG5cdFx0Zm9yIChpID0gMzsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y2hpbGRyZW4ucHVzaChhcmd1bWVudHNbaV0pO1xuXHRcdH1cblx0fVxuXHRpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdG5vcm1hbGl6ZWRQcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXHR9XG5cblx0Ly8gSWYgYSBDb21wb25lbnQgVk5vZGUsIGNoZWNrIGZvciBhbmQgYXBwbHkgZGVmYXVsdFByb3BzXG5cdC8vIE5vdGU6IHR5cGUgbWF5IGJlIHVuZGVmaW5lZCBpbiBkZXZlbG9wbWVudCwgbXVzdCBuZXZlciBlcnJvciBoZXJlLlxuXHRpZiAodHlwZW9mIHR5cGUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlLmRlZmF1bHRQcm9wcyAhPSBudWxsKSB7XG5cdFx0Zm9yIChpIGluIHR5cGUuZGVmYXVsdFByb3BzKSB7XG5cdFx0XHRpZiAobm9ybWFsaXplZFByb3BzW2ldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bm9ybWFsaXplZFByb3BzW2ldID0gdHlwZS5kZWZhdWx0UHJvcHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG5vcm1hbGl6ZWRQcm9wcywga2V5LCByZWYsIG51bGwpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIFZOb2RlICh1c2VkIGludGVybmFsbHkgYnkgUHJlYWN0KVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnRcbiAqIENvbnN0cnVjdG9yIGZvciB0aGlzIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3QgfCBzdHJpbmcgfCBudW1iZXIgfCBudWxsfSBwcm9wcyBUaGUgcHJvcGVydGllcyBvZiB0aGlzIHZpcnR1YWwgbm9kZS5cbiAqIElmIHRoaXMgdmlydHVhbCBub2RlIHJlcHJlc2VudHMgYSB0ZXh0IG5vZGUsIHRoaXMgaXMgdGhlIHRleHQgb2YgdGhlIG5vZGUgKHN0cmluZyBvciBudW1iZXIpLlxuICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXIgfCBudWxsfSBrZXkgVGhlIGtleSBmb3IgdGhpcyB2aXJ0dWFsIG5vZGUsIHVzZWQgd2hlblxuICogZGlmZmluZyBpdCBhZ2FpbnN0IGl0cyBjaGlsZHJlblxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInJlZlwiXX0gcmVmIFRoZSByZWYgcHJvcGVydHkgdGhhdCB3aWxsXG4gKiByZWNlaXZlIGEgcmVmZXJlbmNlIHRvIGl0cyBjcmVhdGVkIGNoaWxkXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wcywga2V5LCByZWYsIG9yaWdpbmFsKSB7XG5cdC8vIFY4IHNlZW1zIHRvIGJlIGJldHRlciBhdCBkZXRlY3RpbmcgdHlwZSBzaGFwZXMgaWYgdGhlIG9iamVjdCBpcyBhbGxvY2F0ZWQgZnJvbSB0aGUgc2FtZSBjYWxsIHNpdGVcblx0Ly8gRG8gbm90IGlubGluZSBpbnRvIGNyZWF0ZUVsZW1lbnQgYW5kIGNvZXJjZVRvVk5vZGUhXG5cdGNvbnN0IHZub2RlID0ge1xuXHRcdHR5cGUsXG5cdFx0cHJvcHMsXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRfY2hpbGRyZW46IG51bGwsXG5cdFx0X3BhcmVudDogbnVsbCxcblx0XHRfZGVwdGg6IDAsXG5cdFx0X2RvbTogbnVsbCxcblx0XHQvLyBfbmV4dERvbSBtdXN0IGJlIGluaXRpYWxpemVkIHRvIHVuZGVmaW5lZCBiL2MgaXQgd2lsbCBldmVudHVhbGx5XG5cdFx0Ly8gYmUgc2V0IHRvIGRvbS5uZXh0U2libGluZyB3aGljaCBjYW4gcmV0dXJuIGBudWxsYCBhbmQgaXQgaXMgaW1wb3J0YW50XG5cdFx0Ly8gdG8gYmUgYWJsZSB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIGFuIHVuaW5pdGlhbGl6ZWQgX25leHREb20gYW5kXG5cdFx0Ly8gYSBfbmV4dERvbSB0aGF0IGhhcyBiZWVuIHNldCB0byBgbnVsbGBcblx0XHRfbmV4dERvbTogdW5kZWZpbmVkLFxuXHRcdF9jb21wb25lbnQ6IG51bGwsXG5cdFx0Y29uc3RydWN0b3I6IHVuZGVmaW5lZCxcblx0XHRfb3JpZ2luYWw6IG9yaWdpbmFsXG5cdH07XG5cblx0aWYgKG9yaWdpbmFsID09IG51bGwpIHZub2RlLl9vcmlnaW5hbCA9IHZub2RlO1xuXHRpZiAob3B0aW9ucy52bm9kZSAhPSBudWxsKSBvcHRpb25zLnZub2RlKHZub2RlKTtcblxuXHRyZXR1cm4gdm5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWYoKSB7XG5cdHJldHVybiB7IGN1cnJlbnQ6IG51bGwgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZyYWdtZW50KHByb3BzKSB7XG5cdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHRoZSBhcmd1bWVudCBpcyBhIHZhbGlkIFByZWFjdCBWTm9kZS5cbiAqIEBwYXJhbSB7Kn0gdm5vZGVcbiAqIEByZXR1cm5zIHt2bm9kZSBpcyBpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzVmFsaWRFbGVtZW50ID0gdm5vZGUgPT5cblx0dm5vZGUgIT0gbnVsbCAmJiB2bm9kZS5jb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkO1xuIiwgImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBkaWZmLCBjb21taXRSb290IH0gZnJvbSAnLi9kaWZmL2luZGV4JztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4vY3JlYXRlLWVsZW1lbnQnO1xuXG4vKipcbiAqIEJhc2UgQ29tcG9uZW50IGNsYXNzLiBQcm92aWRlcyBgc2V0U3RhdGUoKWAgYW5kIGBmb3JjZVVwZGF0ZSgpYCwgd2hpY2hcbiAqIHRyaWdnZXIgcmVuZGVyaW5nXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgVGhlIGluaXRpYWwgY29tcG9uZW50IHByb3BzXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBUaGUgaW5pdGlhbCBjb250ZXh0IGZyb20gcGFyZW50IGNvbXBvbmVudHMnXG4gKiBnZXRDaGlsZENvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHR0aGlzLnByb3BzID0gcHJvcHM7XG5cdHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG59XG5cbi8qKlxuICogVXBkYXRlIGNvbXBvbmVudCBzdGF0ZSBhbmQgc2NoZWR1bGUgYSByZS1yZW5kZXIuXG4gKiBAcGFyYW0ge29iamVjdCB8ICgoczogb2JqZWN0LCBwOiBvYmplY3QpID0+IG9iamVjdCl9IHVwZGF0ZSBBIGhhc2ggb2Ygc3RhdGVcbiAqIHByb3BlcnRpZXMgdG8gdXBkYXRlIHdpdGggbmV3IHZhbHVlcyBvciBhIGZ1bmN0aW9uIHRoYXQgZ2l2ZW4gdGhlIGN1cnJlbnRcbiAqIHN0YXRlIGFuZCBwcm9wcyByZXR1cm5zIGEgbmV3IHBhcnRpYWwgc3RhdGVcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbmNlIGNvbXBvbmVudCBzdGF0ZSBpc1xuICogdXBkYXRlZFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24odXBkYXRlLCBjYWxsYmFjaykge1xuXHQvLyBvbmx5IGNsb25lIHN0YXRlIHdoZW4gY29weWluZyB0byBuZXh0U3RhdGUgdGhlIGZpcnN0IHRpbWUuXG5cdGxldCBzO1xuXHRpZiAodGhpcy5fbmV4dFN0YXRlICE9IG51bGwgJiYgdGhpcy5fbmV4dFN0YXRlICE9PSB0aGlzLnN0YXRlKSB7XG5cdFx0cyA9IHRoaXMuX25leHRTdGF0ZTtcblx0fSBlbHNlIHtcblx0XHRzID0gdGhpcy5fbmV4dFN0YXRlID0gYXNzaWduKHt9LCB0aGlzLnN0YXRlKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgdXBkYXRlID09ICdmdW5jdGlvbicpIHtcblx0XHQvLyBTb21lIGxpYnJhcmllcyBsaWtlIGBpbW1lcmAgbWFyayB0aGUgY3VycmVudCBzdGF0ZSBhcyByZWFkb25seSxcblx0XHQvLyBwcmV2ZW50aW5nIHVzIGZyb20gbXV0YXRpbmcgaXQsIHNvIHdlIG5lZWQgdG8gY2xvbmUgaXQuIFNlZSAjMjcxNlxuXHRcdHVwZGF0ZSA9IHVwZGF0ZShhc3NpZ24oe30sIHMpLCB0aGlzLnByb3BzKTtcblx0fVxuXG5cdGlmICh1cGRhdGUpIHtcblx0XHRhc3NpZ24ocywgdXBkYXRlKTtcblx0fVxuXG5cdC8vIFNraXAgdXBkYXRlIGlmIHVwZGF0ZXIgZnVuY3Rpb24gcmV0dXJuZWQgbnVsbFxuXHRpZiAodXBkYXRlID09IG51bGwpIHJldHVybjtcblxuXHRpZiAodGhpcy5fdm5vZGUpIHtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRlbnF1ZXVlUmVuZGVyKHRoaXMpO1xuXHR9XG59O1xuXG4vKipcbiAqIEltbWVkaWF0ZWx5IHBlcmZvcm0gYSBzeW5jaHJvbm91cyByZS1yZW5kZXIgb2YgdGhlIGNvbXBvbmVudFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpc1xuICogcmUtcmVuZGVyZWRcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGlmICh0aGlzLl92bm9kZSkge1xuXHRcdC8vIFNldCByZW5kZXIgbW9kZSBzbyB0aGF0IHdlIGNhbiBkaWZmZXJlbnRpYXRlIHdoZXJlIHRoZSByZW5kZXIgcmVxdWVzdFxuXHRcdC8vIGlzIGNvbWluZyBmcm9tLiBXZSBuZWVkIHRoaXMgYmVjYXVzZSBmb3JjZVVwZGF0ZSBzaG91bGQgbmV2ZXIgY2FsbFxuXHRcdC8vIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHRcdHRoaXMuX2ZvcmNlID0gdHJ1ZTtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRlbnF1ZXVlUmVuZGVyKHRoaXMpO1xuXHR9XG59O1xuXG4vKipcbiAqIEFjY2VwdHMgYHByb3BzYCBhbmQgYHN0YXRlYCwgYW5kIHJldHVybnMgYSBuZXcgVmlydHVhbCBET00gdHJlZSB0byBidWlsZC5cbiAqIFZpcnR1YWwgRE9NIGlzIGdlbmVyYWxseSBjb25zdHJ1Y3RlZCB2aWEgW0pTWF0oaHR0cDovL2phc29uZm9ybWF0LmNvbS93dGYtaXMtanN4KS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBQcm9wcyAoZWc6IEpTWCBhdHRyaWJ1dGVzKSByZWNlaXZlZCBmcm9tIHBhcmVudFxuICogZWxlbWVudC9jb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSBUaGUgY29tcG9uZW50J3MgY3VycmVudCBzdGF0ZVxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgQ29udGV4dCBvYmplY3QsIGFzIHJldHVybmVkIGJ5IHRoZSBuZWFyZXN0XG4gKiBhbmNlc3RvcidzIGBnZXRDaGlsZENvbnRleHQoKWBcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW5kZXgnKS5Db21wb25lbnRDaGlsZHJlbiB8IHZvaWR9XG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gRnJhZ21lbnQ7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbH0gW2NoaWxkSW5kZXhdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21TaWJsaW5nKHZub2RlLCBjaGlsZEluZGV4KSB7XG5cdGlmIChjaGlsZEluZGV4ID09IG51bGwpIHtcblx0XHQvLyBVc2UgY2hpbGRJbmRleD09bnVsbCBhcyBhIHNpZ25hbCB0byByZXN1bWUgdGhlIHNlYXJjaCBmcm9tIHRoZSB2bm9kZSdzIHNpYmxpbmdcblx0XHRyZXR1cm4gdm5vZGUuX3BhcmVudFxuXHRcdFx0PyBnZXREb21TaWJsaW5nKHZub2RlLl9wYXJlbnQsIHZub2RlLl9wYXJlbnQuX2NoaWxkcmVuLmluZGV4T2Yodm5vZGUpICsgMSlcblx0XHRcdDogbnVsbDtcblx0fVxuXG5cdGxldCBzaWJsaW5nO1xuXHRmb3IgKDsgY2hpbGRJbmRleCA8IHZub2RlLl9jaGlsZHJlbi5sZW5ndGg7IGNoaWxkSW5kZXgrKykge1xuXHRcdHNpYmxpbmcgPSB2bm9kZS5fY2hpbGRyZW5bY2hpbGRJbmRleF07XG5cblx0XHRpZiAoc2libGluZyAhPSBudWxsICYmIHNpYmxpbmcuX2RvbSAhPSBudWxsKSB7XG5cdFx0XHQvLyBTaW5jZSB1cGRhdGVQYXJlbnREb21Qb2ludGVycyBrZWVwcyBfZG9tIHBvaW50ZXIgY29ycmVjdCxcblx0XHRcdC8vIHdlIGNhbiByZWx5IG9uIF9kb20gdG8gdGVsbCB1cyBpZiB0aGlzIHN1YnRyZWUgY29udGFpbnMgYVxuXHRcdFx0Ly8gcmVuZGVyZWQgRE9NIG5vZGUsIGFuZCB3aGF0IHRoZSBmaXJzdCByZW5kZXJlZCBET00gbm9kZSBpc1xuXHRcdFx0cmV0dXJuIHNpYmxpbmcuX2RvbTtcblx0XHR9XG5cdH1cblxuXHQvLyBJZiB3ZSBnZXQgaGVyZSwgd2UgaGF2ZSBub3QgZm91bmQgYSBET00gbm9kZSBpbiB0aGlzIHZub2RlJ3MgY2hpbGRyZW4uXG5cdC8vIFdlIG11c3QgcmVzdW1lIGZyb20gdGhpcyB2bm9kZSdzIHNpYmxpbmcgKGluIGl0J3MgcGFyZW50IF9jaGlsZHJlbiBhcnJheSlcblx0Ly8gT25seSBjbGltYiB1cCBhbmQgc2VhcmNoIHRoZSBwYXJlbnQgaWYgd2UgYXJlbid0IHNlYXJjaGluZyB0aHJvdWdoIGEgRE9NXG5cdC8vIFZOb2RlIChtZWFuaW5nIHdlIHJlYWNoZWQgdGhlIERPTSBwYXJlbnQgb2YgdGhlIG9yaWdpbmFsIHZub2RlIHRoYXQgYmVnYW5cblx0Ly8gdGhlIHNlYXJjaClcblx0cmV0dXJuIHR5cGVvZiB2bm9kZS50eXBlID09ICdmdW5jdGlvbicgPyBnZXREb21TaWJsaW5nKHZub2RlKSA6IG51bGw7XG59XG5cbi8qKlxuICogVHJpZ2dlciBpbi1wbGFjZSByZS1yZW5kZXJpbmcgb2YgYSBjb21wb25lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRsZXQgdm5vZGUgPSBjb21wb25lbnQuX3Zub2RlLFxuXHRcdG9sZERvbSA9IHZub2RlLl9kb20sXG5cdFx0cGFyZW50RG9tID0gY29tcG9uZW50Ll9wYXJlbnREb207XG5cblx0aWYgKHBhcmVudERvbSkge1xuXHRcdGxldCBjb21taXRRdWV1ZSA9IFtdO1xuXHRcdGNvbnN0IG9sZFZOb2RlID0gYXNzaWduKHt9LCB2bm9kZSk7XG5cdFx0b2xkVk5vZGUuX29yaWdpbmFsID0gb2xkVk5vZGU7XG5cblx0XHRsZXQgbmV3RG9tID0gZGlmZihcblx0XHRcdHBhcmVudERvbSxcblx0XHRcdHZub2RlLFxuXHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRjb21wb25lbnQuX2dsb2JhbENvbnRleHQsXG5cdFx0XHRwYXJlbnREb20ub3duZXJTVkdFbGVtZW50ICE9PSB1bmRlZmluZWQsXG5cdFx0XHRudWxsLFxuXHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRvbGREb20gPT0gbnVsbCA/IGdldERvbVNpYmxpbmcodm5vZGUpIDogb2xkRG9tXG5cdFx0KTtcblx0XHRjb21taXRSb290KGNvbW1pdFF1ZXVlLCB2bm9kZSk7XG5cblx0XHRpZiAobmV3RG9tICE9IG9sZERvbSkge1xuXHRcdFx0dXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKHZub2RlKSB7XG5cdGlmICgodm5vZGUgPSB2bm9kZS5fcGFyZW50KSAhPSBudWxsICYmIHZub2RlLl9jb21wb25lbnQgIT0gbnVsbCkge1xuXHRcdHZub2RlLl9kb20gPSB2bm9kZS5fY29tcG9uZW50LmJhc2UgPSBudWxsO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuX2NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgY2hpbGQgPSB2bm9kZS5fY2hpbGRyZW5baV07XG5cdFx0XHRpZiAoY2hpbGQgIT0gbnVsbCAmJiBjaGlsZC5fZG9tICE9IG51bGwpIHtcblx0XHRcdFx0dm5vZGUuX2RvbSA9IHZub2RlLl9jb21wb25lbnQuYmFzZSA9IGNoaWxkLl9kb207XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB1cGRhdGVQYXJlbnREb21Qb2ludGVycyh2bm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgcmVuZGVyIHF1ZXVlXG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Pn1cbiAqL1xubGV0IHJlcmVuZGVyUXVldWUgPSBbXTtcblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzY2hlZHVsZSBhIGNhbGxiYWNrXG4gKiBAdHlwZSB7KGNiOiAoKSA9PiB2b2lkKSA9PiB2b2lkfVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLy8gTm90ZSB0aGUgZm9sbG93aW5nIGxpbmUgaXNuJ3QgdHJlZS1zaGFrZW4gYnkgcm9sbHVwIGN1eiBvZiByb2xsdXAvcm9sbHVwIzI1NjZcbmNvbnN0IGRlZmVyID1cblx0dHlwZW9mIFByb21pc2UgPT0gJ2Z1bmN0aW9uJ1xuXHRcdD8gUHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKVxuXHRcdDogc2V0VGltZW91dDtcblxuLypcbiAqIFRoZSB2YWx1ZSBvZiBgQ29tcG9uZW50LmRlYm91bmNlYCBtdXN0IGFzeW5jaHJvbm91c2x5IGludm9rZSB0aGUgcGFzc2VkIGluIGNhbGxiYWNrLiBJdCBpc1xuICogaW1wb3J0YW50IHRoYXQgY29udHJpYnV0b3JzIHRvIFByZWFjdCBjYW4gY29uc2lzdGVudGx5IHJlYXNvbiBhYm91dCB3aGF0IGNhbGxzIHRvIGBzZXRTdGF0ZWAsIGV0Yy5cbiAqIGRvLCBhbmQgd2hlbiB0aGVpciBlZmZlY3RzIHdpbGwgYmUgYXBwbGllZC4gU2VlIHRoZSBsaW5rcyBiZWxvdyBmb3Igc29tZSBmdXJ0aGVyIHJlYWRpbmcgb24gZGVzaWduaW5nXG4gKiBhc3luY2hyb25vdXMgQVBJcy5cbiAqICogW0Rlc2lnbmluZyBBUElzIGZvciBBc3luY2hyb255XShodHRwczovL2Jsb2cuaXpzLm1lLzIwMTMvMDgvZGVzaWduaW5nLWFwaXMtZm9yLWFzeW5jaHJvbnkpXG4gKiAqIFtDYWxsYmFja3Mgc3luY2hyb25vdXMgYW5kIGFzeW5jaHJvbm91c10oaHR0cHM6Ly9ibG9nLm9tZXRlci5jb20vMjAxMS8wNy8yNC9jYWxsYmFja3Mtc3luY2hyb25vdXMtYW5kLWFzeW5jaHJvbm91cy8pXG4gKi9cblxubGV0IHByZXZEZWJvdW5jZTtcblxuLyoqXG4gKiBFbnF1ZXVlIGEgcmVyZW5kZXIgb2YgYSBjb21wb25lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSBjIFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoYykge1xuXHRpZiAoXG5cdFx0KCFjLl9kaXJ0eSAmJlxuXHRcdFx0KGMuX2RpcnR5ID0gdHJ1ZSkgJiZcblx0XHRcdHJlcmVuZGVyUXVldWUucHVzaChjKSAmJlxuXHRcdFx0IXByb2Nlc3MuX3JlcmVuZGVyQ291bnQrKykgfHxcblx0XHRwcmV2RGVib3VuY2UgIT09IG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmdcblx0KSB7XG5cdFx0cHJldkRlYm91bmNlID0gb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZztcblx0XHQocHJldkRlYm91bmNlIHx8IGRlZmVyKShwcm9jZXNzKTtcblx0fVxufVxuXG4vKiogRmx1c2ggdGhlIHJlbmRlciBxdWV1ZSBieSByZXJlbmRlcmluZyBhbGwgcXVldWVkIGNvbXBvbmVudHMgKi9cbmZ1bmN0aW9uIHByb2Nlc3MoKSB7XG5cdGxldCBxdWV1ZTtcblx0d2hpbGUgKChwcm9jZXNzLl9yZXJlbmRlckNvdW50ID0gcmVyZW5kZXJRdWV1ZS5sZW5ndGgpKSB7XG5cdFx0cXVldWUgPSByZXJlbmRlclF1ZXVlLnNvcnQoKGEsIGIpID0+IGEuX3Zub2RlLl9kZXB0aCAtIGIuX3Zub2RlLl9kZXB0aCk7XG5cdFx0cmVyZW5kZXJRdWV1ZSA9IFtdO1xuXHRcdC8vIERvbid0IHVwZGF0ZSBgcmVuZGVyQ291bnRgIHlldC4gS2VlcCBpdHMgdmFsdWUgbm9uLXplcm8gdG8gcHJldmVudCB1bm5lY2Vzc2FyeVxuXHRcdC8vIHByb2Nlc3MoKSBjYWxscyBmcm9tIGdldHRpbmcgc2NoZWR1bGVkIHdoaWxlIGBxdWV1ZWAgaXMgc3RpbGwgYmVpbmcgY29uc3VtZWQuXG5cdFx0cXVldWUuc29tZShjID0+IHtcblx0XHRcdGlmIChjLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KGMpO1xuXHRcdH0pO1xuXHR9XG59XG5wcm9jZXNzLl9yZXJlbmRlckNvdW50ID0gMDtcbiIsICJpbXBvcnQgeyBFTVBUWV9PQkosIEVNUFRZX0FSUiB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGNvbW1pdFJvb3QsIGRpZmYgfSBmcm9tICcuL2RpZmYvaW5kZXgnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgRnJhZ21lbnQgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5cbmNvbnN0IElTX0hZRFJBVEUgPSBFTVBUWV9PQko7XG5cbi8qKlxuICogUmVuZGVyIGEgUHJlYWN0IHZpcnR1YWwgbm9kZSBpbnRvIGEgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuQ29tcG9uZW50Q2hpbGR9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgdG9cbiAqIHJlbmRlciBpbnRvXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBUZXh0fSBbcmVwbGFjZU5vZGVdIE9wdGlvbmFsOiBBdHRlbXB0IHRvIHJlLXVzZSBhblxuICogZXhpc3RpbmcgRE9NIHRyZWUgcm9vdGVkIGF0IGByZXBsYWNlTm9kZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcih2bm9kZSwgcGFyZW50RG9tLCByZXBsYWNlTm9kZSkge1xuXHRpZiAob3B0aW9ucy5fcm9vdCkgb3B0aW9ucy5fcm9vdCh2bm9kZSwgcGFyZW50RG9tKTtcblxuXHQvLyBXZSBhYnVzZSB0aGUgYHJlcGxhY2VOb2RlYCBwYXJhbWV0ZXIgaW4gYGh5ZHJhdGUoKWAgdG8gc2lnbmFsIGlmIHdlXG5cdC8vIGFyZSBpbiBoeWRyYXRpb24gbW9kZSBvciBub3QgYnkgcGFzc2luZyBgSVNfSFlEUkFURWAgaW5zdGVhZCBvZiBhXG5cdC8vIERPTSBlbGVtZW50LlxuXHRsZXQgaXNIeWRyYXRpbmcgPSByZXBsYWNlTm9kZSA9PT0gSVNfSFlEUkFURTtcblxuXHQvLyBUbyBiZSBhYmxlIHRvIHN1cHBvcnQgY2FsbGluZyBgcmVuZGVyKClgIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lXG5cdC8vIERPTSBub2RlLCB3ZSBuZWVkIHRvIG9idGFpbiBhIHJlZmVyZW5jZSB0byB0aGUgcHJldmlvdXMgdHJlZS4gV2UgZG9cblx0Ly8gdGhpcyBieSBhc3NpZ25pbmcgYSBuZXcgYF9jaGlsZHJlbmAgcHJvcGVydHkgdG8gRE9NIG5vZGVzIHdoaWNoIHBvaW50c1xuXHQvLyB0byB0aGUgbGFzdCByZW5kZXJlZCB0cmVlLiBCeSBkZWZhdWx0IHRoaXMgcHJvcGVydHkgaXMgbm90IHByZXNlbnQsIHdoaWNoXG5cdC8vIG1lYW5zIHRoYXQgd2UgYXJlIG1vdW50aW5nIGEgbmV3IHRyZWUgZm9yIHRoZSBmaXJzdCB0aW1lLlxuXHRsZXQgb2xkVk5vZGUgPSBpc0h5ZHJhdGluZ1xuXHRcdD8gbnVsbFxuXHRcdDogKHJlcGxhY2VOb2RlICYmIHJlcGxhY2VOb2RlLl9jaGlsZHJlbikgfHwgcGFyZW50RG9tLl9jaGlsZHJlbjtcblx0dm5vZGUgPSBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBbdm5vZGVdKTtcblxuXHQvLyBMaXN0IG9mIGVmZmVjdHMgdGhhdCBuZWVkIHRvIGJlIGNhbGxlZCBhZnRlciBkaWZmaW5nLlxuXHRsZXQgY29tbWl0UXVldWUgPSBbXTtcblx0ZGlmZihcblx0XHRwYXJlbnREb20sXG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBuZXcgdm5vZGUgdHJlZSBhbmQgc3RvcmUgaXQgb24gdGhlIERPTSBlbGVtZW50IG9uXG5cdFx0Ly8gb3VyIGN1c3RvbSBgX2NoaWxkcmVuYCBwcm9wZXJ0eS5cblx0XHQoKGlzSHlkcmF0aW5nID8gcGFyZW50RG9tIDogcmVwbGFjZU5vZGUgfHwgcGFyZW50RG9tKS5fY2hpbGRyZW4gPSB2bm9kZSksXG5cdFx0b2xkVk5vZGUgfHwgRU1QVFlfT0JKLFxuXHRcdEVNUFRZX09CSixcblx0XHRwYXJlbnREb20ub3duZXJTVkdFbGVtZW50ICE9PSB1bmRlZmluZWQsXG5cdFx0cmVwbGFjZU5vZGUgJiYgIWlzSHlkcmF0aW5nXG5cdFx0XHQ/IFtyZXBsYWNlTm9kZV1cblx0XHRcdDogb2xkVk5vZGVcblx0XHRcdD8gbnVsbFxuXHRcdFx0OiBwYXJlbnREb20uY2hpbGROb2Rlcy5sZW5ndGhcblx0XHRcdD8gRU1QVFlfQVJSLnNsaWNlLmNhbGwocGFyZW50RG9tLmNoaWxkTm9kZXMpXG5cdFx0XHQ6IG51bGwsXG5cdFx0Y29tbWl0UXVldWUsXG5cdFx0cmVwbGFjZU5vZGUgfHwgRU1QVFlfT0JKLFxuXHRcdGlzSHlkcmF0aW5nXG5cdCk7XG5cblx0Ly8gRmx1c2ggYWxsIHF1ZXVlZCBlZmZlY3RzXG5cdGNvbW1pdFJvb3QoY29tbWl0UXVldWUsIHZub2RlKTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgYW4gZXhpc3RpbmcgRE9NIGVsZW1lbnQgd2l0aCBkYXRhIGZyb20gYSBQcmVhY3QgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbmRleCcpLkNvbXBvbmVudENoaWxkfSB2bm9kZSBUaGUgdmlydHVhbCBub2RlIHRvIHJlbmRlclxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBwYXJlbnREb20gVGhlIERPTSBlbGVtZW50IHRvXG4gKiB1cGRhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUodm5vZGUsIHBhcmVudERvbSkge1xuXHRyZW5kZXIodm5vZGUsIHBhcmVudERvbSwgSVNfSFlEUkFURSk7XG59XG4iLCAiaW1wb3J0IHsgZW5xdWV1ZVJlbmRlciB9IGZyb20gJy4vY29tcG9uZW50JztcblxuZXhwb3J0IGxldCBpID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlLCBjb250ZXh0SWQpIHtcblx0Y29udGV4dElkID0gJ19fY0MnICsgaSsrO1xuXG5cdGNvbnN0IGNvbnRleHQgPSB7XG5cdFx0X2lkOiBjb250ZXh0SWQsXG5cdFx0X2RlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuXHRcdENvbnN1bWVyKHByb3BzLCBjb250ZXh0VmFsdWUpIHtcblx0XHRcdC8vIHJldHVybiBwcm9wcy5jaGlsZHJlbihcblx0XHRcdC8vIFx0Y29udGV4dFtjb250ZXh0SWRdID8gY29udGV4dFtjb250ZXh0SWRdLnByb3BzLnZhbHVlIDogZGVmYXVsdFZhbHVlXG5cdFx0XHQvLyApO1xuXHRcdFx0cmV0dXJuIHByb3BzLmNoaWxkcmVuKGNvbnRleHRWYWx1ZSk7XG5cdFx0fSxcblx0XHRQcm92aWRlcihwcm9wcywgc3VicywgY3R4KSB7XG5cdFx0XHRpZiAoIXRoaXMuZ2V0Q2hpbGRDb250ZXh0KSB7XG5cdFx0XHRcdHN1YnMgPSBbXTtcblx0XHRcdFx0Y3R4ID0ge307XG5cdFx0XHRcdGN0eFtjb250ZXh0SWRdID0gdGhpcztcblxuXHRcdFx0XHR0aGlzLmdldENoaWxkQ29udGV4dCA9ICgpID0+IGN0eDtcblxuXHRcdFx0XHR0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uKF9wcm9wcykge1xuXHRcdFx0XHRcdGlmICh0aGlzLnByb3BzLnZhbHVlICE9PSBfcHJvcHMudmFsdWUpIHtcblx0XHRcdFx0XHRcdC8vIEkgdGhpbmsgdGhlIGZvcmNlZCB2YWx1ZSBwcm9wYWdhdGlvbiBoZXJlIHdhcyBvbmx5IG5lZWRlZCB3aGVuIGBvcHRpb25zLmRlYm91bmNlUmVuZGVyaW5nYCB3YXMgYmVpbmcgYnlwYXNzZWQ6XG5cdFx0XHRcdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vcHJlYWN0anMvcHJlYWN0L2NvbW1pdC80ZDMzOWZiODAzYmVhMDllOWYxOThhYmYzOGNhMWJmOGVhNGI3NzcxI2RpZmYtNTQ2ODJjZTM4MDkzNWE3MTdlNDFiOGJmYzU0NzM3ZjZSMzU4XG5cdFx0XHRcdFx0XHQvLyBJbiB0aG9zZSBjYXNlcyB0aG91Z2gsIGV2ZW4gd2l0aCB0aGUgdmFsdWUgY29ycmVjdGVkLCB3ZSdyZSBkb3VibGUtcmVuZGVyaW5nIGFsbCBub2Rlcy5cblx0XHRcdFx0XHRcdC8vIEl0IG1pZ2h0IGJlIGJldHRlciB0byBqdXN0IHRlbGwgZm9sa3Mgbm90IHRvIHVzZSBmb3JjZS1zeW5jIG1vZGUuXG5cdFx0XHRcdFx0XHQvLyBDdXJyZW50bHksIHVzaW5nIGB1c2VDb250ZXh0KClgIGluIGEgY2xhc3MgY29tcG9uZW50IHdpbGwgb3ZlcndyaXRlIGl0cyBgdGhpcy5jb250ZXh0YCB2YWx1ZS5cblx0XHRcdFx0XHRcdC8vIHN1YnMuc29tZShjID0+IHtcblx0XHRcdFx0XHRcdC8vIFx0Yy5jb250ZXh0ID0gX3Byb3BzLnZhbHVlO1xuXHRcdFx0XHRcdFx0Ly8gXHRlbnF1ZXVlUmVuZGVyKGMpO1xuXHRcdFx0XHRcdFx0Ly8gfSk7XG5cblx0XHRcdFx0XHRcdC8vIHN1YnMuc29tZShjID0+IHtcblx0XHRcdFx0XHRcdC8vIFx0Yy5jb250ZXh0W2NvbnRleHRJZF0gPSBfcHJvcHMudmFsdWU7XG5cdFx0XHRcdFx0XHQvLyBcdGVucXVldWVSZW5kZXIoYyk7XG5cdFx0XHRcdFx0XHQvLyB9KTtcblx0XHRcdFx0XHRcdHN1YnMuc29tZShlbnF1ZXVlUmVuZGVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0dGhpcy5zdWIgPSBjID0+IHtcblx0XHRcdFx0XHRzdWJzLnB1c2goYyk7XG5cdFx0XHRcdFx0bGV0IG9sZCA9IGMuY29tcG9uZW50V2lsbFVubW91bnQ7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsVW5tb3VudCA9ICgpID0+IHtcblx0XHRcdFx0XHRcdHN1YnMuc3BsaWNlKHN1YnMuaW5kZXhPZihjKSwgMSk7XG5cdFx0XHRcdFx0XHRpZiAob2xkKSBvbGQuY2FsbChjKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcHJvcHMuY2hpbGRyZW47XG5cdFx0fVxuXHR9O1xuXG5cdC8vIERldnRvb2xzIG5lZWRzIGFjY2VzcyB0byB0aGUgY29udGV4dCBvYmplY3Qgd2hlbiBpdFxuXHQvLyBlbmNvdW50ZXJzIGEgUHJvdmlkZXIuIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIHN1cHBvcnRcblx0Ly8gc2V0dGluZyBgZGlzcGxheU5hbWVgIG9uIHRoZSBjb250ZXh0IG9iamVjdCBpbnN0ZWFkXG5cdC8vIG9mIG9uIHRoZSBjb21wb25lbnQgaXRzZWxmLiBTZWU6XG5cdC8vIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9jb250ZXh0Lmh0bWwjY29udGV4dGRpc3BsYXluYW1lXG5cblx0cmV0dXJuIChjb250ZXh0LlByb3ZpZGVyLl9jb250ZXh0UmVmID0gY29udGV4dC5Db25zdW1lci5jb250ZXh0VHlwZSA9IGNvbnRleHQpO1xufVxuIiwgIi8qKlxuICogQXNzaWduIHByb3BlcnRpZXMgZnJvbSBgcHJvcHNgIHRvIGBvYmpgXG4gKiBAdGVtcGxhdGUgTywgUCBUaGUgb2JqIGFuZCBwcm9wcyB0eXBlc1xuICogQHBhcmFtIHtPfSBvYmogVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG9cbiAqIEBwYXJhbSB7UH0gcHJvcHMgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHJldHVybnMge08gJiBQfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKG9iaiwgcHJvcHMpIHtcblx0Zm9yIChsZXQgaSBpbiBwcm9wcykgb2JqW2ldID0gcHJvcHNbaV07XG5cdHJldHVybiAvKiogQHR5cGUge08gJiBQfSAqLyAob2JqKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBjaGlsZCBub2RlIGZyb20gaXRzIHBhcmVudCBpZiBhdHRhY2hlZC4gVGhpcyBpcyBhIHdvcmthcm91bmQgZm9yXG4gKiBJRTExIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydCBgRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlKClgLiBVc2luZyB0aGlzIGZ1bmN0aW9uXG4gKiBpcyBzbWFsbGVyIHRoYW4gaW5jbHVkaW5nIGEgZGVkaWNhdGVkIHBvbHlmaWxsLlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBub2RlIHRvIHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG5cdGxldCBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHRpZiAocGFyZW50Tm9kZSkgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbn1cbiIsICJpbXBvcnQgeyBkaWZmLCB1bm1vdW50LCBhcHBseVJlZiB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUsIEZyYWdtZW50IH0gZnJvbSAnLi4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IHsgRU1QVFlfT0JKLCBFTVBUWV9BUlIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgZ2V0RG9tU2libGluZyB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5cbi8qKlxuICogRGlmZiB0aGUgY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgd2hvc2VcbiAqIGNoaWxkcmVuIGFyZSBiZWluZyBkaWZmZWRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbmRleCcpLkNvbXBvbmVudENoaWxkcmVuW119IHJlbmRlclJlc3VsdFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG5ld1BhcmVudFZOb2RlIFRoZSBuZXcgdmlydHVhbFxuICogbm9kZSB3aG9zZSBjaGlsZHJlbiBzaG91bGQgYmUgZGlmZidlZCBhZ2FpbnN0IG9sZFBhcmVudFZOb2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gb2xkUGFyZW50Vk5vZGUgVGhlIG9sZCB2aXJ0dWFsXG4gKiBub2RlIHdob3NlIGNoaWxkcmVuIHNob3VsZCBiZSBkaWZmJ2VkIGFnYWluc3QgbmV3UGFyZW50Vk5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBnbG9iYWxDb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0IC0gbW9kaWZpZWQgYnkgZ2V0Q2hpbGRDb250ZXh0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgRE9NIG5vZGUgaXMgYW4gU1ZHIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnQ+fSBleGNlc3NEb21DaGlsZHJlblxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzXG4gKiB3aGljaCBoYXZlIGNhbGxiYWNrcyB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtOb2RlIHwgVGV4dH0gb2xkRG9tIFRoZSBjdXJyZW50IGF0dGFjaGVkIERPTVxuICogZWxlbWVudCBhbnkgbmV3IGRvbSBlbGVtZW50cyBzaG91bGQgYmUgcGxhY2VkIGFyb3VuZC4gTGlrZWx5IGBudWxsYCBvbiBmaXJzdFxuICogcmVuZGVyIChleGNlcHQgd2hlbiBoeWRyYXRpbmcpLiBDYW4gYmUgYSBzaWJsaW5nIERPTSBlbGVtZW50IHdoZW4gZGlmZmluZ1xuICogRnJhZ21lbnRzIHRoYXQgaGF2ZSBzaWJsaW5ncy4gSW4gbW9zdCBjYXNlcywgaXQgc3RhcnRzIG91dCBhcyBgb2xkQ2hpbGRyZW5bMF0uX2RvbWAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzSHlkcmF0aW5nIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZDaGlsZHJlbihcblx0cGFyZW50RG9tLFxuXHRyZW5kZXJSZXN1bHQsXG5cdG5ld1BhcmVudFZOb2RlLFxuXHRvbGRQYXJlbnRWTm9kZSxcblx0Z2xvYmFsQ29udGV4dCxcblx0aXNTdmcsXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRjb21taXRRdWV1ZSxcblx0b2xkRG9tLFxuXHRpc0h5ZHJhdGluZ1xuKSB7XG5cdGxldCBpLCBqLCBvbGRWTm9kZSwgY2hpbGRWTm9kZSwgbmV3RG9tLCBmaXJzdENoaWxkRG9tLCByZWZzO1xuXG5cdC8vIFRoaXMgaXMgYSBjb21wcmVzc2lvbiBvZiBvbGRQYXJlbnRWTm9kZSE9bnVsbCAmJiBvbGRQYXJlbnRWTm9kZSAhPSBFTVBUWV9PQkogJiYgb2xkUGFyZW50Vk5vZGUuX2NoaWxkcmVuIHx8IEVNUFRZX0FSUlxuXHQvLyBhcyBFTVBUWV9PQkouX2NoaWxkcmVuIHNob3VsZCBiZSBgdW5kZWZpbmVkYC5cblx0bGV0IG9sZENoaWxkcmVuID0gKG9sZFBhcmVudFZOb2RlICYmIG9sZFBhcmVudFZOb2RlLl9jaGlsZHJlbikgfHwgRU1QVFlfQVJSO1xuXG5cdGxldCBvbGRDaGlsZHJlbkxlbmd0aCA9IG9sZENoaWxkcmVuLmxlbmd0aDtcblxuXHQvLyBPbmx5IGluIHZlcnkgc3BlY2lmaWMgcGxhY2VzIHNob3VsZCB0aGlzIGxvZ2ljIGJlIGludm9rZWQgKHRvcCBsZXZlbCBgcmVuZGVyYCBhbmQgYGRpZmZFbGVtZW50Tm9kZXNgKS5cblx0Ly8gSSdtIHVzaW5nIGBFTVBUWV9PQkpgIHRvIHNpZ25hbCB3aGVuIGBkaWZmQ2hpbGRyZW5gIGlzIGludm9rZWQgaW4gdGhlc2Ugc2l0dWF0aW9ucy4gSSBjYW4ndCB1c2UgYG51bGxgXG5cdC8vIGZvciB0aGlzIHB1cnBvc2UsIGJlY2F1c2UgYG51bGxgIGlzIGEgdmFsaWQgdmFsdWUgZm9yIGBvbGREb21gIHdoaWNoIGNhbiBtZWFuIHRvIHNraXAgdG8gdGhpcyBsb2dpY1xuXHQvLyAoZS5nLiBpZiBtb3VudGluZyBhIG5ldyB0cmVlIGluIHdoaWNoIHRoZSBvbGQgRE9NIHNob3VsZCBiZSBpZ25vcmVkICh1c3VhbGx5IGZvciBGcmFnbWVudHMpLlxuXHRpZiAob2xkRG9tID09IEVNUFRZX09CSikge1xuXHRcdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0XHRvbGREb20gPSBleGNlc3NEb21DaGlsZHJlblswXTtcblx0XHR9IGVsc2UgaWYgKG9sZENoaWxkcmVuTGVuZ3RoKSB7XG5cdFx0XHRvbGREb20gPSBnZXREb21TaWJsaW5nKG9sZFBhcmVudFZOb2RlLCAwKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b2xkRG9tID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRuZXdQYXJlbnRWTm9kZS5fY2hpbGRyZW4gPSBbXTtcblx0Zm9yIChpID0gMDsgaSA8IHJlbmRlclJlc3VsdC5sZW5ndGg7IGkrKykge1xuXHRcdGNoaWxkVk5vZGUgPSByZW5kZXJSZXN1bHRbaV07XG5cblx0XHRpZiAoY2hpbGRWTm9kZSA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZFZOb2RlID09ICdib29sZWFuJykge1xuXHRcdFx0Y2hpbGRWTm9kZSA9IG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbltpXSA9IG51bGw7XG5cdFx0fVxuXHRcdC8vIElmIHRoaXMgbmV3Vk5vZGUgaXMgYmVpbmcgcmV1c2VkIChlLmcuIDxkaXY+e3JldXNlfXtyZXVzZX08L2Rpdj4pIGluIHRoZSBzYW1lIGRpZmYsXG5cdFx0Ly8gb3Igd2UgYXJlIHJlbmRlcmluZyBhIGNvbXBvbmVudCAoZS5nLiBzZXRTdGF0ZSkgY29weSB0aGUgb2xkVk5vZGVzIHNvIGl0IGNhbiBoYXZlXG5cdFx0Ly8gaXQncyBvd24gRE9NICYgZXRjLiBwb2ludGVyc1xuXHRcdGVsc2UgaWYgKHR5cGVvZiBjaGlsZFZOb2RlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBjaGlsZFZOb2RlID09ICdudW1iZXInKSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdGNoaWxkVk5vZGVcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoaWxkVk5vZGUpKSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdEZyYWdtZW50LFxuXHRcdFx0XHR7IGNoaWxkcmVuOiBjaGlsZFZOb2RlIH0sXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdG51bGxcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChjaGlsZFZOb2RlLl9kb20gIT0gbnVsbCB8fCBjaGlsZFZOb2RlLl9jb21wb25lbnQgIT0gbnVsbCkge1xuXHRcdFx0Y2hpbGRWTm9kZSA9IG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbltpXSA9IGNyZWF0ZVZOb2RlKFxuXHRcdFx0XHRjaGlsZFZOb2RlLnR5cGUsXG5cdFx0XHRcdGNoaWxkVk5vZGUucHJvcHMsXG5cdFx0XHRcdGNoaWxkVk5vZGUua2V5LFxuXHRcdFx0XHRudWxsLFxuXHRcdFx0XHRjaGlsZFZOb2RlLl9vcmlnaW5hbFxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2hpbGRWTm9kZSA9IG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbltpXSA9IGNoaWxkVk5vZGU7XG5cdFx0fVxuXG5cdFx0Ly8gVGVyc2VyIHJlbW92ZXMgdGhlIGBjb250aW51ZWAgaGVyZSBhbmQgd3JhcHMgdGhlIGxvb3AgYm9keVxuXHRcdC8vIGluIGEgYGlmIChjaGlsZFZOb2RlKSB7IC4uLiB9IGNvbmRpdGlvblxuXHRcdGlmIChjaGlsZFZOb2RlID09IG51bGwpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNoaWxkVk5vZGUuX3BhcmVudCA9IG5ld1BhcmVudFZOb2RlO1xuXHRcdGNoaWxkVk5vZGUuX2RlcHRoID0gbmV3UGFyZW50Vk5vZGUuX2RlcHRoICsgMTtcblxuXHRcdC8vIENoZWNrIGlmIHdlIGZpbmQgYSBjb3JyZXNwb25kaW5nIGVsZW1lbnQgaW4gb2xkQ2hpbGRyZW4uXG5cdFx0Ly8gSWYgZm91bmQsIGRlbGV0ZSB0aGUgYXJyYXkgaXRlbSBieSBzZXR0aW5nIHRvIGB1bmRlZmluZWRgLlxuXHRcdC8vIFdlIHVzZSBgdW5kZWZpbmVkYCwgYXMgYG51bGxgIGlzIHJlc2VydmVkIGZvciBlbXB0eSBwbGFjZWhvbGRlcnNcblx0XHQvLyAoaG9sZXMpLlxuXHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG5cblx0XHRpZiAoXG5cdFx0XHRvbGRWTm9kZSA9PT0gbnVsbCB8fFxuXHRcdFx0KG9sZFZOb2RlICYmXG5cdFx0XHRcdGNoaWxkVk5vZGUua2V5ID09IG9sZFZOb2RlLmtleSAmJlxuXHRcdFx0XHRjaGlsZFZOb2RlLnR5cGUgPT09IG9sZFZOb2RlLnR5cGUpXG5cdFx0KSB7XG5cdFx0XHRvbGRDaGlsZHJlbltpXSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRWl0aGVyIG9sZFZOb2RlID09PSB1bmRlZmluZWQgb3Igb2xkQ2hpbGRyZW5MZW5ndGggPiAwLFxuXHRcdFx0Ly8gc28gYWZ0ZXIgdGhpcyBsb29wIG9sZFZOb2RlID09IG51bGwgb3Igb2xkVk5vZGUgaXMgYSB2YWxpZCB2YWx1ZS5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBvbGRDaGlsZHJlbkxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5bal07XG5cdFx0XHRcdC8vIElmIGNoaWxkVk5vZGUgaXMgdW5rZXllZCwgd2Ugb25seSBtYXRjaCBzaW1pbGFybHkgdW5rZXllZCBub2Rlcywgb3RoZXJ3aXNlIHdlIG1hdGNoIGJ5IGtleS5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIG1hdGNoIGJ5IHR5cGUgKGluIGVpdGhlciBjYXNlKS5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG9sZFZOb2RlICYmXG5cdFx0XHRcdFx0Y2hpbGRWTm9kZS5rZXkgPT0gb2xkVk5vZGUua2V5ICYmXG5cdFx0XHRcdFx0Y2hpbGRWTm9kZS50eXBlID09PSBvbGRWTm9kZS50eXBlXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdG9sZENoaWxkcmVuW2pdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9sZFZOb2RlID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRvbGRWTm9kZSA9IG9sZFZOb2RlIHx8IEVNUFRZX09CSjtcblxuXHRcdC8vIE1vcnBoIHRoZSBvbGQgZWxlbWVudCBpbnRvIHRoZSBuZXcgb25lLCBidXQgZG9uJ3QgYXBwZW5kIGl0IHRvIHRoZSBkb20geWV0XG5cdFx0bmV3RG9tID0gZGlmZihcblx0XHRcdHBhcmVudERvbSxcblx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRvbGRWTm9kZSxcblx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRpc1N2Zyxcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRvbGREb20sXG5cdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdCk7XG5cblx0XHRpZiAoKGogPSBjaGlsZFZOb2RlLnJlZikgJiYgb2xkVk5vZGUucmVmICE9IGopIHtcblx0XHRcdGlmICghcmVmcykgcmVmcyA9IFtdO1xuXHRcdFx0aWYgKG9sZFZOb2RlLnJlZikgcmVmcy5wdXNoKG9sZFZOb2RlLnJlZiwgbnVsbCwgY2hpbGRWTm9kZSk7XG5cdFx0XHRyZWZzLnB1c2goaiwgY2hpbGRWTm9kZS5fY29tcG9uZW50IHx8IG5ld0RvbSwgY2hpbGRWTm9kZSk7XG5cdFx0fVxuXG5cdFx0aWYgKG5ld0RvbSAhPSBudWxsKSB7XG5cdFx0XHRpZiAoZmlyc3RDaGlsZERvbSA9PSBudWxsKSB7XG5cdFx0XHRcdGZpcnN0Q2hpbGREb20gPSBuZXdEb207XG5cdFx0XHR9XG5cblx0XHRcdG9sZERvbSA9IHBsYWNlQ2hpbGQoXG5cdFx0XHRcdHBhcmVudERvbSxcblx0XHRcdFx0Y2hpbGRWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdG9sZENoaWxkcmVuLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0bmV3RG9tLFxuXHRcdFx0XHRvbGREb21cblx0XHRcdCk7XG5cblx0XHRcdC8vIEJyb3dzZXJzIHdpbGwgaW5mZXIgYW4gb3B0aW9uJ3MgYHZhbHVlYCBmcm9tIGB0ZXh0Q29udGVudGAgd2hlblxuXHRcdFx0Ly8gbm8gdmFsdWUgaXMgcHJlc2VudC4gVGhpcyBlc3NlbnRpYWxseSBieXBhc3NlcyBvdXIgY29kZSB0byBzZXQgaXRcblx0XHRcdC8vIGxhdGVyIGluIGBkaWZmKClgLiBJdCB3b3JrcyBmaW5lIGluIGFsbCBicm93c2VycyBleGNlcHQgZm9yIElFMTFcblx0XHRcdC8vIHdoZXJlIGl0IGJyZWFrcyBzZXR0aW5nIGBzZWxlY3QudmFsdWVgLiBUaGVyZSBpdCB3aWxsIGJlIGFsd2F5cyBzZXRcblx0XHRcdC8vIHRvIGFuIGVtcHR5IHN0cmluZy4gUmUtYXBwbHlpbmcgYW4gb3B0aW9ucyB2YWx1ZSB3aWxsIGZpeCB0aGF0LCBzb1xuXHRcdFx0Ly8gdGhlcmUgYXJlIHByb2JhYmx5IHNvbWUgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmVzIHRoYXQgYXJlbid0XG5cdFx0XHQvLyB1cGRhdGVkIHByb3Blcmx5LlxuXHRcdFx0Ly9cblx0XHRcdC8vIFRvIGZpeCBpdCB3ZSBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIGluZmVycmVkIHZhbHVlLCBzbyB0aGF0IG91ciBvd25cblx0XHRcdC8vIHZhbHVlIGNoZWNrIGluIGBkaWZmKClgIHdvbid0IGJlIHNraXBwZWQuXG5cdFx0XHRpZiAoIWlzSHlkcmF0aW5nICYmIG5ld1BhcmVudFZOb2RlLnR5cGUgPT0gJ29wdGlvbicpIHtcblx0XHRcdFx0cGFyZW50RG9tLnZhbHVlID0gJyc7XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuZXdQYXJlbnRWTm9kZS50eXBlID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0Ly8gQmVjYXVzZSB0aGUgbmV3UGFyZW50Vk5vZGUgaXMgRnJhZ21lbnQtbGlrZSwgd2UgbmVlZCB0byBzZXQgaXQnc1xuXHRcdFx0XHQvLyBfbmV4dERvbSBwcm9wZXJ0eSB0byB0aGUgbmV4dFNpYmxpbmcgb2YgaXRzIGxhc3QgY2hpbGQgRE9NIG5vZGUuXG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIGBvbGREb21gIGNvbnRhaW5zIHRoZSBjb3JyZWN0IHZhbHVlIGhlcmUgYmVjYXVzZSBpZiB0aGUgbGFzdCBjaGlsZFxuXHRcdFx0XHQvLyBpcyBhIEZyYWdtZW50LWxpa2UsIHRoZW4gb2xkRG9tIGhhcyBhbHJlYWR5IGJlZW4gc2V0IHRvIHRoYXQgY2hpbGQncyBfbmV4dERvbS5cblx0XHRcdFx0Ly8gSWYgdGhlIGxhc3QgY2hpbGQgaXMgYSBET00gVk5vZGUsIHRoZW4gb2xkRG9tIHdpbGwgYmUgc2V0IHRvIHRoYXQgRE9NXG5cdFx0XHRcdC8vIG5vZGUncyBuZXh0U2libGluZy5cblx0XHRcdFx0bmV3UGFyZW50Vk5vZGUuX25leHREb20gPSBvbGREb207XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdG9sZERvbSAmJlxuXHRcdFx0b2xkVk5vZGUuX2RvbSA9PSBvbGREb20gJiZcblx0XHRcdG9sZERvbS5wYXJlbnROb2RlICE9IHBhcmVudERvbVxuXHRcdCkge1xuXHRcdFx0Ly8gVGhlIGFib3ZlIGNvbmRpdGlvbiBpcyB0byBoYW5kbGUgbnVsbCBwbGFjZWhvbGRlcnMuIFNlZSB0ZXN0IGluIHBsYWNlaG9sZGVyLnRlc3QuanM6XG5cdFx0XHQvLyBgZWZmaWNpZW50bHkgcmVwbGFjZSBudWxsIHBsYWNlaG9sZGVycyBpbiBwYXJlbnQgcmVyZW5kZXJzYFxuXHRcdFx0b2xkRG9tID0gZ2V0RG9tU2libGluZyhvbGRWTm9kZSk7XG5cdFx0fVxuXHR9XG5cblx0bmV3UGFyZW50Vk5vZGUuX2RvbSA9IGZpcnN0Q2hpbGREb207XG5cblx0Ly8gUmVtb3ZlIGNoaWxkcmVuIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIGFueSB2bm9kZS5cblx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwgJiYgdHlwZW9mIG5ld1BhcmVudFZOb2RlLnR5cGUgIT0gJ2Z1bmN0aW9uJykge1xuXHRcdGZvciAoaSA9IGV4Y2Vzc0RvbUNoaWxkcmVuLmxlbmd0aDsgaS0tOyApIHtcblx0XHRcdGlmIChleGNlc3NEb21DaGlsZHJlbltpXSAhPSBudWxsKSByZW1vdmVOb2RlKGV4Y2Vzc0RvbUNoaWxkcmVuW2ldKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgcmVtYWluaW5nIG9sZENoaWxkcmVuIGlmIHRoZXJlIGFyZSBhbnkuXG5cdGZvciAoaSA9IG9sZENoaWxkcmVuTGVuZ3RoOyBpLS07ICkge1xuXHRcdGlmIChvbGRDaGlsZHJlbltpXSAhPSBudWxsKSB1bm1vdW50KG9sZENoaWxkcmVuW2ldLCBvbGRDaGlsZHJlbltpXSk7XG5cdH1cblxuXHQvLyBTZXQgcmVmcyBvbmx5IGFmdGVyIHVubW91bnRcblx0aWYgKHJlZnMpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgcmVmcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0YXBwbHlSZWYocmVmc1tpXSwgcmVmc1srK2ldLCByZWZzWysraV0pO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEZsYXR0ZW4gYW5kIGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbmRleCcpLkNvbXBvbmVudENoaWxkcmVufSBjaGlsZHJlbiBUaGUgdW5mbGF0dGVuZWRcbiAqIGNoaWxkcmVuIG9mIGEgdmlydHVhbCBub2RlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0NoaWxkQXJyYXkoY2hpbGRyZW4sIG91dCkge1xuXHRvdXQgPSBvdXQgfHwgW107XG5cdGlmIChjaGlsZHJlbiA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZHJlbiA9PSAnYm9vbGVhbicpIHtcblx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuXHRcdGNoaWxkcmVuLnNvbWUoY2hpbGQgPT4ge1xuXHRcdFx0dG9DaGlsZEFycmF5KGNoaWxkLCBvdXQpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdG91dC5wdXNoKGNoaWxkcmVuKTtcblx0fVxuXHRyZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxhY2VDaGlsZChcblx0cGFyZW50RG9tLFxuXHRjaGlsZFZOb2RlLFxuXHRvbGRWTm9kZSxcblx0b2xkQ2hpbGRyZW4sXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRuZXdEb20sXG5cdG9sZERvbVxuKSB7XG5cdGxldCBuZXh0RG9tO1xuXHRpZiAoY2hpbGRWTm9kZS5fbmV4dERvbSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Ly8gT25seSBGcmFnbWVudHMgb3IgY29tcG9uZW50cyB0aGF0IHJldHVybiBGcmFnbWVudCBsaWtlIFZOb2RlcyB3aWxsXG5cdFx0Ly8gaGF2ZSBhIG5vbi11bmRlZmluZWQgX25leHREb20uIENvbnRpbnVlIHRoZSBkaWZmIGZyb20gdGhlIHNpYmxpbmdcblx0XHQvLyBvZiBsYXN0IERPTSBjaGlsZCBvZiB0aGlzIGNoaWxkIFZOb2RlXG5cdFx0bmV4dERvbSA9IGNoaWxkVk5vZGUuX25leHREb207XG5cblx0XHQvLyBFYWdlcmx5IGNsZWFudXAgX25leHREb20uIFdlIGRvbid0IG5lZWQgdG8gcGVyc2lzdCB0aGUgdmFsdWUgYmVjYXVzZVxuXHRcdC8vIGl0IGlzIG9ubHkgdXNlZCBieSBgZGlmZkNoaWxkcmVuYCB0byBkZXRlcm1pbmUgd2hlcmUgdG8gcmVzdW1lIHRoZSBkaWZmIGFmdGVyXG5cdFx0Ly8gZGlmZmluZyBDb21wb25lbnRzIGFuZCBGcmFnbWVudHMuIE9uY2Ugd2Ugc3RvcmUgaXQgdGhlIG5leHRET00gbG9jYWwgdmFyLCB3ZVxuXHRcdC8vIGNhbiBjbGVhbiB1cCB0aGUgcHJvcGVydHlcblx0XHRjaGlsZFZOb2RlLl9uZXh0RG9tID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKFxuXHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID09IG9sZFZOb2RlIHx8XG5cdFx0bmV3RG9tICE9IG9sZERvbSB8fFxuXHRcdG5ld0RvbS5wYXJlbnROb2RlID09IG51bGxcblx0KSB7XG5cdFx0Ly8gTk9URTogZXhjZXNzRG9tQ2hpbGRyZW49PW9sZFZOb2RlIGFib3ZlOlxuXHRcdC8vIFRoaXMgaXMgYSBjb21wcmVzc2lvbiBvZiBleGNlc3NEb21DaGlsZHJlbj09bnVsbCAmJiBvbGRWTm9kZT09bnVsbCFcblx0XHQvLyBUaGUgdmFsdWVzIG9ubHkgaGF2ZSB0aGUgc2FtZSB0eXBlIHdoZW4gYG51bGxgLlxuXG5cdFx0b3V0ZXI6IGlmIChvbGREb20gPT0gbnVsbCB8fCBvbGREb20ucGFyZW50Tm9kZSAhPT0gcGFyZW50RG9tKSB7XG5cdFx0XHRwYXJlbnREb20uYXBwZW5kQ2hpbGQobmV3RG9tKTtcblx0XHRcdG5leHREb20gPSBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBgajxvbGRDaGlsZHJlbkxlbmd0aDsgais9MmAgaXMgYW4gYWx0ZXJuYXRpdmUgdG8gYGorKzxvbGRDaGlsZHJlbkxlbmd0aC8yYFxuXHRcdFx0Zm9yIChcblx0XHRcdFx0bGV0IHNpYkRvbSA9IG9sZERvbSwgaiA9IDA7XG5cdFx0XHRcdChzaWJEb20gPSBzaWJEb20ubmV4dFNpYmxpbmcpICYmIGogPCBvbGRDaGlsZHJlbi5sZW5ndGg7XG5cdFx0XHRcdGogKz0gMlxuXHRcdFx0KSB7XG5cdFx0XHRcdGlmIChzaWJEb20gPT0gbmV3RG9tKSB7XG5cdFx0XHRcdFx0YnJlYWsgb3V0ZXI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHBhcmVudERvbS5pbnNlcnRCZWZvcmUobmV3RG9tLCBvbGREb20pO1xuXHRcdFx0bmV4dERvbSA9IG9sZERvbTtcblx0XHR9XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIHByZS1jYWxjdWxhdGVkIHRoZSBuZXh0RE9NIG5vZGUsIHVzZSBpdC4gRWxzZSBjYWxjdWxhdGUgaXQgbm93XG5cdC8vIFN0cmljdGx5IGNoZWNrIGZvciBgdW5kZWZpbmVkYCBoZXJlIGN1eiBgbnVsbGAgaXMgYSB2YWxpZCB2YWx1ZSBvZiBgbmV4dERvbWAuXG5cdC8vIFNlZSBtb3JlIGRldGFpbCBpbiBjcmVhdGUtZWxlbWVudC5qczpjcmVhdGVWTm9kZVxuXHRpZiAobmV4dERvbSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0b2xkRG9tID0gbmV4dERvbTtcblx0fSBlbHNlIHtcblx0XHRvbGREb20gPSBuZXdEb20ubmV4dFNpYmxpbmc7XG5cdH1cblxuXHRyZXR1cm4gb2xkRG9tO1xufVxuIiwgImltcG9ydCB7IElTX05PTl9ESU1FTlNJT05BTCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcblxuLyoqXG4gKiBEaWZmIHRoZSBvbGQgYW5kIG5ldyBwcm9wZXJ0aWVzIG9mIGEgVk5vZGUgYW5kIGFwcGx5IGNoYW5nZXMgdG8gdGhlIERPTSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBub2RlIHRvIGFwcGx5XG4gKiBjaGFuZ2VzIHRvXG4gKiBAcGFyYW0ge29iamVjdH0gbmV3UHJvcHMgVGhlIG5ldyBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IG9sZFByb3BzIFRoZSBvbGQgcHJvcHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBub2RlIGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGh5ZHJhdGUgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvbiBtb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmUHJvcHMoZG9tLCBuZXdQcm9wcywgb2xkUHJvcHMsIGlzU3ZnLCBoeWRyYXRlKSB7XG5cdGxldCBpO1xuXG5cdGZvciAoaSBpbiBvbGRQcm9wcykge1xuXHRcdGlmIChpICE9PSAnY2hpbGRyZW4nICYmIGkgIT09ICdrZXknICYmICEoaSBpbiBuZXdQcm9wcykpIHtcblx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgbnVsbCwgb2xkUHJvcHNbaV0sIGlzU3ZnKTtcblx0XHR9XG5cdH1cblxuXHRmb3IgKGkgaW4gbmV3UHJvcHMpIHtcblx0XHRpZiAoXG5cdFx0XHQoIWh5ZHJhdGUgfHwgdHlwZW9mIG5ld1Byb3BzW2ldID09ICdmdW5jdGlvbicpICYmXG5cdFx0XHRpICE9PSAnY2hpbGRyZW4nICYmXG5cdFx0XHRpICE9PSAna2V5JyAmJlxuXHRcdFx0aSAhPT0gJ3ZhbHVlJyAmJlxuXHRcdFx0aSAhPT0gJ2NoZWNrZWQnICYmXG5cdFx0XHRvbGRQcm9wc1tpXSAhPT0gbmV3UHJvcHNbaV1cblx0XHQpIHtcblx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgbmV3UHJvcHNbaV0sIG9sZFByb3BzW2ldLCBpc1N2Zyk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBrZXksIHZhbHVlKSB7XG5cdC8vIGlmICghKGtleSBpbiBzdHlsZSkpIHsgIC8vIC0zYlxuXHQvLyBpZiAoa2V5IDwgJy4nKSB7ICAvLyAtMWJcblx0aWYgKGtleVswXSA9PT0gJy0nKSB7XG5cdFx0c3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSk7XG5cdH0gZWxzZSBpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdHN0eWxlW2tleV0gPSAnJztcblx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT0gJ251bWJlcicgfHwgSVNfTk9OX0RJTUVOU0lPTkFMLnRlc3Qoa2V5KSkge1xuXHRcdHN0eWxlW2tleV0gPSB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZVtrZXldID0gdmFsdWUgKyAncHgnO1xuXHR9XG59XG5cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgdmFsdWUgb24gYSBET00gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gbm9kZSB0byBtb2RpZnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXRcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldCB0aGUgcHJvcGVydHkgdG9cbiAqIEBwYXJhbSB7Kn0gb2xkVmFsdWUgVGhlIG9sZCB2YWx1ZSB0aGUgcHJvcGVydHkgaGFkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgRE9NIG5vZGUgaXMgYW4gU1ZHIG5vZGUgb3Igbm90XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcm9wZXJ0eShkb20sIG5hbWUsIHZhbHVlLCBvbGRWYWx1ZSwgaXNTdmcpIHtcblx0bGV0IHVzZUNhcHR1cmUsIG5hbWVMb3dlcjtcblxuXHRpZiAoaXNTdmcgJiYgbmFtZSA9PSAnY2xhc3NOYW1lJykgbmFtZSA9ICdjbGFzcyc7XG5cblx0Ly8gaWYgKGlzU3ZnKSB7XG5cdC8vIFx0aWYgKG5hbWUgPT09ICdjbGFzc05hbWUnKSBuYW1lID0gJ2NsYXNzJztcblx0Ly8gfSBlbHNlIGlmIChuYW1lID09PSAnY2xhc3MnKSBuYW1lICs9ICdOYW1lJztcblxuXHRpZiAobmFtZSA9PT0gJ3N0eWxlJykge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcblx0XHRcdGRvbS5zdHlsZSA9IHZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHlwZW9mIG9sZFZhbHVlID09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGRvbS5zdHlsZSA9IG9sZFZhbHVlID0gJyc7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvbGRWYWx1ZSkge1xuXHRcdFx0XHRmb3IgKG5hbWUgaW4gb2xkVmFsdWUpIHtcblx0XHRcdFx0XHRpZiAoISh2YWx1ZSAmJiBuYW1lIGluIHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0c2V0U3R5bGUoZG9tLnN0eWxlLCBuYW1lLCAnJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRmb3IgKG5hbWUgaW4gdmFsdWUpIHtcblx0XHRcdFx0XHRpZiAoIW9sZFZhbHVlIHx8IHZhbHVlW25hbWVdICE9PSBvbGRWYWx1ZVtuYW1lXSkge1xuXHRcdFx0XHRcdFx0c2V0U3R5bGUoZG9tLnN0eWxlLCBuYW1lLCB2YWx1ZVtuYW1lXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdC8vIEJlbmNobWFyayBmb3IgY29tcGFyaXNvbjogaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81NzRjOTU0YmRiOTY1YjlhMDA5NjVhYzZcblx0ZWxzZSBpZiAobmFtZVswXSA9PT0gJ28nICYmIG5hbWVbMV0gPT09ICduJykge1xuXHRcdHVzZUNhcHR1cmUgPSBuYW1lICE9PSAobmFtZSA9IG5hbWUucmVwbGFjZSgvQ2FwdHVyZSQvLCAnJykpO1xuXHRcdG5hbWVMb3dlciA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRpZiAobmFtZUxvd2VyIGluIGRvbSkgbmFtZSA9IG5hbWVMb3dlcjtcblx0XHRuYW1lID0gbmFtZS5zbGljZSgyKTtcblxuXHRcdGlmICghZG9tLl9saXN0ZW5lcnMpIGRvbS5fbGlzdGVuZXJzID0ge307XG5cdFx0ZG9tLl9saXN0ZW5lcnNbbmFtZV0gPSB2YWx1ZTtcblxuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0aWYgKCFvbGRWYWx1ZSkgZG9tLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSwgdXNlQ2FwdHVyZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHksIHVzZUNhcHR1cmUpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChcblx0XHRuYW1lICE9PSAnbGlzdCcgJiZcblx0XHRuYW1lICE9PSAndGFnTmFtZScgJiZcblx0XHQvLyBIVE1MQnV0dG9uRWxlbWVudC5mb3JtIGFuZCBIVE1MSW5wdXRFbGVtZW50LmZvcm0gYXJlIHJlYWQtb25seSBidXQgY2FuIGJlIHNldCB1c2luZ1xuXHRcdC8vIHNldEF0dHJpYnV0ZVxuXHRcdG5hbWUgIT09ICdmb3JtJyAmJlxuXHRcdG5hbWUgIT09ICd0eXBlJyAmJlxuXHRcdG5hbWUgIT09ICdzaXplJyAmJlxuXHRcdG5hbWUgIT09ICdkb3dubG9hZCcgJiZcblx0XHRuYW1lICE9PSAnaHJlZicgJiZcblx0XHQhaXNTdmcgJiZcblx0XHRuYW1lIGluIGRvbVxuXHQpIHtcblx0XHRkb21bbmFtZV0gPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcblx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT0gJ2Z1bmN0aW9uJyAmJiBuYW1lICE9PSAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XG5cdFx0aWYgKG5hbWUgIT09IChuYW1lID0gbmFtZS5yZXBsYWNlKC94bGluazo/LywgJycpKSkge1xuXHRcdFx0aWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG5cdFx0XHRcdGRvbS5yZW1vdmVBdHRyaWJ1dGVOUyhcblx0XHRcdFx0XHQnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsXG5cdFx0XHRcdFx0bmFtZS50b0xvd2VyQ2FzZSgpXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkb20uc2V0QXR0cmlidXRlTlMoXG5cdFx0XHRcdFx0J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuXHRcdFx0XHRcdG5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHR2YWx1ZVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHR2YWx1ZSA9PSBudWxsIHx8XG5cdFx0XHQodmFsdWUgPT09IGZhbHNlICYmXG5cdFx0XHRcdC8vIEFSSUEtYXR0cmlidXRlcyBoYXZlIGEgZGlmZmVyZW50IG5vdGlvbiBvZiBib29sZWFuIHZhbHVlcy5cblx0XHRcdFx0Ly8gVGhlIHZhbHVlIGBmYWxzZWAgaXMgZGlmZmVyZW50IGZyb20gdGhlIGF0dHJpYnV0ZSBub3Rcblx0XHRcdFx0Ly8gZXhpc3Rpbmcgb24gdGhlIERPTSwgc28gd2UgY2FuJ3QgcmVtb3ZlIGl0LiBGb3Igbm9uLWJvb2xlYW5cblx0XHRcdFx0Ly8gQVJJQS1hdHRyaWJ1dGVzIHdlIGNvdWxkIHRyZWF0IGZhbHNlIGFzIGEgcmVtb3ZhbCwgYnV0IHRoZVxuXHRcdFx0XHQvLyBhbW91bnQgb2YgZXhjZXB0aW9ucyB3b3VsZCBjb3N0IHVzIHRvbyBtYW55IGJ5dGVzLiBPbiB0b3Agb2Zcblx0XHRcdFx0Ly8gdGhhdCBvdGhlciBWRE9NIGZyYW1ld29ya3MgYWxzbyBhbHdheXMgc3RyaW5naWZ5IGBmYWxzZWAuXG5cdFx0XHRcdCEvXmFyLy50ZXN0KG5hbWUpKVxuXHRcdCkge1xuXHRcdFx0ZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9tLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogUHJveHkgYW4gZXZlbnQgdG8gaG9va2VkIGV2ZW50IGhhbmRsZXJzXG4gKiBAcGFyYW0ge0V2ZW50fSBlIFRoZSBldmVudCBvYmplY3QgZnJvbSB0aGUgYnJvd3NlclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXZlbnRQcm94eShlKSB7XG5cdHRoaXMuX2xpc3RlbmVyc1tlLnR5cGVdKG9wdGlvbnMuZXZlbnQgPyBvcHRpb25zLmV2ZW50KGUpIDogZSk7XG59XG4iLCAiaW1wb3J0IHsgRU1QVFlfT0JKLCBFTVBUWV9BUlIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50JztcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IHsgZGlmZkNoaWxkcmVuLCBwbGFjZUNoaWxkIH0gZnJvbSAnLi9jaGlsZHJlbic7XG5pbXBvcnQgeyBkaWZmUHJvcHMsIHNldFByb3BlcnR5IH0gZnJvbSAnLi9wcm9wcyc7XG5pbXBvcnQgeyBhc3NpZ24sIHJlbW92ZU5vZGUgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuXG5mdW5jdGlvbiByZW9yZGVyQ2hpbGRyZW4obmV3Vk5vZGUsIG9sZERvbSwgcGFyZW50RG9tKSB7XG5cdGZvciAobGV0IHRtcCA9IDA7IHRtcCA8IG5ld1ZOb2RlLl9jaGlsZHJlbi5sZW5ndGg7IHRtcCsrKSB7XG5cdFx0Y29uc3Qgdm5vZGUgPSBuZXdWTm9kZS5fY2hpbGRyZW5bdG1wXTtcblx0XHRpZiAodm5vZGUpIHtcblx0XHRcdHZub2RlLl9wYXJlbnQgPSBuZXdWTm9kZTtcblxuXHRcdFx0aWYgKHZub2RlLl9kb20pIHtcblx0XHRcdFx0aWYgKHR5cGVvZiB2bm9kZS50eXBlID09ICdmdW5jdGlvbicgJiYgdm5vZGUuX2NoaWxkcmVuLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRyZW9yZGVyQ2hpbGRyZW4odm5vZGUsIG9sZERvbSwgcGFyZW50RG9tKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG9sZERvbSA9IHBsYWNlQ2hpbGQoXG5cdFx0XHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0XHRcdHZub2RlLFxuXHRcdFx0XHRcdHZub2RlLFxuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbixcblx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHRcdHZub2RlLl9kb20sXG5cdFx0XHRcdFx0b2xkRG9tXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHR5cGVvZiBuZXdWTm9kZS50eXBlID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRuZXdWTm9kZS5fbmV4dERvbSA9IG9sZERvbTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIERpZmYgdHdvIHZpcnR1YWwgbm9kZXMgYW5kIGFwcGx5IHByb3BlciBjaGFuZ2VzIHRvIHRoZSBET01cbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgcGFyZW50IG9mIHRoZSBET00gZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG5ld1ZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gb2xkVk5vZGUgVGhlIG9sZCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBnbG9iYWxDb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0LiBNb2RpZmllZCBieSBnZXRDaGlsZENvbnRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBlbGVtZW50IGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7RWxlbWVudCB8IFRleHR9IG9sZERvbSBUaGUgY3VycmVudCBhdHRhY2hlZCBET01cbiAqIGVsZW1lbnQgYW55IG5ldyBkb20gZWxlbWVudHMgc2hvdWxkIGJlIHBsYWNlZCBhcm91bmQuIExpa2VseSBgbnVsbGAgb24gZmlyc3RcbiAqIHJlbmRlciAoZXhjZXB0IHdoZW4gaHlkcmF0aW5nKS4gQ2FuIGJlIGEgc2libGluZyBET00gZWxlbWVudCB3aGVuIGRpZmZpbmdcbiAqIEZyYWdtZW50cyB0aGF0IGhhdmUgc2libGluZ3MuIEluIG1vc3QgY2FzZXMsIGl0IHN0YXJ0cyBvdXQgYXMgYG9sZENoaWxkcmVuWzBdLl9kb21gLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNIeWRyYXRpbmddIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmYoXG5cdHBhcmVudERvbSxcblx0bmV3Vk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRnbG9iYWxDb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IHRtcCxcblx0XHRuZXdUeXBlID0gbmV3Vk5vZGUudHlwZTtcblxuXHQvLyBXaGVuIHBhc3NpbmcgdGhyb3VnaCBjcmVhdGVFbGVtZW50IGl0IGFzc2lnbnMgdGhlIG9iamVjdFxuXHQvLyBjb25zdHJ1Y3RvciBhcyB1bmRlZmluZWQuIFRoaXMgdG8gcHJldmVudCBKU09OLWluamVjdGlvbi5cblx0aWYgKG5ld1ZOb2RlLmNvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXG5cdGlmICgodG1wID0gb3B0aW9ucy5fZGlmZikpIHRtcChuZXdWTm9kZSk7XG5cblx0dHJ5IHtcblx0XHRvdXRlcjogaWYgKHR5cGVvZiBuZXdUeXBlID09ICdmdW5jdGlvbicpIHtcblx0XHRcdGxldCBjLCBpc05ldywgb2xkUHJvcHMsIG9sZFN0YXRlLCBzbmFwc2hvdCwgY2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uO1xuXHRcdFx0bGV0IG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHM7XG5cblx0XHRcdC8vIE5lY2Vzc2FyeSBmb3IgY3JlYXRlQ29udGV4dCBhcGkuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB3aWxsIHBhc3Ncblx0XHRcdC8vIHRoZSBjb250ZXh0IHZhbHVlIGFzIGB0aGlzLmNvbnRleHRgIGp1c3QgZm9yIHRoaXMgY29tcG9uZW50LlxuXHRcdFx0dG1wID0gbmV3VHlwZS5jb250ZXh0VHlwZTtcblx0XHRcdGxldCBwcm92aWRlciA9IHRtcCAmJiBnbG9iYWxDb250ZXh0W3RtcC5faWRdO1xuXHRcdFx0bGV0IGNvbXBvbmVudENvbnRleHQgPSB0bXBcblx0XHRcdFx0PyBwcm92aWRlclxuXHRcdFx0XHRcdD8gcHJvdmlkZXIucHJvcHMudmFsdWVcblx0XHRcdFx0XHQ6IHRtcC5fZGVmYXVsdFZhbHVlXG5cdFx0XHRcdDogZ2xvYmFsQ29udGV4dDtcblxuXHRcdFx0Ly8gR2V0IGNvbXBvbmVudCBhbmQgc2V0IGl0IHRvIGBjYFxuXHRcdFx0aWYgKG9sZFZOb2RlLl9jb21wb25lbnQpIHtcblx0XHRcdFx0YyA9IG5ld1ZOb2RlLl9jb21wb25lbnQgPSBvbGRWTm9kZS5fY29tcG9uZW50O1xuXHRcdFx0XHRjbGVhclByb2Nlc3NpbmdFeGNlcHRpb24gPSBjLl9wcm9jZXNzaW5nRXhjZXB0aW9uID0gYy5fcGVuZGluZ0Vycm9yO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSW5zdGFudGlhdGUgdGhlIG5ldyBjb21wb25lbnRcblx0XHRcdFx0aWYgKCdwcm90b3R5cGUnIGluIG5ld1R5cGUgJiYgbmV3VHlwZS5wcm90b3R5cGUucmVuZGVyKSB7XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NvbXBvbmVudCA9IGMgPSBuZXcgbmV3VHlwZShuZXdQcm9wcywgY29tcG9uZW50Q29udGV4dCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbmV3LWNhcFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jb21wb25lbnQgPSBjID0gbmV3IENvbXBvbmVudChuZXdQcm9wcywgY29tcG9uZW50Q29udGV4dCk7XG5cdFx0XHRcdFx0Yy5jb25zdHJ1Y3RvciA9IG5ld1R5cGU7XG5cdFx0XHRcdFx0Yy5yZW5kZXIgPSBkb1JlbmRlcjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocHJvdmlkZXIpIHByb3ZpZGVyLnN1YihjKTtcblxuXHRcdFx0XHRjLnByb3BzID0gbmV3UHJvcHM7XG5cdFx0XHRcdGlmICghYy5zdGF0ZSkgYy5zdGF0ZSA9IHt9O1xuXHRcdFx0XHRjLmNvbnRleHQgPSBjb21wb25lbnRDb250ZXh0O1xuXHRcdFx0XHRjLl9nbG9iYWxDb250ZXh0ID0gZ2xvYmFsQ29udGV4dDtcblx0XHRcdFx0aXNOZXcgPSBjLl9kaXJ0eSA9IHRydWU7XG5cdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbnZva2UgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXG5cdFx0XHRpZiAoYy5fbmV4dFN0YXRlID09IG51bGwpIHtcblx0XHRcdFx0Yy5fbmV4dFN0YXRlID0gYy5zdGF0ZTtcblx0XHRcdH1cblx0XHRcdGlmIChuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPSBudWxsKSB7XG5cdFx0XHRcdGlmIChjLl9uZXh0U3RhdGUgPT0gYy5zdGF0ZSkge1xuXHRcdFx0XHRcdGMuX25leHRTdGF0ZSA9IGFzc2lnbih7fSwgYy5fbmV4dFN0YXRlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFzc2lnbihcblx0XHRcdFx0XHRjLl9uZXh0U3RhdGUsXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV3UHJvcHMsIGMuX25leHRTdGF0ZSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0b2xkUHJvcHMgPSBjLnByb3BzO1xuXHRcdFx0b2xkU3RhdGUgPSBjLnN0YXRlO1xuXG5cdFx0XHQvLyBJbnZva2UgcHJlLXJlbmRlciBsaWZlY3ljbGUgbWV0aG9kc1xuXHRcdFx0aWYgKGlzTmV3KSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PSBudWxsICYmXG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsTW91bnQgIT0gbnVsbFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGMuY29tcG9uZW50RGlkTW91bnQgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGMuY29tcG9uZW50RGlkTW91bnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT0gbnVsbCAmJlxuXHRcdFx0XHRcdG5ld1Byb3BzICE9PSBvbGRQcm9wcyAmJlxuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAhPSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgY29tcG9uZW50Q29udGV4dCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KCFjLl9mb3JjZSAmJlxuXHRcdFx0XHRcdFx0Yy5zaG91bGRDb21wb25lbnRVcGRhdGUgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdFx0Yy5zaG91bGRDb21wb25lbnRVcGRhdGUoXG5cdFx0XHRcdFx0XHRcdG5ld1Byb3BzLFxuXHRcdFx0XHRcdFx0XHRjLl9uZXh0U3RhdGUsXG5cdFx0XHRcdFx0XHRcdGNvbXBvbmVudENvbnRleHRcblx0XHRcdFx0XHRcdCkgPT09IGZhbHNlKSB8fFxuXHRcdFx0XHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9PT0gb2xkVk5vZGUuX29yaWdpbmFsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdFx0XHRjLnN0YXRlID0gYy5fbmV4dFN0YXRlO1xuXHRcdFx0XHRcdC8vIE1vcmUgaW5mbyBhYm91dCB0aGlzIGhlcmU6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0pvdmlEZUNyb29jay9iZWM1ZjJjZTkzNTQ0ZDJlNjA3MGVmOGUwMDM2ZTRlOFxuXHRcdFx0XHRcdGlmIChuZXdWTm9kZS5fb3JpZ2luYWwgIT09IG9sZFZOb2RlLl9vcmlnaW5hbCkgYy5fZGlydHkgPSBmYWxzZTtcblx0XHRcdFx0XHRjLl92bm9kZSA9IG5ld1ZOb2RlO1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9kb20gPSBvbGRWTm9kZS5fZG9tO1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IG9sZFZOb2RlLl9jaGlsZHJlbjtcblx0XHRcdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZW9yZGVyQ2hpbGRyZW4obmV3Vk5vZGUsIG9sZERvbSwgcGFyZW50RG9tKTtcblx0XHRcdFx0XHRicmVhayBvdXRlcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudFdpbGxVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgYy5fbmV4dFN0YXRlLCBjb21wb25lbnRDb250ZXh0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudERpZFVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRcdFx0Yy5jb21wb25lbnREaWRVcGRhdGUob2xkUHJvcHMsIG9sZFN0YXRlLCBzbmFwc2hvdCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Yy5jb250ZXh0ID0gY29tcG9uZW50Q29udGV4dDtcblx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGU7XG5cblx0XHRcdGlmICgodG1wID0gb3B0aW9ucy5fcmVuZGVyKSkgdG1wKG5ld1ZOb2RlKTtcblxuXHRcdFx0Yy5fZGlydHkgPSBmYWxzZTtcblx0XHRcdGMuX3Zub2RlID0gbmV3Vk5vZGU7XG5cdFx0XHRjLl9wYXJlbnREb20gPSBwYXJlbnREb207XG5cblx0XHRcdHRtcCA9IGMucmVuZGVyKGMucHJvcHMsIGMuc3RhdGUsIGMuY29udGV4dCk7XG5cblx0XHRcdC8vIEhhbmRsZSBzZXRTdGF0ZSBjYWxsZWQgaW4gcmVuZGVyLCBzZWUgIzI1NTNcblx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGU7XG5cblx0XHRcdGlmIChjLmdldENoaWxkQ29udGV4dCAhPSBudWxsKSB7XG5cdFx0XHRcdGdsb2JhbENvbnRleHQgPSBhc3NpZ24oYXNzaWduKHt9LCBnbG9iYWxDb250ZXh0KSwgYy5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghaXNOZXcgJiYgYy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdHNuYXBzaG90ID0gYy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShvbGRQcm9wcywgb2xkU3RhdGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgaXNUb3BMZXZlbEZyYWdtZW50ID1cblx0XHRcdFx0dG1wICE9IG51bGwgJiYgdG1wLnR5cGUgPT0gRnJhZ21lbnQgJiYgdG1wLmtleSA9PSBudWxsO1xuXHRcdFx0bGV0IHJlbmRlclJlc3VsdCA9IGlzVG9wTGV2ZWxGcmFnbWVudCA/IHRtcC5wcm9wcy5jaGlsZHJlbiA6IHRtcDtcblxuXHRcdFx0ZGlmZkNoaWxkcmVuKFxuXHRcdFx0XHRwYXJlbnREb20sXG5cdFx0XHRcdEFycmF5LmlzQXJyYXkocmVuZGVyUmVzdWx0KSA/IHJlbmRlclJlc3VsdCA6IFtyZW5kZXJSZXN1bHRdLFxuXHRcdFx0XHRuZXdWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRcdGlzU3ZnLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRcdG9sZERvbSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cblx0XHRcdGMuYmFzZSA9IG5ld1ZOb2RlLl9kb207XG5cblx0XHRcdGlmIChjLl9yZW5kZXJDYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbW1pdFF1ZXVlLnB1c2goYyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjbGVhclByb2Nlc3NpbmdFeGNlcHRpb24pIHtcblx0XHRcdFx0Yy5fcGVuZGluZ0Vycm9yID0gYy5fcHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGMuX2ZvcmNlID0gZmFsc2U7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID09IG51bGwgJiZcblx0XHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9PT0gb2xkVk5vZGUuX29yaWdpbmFsXG5cdFx0KSB7XG5cdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBvbGRWTm9kZS5fY2hpbGRyZW47XG5cdFx0XHRuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3Vk5vZGUuX2RvbSA9IGRpZmZFbGVtZW50Tm9kZXMoXG5cdFx0XHRcdG9sZFZOb2RlLl9kb20sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdFx0aXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKCh0bXAgPSBvcHRpb25zLmRpZmZlZCkpIHRtcChuZXdWTm9kZSk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRuZXdWTm9kZS5fb3JpZ2luYWwgPSBudWxsO1xuXHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgbmV3Vk5vZGUsIG9sZFZOb2RlKTtcblx0fVxuXG5cdHJldHVybiBuZXdWTm9kZS5fZG9tO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSByb290XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21taXRSb290KGNvbW1pdFF1ZXVlLCByb290KSB7XG5cdGlmIChvcHRpb25zLl9jb21taXQpIG9wdGlvbnMuX2NvbW1pdChyb290LCBjb21taXRRdWV1ZSk7XG5cblx0Y29tbWl0UXVldWUuc29tZShjID0+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29tbWl0UXVldWUgPSBjLl9yZW5kZXJDYWxsYmFja3M7XG5cdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdGNvbW1pdFF1ZXVlLnNvbWUoY2IgPT4ge1xuXHRcdFx0XHRjYi5jYWxsKGMpO1xuXHRcdFx0fSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBjLl92bm9kZSk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBEaWZmIHR3byB2aXJ0dWFsIG5vZGVzIHJlcHJlc2VudGluZyBET00gZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gZWxlbWVudCByZXByZXNlbnRpbmdcbiAqIHRoZSB2aXJ0dWFsIG5vZGVzIGJlaW5nIGRpZmZlZFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG5ld1ZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gb2xkVk5vZGUgVGhlIG9sZCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBnbG9iYWxDb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgRE9NIG5vZGUgaXMgYW4gU1ZHIG5vZGVcbiAqIEBwYXJhbSB7Kn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIeWRyYXRpbmcgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICogQHJldHVybnMge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fVxuICovXG5mdW5jdGlvbiBkaWZmRWxlbWVudE5vZGVzKFxuXHRkb20sXG5cdG5ld1ZOb2RlLFxuXHRvbGRWTm9kZSxcblx0Z2xvYmFsQ29udGV4dCxcblx0aXNTdmcsXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRjb21taXRRdWV1ZSxcblx0aXNIeWRyYXRpbmdcbikge1xuXHRsZXQgaTtcblx0bGV0IG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHM7XG5cdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXG5cdC8vIFRyYWNrcyBlbnRlcmluZyBhbmQgZXhpdGluZyBTVkcgbmFtZXNwYWNlIHdoZW4gZGVzY2VuZGluZyB0aHJvdWdoIHRoZSB0cmVlLlxuXHRpc1N2ZyA9IG5ld1ZOb2RlLnR5cGUgPT09ICdzdmcnIHx8IGlzU3ZnO1xuXG5cdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGV4Y2Vzc0RvbUNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjaGlsZCA9IGV4Y2Vzc0RvbUNoaWxkcmVuW2ldO1xuXG5cdFx0XHQvLyBpZiBuZXdWTm9kZSBtYXRjaGVzIGFuIGVsZW1lbnQgaW4gZXhjZXNzRG9tQ2hpbGRyZW4gb3IgdGhlIGBkb21gXG5cdFx0XHQvLyBhcmd1bWVudCBtYXRjaGVzIGFuIGVsZW1lbnQgaW4gZXhjZXNzRG9tQ2hpbGRyZW4sIHJlbW92ZSBpdCBmcm9tXG5cdFx0XHQvLyBleGNlc3NEb21DaGlsZHJlbiBzbyBpdCBpc24ndCBsYXRlciByZW1vdmVkIGluIGRpZmZDaGlsZHJlblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRjaGlsZCAhPSBudWxsICYmXG5cdFx0XHRcdCgobmV3Vk5vZGUudHlwZSA9PT0gbnVsbFxuXHRcdFx0XHRcdD8gY2hpbGQubm9kZVR5cGUgPT09IDNcblx0XHRcdFx0XHQ6IGNoaWxkLmxvY2FsTmFtZSA9PT0gbmV3Vk5vZGUudHlwZSkgfHxcblx0XHRcdFx0XHRkb20gPT0gY2hpbGQpXG5cdFx0XHQpIHtcblx0XHRcdFx0ZG9tID0gY2hpbGQ7XG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuW2ldID0gbnVsbDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKGRvbSA9PSBudWxsKSB7XG5cdFx0aWYgKG5ld1ZOb2RlLnR5cGUgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdQcm9wcyk7XG5cdFx0fVxuXG5cdFx0ZG9tID0gaXNTdmdcblx0XHRcdD8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5ld1ZOb2RlLnR5cGUpXG5cdFx0XHQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXG5cdFx0XHRcdFx0bmV3Vk5vZGUudHlwZSxcblx0XHRcdFx0XHRuZXdQcm9wcy5pcyAmJiB7IGlzOiBuZXdQcm9wcy5pcyB9XG5cdFx0XHQgICk7XG5cdFx0Ly8gd2UgY3JlYXRlZCBhIG5ldyBwYXJlbnQsIHNvIG5vbmUgb2YgdGhlIHByZXZpb3VzbHkgYXR0YWNoZWQgY2hpbGRyZW4gY2FuIGJlIHJldXNlZDpcblx0XHRleGNlc3NEb21DaGlsZHJlbiA9IG51bGw7XG5cdFx0Ly8gd2UgYXJlIGNyZWF0aW5nIGEgbmV3IG5vZGUsIHNvIHdlIGNhbiBhc3N1bWUgdGhpcyBpcyBhIG5ldyBzdWJ0cmVlIChpbiBjYXNlIHdlIGFyZSBoeWRyYXRpbmcpLCB0aGlzIGRlb3B0cyB0aGUgaHlkcmF0ZVxuXHRcdGlzSHlkcmF0aW5nID0gZmFsc2U7XG5cdH1cblxuXHRpZiAobmV3Vk5vZGUudHlwZSA9PT0gbnVsbCkge1xuXHRcdGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMgJiYgZG9tLmRhdGEgIT09IG5ld1Byb3BzKSB7XG5cdFx0XHRkb20uZGF0YSA9IG5ld1Byb3BzO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPSBFTVBUWV9BUlIuc2xpY2UuY2FsbChkb20uY2hpbGROb2Rlcyk7XG5cdFx0fVxuXG5cdFx0b2xkUHJvcHMgPSBvbGRWTm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XG5cblx0XHRsZXQgb2xkSHRtbCA9IG9sZFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuXHRcdGxldCBuZXdIdG1sID0gbmV3UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG5cblx0XHQvLyBEdXJpbmcgaHlkcmF0aW9uLCBwcm9wcyBhcmUgbm90IGRpZmZlZCBhdCBhbGwgKGluY2x1ZGluZyBkYW5nZXJvdXNseVNldElubmVySFRNTClcblx0XHQvLyBAVE9ETyB3ZSBzaG91bGQgd2FybiBpbiBkZWJ1ZyBtb2RlIHdoZW4gcHJvcHMgZG9uJ3QgbWF0Y2ggaGVyZS5cblx0XHRpZiAoIWlzSHlkcmF0aW5nKSB7XG5cdFx0XHQvLyBCdXQsIGlmIHdlIGFyZSBpbiBhIHNpdHVhdGlvbiB3aGVyZSB3ZSBhcmUgdXNpbmcgZXhpc3RpbmcgRE9NIChlLmcuIHJlcGxhY2VOb2RlKVxuXHRcdFx0Ly8gd2Ugc2hvdWxkIHJlYWQgdGhlIGV4aXN0aW5nIERPTSBhdHRyaWJ1dGVzIHRvIGRpZmYgdGhlbVxuXHRcdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRcdFx0b2xkUHJvcHMgPSB7fTtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkb20uYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdG9sZFByb3BzW2RvbS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gZG9tLmF0dHJpYnV0ZXNbaV0udmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKG5ld0h0bWwgfHwgb2xkSHRtbCkge1xuXHRcdFx0XHQvLyBBdm9pZCByZS1hcHBseWluZyB0aGUgc2FtZSAnX19odG1sJyBpZiBpdCBkaWQgbm90IGNoYW5nZWQgYmV0d2VlbiByZS1yZW5kZXJcblx0XHRcdFx0aWYgKCFuZXdIdG1sIHx8ICFvbGRIdG1sIHx8IG5ld0h0bWwuX19odG1sICE9IG9sZEh0bWwuX19odG1sKSB7XG5cdFx0XHRcdFx0ZG9tLmlubmVySFRNTCA9IChuZXdIdG1sICYmIG5ld0h0bWwuX19odG1sKSB8fCAnJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRpZmZQcm9wcyhkb20sIG5ld1Byb3BzLCBvbGRQcm9wcywgaXNTdmcsIGlzSHlkcmF0aW5nKTtcblxuXHRcdC8vIElmIHRoZSBuZXcgdm5vZGUgZGlkbid0IGhhdmUgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIGRpZmYgaXRzIGNoaWxkcmVuXG5cdFx0aWYgKG5ld0h0bWwpIHtcblx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IFtdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpID0gbmV3Vk5vZGUucHJvcHMuY2hpbGRyZW47XG5cdFx0XHRkaWZmQ2hpbGRyZW4oXG5cdFx0XHRcdGRvbSxcblx0XHRcdFx0QXJyYXkuaXNBcnJheShpKSA/IGkgOiBbaV0sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdFx0bmV3Vk5vZGUudHlwZSA9PT0gJ2ZvcmVpZ25PYmplY3QnID8gZmFsc2UgOiBpc1N2Zyxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRFTVBUWV9PQkosXG5cdFx0XHRcdGlzSHlkcmF0aW5nXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIChhcyBhYm92ZSwgZG9uJ3QgZGlmZiBwcm9wcyBkdXJpbmcgaHlkcmF0aW9uKVxuXHRcdGlmICghaXNIeWRyYXRpbmcpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0J3ZhbHVlJyBpbiBuZXdQcm9wcyAmJlxuXHRcdFx0XHQoaSA9IG5ld1Byb3BzLnZhbHVlKSAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdGkgIT09IGRvbS52YWx1ZVxuXHRcdFx0KSB7XG5cdFx0XHRcdHNldFByb3BlcnR5KGRvbSwgJ3ZhbHVlJywgaSwgb2xkUHJvcHMudmFsdWUsIGZhbHNlKTtcblx0XHRcdH1cblx0XHRcdGlmIChcblx0XHRcdFx0J2NoZWNrZWQnIGluIG5ld1Byb3BzICYmXG5cdFx0XHRcdChpID0gbmV3UHJvcHMuY2hlY2tlZCkgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRpICE9PSBkb20uY2hlY2tlZFxuXHRcdFx0KSB7XG5cdFx0XHRcdHNldFByb3BlcnR5KGRvbSwgJ2NoZWNrZWQnLCBpLCBvbGRQcm9wcy5jaGVja2VkLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRvbTtcbn1cblxuLyoqXG4gKiBJbnZva2Ugb3IgdXBkYXRlIGEgcmVmLCBkZXBlbmRpbmcgb24gd2hldGhlciBpdCBpcyBhIGZ1bmN0aW9uIG9yIG9iamVjdCByZWYuXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbn0gcmVmXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlSZWYocmVmLCB2YWx1ZSwgdm5vZGUpIHtcblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIHJlZiA9PSAnZnVuY3Rpb24nKSByZWYodmFsdWUpO1xuXHRcdGVsc2UgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgdm5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogVW5tb3VudCBhIHZpcnR1YWwgbm9kZSBmcm9tIHRoZSB0cmVlIGFuZCBhcHBseSBET00gY2hhbmdlc1xuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gdW5tb3VudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHBhcmVudFZOb2RlIFRoZSBwYXJlbnQgb2YgdGhlIFZOb2RlIHRoYXRcbiAqIGluaXRpYXRlZCB0aGUgdW5tb3VudFxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZV0gRmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IGEgcGFyZW50IG5vZGUgb2YgdGhlXG4gKiBjdXJyZW50IGVsZW1lbnQgaXMgYWxyZWFkeSBkZXRhY2hlZCBmcm9tIHRoZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KHZub2RlLCBwYXJlbnRWTm9kZSwgc2tpcFJlbW92ZSkge1xuXHRsZXQgcjtcblx0aWYgKG9wdGlvbnMudW5tb3VudCkgb3B0aW9ucy51bm1vdW50KHZub2RlKTtcblxuXHRpZiAoKHIgPSB2bm9kZS5yZWYpKSB7XG5cdFx0aWYgKCFyLmN1cnJlbnQgfHwgci5jdXJyZW50ID09PSB2bm9kZS5fZG9tKSBhcHBseVJlZihyLCBudWxsLCBwYXJlbnRWTm9kZSk7XG5cdH1cblxuXHRsZXQgZG9tO1xuXHRpZiAoIXNraXBSZW1vdmUgJiYgdHlwZW9mIHZub2RlLnR5cGUgIT0gJ2Z1bmN0aW9uJykge1xuXHRcdHNraXBSZW1vdmUgPSAoZG9tID0gdm5vZGUuX2RvbSkgIT0gbnVsbDtcblx0fVxuXG5cdC8vIE11c3QgYmUgc2V0IHRvIGB1bmRlZmluZWRgIHRvIHByb3Blcmx5IGNsZWFuIHVwIGBfbmV4dERvbWBcblx0Ly8gZm9yIHdoaWNoIGBudWxsYCBpcyBhIHZhbGlkIHZhbHVlLiBTZWUgY29tbWVudCBpbiBgY3JlYXRlLWVsZW1lbnQuanNgXG5cdHZub2RlLl9kb20gPSB2bm9kZS5fbmV4dERvbSA9IHVuZGVmaW5lZDtcblxuXHRpZiAoKHIgPSB2bm9kZS5fY29tcG9uZW50KSAhPSBudWxsKSB7XG5cdFx0aWYgKHIuY29tcG9uZW50V2lsbFVubW91bnQpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHIuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBwYXJlbnRWTm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ci5iYXNlID0gci5fcGFyZW50RG9tID0gbnVsbDtcblx0fVxuXG5cdGlmICgociA9IHZub2RlLl9jaGlsZHJlbikpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHIubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChyW2ldKSB1bm1vdW50KHJbaV0sIHBhcmVudFZOb2RlLCBza2lwUmVtb3ZlKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoZG9tICE9IG51bGwpIHJlbW92ZU5vZGUoZG9tKTtcbn1cblxuLyoqIFRoZSBgLnJlbmRlcigpYCBtZXRob2QgZm9yIGEgUEZDIGJhY2tpbmcgaW5zdGFuY2UuICovXG5mdW5jdGlvbiBkb1JlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpIHtcblx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpO1xufVxuIiwgImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBjcmVhdGVWTm9kZSB9IGZyb20gJy4vY3JlYXRlLWVsZW1lbnQnO1xuXG4vKipcbiAqIENsb25lcyB0aGUgZ2l2ZW4gVk5vZGUsIG9wdGlvbmFsbHkgYWRkaW5nIGF0dHJpYnV0ZXMvcHJvcHMgYW5kIHJlcGxhY2luZyBpdHMgY2hpbGRyZW4uXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdmlydHVhbCBET00gZWxlbWVudCB0byBjbG9uZVxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIEF0dHJpYnV0ZXMvcHJvcHMgdG8gYWRkIHdoZW4gY2xvbmluZ1xuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4vaW5kZXgnKS5Db21wb25lbnRDaGlsZHJlbj59IHJlc3QgQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgdXNlZCBhcyByZXBsYWNlbWVudCBjaGlsZHJlbi5cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRWxlbWVudCh2bm9kZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG5cdGxldCBub3JtYWxpemVkUHJvcHMgPSBhc3NpZ24oe30sIHZub2RlLnByb3BzKSxcblx0XHRrZXksXG5cdFx0cmVmLFxuXHRcdGk7XG5cdGZvciAoaSBpbiBwcm9wcykge1xuXHRcdGlmIChpID09ICdrZXknKSBrZXkgPSBwcm9wc1tpXTtcblx0XHRlbHNlIGlmIChpID09ICdyZWYnKSByZWYgPSBwcm9wc1tpXTtcblx0XHRlbHNlIG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHByb3BzW2ldO1xuXHR9XG5cblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAzKSB7XG5cdFx0Y2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuXHRcdGZvciAoaSA9IDM7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNoaWxkcmVuLnB1c2goYXJndW1lbnRzW2ldKTtcblx0XHR9XG5cdH1cblx0aWYgKGNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRub3JtYWxpemVkUHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblx0fVxuXG5cdHJldHVybiBjcmVhdGVWTm9kZShcblx0XHR2bm9kZS50eXBlLFxuXHRcdG5vcm1hbGl6ZWRQcm9wcyxcblx0XHRrZXkgfHwgdm5vZGUua2V5LFxuXHRcdHJlZiB8fCB2bm9kZS5yZWYsXG5cdFx0bnVsbFxuXHQpO1xufVxuIiwgImltcG9ydCB7IGVucXVldWVSZW5kZXIgfSBmcm9tICcuLi9jb21wb25lbnQnO1xuXG4vKipcbiAqIEZpbmQgdGhlIGNsb3Nlc3QgZXJyb3IgYm91bmRhcnkgdG8gYSB0aHJvd24gZXJyb3IgYW5kIGNhbGwgaXRcbiAqIEBwYXJhbSB7b2JqZWN0fSBlcnJvciBUaGUgdGhyb3duIHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZub2RlIHRoYXQgdGhyZXdcbiAqIHRoZSBlcnJvciB0aGF0IHdhcyBjYXVnaHQgKGV4Y2VwdCBmb3IgdW5tb3VudGluZyB3aGVuIHRoaXMgcGFyYW1ldGVyXG4gKiBpcyB0aGUgaGlnaGVzdCBwYXJlbnQgdGhhdCB3YXMgYmVpbmcgdW5tb3VudGVkKVxuICovXG5leHBvcnQgZnVuY3Rpb24gX2NhdGNoRXJyb3IoZXJyb3IsIHZub2RlKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cblx0bGV0IGNvbXBvbmVudCwgaGFzQ2F1Z2h0O1xuXG5cdGZvciAoOyAodm5vZGUgPSB2bm9kZS5fcGFyZW50KTsgKSB7XG5cdFx0aWYgKChjb21wb25lbnQgPSB2bm9kZS5fY29tcG9uZW50KSAmJiAhY29tcG9uZW50Ll9wcm9jZXNzaW5nRXhjZXB0aW9uKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0Y29tcG9uZW50LmNvbnN0cnVjdG9yICYmXG5cdFx0XHRcdFx0Y29tcG9uZW50LmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAhPSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGhhc0NhdWdodCA9IHRydWU7XG5cdFx0XHRcdFx0Y29tcG9uZW50LnNldFN0YXRlKFxuXHRcdFx0XHRcdFx0Y29tcG9uZW50LmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcilcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRDYXRjaCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0aGFzQ2F1Z2h0ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGhhc0NhdWdodClcblx0XHRcdFx0XHRyZXR1cm4gZW5xdWV1ZVJlbmRlcigoY29tcG9uZW50Ll9wZW5kaW5nRXJyb3IgPSBjb21wb25lbnQpKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0ZXJyb3IgPSBlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHRocm93IGVycm9yO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpbmplY3RDc3MoY3NzOiBzdHJpbmcpIHtcbiAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgY29uc3Qgc3R5bGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgc3R5bGVFbC5hcHBlbmRDaGlsZChzdHlsZVRleHQpO1xuICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xufVxuIiwgIi8vIERPTSBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIE5PVCBoYXZlIFwicHhcIiBhZGRlZCB3aGVuIG51bWVyaWNcbmV4cG9ydCBjb25zdCBJU19OT05fRElNRU5TSU9OQUwgPSAvYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZHxeLS0vaTtcblxuZXhwb3J0IGxldCBlbmNvZGVFbnRpdGllcyA9IHMgPT4gU3RyaW5nKHMpXG5cdC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG5cdC5yZXBsYWNlKC88L2csICcmbHQ7Jylcblx0LnJlcGxhY2UoLz4vZywgJyZndDsnKVxuXHQucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xuXG5leHBvcnQgbGV0IGluZGVudCA9IChzLCBjaGFyKSA9PiBTdHJpbmcocykucmVwbGFjZSgvKFxcbispL2csICckMScgKyAoY2hhciB8fCAnXFx0JykpO1xuXG5leHBvcnQgbGV0IGlzTGFyZ2VTdHJpbmcgPSAocywgbGVuZ3RoLCBpZ25vcmVMaW5lcykgPT4gKFN0cmluZyhzKS5sZW5ndGg+KGxlbmd0aCB8fCA0MCkgfHwgKCFpZ25vcmVMaW5lcyAmJiBTdHJpbmcocykuaW5kZXhPZignXFxuJykhPT0tMSkgfHwgU3RyaW5nKHMpLmluZGV4T2YoJzwnKSE9PS0xKTtcblxuY29uc3QgSlNfVE9fQ1NTID0ge307XG5cbi8vIENvbnZlcnQgYW4gT2JqZWN0IHN0eWxlIHRvIGEgQ1NTVGV4dCBzdHJpbmdcbmV4cG9ydCBmdW5jdGlvbiBzdHlsZU9ialRvQ3NzKHMpIHtcblx0bGV0IHN0ciA9ICcnO1xuXHRmb3IgKGxldCBwcm9wIGluIHMpIHtcblx0XHRsZXQgdmFsID0gc1twcm9wXTtcblx0XHRpZiAodmFsIT1udWxsKSB7XG5cdFx0XHRpZiAoc3RyKSBzdHIgKz0gJyAnO1xuXHRcdFx0Ly8gc3RyICs9IGpzVG9Dc3MocHJvcCk7XG5cdFx0XHRzdHIgKz0gcHJvcFswXT09Jy0nID8gcHJvcCA6IChKU19UT19DU1NbcHJvcF0gfHwgKEpTX1RPX0NTU1twcm9wXSA9IHByb3AucmVwbGFjZSgvKFtBLVpdKS9nLCctJDEnKS50b0xvd2VyQ2FzZSgpKSk7XG5cdFx0XHRzdHIgKz0gJzogJztcblx0XHRcdHN0ciArPSB2YWw7XG5cdFx0XHRpZiAodHlwZW9mIHZhbD09PSdudW1iZXInICYmIElTX05PTl9ESU1FTlNJT05BTC50ZXN0KHByb3ApPT09ZmFsc2UpIHtcblx0XHRcdFx0c3RyICs9ICdweCc7XG5cdFx0XHR9XG5cdFx0XHRzdHIgKz0gJzsnO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gc3RyIHx8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDb3B5IGFsbCBwcm9wZXJ0aWVzIGZyb20gYHByb3BzYCBvbnRvIGBvYmpgLlxuICogQHBhcmFtIHtvYmplY3R9IG9iaiBPYmplY3Qgb250byB3aGljaCBwcm9wZXJ0aWVzIHNob3VsZCBiZSBjb3BpZWQuXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgT2JqZWN0IGZyb20gd2hpY2ggdG8gY29weSBwcm9wZXJ0aWVzLlxuICogQHJldHVybnMge29iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHRmb3IgKGxldCBpIGluIHByb3BzKSBvYmpbaV0gPSBwcm9wc1tpXTtcblx0cmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBHZXQgZmxhdHRlbmVkIGNoaWxkcmVuIGZyb20gdGhlIGNoaWxkcmVuIHByb3BcbiAqIEBwYXJhbSB7QXJyYXl9IGFjY3VtdWxhdG9yXG4gKiBAcGFyYW0ge2FueX0gY2hpbGRyZW4gQSBgcHJvcHMuY2hpbGRyZW5gIG9wYXF1ZSBvYmplY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFjY3VtdWxhdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hpbGRyZW4oYWNjdW11bGF0b3IsIGNoaWxkcmVuKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuXHRcdGNoaWxkcmVuLnJlZHVjZShnZXRDaGlsZHJlbiwgYWNjdW11bGF0b3IpO1xuXHR9XG5cdGVsc2UgaWYgKGNoaWxkcmVuIT1udWxsICYmIGNoaWxkcmVuIT09ZmFsc2UpIHtcblx0XHRhY2N1bXVsYXRvci5wdXNoKGNoaWxkcmVuKTtcblx0fVxuXHRyZXR1cm4gYWNjdW11bGF0b3I7XG59XG4iLCAiaW1wb3J0IHsgZW5jb2RlRW50aXRpZXMsIGluZGVudCwgaXNMYXJnZVN0cmluZywgc3R5bGVPYmpUb0NzcywgYXNzaWduLCBnZXRDaGlsZHJlbiB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBvcHRpb25zLCBGcmFnbWVudCwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5cbmNvbnN0IFNIQUxMT1cgPSB7IHNoYWxsb3c6IHRydWUgfTtcblxuLy8gY29tcG9uZW50cyB3aXRob3V0IG5hbWVzLCBrZXB0IGFzIGEgaGFzaCBmb3IgbGF0ZXIgY29tcGFyaXNvbiB0byByZXR1cm4gY29uc2lzdGVudCBVbm5hbWVkQ29tcG9uZW50WFggbmFtZXMuXG5jb25zdCBVTk5BTUVEID0gW107XG5cbmNvbnN0IFZPSURfRUxFTUVOVFMgPSAvXihhcmVhfGJhc2V8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW18c291cmNlfHRyYWNrfHdicikkLztcblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuXG5cbi8qKiBSZW5kZXIgUHJlYWN0IEpTWCArIENvbXBvbmVudHMgdG8gYW4gSFRNTCBzdHJpbmcuXG4gKlx0QG5hbWUgcmVuZGVyXG4gKlx0QGZ1bmN0aW9uXG4gKlx0QHBhcmFtIHtWTm9kZX0gdm5vZGVcdEpTWCBWTm9kZSB0byByZW5kZXIuXG4gKlx0QHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXt9XVx0T3B0aW9uYWxseSBwYXNzIGFuIGluaXRpYWwgY29udGV4dCBvYmplY3QgdGhyb3VnaCB0aGUgcmVuZGVyIHBhdGguXG4gKlx0QHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XVx0UmVuZGVyaW5nIG9wdGlvbnNcbiAqXHRAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNoYWxsb3c9ZmFsc2VdXHRJZiBgdHJ1ZWAsIHJlbmRlcnMgbmVzdGVkIENvbXBvbmVudHMgYXMgSFRNTCBlbGVtZW50cyAoYDxGb28gYT1cImJcIiAvPmApLlxuICpcdEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMueG1sPWZhbHNlXVx0XHRJZiBgdHJ1ZWAsIHVzZXMgc2VsZi1jbG9zaW5nIHRhZ3MgZm9yIGVsZW1lbnRzIHdpdGhvdXQgY2hpbGRyZW4uXG4gKlx0QHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5wcmV0dHk9ZmFsc2VdXHRcdElmIGB0cnVlYCwgYWRkcyB3aGl0ZXNwYWNlIGZvciByZWFkYWJpbGl0eVxuICpcdEBwYXJhbSB7UmVnRXh8dW5kZWZpbmVkfSBbb3B0aW9ucy52b2lkRWxlbWVudHNdICAgICAgIFJlZ2VFeCB0aGF0IG1hdGNoZXMgZWxlbWVudHMgdGhhdCBhcmUgY29uc2lkZXJlZCB2b2lkIChzZWxmLWNsb3NpbmcpXG4gKi9cbnJlbmRlclRvU3RyaW5nLnJlbmRlciA9IHJlbmRlclRvU3RyaW5nO1xuXG5cbi8qKiBPbmx5IHJlbmRlciBlbGVtZW50cywgbGVhdmluZyBDb21wb25lbnRzIGlubGluZSBhcyBgPENvbXBvbmVudE5hbWUgLi4uIC8+YC5cbiAqXHRUaGlzIG1ldGhvZCBpcyBqdXN0IGEgY29udmVuaWVuY2UgYWxpYXMgZm9yIGByZW5kZXIodm5vZGUsIGNvbnRleHQsIHsgc2hhbGxvdzp0cnVlIH0pYFxuICpcdEBuYW1lIHNoYWxsb3dcbiAqXHRAZnVuY3Rpb25cbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0SlNYIFZOb2RlIHRvIHJlbmRlci5cbiAqXHRAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9e31dXHRPcHRpb25hbGx5IHBhc3MgYW4gaW5pdGlhbCBjb250ZXh0IG9iamVjdCB0aHJvdWdoIHRoZSByZW5kZXIgcGF0aC5cbiAqL1xubGV0IHNoYWxsb3dSZW5kZXIgPSAodm5vZGUsIGNvbnRleHQpID0+IHJlbmRlclRvU3RyaW5nKHZub2RlLCBjb250ZXh0LCBTSEFMTE9XKTtcblxuXG4vKiogVGhlIGRlZmF1bHQgZXhwb3J0IGlzIGFuIGFsaWFzIG9mIGByZW5kZXIoKWAuICovXG5mdW5jdGlvbiByZW5kZXJUb1N0cmluZyh2bm9kZSwgY29udGV4dCwgb3B0cywgaW5uZXIsIGlzU3ZnTW9kZSwgc2VsZWN0VmFsdWUpIHtcblx0aWYgKHZub2RlPT1udWxsIHx8IHR5cGVvZiB2bm9kZT09PSdib29sZWFuJykge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdC8vIHdyYXAgYXJyYXkgbm9kZXMgaW4gRnJhZ21lbnRcblx0aWYgKEFycmF5LmlzQXJyYXkodm5vZGUpKSB7XG5cdFx0dm5vZGUgPSBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCB2bm9kZSk7XG5cdH1cblxuXHRsZXQgbm9kZU5hbWUgPSB2bm9kZS50eXBlLFxuXHRcdHByb3BzID0gdm5vZGUucHJvcHMsXG5cdFx0aXNDb21wb25lbnQgPSBmYWxzZTtcblx0Y29udGV4dCA9IGNvbnRleHQgfHwge307XG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXG5cdGxldCBwcmV0dHkgPSBvcHRzLnByZXR0eSxcblx0XHRpbmRlbnRDaGFyID0gcHJldHR5ICYmIHR5cGVvZiBwcmV0dHk9PT0nc3RyaW5nJyA/IHByZXR0eSA6ICdcXHQnO1xuXG5cdC8vICN0ZXh0IG5vZGVzXG5cdGlmICh0eXBlb2Ygdm5vZGUhPT0nb2JqZWN0JyAmJiAhbm9kZU5hbWUpIHtcblx0XHRyZXR1cm4gZW5jb2RlRW50aXRpZXModm5vZGUpO1xuXHR9XG5cblx0Ly8gY29tcG9uZW50c1xuXHRpZiAodHlwZW9mIG5vZGVOYW1lPT09J2Z1bmN0aW9uJykge1xuXHRcdGlzQ29tcG9uZW50ID0gdHJ1ZTtcblx0XHRpZiAob3B0cy5zaGFsbG93ICYmIChpbm5lciB8fCBvcHRzLnJlbmRlclJvb3RDb21wb25lbnQ9PT1mYWxzZSkpIHtcblx0XHRcdG5vZGVOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShub2RlTmFtZSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKG5vZGVOYW1lPT09RnJhZ21lbnQpIHtcblx0XHRcdGxldCByZW5kZXJlZCA9ICcnO1xuXHRcdFx0bGV0IGNoaWxkcmVuID0gW107XG5cdFx0XHRnZXRDaGlsZHJlbihjaGlsZHJlbiwgdm5vZGUucHJvcHMuY2hpbGRyZW4pO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHJlbmRlcmVkICs9IChpID4gMCAmJiBwcmV0dHkgPyAnXFxuJyA6ICcnKSArIHJlbmRlclRvU3RyaW5nKGNoaWxkcmVuW2ldLCBjb250ZXh0LCBvcHRzLCBvcHRzLnNoYWxsb3dIaWdoT3JkZXIhPT1mYWxzZSwgaXNTdmdNb2RlLCBzZWxlY3RWYWx1ZSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVuZGVyZWQ7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0bGV0IHJlbmRlcmVkO1xuXG5cdFx0XHRsZXQgYyA9IHZub2RlLl9fYyA9IHtcblx0XHRcdFx0X192OiB2bm9kZSxcblx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0cHJvcHM6IHZub2RlLnByb3BzLFxuXHRcdFx0XHQvLyBzaWxlbnRseSBkcm9wIHN0YXRlIHVwZGF0ZXNcblx0XHRcdFx0c2V0U3RhdGU6IG5vb3AsXG5cdFx0XHRcdGZvcmNlVXBkYXRlOiBub29wLFxuXHRcdFx0XHQvLyBob29rc1xuXHRcdFx0XHRfX2g6IFtdXG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBvcHRpb25zLnJlbmRlclxuXHRcdFx0aWYgKG9wdGlvbnMuX19yKSBvcHRpb25zLl9fcih2bm9kZSk7XG5cblx0XHRcdGlmICghbm9kZU5hbWUucHJvdG90eXBlIHx8IHR5cGVvZiBub2RlTmFtZS5wcm90b3R5cGUucmVuZGVyIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHQvLyBOZWNlc3NhcnkgZm9yIGNyZWF0ZUNvbnRleHQgYXBpLiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgd2lsbCBwYXNzXG5cdFx0XHRcdC8vIHRoZSBjb250ZXh0IHZhbHVlIGFzIGB0aGlzLmNvbnRleHRgIGp1c3QgZm9yIHRoaXMgY29tcG9uZW50LlxuXHRcdFx0XHRsZXQgY3hUeXBlID0gbm9kZU5hbWUuY29udGV4dFR5cGU7XG5cdFx0XHRcdGxldCBwcm92aWRlciA9IGN4VHlwZSAmJiBjb250ZXh0W2N4VHlwZS5fX2NdO1xuXHRcdFx0XHRsZXQgY2N0eCA9IGN4VHlwZSAhPSBudWxsID8gKHByb3ZpZGVyID8gcHJvdmlkZXIucHJvcHMudmFsdWUgOiBjeFR5cGUuX18pIDogY29udGV4dDtcblxuXHRcdFx0XHQvLyBzdGF0ZWxlc3MgZnVuY3Rpb25hbCBjb21wb25lbnRzXG5cdFx0XHRcdHJlbmRlcmVkID0gbm9kZU5hbWUuY2FsbCh2bm9kZS5fX2MsIHByb3BzLCBjY3R4KTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQvLyBjbGFzcy1iYXNlZCBjb21wb25lbnRzXG5cdFx0XHRcdGxldCBjeFR5cGUgPSBub2RlTmFtZS5jb250ZXh0VHlwZTtcblx0XHRcdFx0bGV0IHByb3ZpZGVyID0gY3hUeXBlICYmIGNvbnRleHRbY3hUeXBlLl9fY107XG5cdFx0XHRcdGxldCBjY3R4ID0gY3hUeXBlICE9IG51bGwgPyAocHJvdmlkZXIgPyBwcm92aWRlci5wcm9wcy52YWx1ZSA6IGN4VHlwZS5fXykgOiBjb250ZXh0O1xuXG5cdFx0XHRcdC8vIGMgPSBuZXcgbm9kZU5hbWUocHJvcHMsIGNvbnRleHQpO1xuXHRcdFx0XHRjID0gdm5vZGUuX19jID0gbmV3IG5vZGVOYW1lKHByb3BzLCBjY3R4KTtcblx0XHRcdFx0Yy5fX3YgPSB2bm9kZTtcblx0XHRcdFx0Ly8gdHVybiBvZmYgc3RhdGVmdWwgcmUtcmVuZGVyaW5nOlxuXHRcdFx0XHRjLl9kaXJ0eSA9IGMuX19kID0gdHJ1ZTtcblx0XHRcdFx0Yy5wcm9wcyA9IHByb3BzO1xuXHRcdFx0XHRpZiAoYy5zdGF0ZT09bnVsbCkgYy5zdGF0ZSA9IHt9O1xuXG5cdFx0XHRcdGlmIChjLl9uZXh0U3RhdGU9PW51bGwgJiYgYy5fX3M9PW51bGwpIHtcblx0XHRcdFx0XHRjLl9uZXh0U3RhdGUgPSBjLl9fcyA9IGMuc3RhdGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjLmNvbnRleHQgPSBjY3R4O1xuXHRcdFx0XHRpZiAobm9kZU5hbWUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKSBjLnN0YXRlID0gYXNzaWduKGFzc2lnbih7fSwgYy5zdGF0ZSksIG5vZGVOYW1lLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhjLnByb3BzLCBjLnN0YXRlKSk7XG5cdFx0XHRcdGVsc2UgaWYgKGMuY29tcG9uZW50V2lsbE1vdW50KSB7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsTW91bnQoKTtcblxuXHRcdFx0XHRcdC8vIElmIHRoZSB1c2VyIGNhbGxlZCBzZXRTdGF0ZSBpbiBjV00gd2UgbmVlZCB0byBmbHVzaCBwZW5kaW5nLFxuXHRcdFx0XHRcdC8vIHN0YXRlIHVwZGF0ZXMuIFRoaXMgaXMgdGhlIHNhbWUgYmVoYXZpb3VyIGluIFJlYWN0LlxuXHRcdFx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGUgIT09IGMuc3RhdGVcblx0XHRcdFx0XHRcdD8gYy5fbmV4dFN0YXRlIDogYy5fX3MhPT1jLnN0YXRlXG5cdFx0XHRcdFx0XHRcdD8gYy5fX3MgOiBjLnN0YXRlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVuZGVyZWQgPSBjLnJlbmRlcihjLnByb3BzLCBjLnN0YXRlLCBjLmNvbnRleHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYy5nZXRDaGlsZENvbnRleHQpIHtcblx0XHRcdFx0Y29udGV4dCA9IGFzc2lnbihhc3NpZ24oe30sIGNvbnRleHQpLCBjLmdldENoaWxkQ29udGV4dCgpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlbmRlclRvU3RyaW5nKHJlbmRlcmVkLCBjb250ZXh0LCBvcHRzLCBvcHRzLnNoYWxsb3dIaWdoT3JkZXIhPT1mYWxzZSwgaXNTdmdNb2RlLCBzZWxlY3RWYWx1ZSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gcmVuZGVyIEpTWCB0byBIVE1MXG5cdGxldCBzID0gJycsIHByb3BDaGlsZHJlbiwgaHRtbDtcblxuXHRpZiAocHJvcHMpIHtcblx0XHRsZXQgYXR0cnMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG5cblx0XHQvLyBhbGxvdyBzb3J0aW5nIGxleGljb2dyYXBoaWNhbGx5IGZvciBtb3JlIGRldGVybWluaXNtICh1c2VmdWwgZm9yIHRlc3RzLCBzdWNoIGFzIHZpYSBwcmVhY3QtanN4LWNoYWkpXG5cdFx0aWYgKG9wdHMgJiYgb3B0cy5zb3J0QXR0cmlidXRlcz09PXRydWUpIGF0dHJzLnNvcnQoKTtcblxuXHRcdGZvciAobGV0IGk9MDsgaTxhdHRycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IG5hbWUgPSBhdHRyc1tpXSxcblx0XHRcdFx0diA9IHByb3BzW25hbWVdO1xuXHRcdFx0aWYgKG5hbWU9PT0nY2hpbGRyZW4nKSB7XG5cdFx0XHRcdHByb3BDaGlsZHJlbiA9IHY7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobmFtZS5tYXRjaCgvW1xcc1xcblxcXFwvPSdcIlxcMDw+XS8pKSBjb250aW51ZTtcblxuXHRcdFx0aWYgKCEob3B0cyAmJiBvcHRzLmFsbEF0dHJpYnV0ZXMpICYmIChuYW1lPT09J2tleScgfHwgbmFtZT09PSdyZWYnIHx8IG5hbWU9PT0nX19zZWxmJyB8fCBuYW1lPT09J19fc291cmNlJykpIGNvbnRpbnVlO1xuXG5cdFx0XHRpZiAobmFtZT09PSdjbGFzc05hbWUnKSB7XG5cdFx0XHRcdGlmIChwcm9wcy5jbGFzcykgY29udGludWU7XG5cdFx0XHRcdG5hbWUgPSAnY2xhc3MnO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoaXNTdmdNb2RlICYmIG5hbWUubWF0Y2goL154bGluazo/Li8pKSB7XG5cdFx0XHRcdG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXnhsaW5rOj8vLCAneGxpbms6Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuYW1lPT09J2h0bWxGb3InKSB7XG5cdFx0XHRcdGlmIChwcm9wcy5mb3IpIGNvbnRpbnVlO1xuXHRcdFx0XHRuYW1lID0gJ2Zvcic7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuYW1lPT09J3N0eWxlJyAmJiB2ICYmIHR5cGVvZiB2PT09J29iamVjdCcpIHtcblx0XHRcdFx0diA9IHN0eWxlT2JqVG9Dc3Modik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGFsd2F5cyB1c2Ugc3RyaW5nIHZhbHVlcyBpbnN0ZWFkIG9mIGJvb2xlYW5zIGZvciBhcmlhIGF0dHJpYnV0ZXNcblx0XHRcdC8vIGFsc28gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcmVhY3Rqcy9wcmVhY3QvcHVsbC8yMzQ3L2ZpbGVzXG5cdFx0XHRpZiAobmFtZVswXSA9PT0gJ2EnICYmIG5hbWVbJzEnXSA9PT0gJ3InICYmIHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcblx0XHRcdFx0diA9IFN0cmluZyh2KTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGhvb2tlZCA9IG9wdHMuYXR0cmlidXRlSG9vayAmJiBvcHRzLmF0dHJpYnV0ZUhvb2sobmFtZSwgdiwgY29udGV4dCwgb3B0cywgaXNDb21wb25lbnQpO1xuXHRcdFx0aWYgKGhvb2tlZCB8fCBob29rZWQ9PT0nJykge1xuXHRcdFx0XHRzICs9IGhvb2tlZDtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuYW1lPT09J2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xuXHRcdFx0XHRodG1sID0gdiAmJiB2Ll9faHRtbDtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKG5vZGVOYW1lID09PSAndGV4dGFyZWEnICYmIG5hbWUgPT09ICd2YWx1ZScpIHtcblx0XHRcdFx0Ly8gPHRleHRhcmVhIHZhbHVlPVwiYSZiXCI+IC0tPiA8dGV4dGFyZWE+YSZhbXA7YjwvdGV4dGFyZWE+XG5cdFx0XHRcdHByb3BDaGlsZHJlbiA9IHY7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICgodiB8fCB2PT09MCB8fCB2PT09JycpICYmIHR5cGVvZiB2IT09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRpZiAodj09PXRydWUgfHwgdj09PScnKSB7XG5cdFx0XHRcdFx0diA9IG5hbWU7XG5cdFx0XHRcdFx0Ly8gaW4gbm9uLXhtbCBtb2RlLCBhbGxvdyBib29sZWFuIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRpZiAoIW9wdHMgfHwgIW9wdHMueG1sKSB7XG5cdFx0XHRcdFx0XHRzICs9ICcgJyArIG5hbWU7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAobmFtZT09PSd2YWx1ZScpIHtcblx0XHRcdFx0XHRpZiAobm9kZU5hbWU9PT0nc2VsZWN0Jykge1xuXHRcdFx0XHRcdFx0c2VsZWN0VmFsdWUgPSB2O1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKG5vZGVOYW1lPT09J29wdGlvbicgJiYgc2VsZWN0VmFsdWU9PXYpIHtcblx0XHRcdFx0XHRcdHMgKz0gYCBzZWxlY3RlZGA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHMgKz0gYCAke25hbWV9PVwiJHtlbmNvZGVFbnRpdGllcyh2KX1cImA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gYWNjb3VudCBmb3IgPjEgbXVsdGlsaW5lIGF0dHJpYnV0ZVxuXHRpZiAocHJldHR5KSB7XG5cdFx0bGV0IHN1YiA9IHMucmVwbGFjZSgvXlxcblxccyovLCAnICcpO1xuXHRcdGlmIChzdWIhPT1zICYmICF+c3ViLmluZGV4T2YoJ1xcbicpKSBzID0gc3ViO1xuXHRcdGVsc2UgaWYgKHByZXR0eSAmJiB+cy5pbmRleE9mKCdcXG4nKSkgcyArPSAnXFxuJztcblx0fVxuXG5cdHMgPSBgPCR7bm9kZU5hbWV9JHtzfT5gO1xuXHRpZiAoU3RyaW5nKG5vZGVOYW1lKS5tYXRjaCgvW1xcc1xcblxcXFwvPSdcIlxcMDw+XS8pKSB0aHJvdyBuZXcgRXJyb3IoYCR7bm9kZU5hbWV9IGlzIG5vdCBhIHZhbGlkIEhUTUwgdGFnIG5hbWUgaW4gJHtzfWApO1xuXG5cdGxldCBpc1ZvaWQgPSBTdHJpbmcobm9kZU5hbWUpLm1hdGNoKFZPSURfRUxFTUVOVFMpIHx8IChvcHRzLnZvaWRFbGVtZW50cyAmJiBTdHJpbmcobm9kZU5hbWUpLm1hdGNoKG9wdHMudm9pZEVsZW1lbnRzKSk7XG5cdGlmIChpc1ZvaWQpIHMgPSBzLnJlcGxhY2UoLz4kLywgJyAvPicpO1xuXG5cdGxldCBwaWVjZXMgPSBbXTtcblxuXHRsZXQgY2hpbGRyZW47XG5cdGlmIChodG1sKSB7XG5cdFx0Ly8gaWYgbXVsdGlsaW5lLCBpbmRlbnQuXG5cdFx0aWYgKHByZXR0eSAmJiBpc0xhcmdlU3RyaW5nKGh0bWwpKSB7XG5cdFx0XHRodG1sID0gJ1xcbicgKyBpbmRlbnRDaGFyICsgaW5kZW50KGh0bWwsIGluZGVudENoYXIpO1xuXHRcdH1cblx0XHRzICs9IGh0bWw7XG5cdH1cblx0ZWxzZSBpZiAocHJvcENoaWxkcmVuICE9IG51bGwgJiYgZ2V0Q2hpbGRyZW4oY2hpbGRyZW4gPSBbXSwgcHJvcENoaWxkcmVuKS5sZW5ndGgpIHtcblx0XHRsZXQgaGFzTGFyZ2UgPSBwcmV0dHkgJiYgfnMuaW5kZXhPZignXFxuJyk7XG5cdFx0bGV0IGxhc3RXYXNUZXh0ID0gZmFsc2U7XG5cblx0XHRmb3IgKGxldCBpPTA7IGk8Y2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG5cdFx0XHRpZiAoY2hpbGQhPW51bGwgJiYgY2hpbGQhPT1mYWxzZSkge1xuXHRcdFx0XHRsZXQgY2hpbGRTdmdNb2RlID0gbm9kZU5hbWU9PT0nc3ZnJyA/IHRydWUgOiBub2RlTmFtZT09PSdmb3JlaWduT2JqZWN0JyA/IGZhbHNlIDogaXNTdmdNb2RlLFxuXHRcdFx0XHRcdHJldCA9IHJlbmRlclRvU3RyaW5nKGNoaWxkLCBjb250ZXh0LCBvcHRzLCB0cnVlLCBjaGlsZFN2Z01vZGUsIHNlbGVjdFZhbHVlKTtcblxuXHRcdFx0XHRpZiAocHJldHR5ICYmICFoYXNMYXJnZSAmJiBpc0xhcmdlU3RyaW5nKHJldCkpIGhhc0xhcmdlID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBTa2lwIGlmIHdlIHJlY2VpdmVkIGFuIGVtcHR5IHN0cmluZ1xuXHRcdFx0XHRpZiAocmV0KSB7XG5cdFx0XHRcdFx0aWYgKHByZXR0eSkge1xuXHRcdFx0XHRcdFx0bGV0IGlzVGV4dCA9IHJldC5sZW5ndGggPiAwICYmIHJldFswXSE9JzwnO1xuXG5cdFx0XHRcdFx0XHQvLyBXZSBtZXJnZSBhZGphY2VudCB0ZXh0IG5vZGVzLCBvdGhlcndpc2UgZWFjaCBwaWVjZSB3b3VsZCBiZSBwcmludGVkXG5cdFx0XHRcdFx0XHQvLyBvbiBhIG5ldyBsaW5lLlxuXHRcdFx0XHRcdFx0aWYgKGxhc3RXYXNUZXh0ICYmIGlzVGV4dCkge1xuXHRcdFx0XHRcdFx0XHRwaWVjZXNbcGllY2VzLmxlbmd0aCAtMV0gKz0gcmV0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHBpZWNlcy5wdXNoKHJldCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGxhc3RXYXNUZXh0ID0gaXNUZXh0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHBpZWNlcy5wdXNoKHJldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChwcmV0dHkgJiYgaGFzTGFyZ2UpIHtcblx0XHRcdGZvciAobGV0IGk9cGllY2VzLmxlbmd0aDsgaS0tOyApIHtcblx0XHRcdFx0cGllY2VzW2ldID0gJ1xcbicgKyBpbmRlbnRDaGFyICsgaW5kZW50KHBpZWNlc1tpXSwgaW5kZW50Q2hhcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKHBpZWNlcy5sZW5ndGgpIHtcblx0XHRzICs9IHBpZWNlcy5qb2luKCcnKTtcblx0fVxuXHRlbHNlIGlmIChvcHRzICYmIG9wdHMueG1sKSB7XG5cdFx0cmV0dXJuIHMuc3Vic3RyaW5nKDAsIHMubGVuZ3RoLTEpICsgJyAvPic7XG5cdH1cblxuXHRpZiAoIWlzVm9pZCkge1xuXHRcdGlmIChwcmV0dHkgJiYgfnMuaW5kZXhPZignXFxuJykpIHMgKz0gJ1xcbic7XG5cdFx0cyArPSBgPC8ke25vZGVOYW1lfT5gO1xuXHR9XG5cblx0cmV0dXJuIHM7XG59XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KSB7XG5cdHJldHVybiBjb21wb25lbnQuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50IT09RnVuY3Rpb24gJiYgY29tcG9uZW50Lm5hbWUgfHwgZ2V0RmFsbGJhY2tDb21wb25lbnROYW1lKGNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIGdldEZhbGxiYWNrQ29tcG9uZW50TmFtZShjb21wb25lbnQpIHtcblx0bGV0IHN0ciA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNvbXBvbmVudCksXG5cdFx0bmFtZSA9IChzdHIubWF0Y2goL15cXHMqZnVuY3Rpb25cXHMrKFteKCBdKykvKSB8fCAnJylbMV07XG5cdGlmICghbmFtZSkge1xuXHRcdC8vIHNlYXJjaCBmb3IgYW4gZXhpc3RpbmcgaW5kZXhlZCBuYW1lIGZvciB0aGUgZ2l2ZW4gY29tcG9uZW50OlxuXHRcdGxldCBpbmRleCA9IC0xO1xuXHRcdGZvciAobGV0IGk9VU5OQU1FRC5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRpZiAoVU5OQU1FRFtpXT09PWNvbXBvbmVudCkge1xuXHRcdFx0XHRpbmRleCA9IGk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBub3QgZm91bmQsIGNyZWF0ZSBhIG5ldyBpbmRleGVkIG5hbWU6XG5cdFx0aWYgKGluZGV4PDApIHtcblx0XHRcdGluZGV4ID0gVU5OQU1FRC5wdXNoKGNvbXBvbmVudCkgLSAxO1xuXHRcdH1cblx0XHRuYW1lID0gYFVubmFtZWRDb21wb25lbnQke2luZGV4fWA7XG5cdH1cblx0cmV0dXJuIG5hbWU7XG59XG5yZW5kZXJUb1N0cmluZy5zaGFsbG93UmVuZGVyID0gc2hhbGxvd1JlbmRlcjtcblxuZXhwb3J0IGRlZmF1bHQgcmVuZGVyVG9TdHJpbmc7XG5cbmV4cG9ydCB7XG5cdHJlbmRlclRvU3RyaW5nIGFzIHJlbmRlcixcblx0cmVuZGVyVG9TdHJpbmcgYXMgcmVuZGVyVG9TdGF0aWNNYXJrdXAsXG5cdHJlbmRlclRvU3RyaW5nLFxuXHRzaGFsbG93UmVuZGVyXG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudCAqL1xuaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCByZW5kZXIgZnJvbSBcInByZWFjdC1yZW5kZXItdG8tc3RyaW5nXCI7XG5pbXBvcnQgeyB0ZXh0RGF0YSwgRnJhbWVEYXRhSW50ZXJmYWNlLCBJVGV4dFN0eWxlIH0gZnJvbSBcInR5cGVzXCI7XG5cbi8vIEltcG9ydCBDU1MgZmlsZSBhcyBwbGFpbiB0ZXh0IHZpYSBlc2J1aWxkIGxvYWRlciBvcHRpb25cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBlbWJlZENzcyBmcm9tIFwiLi9lbWJlZC5jc3NcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBmb250c0NzcyBmcm9tIFwiLi9mb250cy5jc3NcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSWZyYW1lSHRtbChib2R5OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYFxuICAgIDwhZG9jdHlwZSBodG1sPlxuICAgIDxodG1sPlxuICAgICAgPGhlYWQ+XG4gICAgICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICAgICAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIj5cbiAgICAgICAgPHN0eWxlPiBodG1sLCBib2R5IHsgbWFyZ2luOiAwOyB9IDwvc3R5bGU+XG4gICAgICA8L2hlYWQ+XG4gICAgICA8Ym9keT5cbiAgICAgICAgJHtib2R5fVxuICAgICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgYDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVQYXJhZ3JhcGhTdHlsZShcbiAgbm9kZTogdGV4dERhdGEsXG4gIGZyYW1lV2lkdGg6IG51bWJlcixcbiAgZnJhbWVIZWlnaHQ6IG51bWJlcixcbiAgcG9zaXRpb25GaXhlZDogYm9vbGVhblxuKSB7XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHRleHRBbGlnbkhvcml6b250YWwsXG4gICAgdGV4dEFsaWduVmVydGljYWwsXG4gICAgY29uc3RyYWludHMsXG4gICAgc3Ryb2tlV2VpZ2h0LFxuICAgIHN0cm9rZUNvbG91cixcbiAgfSA9IG5vZGU7XG5cbiAgbGV0IHN0eWxlVGV4dCA9IFwiXCI7XG5cbiAgLy8gU3Ryb2tlc1xuICBjb25zb2xlLmxvZyhcIklOIEhFUkVSXCIsIHN0cm9rZUNvbG91ciwgc3Ryb2tlV2VpZ2h0KTtcbiAgaWYgKHN0cm9rZVdlaWdodCAmJiBzdHJva2VDb2xvdXIpIHtcbiAgICBjb25zb2xlLmxvZyhcIklOIEhFUkVSXCIsIHN0cm9rZUNvbG91ciwgc3Ryb2tlV2VpZ2h0KTtcbiAgICBzdHlsZVRleHQgKz0gYFxuICAgICAtd2Via2l0LXRleHQtc3Ryb2tlLWNvbG9yOiAgJHtzdHJva2VDb2xvdXJ9O1xuICAgIGA7XG4gIH1cblxuICAvLyBUT0RPOiBBZGQgc2Vuc2libGUgbG9naWMgZm9yIHZlcnRpY2FsIGFsaWdubWVudCBpbiByZXNwb25zaXZlIHZpZXdcblxuICAvLyBQb3NpdGlvbiBjZW50ZXIgYWxpZ25lZFxuICBjb25zdCBsZWZ0UG9zID0gKHggKyB3aWR0aCAvIDIpIC8gZnJhbWVXaWR0aDtcbiAgY29uc3QgbGVmdCA9IGAke2xlZnRQb3MgKiAxMDB9JWA7XG4gIGNvbnN0IHRvcCA9IGAkeygoeSArIGhlaWdodCAvIDIpIC8gZnJhbWVIZWlnaHQpICogMTAwfSVgO1xuXG4gIGxldCBhbGlnblZlcnRpY2FsID0gXCJjZW50ZXJcIjtcbiAgbGV0IHZlcnRpY2FsUG9zaXRpb24gPSBcIlwiO1xuICBzd2l0Y2ggKHRleHRBbGlnblZlcnRpY2FsKSB7XG4gICAgY2FzZSBcIlRPUFwiOlxuICAgICAgYWxpZ25WZXJ0aWNhbCA9IFwiZmxleC1zdGFydFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNFTlRFUlwiOlxuICAgICAgYWxpZ25WZXJ0aWNhbCA9IFwiY2VudGVyXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiQk9UVE9NXCI6XG4gICAgICBhbGlnblZlcnRpY2FsID0gXCJmbGV4LWVuZFwiO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICBjb25zb2xlLmxvZyhub2RlLmNoYXJhY3RlcnMsIHgsIGhlaWdodCk7XG5cbiAgc3dpdGNoIChjb25zdHJhaW50cy52ZXJ0aWNhbCkge1xuICAgIGNhc2UgXCJNSU5cIjpcbiAgICAgIHZlcnRpY2FsUG9zaXRpb24gPSBgdG9wOiAke3RvcH1gO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIk1BWFwiOlxuICAgICAgdmVydGljYWxQb3NpdGlvbiA9IGBib3R0b206ICR7ZnJhbWVIZWlnaHQgLSB5IC0gaGVpZ2h0IC0gaGVpZ2h0IC8gMn1weGA7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdmVydGljYWxQb3NpdGlvbiA9IGB0b3A6ICR7dG9wfWA7XG4gIH1cblxuICBsZXQgYWxpZ25Ib3Jpem9udGFsID0gXCJjZW50ZXJcIjtcbiAgc3dpdGNoIChjb25zdHJhaW50cy5ob3Jpem9udGFsKSB7XG4gICAgY2FzZSBcIk1JTlwiOlxuICAgICAgYWxpZ25Ib3Jpem9udGFsID0gXCJmbGV4LXN0YXJ0XCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiQ0VOVEVSXCI6XG4gICAgICBhbGlnbkhvcml6b250YWwgPSBcImNlbnRlclwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIk1BWFwiOlxuICAgICAgYWxpZ25Ib3Jpem9udGFsID0gXCJmbGV4LWVuZFwiO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gYFxuICAgICAgICAke3N0eWxlVGV4dH1cbiAgICAgICAgd2lkdGg6ICR7cG9zaXRpb25GaXhlZCA/IFwiYXV0b1wiIDogYCR7KHdpZHRoIC8gZnJhbWVXaWR0aCkgKiAxMDB9JWB9O1xuICAgICAgICBoZWlnaHQ6ICR7cG9zaXRpb25GaXhlZCA/IFwiYXV0b1wiIDogYCR7KGhlaWdodCAvIGZyYW1lSGVpZ2h0KSAqIDEwMH0lYH07XG4gICAgICAgIGxlZnQ6ICR7cG9zaXRpb25GaXhlZCA/IGAke3h9cHhgIDogbGVmdH07XG4gICAgICAgICR7dmVydGljYWxQb3NpdGlvbn07XG4gICAgICAgIHRleHQtYWxpZ246ICR7dGV4dEFsaWduSG9yaXpvbnRhbC50b0xvY2FsZUxvd2VyQ2FzZSgpfTtcbiAgICAgICAgYWxpZ24taXRlbXM6ICR7YWxpZ25WZXJ0aWNhbH07XG4gICAgICAgIGp1c3RpZnktY29udGVudDogJHthbGlnbkhvcml6b250YWx9O1xuICAgICAgICBwb3NpdGlvbjogJHtwb3NpdGlvbkZpeGVkID8gXCJmaXhlZFwiIDogXCJhYnNvbHV0ZVwifTtcbiAgICAgICAgJHtwb3NpdGlvbkZpeGVkID8gXCJ0cmFuc2Zvcm06IG5vbmU7XCIgOiBcIlwifVxuICAgICAgYDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTcGFuU3R5bGVzKHN0eWxlOiBJVGV4dFN0eWxlKTogc3RyaW5nIHtcbiAgY29uc3QgeyByLCBnLCBiIH0gPSBzdHlsZS5jb2xvdXI7XG4gIGNvbnN0IGNvbG91ciA9IGByZ2IoJHtyICogMjU1fSwgJHtnICogMjU1fSwgJHtiICogMjU1fSlgO1xuXG4gIC8vIEZvbnQgd2VpZ2h0c1xuICBsZXQgZm9udFdlaWdodCA9IDQwMDtcbiAgc3dpdGNoIChzdHlsZS5mb250LnN0eWxlKSB7XG4gICAgY2FzZSBcIkJvbGRcIjpcbiAgICAgIGZvbnRXZWlnaHQgPSA3MDA7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgXCJTZW1pYm9sZFwiOlxuICAgICAgZm9udFdlaWdodCA9IDYwMDtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcIk1lZGl1bVwiOlxuICAgICAgZm9udFdlaWdodCA9IDUwMDtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcIlJvbWFuXCI6XG4gICAgICBmb250V2VpZ2h0ID0gNDAwO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICAvLyBIQUNLOiBGaXggbGV0dGVyIHNwYWNpbmcgZm9udCByZW5kZXJpbmcgYnkgYWRkaW5nIG9mZnNldFxuICBsZXQgbGV0dGVyU3BhY2VPZmZzZXQgPSBcIjBweFwiO1xuICBpZiAoc3R5bGUuZm9udC5mYW1pbHkgPT09IFwiVGVsZXNhbnMgVGV4dFwiKSB7XG4gICAgbGV0dGVyU3BhY2VPZmZzZXQgPSBcIjAuMDI2ZW1cIjtcbiAgfVxuICBpZiAoc3R5bGUuZm9udC5mYW1pbHkgPT09IFwiVGVsZXNhbnMgQWdhdGVcIikge1xuICAgIC8vIGxldHRlclNwYWNlT2Zmc2V0ID0gXCIwLjAwNGVtXCI7XG4gIH1cbiAgaWYgKFxuICAgIHN0eWxlLmZvbnQuZmFtaWx5ID09PSBcIkF1c3RpbiBOZXdzIERlY2tcIiAmJlxuICAgIFtcIkJvbGRcIiwgXCJTZW1pYm9sZFwiXS5pbmNsdWRlcyhzdHlsZS5mb250LnN0eWxlKVxuICApIHtcbiAgICBsZXR0ZXJTcGFjZU9mZnNldCA9IFwiMC4wMmVtXCI7XG4gIH1cblxuICAvLyBGb250IHN0eWxlXG4gIGxldCBmb250U3R5bGUgPSBcIm5vcm1hbFwiO1xuICBpZiAoUmVnRXhwKFwiaXRhbGljXCIsIFwiaVwiKS50ZXN0KHN0eWxlLmZvbnQuc3R5bGUpKSB7XG4gICAgZm9udFN0eWxlID0gXCJpdGFsaWNcIjtcbiAgfVxuXG4gIHJldHVybiBgXG4gICAgbGV0dGVyLXNwYWNpbmc6IGNhbGMoJHtzdHlsZS5sZXR0ZXJTcGFjZX0gLSAke2xldHRlclNwYWNlT2Zmc2V0fSk7XG4gICAgbGluZS1oZWlnaHQ6ICR7c3R5bGUubGluZUhlaWdodH07XG4gICAgZm9udC1zaXplOiAke3N0eWxlLnNpemV9cHg7XG4gICAgY29sb3I6ICR7Y29sb3VyfTtcbiAgICBmb250LWZhbWlseTogXCIke3N0eWxlLmZvbnQuZmFtaWx5fVwiO1xuICAgIGZvbnQtd2VpZ2h0OiAke2ZvbnRXZWlnaHR9O1xuICAgIGZvbnQtc3R5bGU6ICR7Zm9udFN0eWxlfTtcbmA7XG59XG5cbnR5cGUgVGV4dFByb3BzID0ge1xuICBub2RlOiB0ZXh0RGF0YTtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHBvc2l0aW9uRml4ZWQ6IGJvb2xlYW47XG59O1xuZnVuY3Rpb24gVGV4dChwcm9wczogVGV4dFByb3BzKSB7XG4gIGNvbnN0IHsgbm9kZSwgd2lkdGgsIGhlaWdodCwgcG9zaXRpb25GaXhlZCB9ID0gcHJvcHM7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2BmMmhfX3RleHQgJHtub2RlLnN0cm9rZVdlaWdodCA/IFwiZjJoX190ZXh0LS1zdHJva2VcIiA6IFwiXCJ9YH1cbiAgICAgIHN0eWxlPXtnZW5lcmF0ZVBhcmFncmFwaFN0eWxlKG5vZGUsIHdpZHRoLCBoZWlnaHQsIHBvc2l0aW9uRml4ZWQpfVxuICAgID5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImYyaF9fdGV4dF9pbm5lclwiPlxuICAgICAgICB7bm9kZS5yYW5nZVN0eWxlcy5tYXAoKHN0eWxlKSA9PiAoXG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGtleT17c3R5bGUuY2hhcnN9XG4gICAgICAgICAgICBkYXRhLXRleHQ9e25vZGUuc3Ryb2tlV2VpZ2h0ID8gc3R5bGUuY2hhcnMgOiBcIlwifVxuICAgICAgICAgICAgc3R5bGU9e2dlbmVyYXRlU3BhblN0eWxlcyhzdHlsZSl9XG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgICBfX2h0bWw6IHN0eWxlLmNoYXJzLnJlcGxhY2UoL1xcbi9nLCBcIjxiciAvPlwiKSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPjwvc3Bhbj5cbiAgICAgICAgKSl9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmludGVyZmFjZSByZW5kZXJJbmxpbmVQcm9wcyB7XG4gIGZyYW1lczogRnJhbWVEYXRhSW50ZXJmYWNlW107XG4gIHN2Z1RleHQ6IHN0cmluZztcbiAgaGVhZGxpbmU/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHN1YmhlYWQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHNvdXJjZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVzcG9uc2l2ZTogYm9vbGVhbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJJbmxpbmUocHJvcHM6IHJlbmRlcklubGluZVByb3BzKTogc3RyaW5nIHtcbiAgY29uc3QgeyBmcmFtZXMsIHN2Z1RleHQsIGhlYWRsaW5lLCBzdWJoZWFkLCBzb3VyY2UsIHJlc3BvbnNpdmUgfSA9IHByb3BzO1xuICBjb25zdCBtZWRpYVF1ZXJ5ID0gZ2VucmVhdGVNZWRpYVF1ZXJpZXMoZnJhbWVzKTtcbiAgY29uc3QgdGV4dE5vZGVzID0gW107XG5cbiAgZm9yIChjb25zdCBmcmFtZSBvZiBmcmFtZXMpIHtcbiAgICBjb25zdCB0Tm9kZSA9IChcbiAgICAgIDxkaXYgaWQ9e2B0ZXh0YmxvY2stJHtmcmFtZS5pZH1gfSBjbGFzc05hbWU9e2ZyYW1lLnVpZH0+XG4gICAgICAgIHtmcmFtZS50ZXh0Tm9kZXMubWFwKChub2RlKSA9PiAoXG4gICAgICAgICAgPFRleHRcbiAgICAgICAgICAgIGtleT17bm9kZS5jaGFyYWN0ZXJzfVxuICAgICAgICAgICAgbm9kZT17bm9kZX1cbiAgICAgICAgICAgIHdpZHRoPXtmcmFtZS53aWR0aH1cbiAgICAgICAgICAgIGhlaWdodD17ZnJhbWUuaGVpZ2h0fVxuICAgICAgICAgICAgcG9zaXRpb25GaXhlZD17ZnJhbWUuZml4ZWRQb3NpdGlvbk5vZGVzLmluY2x1ZGVzKG5vZGUuaWQpfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcblxuICAgIHRleHROb2Rlcy5wdXNoKHROb2RlKTtcbiAgfVxuXG4gIGNvbnN0IGh0bWwgPSByZW5kZXIoXG4gICAgPGRpdiBjbGFzc05hbWU9e2BmMmhfX2VtYmVkICR7cmVzcG9uc2l2ZSA/IFwiZjJoLS1yZXNwb25zaXZlXCIgOiBcIlwifWB9PlxuICAgICAgPHN0eWxlXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgX19odG1sOiBgXG4gICAgICAgJHtmb250c0NzcyBhcyBzdHJpbmd9XG4gICAgICAgJHtlbWJlZENzcyBhcyBzdHJpbmd9XG4gICAgICAgJHttZWRpYVF1ZXJ5fVxuICAgICAgYCxcbiAgICAgICAgfX1cbiAgICAgID48L3N0eWxlPlxuXG4gICAgICB7KGhlYWRsaW5lIHx8IHN1YmhlYWQpICYmIChcbiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmMmhfaGVhZGVyXCI+XG4gICAgICAgICAge2hlYWRsaW5lICYmIDxoMSBjbGFzc05hbWU9XCJmMmhfaGVhZGxpbmVcIj57aGVhZGxpbmV9PC9oMT59XG4gICAgICAgICAge3N1YmhlYWQgJiYgPHAgY2xhc3NOYW1lPVwiZjJoX3N1YmJoZWFkXCI+c3ViaGVhZDwvcD59XG4gICAgICAgIDwvaGVhZGVyPlxuICAgICAgKX1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX3dyYXBcIiBzdHlsZT17YHBvc2l0aW9uOiByZWxhdGl2ZTtgfT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fc3ZnX2NvbnRhaW5lclwiXG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBzdmdUZXh0IH19XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ub2Rlc1wiPnt0ZXh0Tm9kZXN9PC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3NvdXJjZSAmJiAoXG4gICAgICAgIDxmb290ZXI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZjJoX3NvdXJjZVwiPntzb3VyY2V9PC9wPlxuICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG5cbiAgcmV0dXJuIGh0bWw7XG59XG5cbi8qKlxuICogVE9ETzogVGhlcmUncyB0b28gbXVjaCBsb2dpYyBpbiAgaGVyZS4gQnJlYWtvdXQgaW50byBzZXBhcmF0ZSBmdW5jdGlvbnNcbiAqL1xuZnVuY3Rpb24gZ2VucmVhdGVNZWRpYVF1ZXJpZXMoZnJhbWVzOiBGcmFtZURhdGFJbnRlcmZhY2VbXSkge1xuICAvLyBTb3J0IGZyYW1lcyBieSBhc2NlbmRpbmcgaGVpZ2h0LiBTbWFsbCA+IGJpZ1xuICBjb25zdCBzb3J0ZWRGcmFtZXMgPSBPYmplY3QudmFsdWVzKGZyYW1lcylcbiAgICAubWFwKCh7IHdpZHRoLCBoZWlnaHQsIHVpZCB9KSA9PiAoeyB3aWR0aCwgaGVpZ2h0LCB1aWQgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IChhLndpZHRoIDwgYi53aWR0aCA/IC0xIDogMSkpO1xuXG4gIGNvbnN0IGxhcmdlc3RXaWR0aCA9IE1hdGgubWF4KC4uLnNvcnRlZEZyYW1lcy5tYXAoKHsgd2lkdGggfSkgPT4gd2lkdGgpKTtcblxuICBsZXQgY3NzVGV4dCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkRnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgeyB1aWQsIHdpZHRoLCBoZWlnaHQgfSA9IHNvcnRlZEZyYW1lc1tpXTtcblxuICAgIC8vIFN0eWxlcyBmb3IgdGhlIGZpcnN0IChzbWFsbGVzdCkgYnJlYWtwb2ludFxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICBjc3NUZXh0ICs9IGBcbiAgICAgICAgICAgIC5mMmhfX3N2Z19jb250YWluZXIsXG4gICAgICAgICAgICAuZjJoX193cmFwIHtcbiAgICAgICAgICAgICAgd2lkdGg6ICR7d2lkdGh9cHg7XG4gICAgICAgICAgICAgIGhlaWdodDogJHtoZWlnaHR9cHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5mMmgtLXJlc3BvbnNpdmUgLmYyaF9fc3ZnX2NvbnRhaW5lcixcbiAgICAgICAgICAgIC5mMmgtLXJlc3BvbnNpdmUgLmYyaF9fd3JhcFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAkeyhoZWlnaHQgLyB3aWR0aCkgKiAxMDB9dnc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5mMmgtLXJlc3BvbnNpdmUgc3ZnIHtcbiAgICAgICAgICAgICAgd2lkdGg6ICR7KGxhcmdlc3RXaWR0aCAvIHdpZHRoKSAqIDEwMH0lO1xuICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3R5bGVzIGZvciB0aGUgIHJlbWFpbmluZyBicmVha3BvaW50c1xuICAgICAgY29uc3QgeyB1aWQ6IHByZXZJZCB9ID0gc29ydGVkRnJhbWVzW2kgLSAxXTtcbiAgICAgIGNzc1RleHQgKz0gYFxuICAgICAgLyogSGlkZSB1bnRpbCB3aWR0aCBpcyByZWFjaGVkICovXG4gICAgICBAbWVkaWEgKG1heC13aWR0aDogJHt3aWR0aH1weCkge1xuICAgICAgICAuJHt1aWR9IHsgZGlzcGxheTogbm9uZTsgfVxuICAgICAgfVxuXG4gICAgICAvKiBIaWRlIHByZXZpb3VzIGFuZCBzaG93IGN1cnJlbnQgZnJhbWUgKi9cbiAgICAgIEBtZWRpYSAobWluLXdpZHRoOiAke3dpZHRofXB4KSB7XG4gICAgICAgIC5mMmgtLXJlc3BvbnNpdmUgc3ZnIHtcbiAgICAgICAgICB3aWR0aDogJHsobGFyZ2VzdFdpZHRoIC8gd2lkdGgpICogMTAwfSU7XG4gICAgICAgIH1cblxuICAgICAgICAuJHtwcmV2SWR9IHsgZGlzcGxheTogbm9uZTsgfVxuICAgICAgICAuJHt1aWR9IHsgZGlzcGxheTogYmxvY2s7IH1cbiAgICAgICAgLmYyaF9fc3ZnX2NvbnRhaW5lcixcbiAgICAgICAgLmYyaF9fd3JhcCB7XG4gICAgICAgICAgd2lkdGg6ICR7d2lkdGh9cHg7XG4gICAgICAgICAgaGVpZ2h0OiAke2hlaWdodH1weDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5mMmgtLXJlc3BvbnNpdmUgLmYyaF9fc3ZnX2NvbnRhaW5lcixcbiAgICAgICAgLmYyaC0tcmVzcG9uc2l2ZSAuZjJoX193cmFwIHtcbiAgICAgICAgICBoZWlnaHQ6ICR7KGhlaWdodCAvIHdpZHRoKSAqIDEwMH12dztcbiAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIFN0eWxlIGZvciBsYXN0IGJyZWFrcG9pbnRcbiAgICBpZiAoaSA9PT0gc29ydGVkRnJhbWVzLmxlbmd0aCAtIDEpIHtcblxuICAgICAgY3NzVGV4dCArPSBgXG4gICAgICAgIEBtZWRpYSAobWluLWFzcGVjdC1yYXRpbzogJHsod2lkdGgvaGVpZ2h0KX0pIGFuZCAobWluLXdpZHRoOiAke3dpZHRofXB4KSB7XG4gICAgICAgICAgLmYyaC0tcmVzcG9uc2l2ZSBzdmcgeyBcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZjJoLS1yZXNwb25zaXZlIC50ZXh0LW5vZGVzIHtcbiAgICAgICAgICAgIC8qIG1heC13aWR0aCBpcyBhc3BlY3QgcmF0aW8gKi9cbiAgICAgICAgICAgIG1heC13aWR0aDogJHsod2lkdGgvaGVpZ2h0KSAqIDEwMH12aDtcbiAgICAgICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmYyaC0tcmVzcG9uc2l2ZSAuZjJoX193cmFwIHtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY3NzVGV4dDtcbn1cbiIsICJleHBvcnQgZW51bSBTVEFHRVMge1xuICBDSE9PU0VfRlJBTUVTLFxuICBSRVNQT05TSVZFX1BSRVZJRVcsXG4gIFNBVkVfT1VUUFVULFxufVxuXG5leHBvcnQgZW51bSBNU0dfRVZFTlRTIHtcbiAgRk9VTkRfRlJBTUVTLFxuICBOT19GUkFNRVMsXG4gIFJFTkRFUixcbiAgQ0xPU0UsXG4gIEVSUk9SLFxuICBVUERBVEVfSEVBRExJTkVTLFxuICBDT01QUkVTU19JTUFHRSxcbiAgR0VUX1JPT1RfRlJBTUVTLFxufVxuXG5leHBvcnQgZW51bSBPVVRQVVRfRk9STUFUUyB7XG4gIElOTElORSxcbiAgSUZSQU1FLFxufVxuXG5leHBvcnQgY29uc3QgVUlfVEVYVCA9IHtcbiAgRVJST1JfVU5FWFBFQ1RFRDogXCJVbmV4cGVjdGVkIGVycm9yXCIsXG4gIEVSUk9SX01JU1NJTkdfRlJBTUVTOiBcIk5vIGZyYW1lcyBmb3VuZC4gUGxlYXNlIGFkZCBzb21lIGZyYW1lcyB0byB0aGUgcGFnZS5cIixcbiAgV0FSTl9OT19UQVJHRVRTOiBcIlN0YW5kYXJkIGZyYW1lcyBub3QgZm91bmQuIFBsZWFzZSBzZWxlY3QgdGFyZ2V0IGZyYW1lcy5cIixcbiAgV0FSTl9UT09fTUFOWV9UQVJHRVRTOiBcIlBsZWFzZSBzZWxlY3QgdGhyZWUgdGFyZ2V0IGZyYW1lc1wiLFxuICBJTkZPX1BSRVZJRVc6IFwiUHJldmlldyBlYWNoIGZyYW1lIG91dHB1dFwiLFxuICBUSVRMRV9DSE9PU0VfRlJBTUU6IFwiQ2hvb3NlIHdoaWNoIGZyYW1lcyB0byBleHBvcnRcIixcbiAgVElUTEVfUFJFVklFVzogXCJQcmV2aWV3XCIsXG4gIFRJVExFX1JFU1BPTlNJVkVfUFJFVklFVzogXCJSZXNwb25zaXZlIHByZXZpZXdcIixcbiAgVElMRV9PVVRQVVQ6IFwiRXhwb3J0XCIsXG4gIEJVVFRPTl9ORVhUOiBcIk5leHRcIixcbiAgQlVUVE9OX0RPV05MT0FEOiBcIkRvd25sb2FkXCIsXG4gIEJVVFRPTl9QUkVWSU9VUzogXCJCYWNrXCIsXG59O1xuXG5leHBvcnQgY29uc3QgRlJBTUVfV0FSTklOR19TSVpFID0gMzAwO1xuXG5leHBvcnQgZW51bSBIRUFETElORV9OT0RFX05BTUVTIHtcbiAgSEVBRExJTkUgPSBcImhlYWRsaW5lXCIsXG4gIFNVQkhFQUQgPSBcInN1YmhlYWRcIixcbiAgU09VUkNFID0gXCJzb3VyY2VcIixcbn1cbiIsICJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgZGVmbGF0ZSB9IGZyb20gXCJwYWtvXCI7XG5pbXBvcnQgeyBTVEFHRVMsIFVJX1RFWFQsIEZSQU1FX1dBUk5JTkdfU0laRSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFN2Z0luZm9ybWF0aW9uKHByb3BzOiB7IHN2Z01hcmt1cDogc3RyaW5nIH0pOiBoLkpTWC5FbGVtZW50IHtcbiAgY29uc3QgeyBzdmdNYXJrdXAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGZpbGVLYlNpemUgPSBzdmdNYXJrdXAubGVuZ3RoIC8gMTAwMDtcbiAgY29uc3QgaXNGaWxlTGFyZ2UgPSBmaWxlS2JTaXplID4gRlJBTUVfV0FSTklOR19TSVpFO1xuICBsZXQgZmlsZVNpemVDbGFzc05hbWUgPSBcImYyaF9fZmlsZV9zaXplXCI7XG4gIGlmIChpc0ZpbGVMYXJnZSkge1xuICAgIGZpbGVTaXplQ2xhc3NOYW1lICs9IFwiIGYyaF9fZmlsZV9zaXplIGYyaF9fbm90aWNlLS1lcnJvclwiO1xuICB9XG5cbiAgY29uc3QgZ3ppcFNpemUgPSAoZGVmbGF0ZShzdmdNYXJrdXApLmJ1ZmZlci5ieXRlTGVuZ3RoIC8gMTAyNCkudG9GaXhlZCgyKTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImYyaF9faW5mb1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZjJoX19pbmZvX21ldGFcIj5cbiAgICAgICAgRmlsZXNpemVcbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9e2ZpbGVTaXplQ2xhc3NOYW1lfVxuICAgICAgICAgIHRpdGxlPXtgVW5jb21wcmVzc2VkICR7ZmlsZUtiU2l6ZS50b0ZpeGVkKDIpfUtCYH1cbiAgICAgICAgPlxuICAgICAgICAgIHtnemlwU2l6ZX1LQlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgPC9wPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGVyVGl0bGUocHJvcHM6IHsgc3RhZ2U6IFNUQUdFUyB9KTogaC5KU1guRWxlbWVudCB7XG4gIGNvbnN0IHsgc3RhZ2UgfSA9IHByb3BzO1xuXG4gIGxldCB0aXRsZSA9IFwiXCI7XG5cbiAgc3dpdGNoIChzdGFnZSkge1xuICAgIGNhc2UgU1RBR0VTLkNIT09TRV9GUkFNRVM6XG4gICAgICB0aXRsZSA9IFVJX1RFWFQuVElUTEVfQ0hPT1NFX0ZSQU1FO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVc6XG4gICAgICB0aXRsZSA9IFVJX1RFWFQuVElUTEVfUkVTUE9OU0lWRV9QUkVWSUVXO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNUQUdFUy5TQVZFX09VVFBVVDpcbiAgICAgIHRpdGxlID0gVUlfVEVYVC5USUxFX09VVFBVVDtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIDxoMSBjbGFzc05hbWU9XCJmMmhfX3RpdGxlXCI+e3RpdGxlfTwvaDE+O1xufVxuIiwgImltcG9ydCB7IGgsIENvbXBvbmVudCwgY3JlYXRlUmVmLCBSZWZPYmplY3QgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSBcImxvZGFzaC9kZWJvdW5jZVwiO1xuaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tIFwidHlwZXNcIjtcbmltcG9ydCB7IHRha2VXaGlsZSB9IGZyb20gXCJsb2Rhc2hcIjtcblxuaW50ZXJmYWNlIFJlc3BvbnNpdmVWaWV3UHJvcHMgZXh0ZW5kcyBQaWNrPEFwcFN0YXRlLCBcInN2Z01hcmt1cFwiPiB7XG4gIGZyYW1lV2lkdGhzOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFJlc3BvbnNpdmVWaWV3IGV4dGVuZHMgQ29tcG9uZW50PFxuICBSZXNwb25zaXZlVmlld1Byb3BzLFxuICB7IHdpZHRoSW5kZXg6IG51bWJlcjsgaWZyYW1lV2lkdGg6IG51bWJlciB9XG4+IHtcbiAgaWZyYW1lRWw6IFJlZk9iamVjdDxIVE1MSUZyYW1lRWxlbWVudD4gPSBjcmVhdGVSZWYoKTtcbiAgaW5wdXRFbDogUmVmT2JqZWN0PEhUTUxJbnB1dEVsZW1lbnQ+ID0gY3JlYXRlUmVmKCk7XG4gIGlmcmFtZU9ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBSZXNwb25zaXZlVmlld1Byb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IHsgZnJhbWVXaWR0aHMgfSA9IHByb3BzO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHdpZHRoSW5kZXg6IDAsXG4gICAgICBpZnJhbWVXaWR0aDogZnJhbWVXaWR0aHNbMF0sXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlmcmFtZUVsLmN1cnJlbnQpIHtcbiAgICAgIHRoaXMuaWZyYW1lT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihcbiAgICAgICAgZGVib3VuY2UodGhpcy5oYW5kbGVSZXNpemUsIDUwKVxuICAgICAgKTtcblxuICAgICAgdGhpcy5pZnJhbWVPYnNlcnZlci5vYnNlcnZlKHRoaXMuaWZyYW1lRWwuY3VycmVudCwge1xuICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICBjaGlsZExpc3Q6IGZhbHNlLFxuICAgICAgICBzdWJ0cmVlOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCk6IHZvaWQge1xuICAgIHRoaXMuaWZyYW1lT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTtcbiAgfVxuXG4gIGhhbmRsZVJlc2l6ZSA9IChtdXRMaXN0OiBNdXRhdGlvblJlY29yZFtdKTogdm9pZCA9PiB7XG4gICAgZm9yIChjb25zdCB7IGF0dHJpYnV0ZU5hbWUsIHR5cGUsIHRhcmdldCB9IG9mIG11dExpc3QpIHtcbiAgICAgIGlmICh0eXBlID09PSBcImF0dHJpYnV0ZXNcIiAmJiBhdHRyaWJ1dGVOYW1lID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCB9ID0gKHRhcmdldCBhcyBIVE1MSUZyYW1lRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpZnJhbWVXaWR0aDogd2lkdGggfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHNldEluZGV4ID0gKGk6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB3aWR0aEluZGV4OiBpIH0pO1xuXG4gICAgaWYgKHRoaXMuaWZyYW1lRWwuY3VycmVudCkge1xuICAgICAgY29uc3QgeyBmcmFtZVdpZHRocyB9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMuaWZyYW1lRWwuY3VycmVudC5zdHlsZS53aWR0aCA9IGAke2ZyYW1lV2lkdGhzW2ldfXB4YDtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKHRoaXMuaW5wdXRFbC5jdXJyZW50ICYmIHRoaXMuaWZyYW1lRWwuY3VycmVudCkge1xuICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5pbnB1dEVsLmN1cnJlbnQ7XG4gICAgICB0aGlzLmlmcmFtZUVsLmN1cnJlbnQuc3R5bGUud2lkdGggPSBgJHt2YWx1ZX1weGA7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpOiBoLkpTWC5FbGVtZW50IHtcbiAgICBjb25zdCB7IHdpZHRoSW5kZXgsIGlmcmFtZVdpZHRoIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgc3ZnTWFya3VwLCBmcmFtZVdpZHRocyB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fcmVzcG9uc2l2ZV9wcmV2aWV3XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19yZXNwb25zaXZlX2luZm9cIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmMmhfX3Jlc3BvbnNpdmVfd2lkdGhcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtpZnJhbWVXaWR0aH1cbiAgICAgICAgICAgICAgcmVmPXt0aGlzLmlucHV0RWx9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3Jlc3BvbnNpdmVfaW5wdXRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHB4XG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZjJoX19yZXNwb25zaXZlX2JyZWFrcG9pbnRzXCI+XG4gICAgICAgICAgICBCcmVha3BvaW50c1xuICAgICAgICAgICAge2ZyYW1lV2lkdGhzLm1hcCgod2lkdGgsIGkpID0+IChcbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBrZXk9e3dpZHRofVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlc3BvbnNpdmVfd2lkdGhfYnRuICR7XG4gICAgICAgICAgICAgICAgICB3aWR0aEluZGV4ID09PSBpID8gXCJhY3RpdmVcIiA6IFwiXCJcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldEluZGV4KGkpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3dpZHRofVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19yZXNwb25zaXZlX193cmFwcGVyXCI+XG4gICAgICAgICAgPGlmcmFtZVxuICAgICAgICAgICAgc3R5bGU9e2B3aWR0aDoge2ZyYW1lV2lkdGhzW3dpZHRoSW5kZXhdfXB4YH1cbiAgICAgICAgICAgIHdpZHRoPXtmcmFtZVdpZHRoc1swXX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fcmVzcG9uc2l2ZV9fc2FuZGJveFwiXG4gICAgICAgICAgICBzcmNEb2M9e3N2Z01hcmt1cH1cbiAgICAgICAgICAgIHJlZj17dGhpcy5pZnJhbWVFbH1cbiAgICAgICAgICA+PC9pZnJhbWU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IGgsIEZyYWdtZW50LCBDb21wb25lbnQsIGNyZWF0ZVJlZiwgUmVmT2JqZWN0IH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgQXBwU3RhdGUsIEhlYWRsaW5lc0ludGVyZmFjZSwgRnJhbWVDb2xsZWN0aW9uIH0gZnJvbSBcInR5cGVzXCI7XG5cbmludGVyZmFjZSBJbnB1dEZpZWxkUHJvcHMge1xuICByZWZUYXJnZXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PjtcbiAgbGFiZWw6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgaGFuZGxlQ2hhbmdlOiAoKSA9PiB2b2lkO1xufVxuZnVuY3Rpb24gSW5wdXRGaWVsZChwcm9wczogSW5wdXRGaWVsZFByb3BzKSB7XG4gIGNvbnN0IHsgbGFiZWwsIHZhbHVlLCByZWZUYXJnZXQsIGhhbmRsZUNoYW5nZSB9ID0gcHJvcHM7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJmMmhfX2luZm9fZm9ybV9faXRlbSBmMmhfX2luZm9fZm9ybV9faXRlbS0taGVhZGxpbmVcIj5cbiAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmMmhfX2luZm9fZm9ybV9fbGFiZWxcIj57bGFiZWx9PC9sYWJlbD5cbiAgICAgIDxpbnB1dFxuICAgICAgICBjbGFzc05hbWU9XCJmMmhfX2luZm9fZm9ybV9faW5wdXQgZjJoX19pbmZvX2Zvcm1fX2lucHV0LS1oZWFkbGluZVwiXG4gICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICByZWY9e3JlZlRhcmdldH1cbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgIC8+XG4gICAgPC9wPlxuICApO1xufVxuXG5pbnRlcmZhY2UgRnJhbWVTZWxlY3Rpb25Qcm9wc1xuICBleHRlbmRzIFBpY2s8QXBwU3RhdGUsIFwic291cmNlXCIgfCBcImhlYWRsaW5lXCIgfCBcInN1YmhlYWRcIiB8IFwicmVzcG9uc2l2ZVwiPiB7XG4gIGZyYW1lczogRnJhbWVDb2xsZWN0aW9uO1xuICBzZWxlY3RlZEZyYW1lczogc3RyaW5nW107XG4gIGhhbmRsZUNsaWNrOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdG9nZ2xlU2VsZWN0QWxsOiAoKSA9PiB2b2lkO1xuICBoYW5kbGVGb3JtVXBkYXRlOiAocHJvcHM6IEhlYWRsaW5lc0ludGVyZmFjZSkgPT4gdm9pZDtcbiAgdG9nZ2xlUmVzcG9uc2l2ZTogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEZyYW1lU2VsZWN0aW9uIGV4dGVuZHMgQ29tcG9uZW50PEZyYW1lU2VsZWN0aW9uUHJvcHM+IHtcbiAgcHJpdmF0ZSBoZWFkbGluZUlucHV0OiBSZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD4gPSBjcmVhdGVSZWYoKTtcbiAgcHJpdmF0ZSBzdWJoZWFkSW5wdXQ6IFJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50PiA9IGNyZWF0ZVJlZigpO1xuICBwcml2YXRlIHNvdXJjZUlucHV0OiBSZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD4gPSBjcmVhdGVSZWYoKTtcblxuICBzZW5kRm9ybVZhbHVlcyA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IGhhbmRsZUZvcm1VcGRhdGUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaGVhZGxpbmUgPSB0aGlzLmhlYWRsaW5lSW5wdXQuY3VycmVudD8udmFsdWU7XG4gICAgY29uc3Qgc3ViaGVhZCA9IHRoaXMuc3ViaGVhZElucHV0LmN1cnJlbnQ/LnZhbHVlO1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlSW5wdXQuY3VycmVudD8udmFsdWU7XG5cbiAgICBoYW5kbGVGb3JtVXBkYXRlKHsgaGVhZGxpbmUsIHN1YmhlYWQsIHNvdXJjZSB9KTtcbiAgfTtcblxuICByZW5kZXIoKTogaC5KU1guRWxlbWVudCB7XG4gICAgY29uc3Qge1xuICAgICAgZnJhbWVzLFxuICAgICAgaGFuZGxlQ2xpY2ssXG4gICAgICB0b2dnbGVTZWxlY3RBbGwsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgICBzZWxlY3RlZEZyYW1lcyxcbiAgICAgIHJlc3BvbnNpdmUsXG4gICAgICB0b2dnbGVSZXNwb25zaXZlLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgZnJhbWVDb3VudCA9IE9iamVjdC52YWx1ZXMoZnJhbWVzKS5sZW5ndGg7XG4gICAgY29uc3Qgc2VsZWN0Q291bnQgPSBzZWxlY3RlZEZyYW1lcy5sZW5ndGg7XG4gICAgY29uc3Qgc29tZUZyYW1lc1NlbGVjdGVkID0gc2VsZWN0Q291bnQgPiAwICYmIHNlbGVjdENvdW50IDwgZnJhbWVDb3VudDtcbiAgICBjb25zdCBhbGxTZWxlY3RlZCA9IHNlbGVjdENvdW50ID09PSBmcmFtZUNvdW50O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19jaG9vc2VfZnJhbWVzXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19pbmZvX2Zvcm1cIj5cbiAgICAgICAgICA8SW5wdXRGaWVsZFxuICAgICAgICAgICAgcmVmVGFyZ2V0PXt0aGlzLmhlYWRsaW5lSW5wdXR9XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U9e3RoaXMuc2VuZEZvcm1WYWx1ZXN9XG4gICAgICAgICAgICBsYWJlbD1cIkhlYWRsaW5lXCJcbiAgICAgICAgICAgIHZhbHVlPXtoZWFkbGluZX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPElucHV0RmllbGRcbiAgICAgICAgICAgIHJlZlRhcmdldD17dGhpcy5zdWJoZWFkSW5wdXR9XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U9e3RoaXMuc2VuZEZvcm1WYWx1ZXN9XG4gICAgICAgICAgICBsYWJlbD1cIlN1YmhlYWRcIlxuICAgICAgICAgICAgdmFsdWU9e3N1YmhlYWR9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxJbnB1dEZpZWxkXG4gICAgICAgICAgICByZWZUYXJnZXQ9e3RoaXMuc291cmNlSW5wdXR9XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U9e3RoaXMuc2VuZEZvcm1WYWx1ZXN9XG4gICAgICAgICAgICBsYWJlbD1cIlNvdXJjZVwiXG4gICAgICAgICAgICB2YWx1ZT17c291cmNlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoX19mcmFtZV9zZWxlY3Rpb25cIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZjJoX19zZWxfaGVhZGVyIGYyaF9fc2VsX2hlYWRlci0tbmFtZVwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIG5hbWU9XCJzZWxlY3RBbGxcIlxuICAgICAgICAgICAgICBpZD1cInNlbGVjdEFsbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVNlbGVjdEFsbH1cbiAgICAgICAgICAgICAgY2hlY2tlZD17YWxsU2VsZWN0ZWR9XG4gICAgICAgICAgICAgIHJlZj17KGVsKSA9PiBlbCAmJiAoZWwuaW5kZXRlcm1pbmF0ZSA9IHNvbWVGcmFtZXNTZWxlY3RlZCl9XG4gICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgIEZyYW1lc1xuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImYyaF9fc2VsX2hlYWRlciBmMmhfX3NlbF9oZWFkZXItLXJlc3BvbnNpdmVcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBpZD1cInJlc3BvbnNpdmVBbGxcIlxuICAgICAgICAgICAgICBuYW1lPVwicmVzcG9uc2l2ZUFsbFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVJlc3BvbnNpdmV9XG4gICAgICAgICAgICAgIGNoZWNrZWQ9e3Jlc3BvbnNpdmV9XG4gICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgIFJlc3BvbnNpdmVcbiAgICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgICAge09iamVjdC52YWx1ZXMoZnJhbWVzKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IChhLndpZHRoIDwgYi53aWR0aCA/IC0xIDogMSkpXG4gICAgICAgICAgICAubWFwKCh7IG5hbWUsIGlkLCB3aWR0aCwgaGVpZ2h0IH0pID0+IChcbiAgICAgICAgICAgICAgPEZyYWdtZW50IGtleT17aWR9PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImYyaF9fbGFiZWwgZjJoX19sYWJlbC0tbmFtZVwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImYyaF9fY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzZWxlY3RlZEZyYW1lcy5pbmNsdWRlcyhpZCl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNsaWNrKGlkKX1cbiAgICAgICAgICAgICAgICAgICAgaWQ9e25hbWV9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImYyaF9fbGFiZWwtLW5hbWUtdGV4dFwiIGh0bWxGb3I9e25hbWV9PlxuICAgICAgICAgICAgICAgICAgICB7bmFtZX1cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmMmhfX3NlbF93aWR0aFwiPlxuICAgICAgICAgICAgICAgICAgICB7d2lkdGh9IHgge2hlaWdodH1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgaCwgQ29tcG9uZW50LCBjcmVhdGVSZWYgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBzYXZlQXMgfSBmcm9tIFwiZmlsZS1zYXZlclwiO1xuaW1wb3J0IHsgT1VUUFVUX0ZPUk1BVFMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUlmcmFtZUh0bWwgfSBmcm9tIFwiLi4vb3V0cHV0UmVuZGVyXCI7XG5cbmludGVyZmFjZSBTYXZlU3RhdGUge1xuICBhZHZhbmNlZE9wZW46IGJvb2xlYW47XG4gIHNob3dUb2FzdDogYm9vbGVhbjtcbiAgb3V0cHV0Rm9ybWF0OiBPVVRQVVRfRk9STUFUUztcbn1cblxuZXhwb3J0IGNsYXNzIFNhdmUgZXh0ZW5kcyBDb21wb25lbnQ8eyBzdmdNYXJrdXA6IHN0cmluZyB9LCBTYXZlU3RhdGU+IHtcbiAgc3RhdGU6IFNhdmVTdGF0ZSA9IHtcbiAgICBhZHZhbmNlZE9wZW46IGZhbHNlLFxuICAgIHNob3dUb2FzdDogZmFsc2UsXG4gICAgb3V0cHV0Rm9ybWF0OiBPVVRQVVRfRk9STUFUUy5JTkxJTkUsXG4gIH07XG5cbiAgcHJpdmF0ZSB0ZXh0QXJlYUVsID0gY3JlYXRlUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KCk7XG5cbiAgdG9nZ2xlQWR2YW5jZWQgPSAoKTogdm9pZCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhZHZhbmNlZE9wZW46ICF0aGlzLnN0YXRlLmFkdmFuY2VkT3BlbixcbiAgICB9KTtcbiAgfTtcblxuICBzYXZlVG9DbGlwYm9hcmQgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50OiBlbCB9ID0gdGhpcy50ZXh0QXJlYUVsO1xuXG4gICAgaWYgKCFlbCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIk1pc3NpbmcgdGV4dGFyZWEgZWxlbWVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZWxlY3QgdGV4dCBhbmQgY29weSB0byBjbGlwYm9hcmRcbiAgICBlbC5zZWxlY3QoKTtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIik7XG5cbiAgICAvLyBPbmx5IHNob3cgdG9hc3QgaWYgaXQgaXNuJ3QgYWxyZWFkeSBhY3RpdmVcbiAgICBjb25zdCB7IHNob3dUb2FzdCB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoc2hvd1RvYXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dUb2FzdDogdHJ1ZSB9KTtcblxuICAgIC8vIENsZWFyIHRvYXN0IGFmdGVyIGEgZmV3IHNlY29uZHNcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2V0U3RhdGUoeyBzaG93VG9hc3Q6IGZhbHNlIH0pLCAyMDAwKTtcbiAgfTtcblxuICBzYXZlQmluYXJ5RmlsZSA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHN2Z01hcmt1cCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGZpbGVuYW1lID0gXCJmaWdtYS10by1odG1sLXRlc3QuaHRtbFwiO1xuICAgIGNvbnN0IHJhdyA9IGdlbmVyYXRlSWZyYW1lSHRtbChzdmdNYXJrdXApO1xuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbcmF3XSwgeyB0eXBlOiBcInRleHQvaHRtbFwiIH0pO1xuXG4gICAgc2F2ZUFzKGJsb2IsIGZpbGVuYW1lKTtcbiAgfTtcblxuICBoYW5kbGVGb3JtYXRDaGFuZ2UgPSAoZm9ybWF0OiBPVVRQVVRfRk9STUFUUyk6IHZvaWQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3V0cHV0Rm9ybWF0OiBmb3JtYXQsXG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCk6IGguSlNYLkVsZW1lbnQge1xuICAgIGNvbnN0IHsgc3ZnTWFya3VwIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgYWR2YW5jZWRPcGVuLCBzaG93VG9hc3QgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb25zdCBhZHZhbmNlZEJ0blRleHQgPSBgJHthZHZhbmNlZE9wZW4gPyBcImhpZGVcIiA6IFwic2hvd1wifWA7XG4gICAgbGV0IGFkdmFuY2VkQ2xhc3NOYW1lID0gXCJmMmhfX3NhdmVfYWR2YW5jZWRcIjtcbiAgICBpZiAoYWR2YW5jZWRPcGVuKSB7XG4gICAgICBhZHZhbmNlZENsYXNzTmFtZSArPSBcImYyaF9fc2F2ZV9hZHZhbmNlZC0tb3BlblwiO1xuICAgIH1cblxuICAgIGxldCB0b2FzdENsYXNzTmFtZSA9IFwiZjJoX190b2FzdFwiO1xuICAgIGlmIChzaG93VG9hc3QpIHtcbiAgICAgIHRvYXN0Q2xhc3NOYW1lICs9IFwiZjJoX190b2FzdC0tb3BlblwiO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fc2F2ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9vcHRpb25zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19zYXZlX2J0biBidG4tLXByaW1hcnlcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zYXZlVG9DbGlwYm9hcmR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ29weSBlbWJlZCB0byBjbGlwYm9hcmRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmMmhfX3NhdmVfYnRuIGJ0bi0tcHJpbWFyeVwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNhdmVCaW5hcnlGaWxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIERvd25sb2FkIGlmcmFtZSBIVE1MIGZpbGVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9fc3ViaGVhZCBmMmhfX3NhdmVfYWR2YW5jZWQtaGVhZGVyXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZjJoX19zYXZlX2FkdmFuY2VkX3RpdGxlXCI+QWR2YW5jZWQgc2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19zYXZlX2FkdmFuY2VkX3Nob3dcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVBZHZhbmNlZH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7YWR2YW5jZWRCdG5UZXh0fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2gyPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXthZHZhbmNlZENsYXNzTmFtZX0+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImYyaF9fc2F2ZV9fc3ViaGVhZFwiPlJhdyBIVE1MPC9oMj5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHJlZj17dGhpcy50ZXh0QXJlYUVsfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZjJoX19zYXZlX19yYXdcIlxuICAgICAgICAgICAgdmFsdWU9e3N2Z01hcmt1cH1cbiAgICAgICAgICA+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RvYXN0Q2xhc3NOYW1lfT5Db3BpZWQgdG8gY2xpcGJvYXJkPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCAiLy8gQHRzLW5vY2hlY2tcbi8vIFRPRE86IEFkZCB0eXBlXG5cbi8qKlxuICogRW5jb2RlIHBsYWluIFNWRyBkYXRhIHN0cmluZyBpbnRvIERhdGEgVVJJIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIGlucHV0IHN0cmluZ1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgRGF0YSBVUkkgdHlwZVxuICogQHJldHVybiB7U3RyaW5nfSBvdXRwdXQgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBlbmNvZGVTVkdEYXRhdXJpID0gZnVuY3Rpb24gKHN0ciwgdHlwZSkge1xuICB2YXIgcHJlZml4ID0gXCJkYXRhOmltYWdlL3N2Zyt4bWxcIjtcbiAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAvLyBiYXNlNjRcbiAgICBwcmVmaXggKz0gXCI7YmFzZTY0LFwiO1xuICAgIGlmIChCdWZmZXIuZnJvbSkge1xuICAgICAgc3RyID0gcHJlZml4ICsgQnVmZmVyLmZyb20oc3RyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gcHJlZml4ICsgbmV3IEJ1ZmZlcihzdHIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlID09PSBcImVuY1wiKSB7XG4gICAgLy8gVVJJIGVuY29kZWRcbiAgICBzdHIgPSBwcmVmaXggKyBcIixcIiArIGVuY29kZVVSSUNvbXBvbmVudChzdHIpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidW5lbmNcIikge1xuICAgIC8vIHVuZW5jb2RlZFxuICAgIHN0ciA9IHByZWZpeCArIFwiLFwiICsgc3RyO1xuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG4vKipcbiAqIERlY29kZSBTVkcgRGF0YSBVUkkgc3RyaW5nIGludG8gcGxhaW4gU1ZHIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIGlucHV0IHN0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfSBvdXRwdXQgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGVTVkdEYXRhdXJpID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgcmVnZXhwID0gL2RhdGE6aW1hZ2VcXC9zdmdcXCt4bWwoO2NoYXJzZXQ9W147LF0qKT8oO2Jhc2U2NCk/LCguKikvO1xuICB2YXIgbWF0Y2ggPSByZWdleHAuZXhlYyhzdHIpO1xuXG4gIC8vIHBsYWluIHN0cmluZ1xuICBpZiAoIW1hdGNoKSByZXR1cm4gc3RyO1xuXG4gIHZhciBkYXRhID0gbWF0Y2hbM107XG5cbiAgaWYgKG1hdGNoWzJdKSB7XG4gICAgLy8gYmFzZTY0XG4gICAgc3RyID0gbmV3IEJ1ZmZlcihkYXRhLCBcImJhc2U2NFwiKS50b1N0cmluZyhcInV0ZjhcIik7XG4gIH0gZWxzZSBpZiAoZGF0YS5jaGFyQXQoMCkgPT09IFwiJVwiKSB7XG4gICAgLy8gVVJJIGVuY29kZWRcbiAgICBzdHIgPSBkZWNvZGVVUklDb21wb25lbnQoZGF0YSk7XG4gIH0gZWxzZSBpZiAoZGF0YS5jaGFyQXQoMCkgPT09IFwiPFwiKSB7XG4gICAgLy8gdW5lbmNvZGVkXG4gICAgc3RyID0gZGF0YTtcbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuZXhwb3J0IGNvbnN0IGludGVyc2VjdEFycmF5cyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiBhLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBiLmluZGV4T2YobikgPiAtMTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgYSByb3cgb2YgbnVtYmVycyB0byBhbiBvcHRpbWl6ZWQgc3RyaW5nIHZpZXcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFswLCAtMSwgLjUsIC41XSBcdTIxOTIgXCIwLTEgLjUuNVwiXG4gKlxuICogQHBhcmFtIHtudW1iZXJbXX0gZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICogQHBhcmFtIHtzdHJpbmc/fSBjb21tYW5kIHBhdGggZGF0YSBpbnN0cnVjdGlvblxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgY2xlYW51cE91dERhdGEgPSBmdW5jdGlvbiAoZGF0YSwgcGFyYW1zLCBjb21tYW5kKSB7XG4gIHZhciBzdHIgPSBcIlwiLFxuICAgIGRlbGltaXRlcixcbiAgICBwcmV2O1xuXG4gIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgIC8vIHNwYWNlIGRlbGltaXRlciBieSBkZWZhdWx0XG4gICAgZGVsaW1pdGVyID0gXCIgXCI7XG5cbiAgICAvLyBubyBleHRyYSBzcGFjZSBpbiBmcm9udCBvZiBmaXJzdCBudW1iZXJcbiAgICBpZiAoaSA9PSAwKSBkZWxpbWl0ZXIgPSBcIlwiO1xuXG4gICAgLy8gbm8gZXh0cmEgc3BhY2UgYWZ0ZXIgJ2FyY3RvJyBjb21tYW5kIGZsYWdzXG4gICAgaWYgKHBhcmFtcy5ub1NwYWNlQWZ0ZXJGbGFncyAmJiAoY29tbWFuZCA9PSBcIkFcIiB8fCBjb21tYW5kID09IFwiYVwiKSkge1xuICAgICAgdmFyIHBvcyA9IGkgJSA3O1xuICAgICAgaWYgKHBvcyA9PSA0IHx8IHBvcyA9PSA1KSBkZWxpbWl0ZXIgPSBcIlwiO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBmbG9hdGluZy1wb2ludCBudW1iZXJzIGxlYWRpbmcgemVyb3NcbiAgICAvLyAwLjUgXHUyMTkyIC41XG4gICAgLy8gLTAuNSBcdTIxOTIgLS41XG4gICAgaWYgKHBhcmFtcy5sZWFkaW5nWmVybykge1xuICAgICAgaXRlbSA9IHJlbW92ZUxlYWRpbmdaZXJvKGl0ZW0pO1xuICAgIH1cblxuICAgIC8vIG5vIGV4dHJhIHNwYWNlIGluIGZyb250IG9mIG5lZ2F0aXZlIG51bWJlciBvclxuICAgIC8vIGluIGZyb250IG9mIGEgZmxvYXRpbmcgbnVtYmVyIGlmIGEgcHJldmlvdXMgbnVtYmVyIGlzIGZsb2F0aW5nIHRvb1xuICAgIGlmIChcbiAgICAgIHBhcmFtcy5uZWdhdGl2ZUV4dHJhU3BhY2UgJiZcbiAgICAgIGRlbGltaXRlciAhPSBcIlwiICYmXG4gICAgICAoaXRlbSA8IDAgfHwgKFN0cmluZyhpdGVtKS5jaGFyQ29kZUF0KDApID09IDQ2ICYmIHByZXYgJSAxICE9PSAwKSlcbiAgICApIHtcbiAgICAgIGRlbGltaXRlciA9IFwiXCI7XG4gICAgfVxuICAgIC8vIHNhdmUgcHJldiBpdGVtIHZhbHVlXG4gICAgcHJldiA9IGl0ZW07XG4gICAgc3RyICs9IGRlbGltaXRlciArIGl0ZW07XG4gIH0pO1xuICByZXR1cm4gc3RyO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgZmxvYXRpbmctcG9pbnQgbnVtYmVycyBsZWFkaW5nIHplcm8uXG4gKlxuICogQGV4YW1wbGVcbiAqIDAuNSBcdTIxOTIgLjVcbiAqXG4gKiBAZXhhbXBsZVxuICogLTAuNSBcdTIxOTIgLS41XG4gKlxuICogQHBhcmFtIHtGbG9hdH0gbnVtIGlucHV0IG51bWJlclxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gb3V0cHV0IG51bWJlciBhcyBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZUxlYWRpbmdaZXJvID0gZnVuY3Rpb24gKG51bSkge1xuICB2YXIgc3RyTnVtID0gbnVtLnRvU3RyaW5nKCk7XG5cbiAgaWYgKDAgPCBudW0gJiYgbnVtIDwgMSAmJiBzdHJOdW0uY2hhckNvZGVBdCgwKSA9PSA0OCkge1xuICAgIHN0ck51bSA9IHN0ck51bS5zbGljZSgxKTtcbiAgfSBlbHNlIGlmICgtMSA8IG51bSAmJiBudW0gPCAwICYmIHN0ck51bS5jaGFyQ29kZUF0KDEpID09IDQ4KSB7XG4gICAgc3RyTnVtID0gc3RyTnVtLmNoYXJBdCgwKSArIHN0ck51bS5zbGljZSgyKTtcbiAgfVxuICByZXR1cm4gc3RyTnVtO1xufTtcblxuLyoqXG4gKiBTeW5jaHJvbm91c2x5IGNoZWNrIGlmIHBhdGggaXMgYSBkaXJlY3RvcnkuIFRvbGVyYW50IHRvIGVycm9ycyBsaWtlIEVOT0VOVC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKi9cbmV4cG9ydCBjb25zdCBjaGVja0lzRGlyID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gRlMubHN0YXRTeW5jKHBhdGgpLmlzRGlyZWN0b3J5KCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4iLCAiLy8gQHRzLW5vY2hlY2tcbi8vIFRPRE86IEFkZCB0eXBlc1xuXG5pbXBvcnQgeyBjbGVhbnVwT3V0RGF0YSB9IGZyb20gXCIuL3Rvb2xzXCI7XG5cbmNvbnN0IHJOdW1iZXIgPSBTdHJpbmcucmF3YFstK10/KD86XFxkKlxcLlxcZCt8XFxkK1xcLj8pKD86W2VFXVstK10/XFxkKyk/XFxzKmA7XG5jb25zdCByQ29tbWFXc3AgPSBTdHJpbmcucmF3YCg/Olxccyw/XFxzKnwsXFxzKilgO1xuY29uc3Qgck51bWJlckNvbW1hV3NwID0gYCgke3JOdW1iZXJ9KWAgKyByQ29tbWFXc3A7XG5jb25zdCByRmxhZ0NvbW1hV3NwID0gYChbMDFdKSR7ckNvbW1hV3NwfT9gO1xuY29uc3QgckNvb3JkaW5hdGVQYWlyID0gU3RyaW5nLnJhd2AoJHtyTnVtYmVyfSkke3JDb21tYVdzcH0/KCR7ck51bWJlcn0pYDtcbmNvbnN0IHJBcmNTZXEgPVxuICAock51bWJlckNvbW1hV3NwICsgXCI/XCIpLnJlcGVhdCgyKSArXG4gIHJOdW1iZXJDb21tYVdzcCArXG4gIHJGbGFnQ29tbWFXc3AucmVwZWF0KDIpICtcbiAgckNvb3JkaW5hdGVQYWlyO1xuXG5jb25zdCByZWdQYXRoSW5zdHJ1Y3Rpb25zID0gLyhbTW1MbEhoVnZDY1NzUXFUdEFhWnpdKVxccyovO1xuY29uc3QgcmVnQ29vcmRpbmF0ZVNlcXVlbmNlID0gbmV3IFJlZ0V4cChyTnVtYmVyLCBcImdcIik7XG5jb25zdCByZWdBcmNBcmd1bWVudFNlcXVlbmNlID0gbmV3IFJlZ0V4cChyQXJjU2VxLCBcImdcIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRoMmpzKHBhdGg6IFNWR1BhdGhFbGVtZW50KSB7XG4gIGNvbnN0IHBhcmFtc0xlbmd0aCA9IHtcbiAgICAvLyBOdW1iZXIgb2YgcGFyYW1ldGVycyBvZiBldmVyeSBwYXRoIGNvbW1hbmRcbiAgICBIOiAxLFxuICAgIFY6IDEsXG4gICAgTTogMixcbiAgICBMOiAyLFxuICAgIFQ6IDIsXG4gICAgUTogNCxcbiAgICBTOiA0LFxuICAgIEM6IDYsXG4gICAgQTogNyxcbiAgICBoOiAxLFxuICAgIHY6IDEsXG4gICAgbTogMixcbiAgICBsOiAyLFxuICAgIHQ6IDIsXG4gICAgcTogNCxcbiAgICBzOiA0LFxuICAgIGM6IDYsXG4gICAgYTogNyxcbiAgfTtcbiAgbGV0IHBhdGhEYXRhID0gW107IC8vIEpTIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwYXRoIGRhdGFcbiAgbGV0IGluc3RydWN0aW9uOyAvLyBjdXJyZW50IGluc3RydWN0aW9uIGNvbnRleHRcbiAgbGV0IHN0YXJ0TW92ZXRvID0gZmFsc2U7XG5cbiAgLy8gc3BsaXR0aW5nIHBhdGggc3RyaW5nIGludG8gYXJyYXkgbGlrZSBbJ00nLCAnMTAgNTAnLCAnTCcsICcyMCAzMCddXG4gIHBhdGhcbiAgICAuZ2V0QXR0cmlidXRlKFwiZFwiKVxuICAgID8uc3BsaXQocmVnUGF0aEluc3RydWN0aW9ucylcbiAgICAuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG4gICAgICBpZiAoIXN0YXJ0TW92ZXRvKSB7XG4gICAgICAgIGlmIChkYXRhID09IFwiTVwiIHx8IGRhdGEgPT0gXCJtXCIpIHtcbiAgICAgICAgICBzdGFydE1vdmV0byA9IHRydWU7XG4gICAgICAgIH0gZWxzZSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGluc3RydWN0aW9uIGl0ZW1cbiAgICAgIGlmIChyZWdQYXRoSW5zdHJ1Y3Rpb25zLnRlc3QoZGF0YSkpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBkYXRhO1xuXG4gICAgICAgIC8vIHogLSBpbnN0cnVjdGlvbiB3L28gZGF0YVxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJaXCIgfHwgaW5zdHJ1Y3Rpb24gPT0gXCJ6XCIpIHtcbiAgICAgICAgICBwYXRoRGF0YS5wdXNoKHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uOiBcInpcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkYXRhIGl0ZW1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBib3NzOiB0cnVlICovXG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiA9PSBcIkFcIiB8fCBpbnN0cnVjdGlvbiA9PSBcImFcIikge1xuICAgICAgICAgIHZhciBuZXdEYXRhID0gW107XG4gICAgICAgICAgZm9yICh2YXIgYXJnczsgKGFyZ3MgPSByZWdBcmNBcmd1bWVudFNlcXVlbmNlLmV4ZWMoZGF0YSkpOyApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBuZXdEYXRhLnB1c2goYXJnc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGEgPSBuZXdEYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEgPSBkYXRhLm1hdGNoKHJlZ0Nvb3JkaW5hdGVTZXF1ZW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG5cbiAgICAgICAgZGF0YSA9IGRhdGEubWFwKE51bWJlcik7XG4gICAgICAgIC8vIFN1YnNlcXVlbnQgbW92ZXRvIHBhaXJzIG9mIGNvb3JkaW5hdGVzIGFyZSB0aHJlYXRlZCBhcyBpbXBsaWNpdCBsaW5ldG8gY29tbWFuZHNcbiAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFNb3ZldG9Db21tYW5kc1xuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJNXCIgfHwgaW5zdHJ1Y3Rpb24gPT0gXCJtXCIpIHtcbiAgICAgICAgICBwYXRoRGF0YS5wdXNoKHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uOiBwYXRoRGF0YS5sZW5ndGggPT0gMCA/IFwiTVwiIDogaW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBkYXRhOiBkYXRhLnNwbGljZSgwLCAyKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uID09IFwiTVwiID8gXCJMXCIgOiBcImxcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIHBhaXIgPSBwYXJhbXNMZW5ndGhbaW5zdHJ1Y3Rpb25dOyBkYXRhLmxlbmd0aDsgKSB7XG4gICAgICAgICAgcGF0aERhdGEucHVzaCh7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbjogaW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBkYXRhOiBkYXRhLnNwbGljZSgwLCBwYWlyKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vIEZpcnN0IG1vdmV0byBpcyBhY3R1YWxseSBhYnNvbHV0ZS4gU3Vic2VxdWVudCBjb29yZGluYXRlcyB3ZXJlIHNlcGFyYXRlZCBhYm92ZS5cbiAgaWYgKHBhdGhEYXRhLmxlbmd0aCAmJiBwYXRoRGF0YVswXS5pbnN0cnVjdGlvbiA9PSBcIm1cIikge1xuICAgIHBhdGhEYXRhWzBdLmluc3RydWN0aW9uID0gXCJNXCI7XG4gIH1cblxuICByZXR1cm4gcGF0aERhdGE7XG59XG5cbi8qKlxuICogQ29udmVydCBwYXRoIGFycmF5IHRvIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIGlucHV0IHBhdGggZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBwbHVnaW4gcGFyYW1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9IG91dHB1dCBwYXRoIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QganMycGF0aCA9IGZ1bmN0aW9uIChwYXRoOiBTVkdQYXRoRWxlbWVudCwgZGF0YSwgcGFyYW1zKSB7XG4gIGlmIChwYXJhbXMuY29sbGFwc2VSZXBlYXRlZCkge1xuICAgIGRhdGEgPSBjb2xsYXBzZVJlcGVhdGVkKGRhdGEpO1xuICB9XG5cbiAgcGF0aC5zZXRBdHRyaWJ1dGUoXG4gICAgXCJkXCIsXG4gICAgZGF0YS5yZWR1Y2UoZnVuY3Rpb24gKHBhdGhTdHJpbmcsIGl0ZW0pIHtcbiAgICAgIHZhciBzdHJEYXRhID0gXCJcIjtcbiAgICAgIGlmIChpdGVtLmRhdGEpIHtcbiAgICAgICAgc3RyRGF0YSA9IGNsZWFudXBPdXREYXRhKGl0ZW0uZGF0YSwgcGFyYW1zLCBpdGVtLmluc3RydWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAocGF0aFN0cmluZyArPSBpdGVtLmluc3RydWN0aW9uICsgc3RyRGF0YSk7XG4gICAgfSwgXCJcIilcbiAgKTtcbn07XG5cbi8qKlxuICogQ29sbGFwc2UgcmVwZWF0ZWQgaW5zdHJ1Y3Rpb25zIGRhdGFcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIGlucHV0IHBhdGggZGF0YVxuICogQHJldHVybiB7QXJyYXl9IG91dHB1dCBwYXRoIGRhdGFcbiAqL1xuZnVuY3Rpb24gY29sbGFwc2VSZXBlYXRlZChkYXRhKSB7XG4gIHZhciBwcmV2LCBwcmV2SW5kZXg7XG5cbiAgLy8gY29weSBhbiBhcnJheSBhbmQgbW9kaWZpZWRzIGl0ZW0gdG8ga2VlcCBvcmlnaW5hbCBkYXRhIHVudG91Y2hlZFxuICBkYXRhID0gZGF0YS5yZWR1Y2UoZnVuY3Rpb24gKG5ld1BhdGgsIGl0ZW0pIHtcbiAgICBpZiAocHJldiAmJiBpdGVtLmRhdGEgJiYgaXRlbS5pbnN0cnVjdGlvbiA9PSBwcmV2Lmluc3RydWN0aW9uKSB7XG4gICAgICAvLyBjb25jYXQgcHJldmlvdXMgZGF0YSB3aXRoIGN1cnJlbnRcbiAgICAgIGlmIChpdGVtLmluc3RydWN0aW9uICE9IFwiTVwiKSB7XG4gICAgICAgIHByZXYgPSBuZXdQYXRoW3ByZXZJbmRleF0gPSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb246IHByZXYuaW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgZGF0YTogcHJldi5kYXRhLmNvbmNhdChpdGVtLmRhdGEpLFxuICAgICAgICAgIGNvb3JkczogaXRlbS5jb29yZHMsXG4gICAgICAgICAgYmFzZTogcHJldi5iYXNlLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldi5kYXRhID0gaXRlbS5kYXRhO1xuICAgICAgICBwcmV2LmNvb3JkcyA9IGl0ZW0uY29vcmRzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdQYXRoLnB1c2goaXRlbSk7XG4gICAgICBwcmV2ID0gaXRlbTtcbiAgICAgIHByZXZJbmRleCA9IG5ld1BhdGgubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3UGF0aDtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuIiwgIi8qKlxuICogQ29udmVydHMgYmFzaWMgc2hhcGUgdG8gbW9yZSBjb21wYWN0IHBhdGguXG4gKiBJdCBhbHNvIGFsbG93cyBmdXJ0aGVyIG9wdGltaXphdGlvbnMgbGlrZVxuICogY29tYmluaW5nIHBhdGhzIHdpdGggc2ltaWxhciBhdHRyaWJ1dGVzLlxuICpcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3NoYXBlcy5odG1sXG4gKlxuICogQHBhcmFtIHtTVkdHZW9tZXRyeUVsZW1lbnR9IGl0ZW0gY3VycmVudCBpdGVyYXRpb24gaXRlbVxuICpcbiAqIEBhdXRob3IgTGV2IFNvbG50c2V2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0U2hhcGVzVG9QYXRoKGVsOiBTVkdFbGVtZW50KTogdm9pZCB7XG4gIGlmIChcbiAgICBlbCBpbnN0YW5jZW9mIFNWR1JlY3RFbGVtZW50ICYmXG4gICAgZWwuaGFzQXR0cmlidXRlKFwid2lkdGhcIikgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJoZWlnaHRcIikgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJyeFwiKSA9PT0gZmFsc2UgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJyeVwiKSA9PT0gZmFsc2VcbiAgKSB7XG4gICAgY29uc3QgeCA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieFwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgeSA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieVwiKSB8fCBcIjBcIik7XG4gICAgY29uc3Qgd2lkdGggPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCBoZWlnaHQgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSB8fCBcIjBcIik7XG5cbiAgICAvLyBWYWx1ZXMgbGlrZSAnMTAwJScgY29tcHV0ZSB0byBOYU4sIHRodXMgcnVubmluZyBhZnRlclxuICAgIC8vIGNsZWFudXBOdW1lcmljVmFsdWVzIHdoZW4gJ3B4JyB1bml0cyBoYXMgYWxyZWFkeSBiZWVuIHJlbW92ZWQuXG4gICAgLy8gVE9ETzogQ2FsY3VsYXRlIHNpemVzIGZyb20gJSBhbmQgbm9uLXB4IHVuaXRzIGlmIHBvc3NpYmxlLlxuICAgIGlmIChpc05hTih4IC0geSArIHdpZHRoIC0gaGVpZ2h0KSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGF0aEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJwYXRoXCJcbiAgICApO1xuXG4gICAgY29uc3QgcGF0aERhdGEgPSBgTSR7eH0gJHt5fUgke3ggKyB3aWR0aH1WJHt5ICsgaGVpZ2h0fUgke3h9emA7XG4gICAgcGF0aEVsLnNldEF0dHJpYnV0ZShcImRcIiwgcGF0aERhdGEpO1xuXG4gICAgY29uc3QgQVRUUklCVVRFU19UT19FWENMVURFID0gW1wieFwiLCBcInlcIiwgXCJ3aWR0aFwiLCBcImhlaWdodFwiXTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgQXJyYXkuZnJvbShlbC5hdHRyaWJ1dGVzKSkge1xuICAgICAgaWYgKEFUVFJJQlVURVNfVE9fRVhDTFVERS5pbmNsdWRlcyhwcm9wLm5hbWUpID09PSBmYWxzZSkge1xuICAgICAgICBwYXRoRWwuc2V0QXR0cmlidXRlKHByb3AubmFtZSwgcHJvcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWwucGFyZW50RWxlbWVudD8ucmVwbGFjZUNoaWxkKHBhdGhFbCwgZWwpO1xuICB9IGVsc2UgaWYgKGVsIGluc3RhbmNlb2YgU1ZHTGluZUVsZW1lbnQpIHtcbiAgICBjb25zdCB4MSA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieDFcIikgfHwgXCIwXCIpO1xuICAgIGNvbnN0IHgyID0gcGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoXCJ4MlwiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgeTEgPSBwYXJzZUZsb2F0KGVsLmdldEF0dHJpYnV0ZShcInkxXCIpIHx8IFwiMFwiKTtcbiAgICBjb25zdCB5MiA9IHBhcnNlRmxvYXQoZWwuZ2V0QXR0cmlidXRlKFwieTJcIikgfHwgXCIwXCIpO1xuXG4gICAgaWYgKGlzTmFOKHgxIC0geTEgKyB4MiAtIHkyKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGF0aEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJwYXRoXCJcbiAgICApO1xuICAgIGNvbnN0IHBhdGhEYXRhID0gYE0ke3gxfSAke3kxfUwke3gyfSAke3kyfWA7XG4gICAgcGF0aEVsLnNldEF0dHJpYnV0ZShcImRcIiwgcGF0aERhdGEpO1xuXG4gICAgY29uc3QgQVRUUklCVVRFU19UT19FWENMVURFID0gW1wieDFcIiwgXCJ5MVwiLCBcIngyXCIsIFwieTJcIl07XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIEFycmF5LmZyb20oZWwuYXR0cmlidXRlcykpIHtcbiAgICAgIGlmIChBVFRSSUJVVEVTX1RPX0VYQ0xVREUuaW5jbHVkZXMocHJvcC5uYW1lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcGF0aEVsLnNldEF0dHJpYnV0ZShwcm9wLm5hbWUsIHByb3AudmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVsLnBhcmVudEVsZW1lbnQ/LnJlcGxhY2VDaGlsZChwYXRoRWwsIGVsKTtcbiAgfSBlbHNlIGlmIChcbiAgICAoZWwgaW5zdGFuY2VvZiBTVkdQb2x5bGluZUVsZW1lbnQgfHwgZWwgaW5zdGFuY2VvZiBTVkdQb2x5Z29uRWxlbWVudCkgJiZcbiAgICBlbC5oYXNBdHRyaWJ1dGUoXCJwb2ludHNcIilcbiAgKSB7XG4gICAgY29uc3QgUkVHWF9OVU1CRVIgPSAvWy0rXT8oPzpcXGQqXFwuXFxkK3xcXGQrXFwuPykoPzpbZUVdWy0rXT9cXGQrKT8vZztcbiAgICBjb25zdCBwb2ludHMgPSBlbC5nZXRBdHRyaWJ1dGUoXCJwb2ludHNcIikgPz8gXCJcIjtcbiAgICBjb25zdCBjb29yZHMgPSAocG9pbnRzLm1hdGNoKFJFR1hfTlVNQkVSKSA/PyBbXSkubWFwKE51bWJlcik7XG5cbiAgICBpZiAoY29vcmRzLmxlbmd0aCA8IDQpIHJldHVybjtcblxuICAgIGNvbnN0IHBhdGhFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwicGF0aFwiXG4gICAgKTtcbiAgICBjb25zdCBbeCwgeV0gPSBjb29yZHMuc2xpY2UoMCwgMik7XG4gICAgY29uc3QgcmVtYWluaW5nUG9pbnRzID0gY29vcmRzLnNsaWNlKDIpLmpvaW4oXCIgXCIpO1xuICAgIGNvbnN0IHN1ZmZpeCA9IGVsIGluc3RhbmNlb2YgU1ZHUG9seWdvbkVsZW1lbnQgPyBcInpcIiA6IFwiXCI7XG4gICAgY29uc3QgcGF0aERhdGEgPSBgTSR7eH0gJHt5fUwke3JlbWFpbmluZ1BvaW50c30ke3N1ZmZpeH1gO1xuICAgIHBhdGhFbC5zZXRBdHRyaWJ1dGUoXCJkXCIsIHBhdGhEYXRhKTtcblxuICAgIGNvbnN0IEFUVFJJQlVURVNfVE9fRVhDTFVERSA9IFtcInBvaW50c1wiXTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgQXJyYXkuZnJvbShlbC5hdHRyaWJ1dGVzKSkge1xuICAgICAgaWYgKEFUVFJJQlVURVNfVE9fRVhDTFVERS5pbmNsdWRlcyhwcm9wLm5hbWUpID09PSBmYWxzZSkge1xuICAgICAgICBwYXRoRWwuc2V0QXR0cmlidXRlKHByb3AubmFtZSwgcHJvcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWwucGFyZW50RWxlbWVudD8ucmVwbGFjZUNoaWxkKHBhdGhFbCwgZWwpO1xuICB9XG59XG4iLCAiLy8gQHRzLW5vY2hlY2tcbi8vIFRPRE86IEFkZCB0eXBlc1xuXG5pbXBvcnQgeyBwYXRoMmpzLCBqczJwYXRoIH0gZnJvbSBcIi4vbGliL3BhdGhcIjtcbmltcG9ydCB7IGNsZWFudXBPdXREYXRhIH0gZnJvbSBcIi4vbGliL3Rvb2xzXCI7XG5pbXBvcnQgeyBjb252ZXJ0U2hhcGVzVG9QYXRoIH0gZnJvbSBcIi4vbGliL3NoYXBlVG9QYXRoXCI7XG5cbmV4cG9ydCBjb25zdCBwYXJhbXMgPSB7XG4gIGFwcGx5VHJhbnNmb3JtczogdHJ1ZSxcbiAgYXBwbHlUcmFuc2Zvcm1zU3Ryb2tlZDogdHJ1ZSxcbiAgbWFrZUFyY3M6IHtcbiAgICB0aHJlc2hvbGQ6IDIuNSwgLy8gY29lZmZpY2llbnQgb2Ygcm91bmRpbmcgZXJyb3JcbiAgICB0b2xlcmFuY2U6IDAuNSwgLy8gcGVyY2VudGFnZSBvZiByYWRpdXNcbiAgfSxcbiAgc3RyYWlnaHRDdXJ2ZXM6IHRydWUsXG4gIGxpbmVTaG9ydGhhbmRzOiB0cnVlLFxuICBjdXJ2ZVNtb290aFNob3J0aGFuZHM6IHRydWUsXG4gIGZsb2F0UHJlY2lzaW9uOiAxLFxuICB0cmFuc2Zvcm1QcmVjaXNpb246IDUsXG4gIHJlbW92ZVVzZWxlc3M6IHRydWUsXG4gIGNvbGxhcHNlUmVwZWF0ZWQ6IHRydWUsXG4gIHV0aWxpemVBYnNvbHV0ZTogdHJ1ZSxcbiAgbGVhZGluZ1plcm86IHRydWUsXG4gIG5lZ2F0aXZlRXh0cmFTcGFjZTogdHJ1ZSxcbiAgbm9TcGFjZUFmdGVyRmxhZ3M6IHRydWUsXG4gIGZvcmNlQWJzb2x1dGVQYXRoOiBmYWxzZSxcbn07XG5cbmxldCByb3VuZERhdGE6IHsgKGFyZzA6IGFueVtdKTogYW55W107IChkYXRhOiBhbnkpOiBhbnkgfTtcbmxldCBwcmVjaXNpb246IG51bWJlciB8IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5sZXQgZXJyb3I6IG51bWJlcjtcbmxldCBhcmNUaHJlc2hvbGQ6IG51bWJlcjtcbmxldCBhcmNUb2xlcmFuY2U6IG51bWJlcjtcbmxldCBoYXNNYXJrZXJNaWQ6IGJvb2xlYW47XG5sZXQgaGFzU3Ryb2tlTGluZWNhcDogc3RyaW5nIHwgYm9vbGVhbiB8IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcnVuY2hTdmcoc3ZnOiBTVkdFbGVtZW50KSB7XG4gIGZvciAoY29uc3Qgbm9kZSBvZiBBcnJheS5mcm9tKHN2Zy5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSkgYXMgU1ZHRWxlbWVudFtdKSB7XG4gICAgY29udmVydFNoYXBlc1RvUGF0aChub2RlKTtcbiAgICBvcHRpbWlzZUVsZW1lbnQobm9kZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFic29sdXRlIFBhdGggdG8gcmVsYXRpdmUsXG4gKiBjb2xsYXBzZSByZXBlYXRlZCBpbnN0cnVjdGlvbnMsXG4gKiBkZXRlY3QgYW5kIGNvbnZlcnQgTGluZXRvIHNob3J0aGFuZHMsXG4gKiByZW1vdmUgdXNlbGVzcyBpbnN0cnVjdGlvbnMgbGlrZSBcImwwLDBcIixcbiAqIHRyaW0gdXNlbGVzcyBkZWxpbWl0ZXJzIGFuZCBsZWFkaW5nIHplcm9zLFxuICogZGVjcmVhc2UgYWNjdXJhY3kgb2YgZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAqXG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wYXRocy5odG1sI1BhdGhEYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gY3VycmVudCBpdGVyYXRpb24gaXRlbVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBwbHVnaW4gcGFyYW1zXG4gKiBAcmV0dXJuIHtCb29sZWFufSBpZiBmYWxzZSwgaXRlbSB3aWxsIGJlIGZpbHRlcmVkIG91dFxuICpcbiAqIEBhdXRob3IgS2lyIEJlbGV2aWNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcHRpbWlzZUVsZW1lbnQoaXRlbTogU1ZHRWxlbWVudCkge1xuICBwcmVjaXNpb24gPSBwYXJhbXMuZmxvYXRQcmVjaXNpb247XG5cbiAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBTVkdQYXRoRWxlbWVudCAmJiBpdGVtLmhhc0F0dHJpYnV0ZShcImRcIikpIHtcbiAgICBlcnJvciA9XG4gICAgICBwcmVjaXNpb24gIT09IGZhbHNlID8gK01hdGgucG93KDAuMSwgcHJlY2lzaW9uKS50b0ZpeGVkKHByZWNpc2lvbikgOiAxZS0yO1xuICAgIHJvdW5kRGF0YSA9IHByZWNpc2lvbiA+IDAgJiYgcHJlY2lzaW9uIDwgMjAgPyBzdHJvbmdSb3VuZCA6IHJvdW5kO1xuICAgIGlmIChwYXJhbXMubWFrZUFyY3MpIHtcbiAgICAgIGFyY1RocmVzaG9sZCA9IHBhcmFtcy5tYWtlQXJjcy50aHJlc2hvbGQ7XG4gICAgICBhcmNUb2xlcmFuY2UgPSBwYXJhbXMubWFrZUFyY3MudG9sZXJhbmNlO1xuICAgIH1cbiAgICBoYXNNYXJrZXJNaWQgPSBpdGVtLmhhc0F0dHJpYnV0ZShcIm1hcmtlci1taWRcIik7XG5cbiAgICBjb25zdCBzdHJva2UgPSBpdGVtLmdldEF0dHJpYnV0ZShcInN0cm9rZVwiKTtcbiAgICBjb25zdCBzdHJva2VMaW5lY2FwID0gaXRlbS5nZXRBdHRyaWJ1dGUoXCJzdHJva2VcIik7XG4gICAgaGFzU3Ryb2tlTGluZWNhcCA9XG4gICAgICBzdHJva2UgJiYgc3Ryb2tlICE9IFwibm9uZVwiICYmIHN0cm9rZUxpbmVjYXAgJiYgc3Ryb2tlTGluZWNhcCAhPSBcImJ1dHRcIjtcblxuICAgIHZhciBkYXRhID0gcGF0aDJqcyhpdGVtKTtcblxuICAgIC8vIFRPRE86IGdldCByaWQgb2YgZnVuY3Rpb25zIHJldHVybnNcbiAgICBpZiAoZGF0YS5sZW5ndGgpIHtcbiAgICAgIGNvbnZlcnRUb1JlbGF0aXZlKGRhdGEpO1xuXG4gICAgICBkYXRhID0gZmlsdGVycyhkYXRhLCBwYXJhbXMpO1xuXG4gICAgICBpZiAocGFyYW1zLnV0aWxpemVBYnNvbHV0ZSkge1xuICAgICAgICBkYXRhID0gY29udmVydFRvTWl4ZWQoZGF0YSwgcGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAganMycGF0aChpdGVtLCBkYXRhLCBwYXJhbXMpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnQgYWJzb2x1dGUgcGF0aCBkYXRhIGNvb3JkaW5hdGVzIHRvIHJlbGF0aXZlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhdGggaW5wdXQgcGF0aCBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHBsdWdpbiBwYXJhbXNcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgcGF0aCBkYXRhXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1JlbGF0aXZlKHBhdGgpIHtcbiAgdmFyIHBvaW50ID0gWzAsIDBdLFxuICAgIHN1YnBhdGhQb2ludCA9IFswLCAwXSxcbiAgICBiYXNlSXRlbTtcblxuICBwYXRoLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgdmFyIGluc3RydWN0aW9uID0gaXRlbS5pbnN0cnVjdGlvbixcbiAgICAgIGRhdGEgPSBpdGVtLmRhdGE7XG5cbiAgICAvLyBkYXRhICE9PSAhelxuICAgIGlmIChkYXRhKSB7XG4gICAgICAvLyBhbHJlYWR5IHJlbGF0aXZlXG4gICAgICAvLyByZWNhbGN1bGF0ZSBjdXJyZW50IHBvaW50XG4gICAgICBpZiAoXCJtY3NscXRhXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICBwb2ludFswXSArPSBkYXRhW2RhdGEubGVuZ3RoIC0gMl07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwibVwiKSB7XG4gICAgICAgICAgc3VicGF0aFBvaW50WzBdID0gcG9pbnRbMF07XG4gICAgICAgICAgc3VicGF0aFBvaW50WzFdID0gcG9pbnRbMV07XG4gICAgICAgICAgYmFzZUl0ZW0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcImhcIikge1xuICAgICAgICBwb2ludFswXSArPSBkYXRhWzBdO1xuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJ2XCIpIHtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVswXTtcbiAgICAgIH1cblxuICAgICAgLy8gY29udmVydCBhYnNvbHV0ZSBwYXRoIGRhdGEgY29vcmRpbmF0ZXMgdG8gcmVsYXRpdmVcbiAgICAgIC8vIGlmIFwiTVwiIHdhcyBub3QgdHJhbnNmb3JtZWQgZnJvbSBcIm1cIlxuICAgICAgLy8gTSBcdTIxOTIgbVxuICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcIk1cIikge1xuICAgICAgICBpZiAoaW5kZXggPiAwKSBpbnN0cnVjdGlvbiA9IFwibVwiO1xuXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbMV0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgc3VicGF0aFBvaW50WzBdID0gcG9pbnRbMF0gKz0gZGF0YVswXTtcbiAgICAgICAgc3VicGF0aFBvaW50WzFdID0gcG9pbnRbMV0gKz0gZGF0YVsxXTtcblxuICAgICAgICBiYXNlSXRlbSA9IGl0ZW07XG4gICAgICB9XG5cbiAgICAgIC8vIEwgXHUyMTkyIGxcbiAgICAgIC8vIFQgXHUyMTkyIHRcbiAgICAgIGVsc2UgaWYgKFwiTFRcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgIGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAvLyB4IHlcbiAgICAgICAgLy8gMCAxXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbMV0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVswXTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVsxXTtcblxuICAgICAgICAvLyBDIFx1MjE5MiBjXG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcIkNcIikge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IFwiY1wiO1xuXG4gICAgICAgIC8vIHgxIHkxIHgyIHkyIHggeVxuICAgICAgICAvLyAwICAxICAyICAzICA0IDVcbiAgICAgICAgZGF0YVswXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVsxXSAtPSBwb2ludFsxXTtcbiAgICAgICAgZGF0YVsyXSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVszXSAtPSBwb2ludFsxXTtcbiAgICAgICAgZGF0YVs0XSAtPSBwb2ludFswXTtcbiAgICAgICAgZGF0YVs1XSAtPSBwb2ludFsxXTtcblxuICAgICAgICBwb2ludFswXSArPSBkYXRhWzRdO1xuICAgICAgICBwb2ludFsxXSArPSBkYXRhWzVdO1xuXG4gICAgICAgIC8vIFMgXHUyMTkyIHNcbiAgICAgICAgLy8gUSBcdTIxOTIgcVxuICAgICAgfSBlbHNlIGlmIChcIlNRXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgLy8geDEgeTEgeCB5XG4gICAgICAgIC8vIDAgIDEgIDIgM1xuICAgICAgICBkYXRhWzBdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzFdIC09IHBvaW50WzFdO1xuICAgICAgICBkYXRhWzJdIC09IHBvaW50WzBdO1xuICAgICAgICBkYXRhWzNdIC09IHBvaW50WzFdO1xuXG4gICAgICAgIHBvaW50WzBdICs9IGRhdGFbMl07XG4gICAgICAgIHBvaW50WzFdICs9IGRhdGFbM107XG5cbiAgICAgICAgLy8gQSBcdTIxOTIgYVxuICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJBXCIpIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImFcIjtcblxuICAgICAgICAvLyByeCByeSB4LWF4aXMtcm90YXRpb24gbGFyZ2UtYXJjLWZsYWcgc3dlZXAtZmxhZyB4IHlcbiAgICAgICAgLy8gMCAgMSAgMiAgICAgICAgICAgICAgIDMgICAgICAgICAgICAgIDQgICAgICAgICAgNSA2XG4gICAgICAgIGRhdGFbNV0gLT0gcG9pbnRbMF07XG4gICAgICAgIGRhdGFbNl0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVs1XTtcbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVs2XTtcblxuICAgICAgICAvLyBIIFx1MjE5MiBoXG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcIkhcIikge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IFwiaFwiO1xuXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMF07XG5cbiAgICAgICAgcG9pbnRbMF0gKz0gZGF0YVswXTtcblxuICAgICAgICAvLyBWIFx1MjE5MiB2XG4gICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcIlZcIikge1xuICAgICAgICBpbnN0cnVjdGlvbiA9IFwidlwiO1xuXG4gICAgICAgIGRhdGFbMF0gLT0gcG9pbnRbMV07XG5cbiAgICAgICAgcG9pbnRbMV0gKz0gZGF0YVswXTtcbiAgICAgIH1cblxuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgaXRlbS5kYXRhID0gZGF0YTtcblxuICAgICAgLy8gc3RvcmUgYWJzb2x1dGUgY29vcmRpbmF0ZXMgZm9yIGxhdGVyIHVzZVxuICAgICAgaXRlbS5jb29yZHMgPSBwb2ludC5zbGljZSgtMik7XG4gICAgfVxuXG4gICAgLy8gIWRhdGEgPT09IHosIHJlc2V0IGN1cnJlbnQgcG9pbnRcbiAgICBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcInpcIikge1xuICAgICAgaWYgKGJhc2VJdGVtKSB7XG4gICAgICAgIGl0ZW0uY29vcmRzID0gYmFzZUl0ZW0uY29vcmRzO1xuICAgICAgfVxuICAgICAgcG9pbnRbMF0gPSBzdWJwYXRoUG9pbnRbMF07XG4gICAgICBwb2ludFsxXSA9IHN1YnBhdGhQb2ludFsxXTtcbiAgICB9XG5cbiAgICBpdGVtLmJhc2UgPSBpbmRleCA+IDAgPyBwYXRoW2luZGV4IC0gMV0uY29vcmRzIDogWzAsIDBdO1xuICB9KTtcblxuICByZXR1cm4gcGF0aDtcbn1cblxuLyoqXG4gKiBNYWluIGZpbHRlcnMgbG9vcC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIGlucHV0IHBhdGggZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBwbHVnaW4gcGFyYW1zXG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IHBhdGggZGF0YVxuICovXG5mdW5jdGlvbiBmaWx0ZXJzKHBhdGgsIHBhcmFtcykge1xuICB2YXIgc3RyaW5naWZ5ID0gZGF0YTJQYXRoLmJpbmQobnVsbCwgcGFyYW1zKSxcbiAgICByZWxTdWJwb2ludCA9IFswLCAwXSxcbiAgICBwYXRoQmFzZSA9IFswLCAwXSxcbiAgICBwcmV2ID0ge307XG5cbiAgcGF0aCA9IHBhdGguZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCwgcGF0aCkge1xuICAgIHZhciBpbnN0cnVjdGlvbiA9IGl0ZW0uaW5zdHJ1Y3Rpb24sXG4gICAgICBkYXRhID0gaXRlbS5kYXRhLFxuICAgICAgbmV4dCA9IHBhdGhbaW5kZXggKyAxXTtcblxuICAgIGlmIChkYXRhKSB7XG4gICAgICB2YXIgc2RhdGEgPSBkYXRhLFxuICAgICAgICBjaXJjbGU7XG5cbiAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJzXCIpIHtcbiAgICAgICAgc2RhdGEgPSBbMCwgMF0uY29uY2F0KGRhdGEpO1xuXG4gICAgICAgIGlmIChcImNzXCIuaW5kZXhPZihwcmV2Lmluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgICAgdmFyIHBkYXRhID0gcHJldi5kYXRhLFxuICAgICAgICAgICAgbiA9IHBkYXRhLmxlbmd0aDtcblxuICAgICAgICAgIC8vICgteCwgLXkpIG9mIHRoZSBwcmV2IHRhbmdlbnQgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICBzZGF0YVswXSA9IHBkYXRhW24gLSAyXSAtIHBkYXRhW24gLSA0XTtcbiAgICAgICAgICBzZGF0YVsxXSA9IHBkYXRhW24gLSAxXSAtIHBkYXRhW24gLSAzXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IGN1cnZlcyB0byBhcmNzIGlmIHBvc3NpYmxlXG4gICAgICBpZiAoXG4gICAgICAgIHBhcmFtcy5tYWtlQXJjcyAmJlxuICAgICAgICAoaW5zdHJ1Y3Rpb24gPT0gXCJjXCIgfHwgaW5zdHJ1Y3Rpb24gPT0gXCJzXCIpICYmXG4gICAgICAgIGlzQ29udmV4KHNkYXRhKSAmJlxuICAgICAgICAoY2lyY2xlID0gZmluZENpcmNsZShzZGF0YSkpXG4gICAgICApIHtcbiAgICAgICAgdmFyIHIgPSByb3VuZERhdGEoW2NpcmNsZS5yYWRpdXNdKVswXSxcbiAgICAgICAgICBhbmdsZSA9IGZpbmRBcmNBbmdsZShzZGF0YSwgY2lyY2xlKSxcbiAgICAgICAgICBzd2VlcCA9IHNkYXRhWzVdICogc2RhdGFbMF0gLSBzZGF0YVs0XSAqIHNkYXRhWzFdID4gMCA/IDEgOiAwLFxuICAgICAgICAgIGFyYyA9IHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uOiBcImFcIixcbiAgICAgICAgICAgIGRhdGE6IFtyLCByLCAwLCAwLCBzd2VlcCwgc2RhdGFbNF0sIHNkYXRhWzVdXSxcbiAgICAgICAgICAgIGNvb3JkczogaXRlbS5jb29yZHMuc2xpY2UoKSxcbiAgICAgICAgICAgIGJhc2U6IGl0ZW0uYmFzZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG91dHB1dCA9IFthcmNdLFxuICAgICAgICAgIC8vIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIGFkanVzdCB0aGUgZm91bmQgY2lyY2xlXG4gICAgICAgICAgcmVsQ2VudGVyID0gW1xuICAgICAgICAgICAgY2lyY2xlLmNlbnRlclswXSAtIHNkYXRhWzRdLFxuICAgICAgICAgICAgY2lyY2xlLmNlbnRlclsxXSAtIHNkYXRhWzVdLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgcmVsQ2lyY2xlID0geyBjZW50ZXI6IHJlbENlbnRlciwgcmFkaXVzOiBjaXJjbGUucmFkaXVzIH0sXG4gICAgICAgICAgYXJjQ3VydmVzID0gW2l0ZW1dLFxuICAgICAgICAgIGhhc1ByZXYgPSAwLFxuICAgICAgICAgIHN1ZmZpeCA9IFwiXCIsXG4gICAgICAgICAgbmV4dExvbmdoYW5kO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAocHJldi5pbnN0cnVjdGlvbiA9PSBcImNcIiAmJlxuICAgICAgICAgICAgaXNDb252ZXgocHJldi5kYXRhKSAmJlxuICAgICAgICAgICAgaXNBcmNQcmV2KHByZXYuZGF0YSwgY2lyY2xlKSkgfHxcbiAgICAgICAgICAocHJldi5pbnN0cnVjdGlvbiA9PSBcImFcIiAmJlxuICAgICAgICAgICAgcHJldi5zZGF0YSAmJlxuICAgICAgICAgICAgaXNBcmNQcmV2KHByZXYuc2RhdGEsIGNpcmNsZSkpXG4gICAgICAgICkge1xuICAgICAgICAgIGFyY0N1cnZlcy51bnNoaWZ0KHByZXYpO1xuICAgICAgICAgIGFyYy5iYXNlID0gcHJldi5iYXNlO1xuICAgICAgICAgIGFyYy5kYXRhWzVdID0gYXJjLmNvb3Jkc1swXSAtIGFyYy5iYXNlWzBdO1xuICAgICAgICAgIGFyYy5kYXRhWzZdID0gYXJjLmNvb3Jkc1sxXSAtIGFyYy5iYXNlWzFdO1xuICAgICAgICAgIHZhciBwcmV2RGF0YSA9IHByZXYuaW5zdHJ1Y3Rpb24gPT0gXCJhXCIgPyBwcmV2LnNkYXRhIDogcHJldi5kYXRhO1xuICAgICAgICAgIHZhciBwcmV2QW5nbGUgPSBmaW5kQXJjQW5nbGUocHJldkRhdGEsIHtcbiAgICAgICAgICAgIGNlbnRlcjogW1xuICAgICAgICAgICAgICBwcmV2RGF0YVs0XSArIGNpcmNsZS5jZW50ZXJbMF0sXG4gICAgICAgICAgICAgIHByZXZEYXRhWzVdICsgY2lyY2xlLmNlbnRlclsxXSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICByYWRpdXM6IGNpcmNsZS5yYWRpdXMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYW5nbGUgKz0gcHJldkFuZ2xlO1xuICAgICAgICAgIGlmIChhbmdsZSA+IE1hdGguUEkpIGFyYy5kYXRhWzNdID0gMTtcbiAgICAgICAgICBoYXNQcmV2ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIG5leHQgY3VydmVzIGFyZSBmaXR0aW5nIHRoZSBhcmNcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgaiA9IGluZGV4O1xuICAgICAgICAgIChuZXh0ID0gcGF0aFsrK2pdKSAmJiB+XCJjc1wiLmluZGV4T2YobmV4dC5pbnN0cnVjdGlvbik7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIG5leHREYXRhID0gbmV4dC5kYXRhO1xuICAgICAgICAgIGlmIChuZXh0Lmluc3RydWN0aW9uID09IFwic1wiKSB7XG4gICAgICAgICAgICBuZXh0TG9uZ2hhbmQgPSBtYWtlTG9uZ2hhbmQoXG4gICAgICAgICAgICAgIHsgaW5zdHJ1Y3Rpb246IFwic1wiLCBkYXRhOiBuZXh0LmRhdGEuc2xpY2UoKSB9LFxuICAgICAgICAgICAgICBwYXRoW2ogLSAxXS5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbmV4dERhdGEgPSBuZXh0TG9uZ2hhbmQuZGF0YTtcbiAgICAgICAgICAgIG5leHRMb25naGFuZC5kYXRhID0gbmV4dERhdGEuc2xpY2UoMCwgMik7XG4gICAgICAgICAgICBzdWZmaXggPSBzdHJpbmdpZnkoW25leHRMb25naGFuZF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNDb252ZXgobmV4dERhdGEpICYmIGlzQXJjKG5leHREYXRhLCByZWxDaXJjbGUpKSB7XG4gICAgICAgICAgICBhbmdsZSArPSBmaW5kQXJjQW5nbGUobmV4dERhdGEsIHJlbENpcmNsZSk7XG4gICAgICAgICAgICBpZiAoYW5nbGUgLSAyICogTWF0aC5QSSA+IDFlLTMpIGJyZWFrOyAvLyBtb3JlIHRoYW4gMzYwXHUwMEIwXG4gICAgICAgICAgICBpZiAoYW5nbGUgPiBNYXRoLlBJKSBhcmMuZGF0YVszXSA9IDE7XG4gICAgICAgICAgICBhcmNDdXJ2ZXMucHVzaChuZXh0KTtcbiAgICAgICAgICAgIGlmICgyICogTWF0aC5QSSAtIGFuZ2xlID4gMWUtMykge1xuICAgICAgICAgICAgICAvLyBsZXNzIHRoYW4gMzYwXHUwMEIwXG4gICAgICAgICAgICAgIGFyYy5jb29yZHMgPSBuZXh0LmNvb3JkcztcbiAgICAgICAgICAgICAgYXJjLmRhdGFbNV0gPSBhcmMuY29vcmRzWzBdIC0gYXJjLmJhc2VbMF07XG4gICAgICAgICAgICAgIGFyYy5kYXRhWzZdID0gYXJjLmNvb3Jkc1sxXSAtIGFyYy5iYXNlWzFdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gZnVsbCBjaXJjbGUsIG1ha2UgYSBoYWxmLWNpcmNsZSBhcmMgYW5kIGFkZCBhIHNlY29uZCBvbmVcbiAgICAgICAgICAgICAgYXJjLmRhdGFbNV0gPSAyICogKHJlbENpcmNsZS5jZW50ZXJbMF0gLSBuZXh0RGF0YVs0XSk7XG4gICAgICAgICAgICAgIGFyYy5kYXRhWzZdID0gMiAqIChyZWxDaXJjbGUuY2VudGVyWzFdIC0gbmV4dERhdGFbNV0pO1xuICAgICAgICAgICAgICBhcmMuY29vcmRzID0gW1xuICAgICAgICAgICAgICAgIGFyYy5iYXNlWzBdICsgYXJjLmRhdGFbNV0sXG4gICAgICAgICAgICAgICAgYXJjLmJhc2VbMV0gKyBhcmMuZGF0YVs2XSxcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgYXJjID0ge1xuICAgICAgICAgICAgICAgIGluc3RydWN0aW9uOiBcImFcIixcbiAgICAgICAgICAgICAgICBkYXRhOiBbXG4gICAgICAgICAgICAgICAgICByLFxuICAgICAgICAgICAgICAgICAgcixcbiAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgc3dlZXAsXG4gICAgICAgICAgICAgICAgICBuZXh0LmNvb3Jkc1swXSAtIGFyYy5jb29yZHNbMF0sXG4gICAgICAgICAgICAgICAgICBuZXh0LmNvb3Jkc1sxXSAtIGFyYy5jb29yZHNbMV0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBjb29yZHM6IG5leHQuY29vcmRzLFxuICAgICAgICAgICAgICAgIGJhc2U6IGFyYy5jb29yZHMsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIG91dHB1dC5wdXNoKGFyYyk7XG4gICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWxDZW50ZXJbMF0gLT0gbmV4dERhdGFbNF07XG4gICAgICAgICAgICByZWxDZW50ZXJbMV0gLT0gbmV4dERhdGFbNV07XG4gICAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChzdHJpbmdpZnkob3V0cHV0KSArIHN1ZmZpeCkubGVuZ3RoIDwgc3RyaW5naWZ5KGFyY0N1cnZlcykubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHBhdGhbal0gJiYgcGF0aFtqXS5pbnN0cnVjdGlvbiA9PSBcInNcIikge1xuICAgICAgICAgICAgbWFrZUxvbmdoYW5kKHBhdGhbal0sIHBhdGhbaiAtIDFdLmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFzUHJldikge1xuICAgICAgICAgICAgdmFyIHByZXZBcmMgPSBvdXRwdXQuc2hpZnQoKTtcbiAgICAgICAgICAgIHJvdW5kRGF0YShwcmV2QXJjLmRhdGEpO1xuICAgICAgICAgICAgcmVsU3VicG9pbnRbMF0gKz0gcHJldkFyYy5kYXRhWzVdIC0gcHJldi5kYXRhW3ByZXYuZGF0YS5sZW5ndGggLSAyXTtcbiAgICAgICAgICAgIHJlbFN1YnBvaW50WzFdICs9IHByZXZBcmMuZGF0YVs2XSAtIHByZXYuZGF0YVtwcmV2LmRhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uID0gXCJhXCI7XG4gICAgICAgICAgICBwcmV2LmRhdGEgPSBwcmV2QXJjLmRhdGE7XG4gICAgICAgICAgICBpdGVtLmJhc2UgPSBwcmV2LmNvb3JkcyA9IHByZXZBcmMuY29vcmRzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhcmMgPSBvdXRwdXQuc2hpZnQoKTtcbiAgICAgICAgICBpZiAoYXJjQ3VydmVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBpdGVtLnNkYXRhID0gc2RhdGEuc2xpY2UoKTsgLy8gcHJlc2VydmUgY3VydmUgZGF0YSBmb3IgZnV0dXJlIGNoZWNrc1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXJjQ3VydmVzLmxlbmd0aCAtIDEgLSBoYXNQcmV2ID4gMCkge1xuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBjb25zdW1lZCBuZXh0IGl0ZW1zXG4gICAgICAgICAgICBwYXRoLnNwbGljZS5hcHBseShcbiAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgW2luZGV4ICsgMSwgYXJjQ3VydmVzLmxlbmd0aCAtIDEgLSBoYXNQcmV2XS5jb25jYXQob3V0cHV0KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFhcmMpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwiYVwiO1xuICAgICAgICAgIGRhdGEgPSBhcmMuZGF0YTtcbiAgICAgICAgICBpdGVtLmNvb3JkcyA9IGFyYy5jb29yZHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUm91bmRpbmcgcmVsYXRpdmUgY29vcmRpbmF0ZXMsIHRha2luZyBpbiBhY2NvdW50IGFjY3VtbXVsYXRpbmcgZXJyb3JcbiAgICAgIC8vIHRvIGdldCBjbG9zZXIgdG8gYWJzb2x1dGUgY29vcmRpbmF0ZXMuIFN1bSBvZiByb3VuZGVkIHZhbHVlIHJlbWFpbnMgc2FtZTpcbiAgICAgIC8vIGwgLjI1IDMgLjI1IDIgLjI1IDMgLjI1IDIgLT4gbCAuMyAzIC4yIDIgLjMgMyAuMiAyXG4gICAgICBpZiAocHJlY2lzaW9uICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAoXCJtbHRxc2NcIi5pbmRleE9mKGluc3RydWN0aW9uKSA+IC0xKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgZGF0YVtpXSArPSBpdGVtLmJhc2VbaSAlIDJdIC0gcmVsU3VicG9pbnRbaSAlIDJdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcImhcIikge1xuICAgICAgICAgIGRhdGFbMF0gKz0gaXRlbS5iYXNlWzBdIC0gcmVsU3VicG9pbnRbMF07XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJ2XCIpIHtcbiAgICAgICAgICBkYXRhWzBdICs9IGl0ZW0uYmFzZVsxXSAtIHJlbFN1YnBvaW50WzFdO1xuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwiYVwiKSB7XG4gICAgICAgICAgZGF0YVs1XSArPSBpdGVtLmJhc2VbMF0gLSByZWxTdWJwb2ludFswXTtcbiAgICAgICAgICBkYXRhWzZdICs9IGl0ZW0uYmFzZVsxXSAtIHJlbFN1YnBvaW50WzFdO1xuICAgICAgICB9XG4gICAgICAgIHJvdW5kRGF0YShkYXRhKTtcblxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJoXCIpIHJlbFN1YnBvaW50WzBdICs9IGRhdGFbMF07XG4gICAgICAgIGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwidlwiKSByZWxTdWJwb2ludFsxXSArPSBkYXRhWzBdO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZWxTdWJwb2ludFswXSArPSBkYXRhW2RhdGEubGVuZ3RoIC0gMl07XG4gICAgICAgICAgcmVsU3VicG9pbnRbMV0gKz0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJvdW5kRGF0YShyZWxTdWJwb2ludCk7XG5cbiAgICAgICAgaWYgKGluc3RydWN0aW9uLnRvTG93ZXJDYXNlKCkgPT0gXCJtXCIpIHtcbiAgICAgICAgICBwYXRoQmFzZVswXSA9IHJlbFN1YnBvaW50WzBdO1xuICAgICAgICAgIHBhdGhCYXNlWzFdID0gcmVsU3VicG9pbnRbMV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gY29udmVydCBzdHJhaWdodCBjdXJ2ZXMgaW50byBsaW5lcyBzZWdtZW50c1xuICAgICAgaWYgKHBhcmFtcy5zdHJhaWdodEN1cnZlcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKGluc3RydWN0aW9uID09PSBcImNcIiAmJiBpc0N1cnZlU3RyYWlnaHRMaW5lKGRhdGEpKSB8fFxuICAgICAgICAgIChpbnN0cnVjdGlvbiA9PT0gXCJzXCIgJiYgaXNDdXJ2ZVN0cmFpZ2h0TGluZShzZGF0YSkpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQuaW5zdHJ1Y3Rpb24gPT0gXCJzXCIpIG1ha2VMb25naGFuZChuZXh0LCBkYXRhKTsgLy8gZml4IHVwIG5leHQgY3VydmVcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwibFwiO1xuICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKC0yKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gXCJxXCIgJiYgaXNDdXJ2ZVN0cmFpZ2h0TGluZShkYXRhKSkge1xuICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQuaW5zdHJ1Y3Rpb24gPT0gXCJ0XCIpIG1ha2VMb25naGFuZChuZXh0LCBkYXRhKTsgLy8gZml4IHVwIG5leHQgY3VydmVcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwibFwiO1xuICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKC0yKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICBwcmV2Lmluc3RydWN0aW9uICE9PSBcInFcIiAmJlxuICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gIT09IFwidFwiXG4gICAgICAgICkge1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJsXCI7XG4gICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoLTIpO1xuICAgICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcImFcIiAmJiAoZGF0YVswXSA9PT0gMCB8fCBkYXRhWzFdID09PSAwKSkge1xuICAgICAgICAgIGluc3RydWN0aW9uID0gXCJsXCI7XG4gICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoLTIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGxpbmUgc2hvcnRoYW5kc1xuICAgICAgLy8gbCA1MCAwIFx1MjE5MiBoIDUwXG4gICAgICAvLyBsIDAgNTAgXHUyMTkyIHYgNTBcbiAgICAgIGlmIChwYXJhbXMubGluZVNob3J0aGFuZHMgJiYgaW5zdHJ1Y3Rpb24gPT09IFwibFwiKSB7XG4gICAgICAgIGlmIChkYXRhWzFdID09PSAwKSB7XG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcImhcIjtcbiAgICAgICAgICBkYXRhLnBvcCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGFbMF0gPT09IDApIHtcbiAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwidlwiO1xuICAgICAgICAgIGRhdGEuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb2xsYXBzZSByZXBlYXRlZCBjb21tYW5kc1xuICAgICAgLy8gaCAyMCBoIDMwIC0+IGggNTBcbiAgICAgIGlmIChcbiAgICAgICAgcGFyYW1zLmNvbGxhcHNlUmVwZWF0ZWQgJiZcbiAgICAgICAgIWhhc01hcmtlck1pZCAmJlxuICAgICAgICBcIm1odlwiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEgJiZcbiAgICAgICAgcHJldi5pbnN0cnVjdGlvbiAmJlxuICAgICAgICBpbnN0cnVjdGlvbiA9PSBwcmV2Lmluc3RydWN0aW9uLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAgICAgKChpbnN0cnVjdGlvbiAhPSBcImhcIiAmJiBpbnN0cnVjdGlvbiAhPSBcInZcIikgfHxcbiAgICAgICAgICBwcmV2LmRhdGFbMF0gPj0gMCA9PSBkYXRhWzBdID49IDApXG4gICAgICApIHtcbiAgICAgICAgcHJldi5kYXRhWzBdICs9IGRhdGFbMF07XG4gICAgICAgIGlmIChpbnN0cnVjdGlvbiAhPSBcImhcIiAmJiBpbnN0cnVjdGlvbiAhPSBcInZcIikge1xuICAgICAgICAgIHByZXYuZGF0YVsxXSArPSBkYXRhWzFdO1xuICAgICAgICB9XG4gICAgICAgIHByZXYuY29vcmRzID0gaXRlbS5jb29yZHM7XG4gICAgICAgIHBhdGhbaW5kZXhdID0gcHJldjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBjb252ZXJ0IGN1cnZlcyBpbnRvIHNtb290aCBzaG9ydGhhbmRzXG4gICAgICBpZiAocGFyYW1zLmN1cnZlU21vb3RoU2hvcnRoYW5kcyAmJiBwcmV2Lmluc3RydWN0aW9uKSB7XG4gICAgICAgIC8vIGN1cnZldG9cbiAgICAgICAgaWYgKGluc3RydWN0aW9uID09PSBcImNcIikge1xuICAgICAgICAgIC8vIGMgKyBjIFx1MjE5MiBjICsgc1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPT09IFwiY1wiICYmXG4gICAgICAgICAgICBkYXRhWzBdID09PSAtKHByZXYuZGF0YVsyXSAtIHByZXYuZGF0YVs0XSkgJiZcbiAgICAgICAgICAgIGRhdGFbMV0gPT09IC0ocHJldi5kYXRhWzNdIC0gcHJldi5kYXRhWzVdKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInNcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHMgKyBjIFx1MjE5MiBzICsgc1xuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9PT0gXCJzXCIgJiZcbiAgICAgICAgICAgIGRhdGFbMF0gPT09IC0ocHJldi5kYXRhWzBdIC0gcHJldi5kYXRhWzJdKSAmJlxuICAgICAgICAgICAgZGF0YVsxXSA9PT0gLShwcmV2LmRhdGFbMV0gLSBwcmV2LmRhdGFbM10pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwic1wiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gW15jc10gKyBjIFx1MjE5MiBbXmNzXSArIHNcbiAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIFwiY3NcIi5pbmRleE9mKHByZXYuaW5zdHJ1Y3Rpb24pID09PSAtMSAmJlxuICAgICAgICAgICAgZGF0YVswXSA9PT0gMCAmJlxuICAgICAgICAgICAgZGF0YVsxXSA9PT0gMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInNcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHF1YWRyYXRpYyBCXHUwMEU5emllciBjdXJ2ZXRvXG4gICAgICAgIGVsc2UgaWYgKGluc3RydWN0aW9uID09PSBcInFcIikge1xuICAgICAgICAgIC8vIHEgKyBxIFx1MjE5MiBxICsgdFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24gPT09IFwicVwiICYmXG4gICAgICAgICAgICBkYXRhWzBdID09PSBwcmV2LmRhdGFbMl0gLSBwcmV2LmRhdGFbMF0gJiZcbiAgICAgICAgICAgIGRhdGFbMV0gPT09IHByZXYuZGF0YVszXSAtIHByZXYuZGF0YVsxXVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSBcInRcIjtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHQgKyBxIFx1MjE5MiB0ICsgdFxuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgcHJldi5pbnN0cnVjdGlvbiA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgIGRhdGFbMl0gPT09IHByZXYuZGF0YVswXSAmJlxuICAgICAgICAgICAgZGF0YVszXSA9PT0gcHJldi5kYXRhWzFdXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFwidFwiO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSB1c2VsZXNzIG5vbi1maXJzdCBwYXRoIHNlZ21lbnRzXG4gICAgICBpZiAocGFyYW1zLnJlbW92ZVVzZWxlc3MgJiYgIWhhc1N0cm9rZUxpbmVjYXApIHtcbiAgICAgICAgLy8gbCAwLDAgLyBoIDAgLyB2IDAgLyBxIDAsMCAwLDAgLyB0IDAsMCAvIGMgMCwwIDAsMCAwLDAgLyBzIDAsMCAwLDBcbiAgICAgICAgaWYgKFxuICAgICAgICAgIFwibGh2cXRjc1wiLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID4gLTEgJiZcbiAgICAgICAgICBkYXRhLmV2ZXJ5KGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaSA9PT0gMDtcbiAgICAgICAgICB9KVxuICAgICAgICApIHtcbiAgICAgICAgICBwYXRoW2luZGV4XSA9IHByZXY7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYSAyNSwyNSAtMzAgMCwxIDAsMFxuICAgICAgICBpZiAoaW5zdHJ1Y3Rpb24gPT09IFwiYVwiICYmIGRhdGFbNV0gPT09IDAgJiYgZGF0YVs2XSA9PT0gMCkge1xuICAgICAgICAgIHBhdGhbaW5kZXhdID0gcHJldjtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xuICAgICAgaXRlbS5kYXRhID0gZGF0YTtcblxuICAgICAgcHJldiA9IGl0ZW07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHogcmVzZXRzIGNvb3JkaW5hdGVzXG4gICAgICByZWxTdWJwb2ludFswXSA9IHBhdGhCYXNlWzBdO1xuICAgICAgcmVsU3VicG9pbnRbMV0gPSBwYXRoQmFzZVsxXTtcbiAgICAgIGlmIChwcmV2Lmluc3RydWN0aW9uID09IFwielwiKSByZXR1cm4gZmFsc2U7XG4gICAgICBwcmV2ID0gaXRlbTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGg7XG59XG5cbi8qKlxuICogV3JpdGVzIGRhdGEgaW4gc2hvcnRlc3QgZm9ybSB1c2luZyBhYnNvbHV0ZSBvciByZWxhdGl2ZSBjb29yZGluYXRlcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGlucHV0IHBhdGggZGF0YVxuICogQHJldHVybiB7Qm9vbGVhbn0gb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb01peGVkKHBhdGgsIHBhcmFtcykge1xuICB2YXIgcHJldiA9IHBhdGhbMF07XG5cbiAgcGF0aCA9IHBhdGguZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIWl0ZW0uZGF0YSkge1xuICAgICAgcHJldiA9IGl0ZW07XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdHJ1Y3Rpb24gPSBpdGVtLmluc3RydWN0aW9uLFxuICAgICAgZGF0YSA9IGl0ZW0uZGF0YSxcbiAgICAgIGFkYXRhID0gZGF0YSAmJiBkYXRhLnNsaWNlKDApO1xuXG4gICAgaWYgKFwibWx0cXNjXCIuaW5kZXhPZihpbnN0cnVjdGlvbikgPiAtMSkge1xuICAgICAgZm9yICh2YXIgaSA9IGFkYXRhLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgYWRhdGFbaV0gKz0gaXRlbS5iYXNlW2kgJSAyXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09IFwiaFwiKSB7XG4gICAgICBhZGF0YVswXSArPSBpdGVtLmJhc2VbMF07XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PSBcInZcIikge1xuICAgICAgYWRhdGFbMF0gKz0gaXRlbS5iYXNlWzFdO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT0gXCJhXCIpIHtcbiAgICAgIGFkYXRhWzVdICs9IGl0ZW0uYmFzZVswXTtcbiAgICAgIGFkYXRhWzZdICs9IGl0ZW0uYmFzZVsxXTtcbiAgICB9XG5cbiAgICByb3VuZERhdGEoYWRhdGEpO1xuXG4gICAgdmFyIGFic29sdXRlRGF0YVN0ciA9IGNsZWFudXBPdXREYXRhKGFkYXRhLCBwYXJhbXMpLFxuICAgICAgcmVsYXRpdmVEYXRhU3RyID0gY2xlYW51cE91dERhdGEoZGF0YSwgcGFyYW1zKTtcblxuICAgIC8vIENvbnZlcnQgdG8gYWJzb2x1dGUgY29vcmRpbmF0ZXMgaWYgaXQncyBzaG9ydGVyIG9yIGZvcmNlQWJzb2x1dGVQYXRoIGlzIHRydWUuXG4gICAgLy8gdi0yMCAtPiBWMFxuICAgIC8vIERvbid0IGNvbnZlcnQgaWYgaXQgZml0cyBmb2xsb3dpbmcgcHJldmlvdXMgaW5zdHJ1Y3Rpb24uXG4gICAgLy8gbDIwIDMwLTEwLTUwIGluc3RlYWQgb2YgbDIwIDMwTDIwIDMwXG4gICAgaWYgKFxuICAgICAgcGFyYW1zLmZvcmNlQWJzb2x1dGVQYXRoIHx8XG4gICAgICAoYWJzb2x1dGVEYXRhU3RyLmxlbmd0aCA8IHJlbGF0aXZlRGF0YVN0ci5sZW5ndGggJiZcbiAgICAgICAgIShcbiAgICAgICAgICBwYXJhbXMubmVnYXRpdmVFeHRyYVNwYWNlICYmXG4gICAgICAgICAgaW5zdHJ1Y3Rpb24gPT0gcHJldi5pbnN0cnVjdGlvbiAmJlxuICAgICAgICAgIHByZXYuaW5zdHJ1Y3Rpb24uY2hhckNvZGVBdCgwKSA+IDk2ICYmXG4gICAgICAgICAgYWJzb2x1dGVEYXRhU3RyLmxlbmd0aCA9PSByZWxhdGl2ZURhdGFTdHIubGVuZ3RoIC0gMSAmJlxuICAgICAgICAgIChkYXRhWzBdIDwgMCB8fFxuICAgICAgICAgICAgKC9eMFxcLi8udGVzdChkYXRhWzBdKSAmJiBwcmV2LmRhdGFbcHJldi5kYXRhLmxlbmd0aCAtIDFdICUgMSkpXG4gICAgICAgICkpXG4gICAgKSB7XG4gICAgICBpdGVtLmluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24udG9VcHBlckNhc2UoKTtcbiAgICAgIGl0ZW0uZGF0YSA9IGFkYXRhO1xuICAgIH1cblxuICAgIHByZXYgPSBpdGVtO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBjdXJ2ZSBpcyBjb252ZXguIENvbnRyb2wgcG9pbnRzIG9mIHN1Y2ggYSBjdXJ2ZSBtdXN0IGZvcm1cbiAqIGEgY29udmV4IHF1YWRyaWxhdGVyYWwgd2l0aCBkaWFnb25hbHMgY3Jvc3Nwb2ludCBpbnNpZGUgb2YgaXQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBpbnB1dCBwYXRoIGRhdGFcbiAqIEByZXR1cm4ge0Jvb2xlYW59IG91dHB1dFxuICovXG5mdW5jdGlvbiBpc0NvbnZleChkYXRhKSB7XG4gIHZhciBjZW50ZXIgPSBnZXRJbnRlcnNlY3Rpb24oW1xuICAgIDAsXG4gICAgMCxcbiAgICBkYXRhWzJdLFxuICAgIGRhdGFbM10sXG4gICAgZGF0YVswXSxcbiAgICBkYXRhWzFdLFxuICAgIGRhdGFbNF0sXG4gICAgZGF0YVs1XSxcbiAgXSk7XG5cbiAgcmV0dXJuIChcbiAgICBjZW50ZXIgJiZcbiAgICBkYXRhWzJdIDwgY2VudGVyWzBdID09IGNlbnRlclswXSA8IDAgJiZcbiAgICBkYXRhWzNdIDwgY2VudGVyWzFdID09IGNlbnRlclsxXSA8IDAgJiZcbiAgICBkYXRhWzRdIDwgY2VudGVyWzBdID09IGNlbnRlclswXSA8IGRhdGFbMF0gJiZcbiAgICBkYXRhWzVdIDwgY2VudGVyWzFdID09IGNlbnRlclsxXSA8IGRhdGFbMV1cbiAgKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBsaW5lcyBlcXVhdGlvbnMgYnkgdHdvIHBvaW50cyBhbmQgcmV0dXJucyB0aGVpciBpbnRlcnNlY3Rpb24gcG9pbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY29vcmRzIDggbnVtYmVycyBmb3IgNCBwYWlycyBvZiBjb29yZGluYXRlcyAoeCx5KVxuICogQHJldHVybiB7QXJyYXl8dW5kZWZpbmVkfSBvdXRwdXQgY29vcmRpbmF0ZSBvZiBsaW5lcycgY3Jvc3Nwb2ludFxuICovXG5mdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24oY29vcmRzKSB7XG4gIC8vIFByZXYgbGluZSBlcXVhdGlvbiBwYXJhbWV0ZXJzLlxuICB2YXIgYTEgPSBjb29yZHNbMV0gLSBjb29yZHNbM10sIC8vIHkxIC0geTJcbiAgICBiMSA9IGNvb3Jkc1syXSAtIGNvb3Jkc1swXSwgLy8geDIgLSB4MVxuICAgIGMxID0gY29vcmRzWzBdICogY29vcmRzWzNdIC0gY29vcmRzWzJdICogY29vcmRzWzFdLCAvLyB4MSAqIHkyIC0geDIgKiB5MVxuICAgIC8vIE5leHQgbGluZSBlcXVhdGlvbiBwYXJhbWV0ZXJzXG4gICAgYTIgPSBjb29yZHNbNV0gLSBjb29yZHNbN10sIC8vIHkxIC0geTJcbiAgICBiMiA9IGNvb3Jkc1s2XSAtIGNvb3Jkc1s0XSwgLy8geDIgLSB4MVxuICAgIGMyID0gY29vcmRzWzRdICogY29vcmRzWzddIC0gY29vcmRzWzVdICogY29vcmRzWzZdLCAvLyB4MSAqIHkyIC0geDIgKiB5MVxuICAgIGRlbm9tID0gYTEgKiBiMiAtIGEyICogYjE7XG5cbiAgaWYgKCFkZW5vbSkgcmV0dXJuOyAvLyBwYXJhbGxlbCBsaW5lcyBoYXZuJ3QgYW4gaW50ZXJzZWN0aW9uXG5cbiAgdmFyIGNyb3NzID0gWyhiMSAqIGMyIC0gYjIgKiBjMSkgLyBkZW5vbSwgKGExICogYzIgLSBhMiAqIGMxKSAvIC1kZW5vbV07XG4gIGlmIChcbiAgICAhaXNOYU4oY3Jvc3NbMF0pICYmXG4gICAgIWlzTmFOKGNyb3NzWzFdKSAmJlxuICAgIGlzRmluaXRlKGNyb3NzWzBdKSAmJlxuICAgIGlzRmluaXRlKGNyb3NzWzFdKVxuICApIHtcbiAgICByZXR1cm4gY3Jvc3M7XG4gIH1cbn1cblxuLyoqXG4gKiBEZWNyZWFzZSBhY2N1cmFjeSBvZiBmbG9hdGluZy1wb2ludCBudW1iZXJzXG4gKiBpbiBwYXRoIGRhdGEga2VlcGluZyBhIHNwZWNpZmllZCBudW1iZXIgb2YgZGVjaW1hbHMuXG4gKiBTbWFydCByb3VuZHMgdmFsdWVzIGxpa2UgMi4zNDkxIHRvIDIuMzUgaW5zdGVhZCBvZiAyLjM0OS5cbiAqIERvZXNuJ3QgYXBwbHkgXCJzbWFydG5lc3NcIiBpZiB0aGUgbnVtYmVyIHByZWNpc2lvbiBmaXRzIGFscmVhZHkuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBpbnB1dCBkYXRhIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0cHV0IGRhdGEgYXJyYXlcbiAqL1xuZnVuY3Rpb24gc3Ryb25nUm91bmQoZGF0YSkge1xuICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGg7IGktLSA+IDA7ICkge1xuICAgIGlmIChkYXRhW2ldLnRvRml4ZWQocHJlY2lzaW9uKSAhPSBkYXRhW2ldKSB7XG4gICAgICB2YXIgcm91bmRlZCA9ICtkYXRhW2ldLnRvRml4ZWQocHJlY2lzaW9uIC0gMSk7XG4gICAgICBkYXRhW2ldID1cbiAgICAgICAgK01hdGguYWJzKHJvdW5kZWQgLSBkYXRhW2ldKS50b0ZpeGVkKHByZWNpc2lvbiArIDEpID49IGVycm9yXG4gICAgICAgICAgPyArZGF0YVtpXS50b0ZpeGVkKHByZWNpc2lvbilcbiAgICAgICAgICA6IHJvdW5kZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFNpbXBsZSByb3VuZGluZyBmdW5jdGlvbiBpZiBwcmVjaXNpb24gaXMgMC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIGlucHV0IGRhdGEgYXJyYXlcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRwdXQgZGF0YSBhcnJheVxuICovXG5mdW5jdGlvbiByb3VuZChkYXRhKSB7XG4gIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgZGF0YVtpXSA9IE1hdGgucm91bmQoZGF0YVtpXSk7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgY3VydmUgaXMgYSBzdHJhaWdodCBsaW5lIGJ5IG1lYXN1cmluZyBkaXN0YW5jZVxuICogZnJvbSBtaWRkbGUgcG9pbnRzIHRvIHRoZSBsaW5lIGZvcm1lZCBieSBlbmQgcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHhzIGFycmF5IG9mIGN1cnZlIHBvaW50cyB4LWNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge0FycmF5fSB5cyBhcnJheSBvZiBjdXJ2ZSBwb2ludHMgeS1jb29yZGluYXRlc1xuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc0N1cnZlU3RyYWlnaHRMaW5lKGRhdGEpIHtcbiAgLy8gR2V0IGxpbmUgZXF1YXRpb24gYVx1MDBCN3ggKyBiXHUwMEI3eSArIGMgPSAwIGNvZWZmaWNpZW50cyBhLCBiIChjID0gMCkgYnkgc3RhcnQgYW5kIGVuZCBwb2ludHMuXG4gIHZhciBpID0gZGF0YS5sZW5ndGggLSAyLFxuICAgIGEgPSAtZGF0YVtpICsgMV0sIC8vIHkxIFx1MjIxMiB5MiAoeTEgPSAwKVxuICAgIGIgPSBkYXRhW2ldLCAvLyB4MiBcdTIyMTIgeDEgKHgxID0gMClcbiAgICBkID0gMSAvIChhICogYSArIGIgKiBiKTsgLy8gc2FtZSBwYXJ0IGZvciBhbGwgcG9pbnRzXG5cbiAgaWYgKGkgPD0gMSB8fCAhaXNGaW5pdGUoZCkpIHJldHVybiBmYWxzZTsgLy8gY3VydmUgdGhhdCBlbmRzIGF0IHN0YXJ0IHBvaW50IGlzbid0IHRoZSBjYXNlXG5cbiAgLy8gRGlzdGFuY2UgZnJvbSBwb2ludCAoeDAsIHkwKSB0byB0aGUgbGluZSBpcyBzcXJ0KChjIFx1MjIxMiBhXHUwMEI3eDAgXHUyMjEyIGJcdTAwQjd5MClcdTAwQjIgLyAoYVx1MDBCMiArIGJcdTAwQjIpKVxuICB3aGlsZSAoKGkgLT0gMikgPj0gMCkge1xuICAgIGlmIChNYXRoLnNxcnQoTWF0aC5wb3coYSAqIGRhdGFbaV0gKyBiICogZGF0YVtpICsgMV0sIDIpICogZCkgPiBlcnJvcilcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIG5leHQgY3VydmUgZnJvbSBzaG9ydGhhbmQgdG8gZnVsbCBmb3JtIHVzaW5nIHRoZSBjdXJyZW50IGN1cnZlIGRhdGEuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gY3VydmUgdG8gY29udmVydFxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBjdXJyZW50IGN1cnZlIGRhdGFcbiAqL1xuXG5mdW5jdGlvbiBtYWtlTG9uZ2hhbmQoaXRlbSwgZGF0YSkge1xuICBzd2l0Y2ggKGl0ZW0uaW5zdHJ1Y3Rpb24pIHtcbiAgICBjYXNlIFwic1wiOlxuICAgICAgaXRlbS5pbnN0cnVjdGlvbiA9IFwiY1wiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInRcIjpcbiAgICAgIGl0ZW0uaW5zdHJ1Y3Rpb24gPSBcInFcIjtcbiAgICAgIGJyZWFrO1xuICB9XG4gIGl0ZW0uZGF0YS51bnNoaWZ0KFxuICAgIGRhdGFbZGF0YS5sZW5ndGggLSAyXSAtIGRhdGFbZGF0YS5sZW5ndGggLSA0XSxcbiAgICBkYXRhW2RhdGEubGVuZ3RoIC0gMV0gLSBkYXRhW2RhdGEubGVuZ3RoIC0gM11cbiAgKTtcbiAgcmV0dXJuIGl0ZW07XG59XG5cbi8qKlxuICogUmV0dXJucyBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludDEgZmlyc3QgcG9pbnQgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7QXJyYXl9IHBvaW50MiBzZWNvbmQgcG9pbnQgY29vcmRpbmF0ZXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwb2ludDEsIHBvaW50Mikge1xuICByZXR1cm4gTWF0aC5oeXBvdChwb2ludDFbMF0gLSBwb2ludDJbMF0sIHBvaW50MVsxXSAtIHBvaW50MlsxXSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBjb29yZGluYXRlcyBvZiB0aGUgY3VydmUgcG9pbnQgY29ycmVzcG9uZGluZyB0byB0aGUgY2VydGFpbiB0XG4gKiBhXHUwMEI3KDEgLSB0KVx1MDBCM1x1MDBCN3AxICsgYlx1MDBCNygxIC0gdClcdTAwQjJcdTAwQjd0XHUwMEI3cDIgKyBjXHUwMEI3KDEgLSB0KVx1MDBCN3RcdTAwQjJcdTAwQjdwMyArIGRcdTAwQjd0XHUwMEIzXHUwMEI3cDQsXG4gKiB3aGVyZSBwTiBhcmUgY29udHJvbCBwb2ludHMgYW5kIHAxIGlzIHplcm8gZHVlIHRvIHJlbGF0aXZlIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlIGFycmF5IG9mIGN1cnZlIHBvaW50cyBjb29yZGluYXRlc1xuICogQHBhcmFtIHtOdW1iZXJ9IHQgcGFyYW1ldHJpYyBwb3NpdGlvbiBmcm9tIDAgdG8gMVxuICogQHJldHVybiB7QXJyYXl9IFBvaW50IGNvb3JkaW5hdGVzXG4gKi9cblxuZnVuY3Rpb24gZ2V0Q3ViaWNCZXppZXJQb2ludChjdXJ2ZSwgdCkge1xuICB2YXIgc3FyVCA9IHQgKiB0LFxuICAgIGN1YlQgPSBzcXJUICogdCxcbiAgICBtdCA9IDEgLSB0LFxuICAgIHNxck10ID0gbXQgKiBtdDtcblxuICByZXR1cm4gW1xuICAgIDMgKiBzcXJNdCAqIHQgKiBjdXJ2ZVswXSArIDMgKiBtdCAqIHNxclQgKiBjdXJ2ZVsyXSArIGN1YlQgKiBjdXJ2ZVs0XSxcbiAgICAzICogc3FyTXQgKiB0ICogY3VydmVbMV0gKyAzICogbXQgKiBzcXJUICogY3VydmVbM10gKyBjdWJUICogY3VydmVbNV0sXG4gIF07XG59XG5cbi8qKlxuICogRmluZHMgY2lyY2xlIGJ5IDMgcG9pbnRzIG9mIHRoZSBjdXJ2ZSBhbmQgY2hlY2tzIGlmIHRoZSBjdXJ2ZSBmaXRzIHRoZSBmb3VuZCBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY3VydmVcbiAqIEByZXR1cm4ge09iamVjdHx1bmRlZmluZWR9IGNpcmNsZVxuICovXG5cbmZ1bmN0aW9uIGZpbmRDaXJjbGUoY3VydmUpIHtcbiAgdmFyIG1pZFBvaW50ID0gZ2V0Q3ViaWNCZXppZXJQb2ludChjdXJ2ZSwgMSAvIDIpLFxuICAgIG0xID0gW21pZFBvaW50WzBdIC8gMiwgbWlkUG9pbnRbMV0gLyAyXSxcbiAgICBtMiA9IFsobWlkUG9pbnRbMF0gKyBjdXJ2ZVs0XSkgLyAyLCAobWlkUG9pbnRbMV0gKyBjdXJ2ZVs1XSkgLyAyXSxcbiAgICBjZW50ZXIgPSBnZXRJbnRlcnNlY3Rpb24oW1xuICAgICAgbTFbMF0sXG4gICAgICBtMVsxXSxcbiAgICAgIG0xWzBdICsgbTFbMV0sXG4gICAgICBtMVsxXSAtIG0xWzBdLFxuICAgICAgbTJbMF0sXG4gICAgICBtMlsxXSxcbiAgICAgIG0yWzBdICsgKG0yWzFdIC0gbWlkUG9pbnRbMV0pLFxuICAgICAgbTJbMV0gLSAobTJbMF0gLSBtaWRQb2ludFswXSksXG4gICAgXSksXG4gICAgcmFkaXVzID0gY2VudGVyICYmIGdldERpc3RhbmNlKFswLCAwXSwgY2VudGVyKSxcbiAgICB0b2xlcmFuY2UgPSBNYXRoLm1pbihhcmNUaHJlc2hvbGQgKiBlcnJvciwgKGFyY1RvbGVyYW5jZSAqIHJhZGl1cykgLyAxMDApO1xuXG4gIGlmIChcbiAgICBjZW50ZXIgJiZcbiAgICByYWRpdXMgPCAxZTE1ICYmXG4gICAgWzEgLyA0LCAzIC8gNF0uZXZlcnkoZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBNYXRoLmFicyhcbiAgICAgICAgICBnZXREaXN0YW5jZShnZXRDdWJpY0JlemllclBvaW50KGN1cnZlLCBwb2ludCksIGNlbnRlcikgLSByYWRpdXNcbiAgICAgICAgKSA8PSB0b2xlcmFuY2VcbiAgICAgICk7XG4gICAgfSlcbiAgKVxuICAgIHJldHVybiB7IGNlbnRlcjogY2VudGVyLCByYWRpdXM6IHJhZGl1cyB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGN1cnZlIGZpdHMgdGhlIGdpdmVuIGNpcmNsZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2lyY2xlXG4gKiBAcGFyYW0ge0FycmF5fSBjdXJ2ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc0FyYyhjdXJ2ZSwgY2lyY2xlKSB7XG4gIHZhciB0b2xlcmFuY2UgPSBNYXRoLm1pbihcbiAgICBhcmNUaHJlc2hvbGQgKiBlcnJvcixcbiAgICAoYXJjVG9sZXJhbmNlICogY2lyY2xlLnJhZGl1cykgLyAxMDBcbiAgKTtcblxuICByZXR1cm4gWzAsIDEgLyA0LCAxIC8gMiwgMyAvIDQsIDFdLmV2ZXJ5KGZ1bmN0aW9uIChwb2ludCkge1xuICAgIHJldHVybiAoXG4gICAgICBNYXRoLmFicyhcbiAgICAgICAgZ2V0RGlzdGFuY2UoZ2V0Q3ViaWNCZXppZXJQb2ludChjdXJ2ZSwgcG9pbnQpLCBjaXJjbGUuY2VudGVyKSAtXG4gICAgICAgICAgY2lyY2xlLnJhZGl1c1xuICAgICAgKSA8PSB0b2xlcmFuY2VcbiAgICApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwcmV2aW91cyBjdXJ2ZSBmaXRzIHRoZSBnaXZlbiBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNpcmNsZVxuICogQHBhcmFtIHtBcnJheX0gY3VydmVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNBcmNQcmV2KGN1cnZlLCBjaXJjbGUpIHtcbiAgcmV0dXJuIGlzQXJjKGN1cnZlLCB7XG4gICAgY2VudGVyOiBbY2lyY2xlLmNlbnRlclswXSArIGN1cnZlWzRdLCBjaXJjbGUuY2VudGVyWzFdICsgY3VydmVbNV1dLFxuICAgIHJhZGl1czogY2lyY2xlLnJhZGl1cyxcbiAgfSk7XG59XG5cbi8qKlxuICogRmluZHMgYW5nbGUgb2YgYSBjdXJ2ZSBmaXR0aW5nIHRoZSBnaXZlbiBhcmMuXG5cbiAqIEBwYXJhbSB7QXJyYXl9IGN1cnZlXG4gKiBAcGFyYW0ge09iamVjdH0gcmVsQ2lyY2xlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gKi9cblxuZnVuY3Rpb24gZmluZEFyY0FuZ2xlKGN1cnZlLCByZWxDaXJjbGUpIHtcbiAgdmFyIHgxID0gLXJlbENpcmNsZS5jZW50ZXJbMF0sXG4gICAgeTEgPSAtcmVsQ2lyY2xlLmNlbnRlclsxXSxcbiAgICB4MiA9IGN1cnZlWzRdIC0gcmVsQ2lyY2xlLmNlbnRlclswXSxcbiAgICB5MiA9IGN1cnZlWzVdIC0gcmVsQ2lyY2xlLmNlbnRlclsxXTtcblxuICByZXR1cm4gTWF0aC5hY29zKFxuICAgICh4MSAqIHgyICsgeTEgKiB5MikgLyBNYXRoLnNxcnQoKHgxICogeDEgKyB5MSAqIHkxKSAqICh4MiAqIHgyICsgeTIgKiB5MikpXG4gICk7XG59XG5cbi8qKlxuICogQ29udmVydHMgZ2l2ZW4gcGF0aCBkYXRhIHRvIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoRGF0YVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5cbmZ1bmN0aW9uIGRhdGEyUGF0aChwYXJhbXMsIHBhdGhEYXRhKSB7XG4gIHJldHVybiBwYXRoRGF0YS5yZWR1Y2UoZnVuY3Rpb24gKHBhdGhTdHJpbmcsIGl0ZW0pIHtcbiAgICB2YXIgc3RyRGF0YSA9IFwiXCI7XG4gICAgaWYgKGl0ZW0uZGF0YSkge1xuICAgICAgc3RyRGF0YSA9IGNsZWFudXBPdXREYXRhKHJvdW5kRGF0YShpdGVtLmRhdGEuc2xpY2UoKSksIHBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoU3RyaW5nICsgaXRlbS5pbnN0cnVjdGlvbiArIHN0ckRhdGE7XG4gIH0sIFwiXCIpO1xufVxuIiwgImltcG9ydCB7IGNydW5jaFN2ZyB9IGZyb20gXCIuL2NydW5jaFN2Z1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVjb2RlU3ZnVG9TdHJpbmcoc3ZnOiBVaW50OEFycmF5LCBpZHM6IHN0cmluZ1tdW10pIHtcbiAgbGV0IHN2Z1N0ciA9IG5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIpLmRlY29kZShzdmcpO1xuICAvLyBVcGRhdGUgSFRUUCBsaW5rcyB0byBIVFRQU1xuICBzdmdTdHIgPSBzdmdTdHIucmVwbGFjZSgvaHR0cDpcXC9cXC8vZywgXCJodHRwczovL1wiKTtcblxuICAvLyBSZXBsYWNlIGZpZ21hIElEcyBcIjAwOjAwXCIgd2l0aCBDU1MgdmFsaWQgSURzXG4gIGlkcy5mb3JFYWNoKChbaWQsIHVpZF0pID0+IHtcbiAgICBzdmdTdHIgPSBzdmdTdHIucmVwbGFjZShgaWQ9XCIke2lkfVwiYCwgYGlkPVwiJHtpZH1cIiBjbGFzcz1cIiR7dWlkfVwiIGApO1xuICB9KTtcblxuICBjb25zdCBlbXB0eURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGVtcHR5RGl2LmlubmVySFRNTCA9IHN2Z1N0cjtcbiAgY29uc3Qgc3ZnRWwgPSBlbXB0eURpdi5xdWVyeVNlbGVjdG9yKFwic3ZnXCIpO1xuXG4gIGlmICghc3ZnRWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTVkcgZGVjb2RlIGZhaWxlZC4gTWlzc2luZyBTVkcgZWxlbWVudFwiKTtcbiAgfVxuXG4gIGNydW5jaFN2ZyhzdmdFbCk7XG5cbiAgLy8gQlVHOiBSZW1vdmUgZW1wdHkgY2xpcCBwYXRoc1xuICBbLi4uKHN2Z0VsPy5xdWVyeVNlbGVjdG9yQWxsKFwiY2xpcFBhdGhcIikgfHwgW10pXS5mb3JFYWNoKChjbGlwUGF0aCkgPT4ge1xuICAgIGlmIChjbGlwUGF0aC5jaGlsZEVsZW1lbnRDb3VudCA9PT0gMCkge1xuICAgICAgY2xpcFBhdGgucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoY2xpcFBhdGgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gUmVtb3ZlIHRleHQgbm9kZXNcbiAgWy4uLihzdmdFbD8ucXVlcnlTZWxlY3RvckFsbChcInRleHRcIikgfHwgW10pXS5mb3JFYWNoKCh0ZXh0Tm9kZSkgPT4ge1xuICAgIHRleHROb2RlLnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKHRleHROb2RlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHN2Z0VsLm91dGVySFRNTDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN2Z1N0cmluZyh1cmw6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiBmZXRjaCh1cmwpLnRoZW4oKHJlcykgPT4ge1xuICAgIGlmIChyZXMub2sgPT09IGZhbHNlKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggU1ZHIGJsb2JcIik7XG5cbiAgICByZXR1cm4gcmVzLnRleHQoKTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgTVNHX0VWRU5UUyB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuaW50ZXJmYWNlIElQb3N0bWFuTWVzc2FnZSB7XG4gIG5hbWU6IHN0cmluZztcbiAgdWlkOiBzdHJpbmc7XG4gIHdvcmtsb2FkOiBNU0dfRVZFTlRTO1xuICBkYXRhOiBhbnk7XG4gIHJldHVybmluZz86IGJvb2xlYW47XG4gIGVycj86IHN0cmluZztcbn1cblxuY2xhc3MgUG9zdG1hbiB7XG4gIHByaXZhdGUgbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIGluRmlnbWFTYW5kYm94OiBib29sZWFuO1xuICBwcml2YXRlIGNhbGxiYWNrU3RvcmU6IHsgW2lkOiBzdHJpbmddOiBGdW5jdGlvbiB9O1xuICBwcml2YXRlIHdvcmtlcnM6IHsgW2lkOiBzdHJpbmddOiBGdW5jdGlvbiB9O1xuXG4gIHByaXZhdGUgVElNRU9VVCA9IDMwMDAwO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzPzogeyBtZXNzYWdlTmFtZT86IHN0cmluZzsgc2NvcGU6IG51bGwgfSkge1xuICAgIHRoaXMubmFtZSA9IHByb3BzPy5tZXNzYWdlTmFtZSB8fCBcIlBPU1RNQU5cIjtcbiAgICB0aGlzLmluRmlnbWFTYW5kYm94ID0gdHlwZW9mIGZpZ21hID09PSBcIm9iamVjdFwiO1xuICAgIHRoaXMuY2FsbGJhY2tTdG9yZSA9IHt9O1xuICAgIHRoaXMud29ya2VycyA9IHt9O1xuXG4gICAgLy8gQWRkIG1lc3NhZ2UgZXZlbnQgbGlzdGVuZXJcbiAgICB0aGlzLmluRmlnbWFTYW5kYm94XG4gICAgICA/IGZpZ21hLnVpLm9uKFwibWVzc2FnZVwiLCB0aGlzLnJlY2VpdmUpXG4gICAgICA6IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLnJlY2VpdmUpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWNlaXZlID0gYXN5bmMgKGV2ZW50OiBNZXNzYWdlRXZlbnQ8SVBvc3RtYW5NZXNzYWdlPikgPT4ge1xuICAgIGNvbnN0IG1zZ0JvZHkgPSB0aGlzLmluRmlnbWFTYW5kYm94ID8gZXZlbnQgOiBldmVudD8uZGF0YT8ucGx1Z2luTWVzc2FnZTtcbiAgICBjb25zdCB7IGRhdGEsIHdvcmtsb2FkLCBuYW1lLCB1aWQsIHJldHVybmluZywgZXJyIH0gPSBtc2dCb2R5IHx8IHt9O1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIERvIG5vdGhpbmcgaWQgcG9zdCBtZXNzYWdlIGlzbid0IGZvciB1c1xuICAgICAgaWYgKHRoaXMubmFtZSAhPT0gbmFtZSkgcmV0dXJuO1xuXG4gICAgICBpZiAocmV0dXJuaW5nICYmICF0aGlzLmNhbGxiYWNrU3RvcmVbdWlkXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgY2FsbGJhY2s6ICR7dWlkfWApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJldHVybmluZyAmJiAhdGhpcy53b3JrZXJzW3dvcmtsb2FkXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHdvcmtsb2FkIHJlZ2lzdGVyZWQ6ICR7d29ya2xvYWR9YCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXR1cm5pbmcpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja1N0b3JlW3VpZF0oZGF0YSwgZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHdvcmtsb2FkUmVzdWx0ID0gYXdhaXQgdGhpcy53b3JrZXJzW3dvcmtsb2FkXShkYXRhKTtcbiAgICAgICAgdGhpcy5wb3N0QmFjayh7IGRhdGE6IHdvcmtsb2FkUmVzdWx0LCB1aWQgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLnBvc3RCYWNrKHsgdWlkLCBlcnI6IFwiUG9zdG1hbiBmYWlsZWRcIiB9KTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJQb3N0bWFuIGZhaWxlZFwiLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBwdWJsaWMgcmVnaXN0ZXJXb3JrZXIgPSAoZXZlbnRUeXBlOiBNU0dfRVZFTlRTLCBmbjogRnVuY3Rpb24pID0+IHtcbiAgICB0aGlzLndvcmtlcnNbZXZlbnRUeXBlXSA9IGZuO1xuICB9O1xuXG4gIHByaXZhdGUgcG9zdEJhY2sgPSAocHJvcHM6IHsgdWlkOiBzdHJpbmc7IGRhdGE/OiBhbnk7IGVycj86IHN0cmluZyB9KSA9PlxuICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgdWlkOiBwcm9wcy51aWQsXG4gICAgICBkYXRhOiBwcm9wcy5kYXRhLFxuICAgICAgcmV0dXJuaW5nOiB0cnVlLFxuICAgICAgZXJyOiBwcm9wcy5lcnIsXG4gICAgfSk7XG5cbiAgcHJpdmF0ZSBwb3N0TWVzc2FnZSA9IChtZXNzYWdlQm9keSkgPT5cbiAgICB0aGlzLmluRmlnbWFTYW5kYm94XG4gICAgICA/IGZpZ21hLnVpLnBvc3RNZXNzYWdlKG1lc3NhZ2VCb2R5KVxuICAgICAgOiBwYXJlbnQucG9zdE1lc3NhZ2UoeyBwbHVnaW5NZXNzYWdlOiBtZXNzYWdlQm9keSB9LCBcIipcIik7XG5cbiAgcHVibGljIHNlbmQgPSAocHJvcHM6IHsgd29ya2xvYWQ6IE1TR19FVkVOVFM7IGRhdGE/OiBhbnkgfSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHsgd29ya2xvYWQsIGRhdGEgfSA9IHByb3BzO1xuXG4gICAgICBjb25zdCByYW5kb21JZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cig1KTtcblxuICAgICAgdGhpcy5wb3N0TWVzc2FnZSh7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgdWlkOiByYW5kb21JZCxcbiAgICAgICAgd29ya2xvYWQsXG4gICAgICAgIGRhdGEsXG4gICAgICB9IGFzIElQb3N0bWFuTWVzc2FnZSk7XG5cbiAgICAgIHRoaXMuY2FsbGJhY2tTdG9yZVtyYW5kb21JZF0gPSAocmVzdWx0OiBhbnksIGVycj86IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoXCJUaW1lZCBvdXRcIikpLCB0aGlzLlRJTUVPVVQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgY29uc3QgcG9zdE1hbiA9IG5ldyBQb3N0bWFuKCk7XG4iLCAiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSBcInByZWFjdFwiO1xuXG5pbXBvcnQgeyByZW5kZXJJbmxpbmUgfSBmcm9tIFwiLi4vb3V0cHV0UmVuZGVyXCI7XG5pbXBvcnQgeyBNU0dfRVZFTlRTLCBTVEFHRVMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBTdmdJbmZvcm1hdGlvbiwgSGVhZGVyVGl0bGUgfSBmcm9tIFwiLi9IZWFkZXJcIjtcbmltcG9ydCB7IFJlc3BvbnNpdmVWaWV3IH0gZnJvbSBcIi4vUmVzcG9uc2l2ZVZpZXdcIjtcbmltcG9ydCB7IEZyYW1lU2VsZWN0aW9uIH0gZnJvbSBcIi4vRnJhbWVTZWxlY3Rpb25cIjtcbmltcG9ydCB7IFNhdmUgfSBmcm9tIFwiLi9TYXZlXCI7XG5pbXBvcnQgeyBkZWNvZGVTdmdUb1N0cmluZyB9IGZyb20gXCIuLi91dGlscy9zdmdcIjtcbmltcG9ydCB7IHBvc3RNYW4gfSBmcm9tIFwiLi4vdXRpbHMvbWVzc2FnZXNcIjtcbmltcG9ydCB7XG4gIEFwcFN0YXRlLFxuICBBcHBQcm9wc0ludGVyZmFjZSxcbiAgTXNnRnJhbWVzVHlwZSxcbiAgRnJhbWVDb2xsZWN0aW9uLFxuICBIZWFkbGluZXNJbnRlcmZhY2UsXG4gIEZyYW1lRGF0YUludGVyZmFjZSxcbn0gZnJvbSBcInR5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBBcHAgZXh0ZW5kcyBDb21wb25lbnQ8QXBwUHJvcHNJbnRlcmZhY2UsIEFwcFN0YXRlPiB7XG4gIHJlYWRvbmx5IHN0YXRlOiBBcHBTdGF0ZSA9IHtcbiAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgIHJlYWR5OiBmYWxzZSxcbiAgICBmcmFtZXM6IHt9LFxuICAgIHN0YWdlOiBTVEFHRVMuQ0hPT1NFX0ZSQU1FUyxcbiAgICBzZWxlY3RlZEZyYW1lczogW10sXG4gICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICBoZWFkbGluZTogdW5kZWZpbmVkLFxuICAgIHN1YmhlYWQ6IHVuZGVmaW5lZCxcbiAgICBzb3VyY2U6IHVuZGVmaW5lZCxcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBzdmdNYXJrdXA6IFwiXCIsXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKTogdm9pZCB7XG4gICAgLy8gT25jZSB0aGUgVUkgaXMgbW91bnRlZCByZXF1ZXN0IHRoZSByb290IGZyYW1lcyBmcm9tIEZpZ21hJ3MgYmFja2VuZFxuICAgIHBvc3RNYW5cbiAgICAgIC5zZW5kKHsgd29ya2xvYWQ6IE1TR19FVkVOVFMuR0VUX1JPT1RfRlJBTUVTIH0pXG4gICAgICAudGhlbih0aGlzLnVwZGF0ZUluaXRpYWxTdGF0ZSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwiZXJyb3IgcmVxdWVzdGluZyBmcmFtZXNcIiwgZXJyKSk7XG4gIH1cblxuICB1cGRhdGVJbml0aWFsU3RhdGUgPSAoZGF0YTogTXNnRnJhbWVzVHlwZSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgZnJhbWVzLCBoZWFkbGluZSwgc3ViaGVhZCwgc291cmNlIH0gPSBkYXRhO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZyYW1lcykgfHwgZnJhbWVzPy5sZW5ndGggPCAxKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IFwiTm8gZnJhbWVzIVwiIH0pO1xuICAgICAgY29uc29sZS5lcnJvcihcIlBvc3QgZXJyb3I6IG5vIGZyYW1lc1wiLCBkYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoYXNEdXBsaWNhdGVXaWR0aHMgPSBmcmFtZXNcbiAgICAgIC5tYXAoKGYpID0+IGYud2lkdGgpXG4gICAgICAuc29tZSgod2lkdGgsIF9pLCBhcnIpID0+IGFyci5pbmRleE9mKHdpZHRoKSAhPT0gYXJyLmxhc3RJbmRleE9mKHdpZHRoKSk7XG5cbiAgICBpZiAoaGFzRHVwbGljYXRlV2lkdGhzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3I6XG4gICAgICAgICAgXCJUaGUgYXJlIGZyYW1lcyB3aXRoIGlkZW50aWNhbCB3aWR0aHMuIFBsZWFzZSByZXNpemUgb3IgcmVtb3ZlIHNvbWUgZnJhbWVzLlwiLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBmcmFtZURhdGE6IEZyYW1lQ29sbGVjdGlvbiA9IHt9O1xuICAgIGZvciAoY29uc3QgZnJhbWUgb2YgZnJhbWVzKSB7XG4gICAgICBjb25zdCB7IGlkIH0gPSBmcmFtZTtcbiAgICAgIGNvbnN0IHJuZElkID0gYnRvYShgJHtNYXRoLnJhbmRvbSgpfWApLnN1YnN0cig2LCA2KTtcbiAgICAgIGZyYW1lRGF0YVtpZF0gPSB7IC4uLmZyYW1lLCB1aWQ6IGBmMmhfXyR7cm5kSWR9YCB9O1xuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkRnJhbWVzID0gZnJhbWVzLm1hcCgoZnJhbWUpID0+IGZyYW1lLmlkKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZnJhbWVzOiBmcmFtZURhdGEsXG4gICAgICByZWFkeTogdHJ1ZSxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIHNlbGVjdGVkRnJhbWVzLFxuICAgIH0pO1xuICB9O1xuXG4gIGhhbmRsZVJlbmRlck1lc3NhZ2UgPSBhc3luYyAoc3ZnRGF0YTogVWludDhBcnJheSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmICghc3ZnRGF0YSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yOiBcIkZhaWxlZCB0byByZW5kZXJcIiB9KTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJQb3N0IG1lc3NhZ2U6IGZhaWxlZCB0byByZW5kZXJcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgc2VsZWN0ZWRGcmFtZXMsXG4gICAgICBmcmFtZXMsXG4gICAgICBoZWFkbGluZSxcbiAgICAgIHN1YmhlYWQsXG4gICAgICBzb3VyY2UsXG4gICAgICByZXNwb25zaXZlLFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgaWRzID0gc2VsZWN0ZWRGcmFtZXMubWFwKChpZCkgPT4gW2lkLCBmcmFtZXNbaWRdLnVpZF0pO1xuICAgIGNvbnN0IHN2Z1RleHQgPSBhd2FpdCBkZWNvZGVTdmdUb1N0cmluZyhzdmdEYXRhLCBpZHMpO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWQgPSBPYmplY3QudmFsdWVzKGZyYW1lcykuZmlsdGVyKChmKSA9PlxuICAgICAgc2VsZWN0ZWRGcmFtZXMuaW5jbHVkZXMoZi5pZClcbiAgICApO1xuXG4gICAgY29uc3QgaHRtbCA9IHJlbmRlcklubGluZSh7XG4gICAgICBmcmFtZXM6IHNlbGVjdGVkLFxuICAgICAgc3ZnVGV4dCxcbiAgICAgIGhlYWRsaW5lLFxuICAgICAgc3ViaGVhZCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIHJlc3BvbnNpdmUsXG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHN2Z01hcmt1cDogaHRtbCxcbiAgICAgIHN0YWdlOiBTVEFHRVMuUkVTUE9OU0lWRV9QUkVWSUVXLFxuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gVE9ETzogTWVyZ2UgZ29OZXh0IGFuZCBnb0JhY2tcbiAgZ29OZXh0ID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgc3RhZ2UgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgICBjYXNlIFNUQUdFUy5DSE9PU0VfRlJBTUVTOlxuICAgICAgICB0aGlzLmdldE91dHB1dFJlbmRlcigpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVc6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdGFnZTogU1RBR0VTLlNBVkVfT1VUUFVUIH0pO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgU1RBR0VTLlNBVkVfT1VUUFVUOlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGdvQmFjayA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHN0YWdlIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgc3dpdGNoIChzdGFnZSkge1xuICAgICAgY2FzZSBTVEFHRVMuQ0hPT1NFX0ZSQU1FUzpcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVc6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdGFnZTogU1RBR0VTLkNIT09TRV9GUkFNRVMgfSk7XG4gICAgICAgIHJldHVybjtcblxuICAgICAgY2FzZSBTVEFHRVMuU0FWRV9PVVRQVVQ6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdGFnZTogU1RBR0VTLlJFU1BPTlNJVkVfUFJFVklFVyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICBnZXRPdXRwdXRSZW5kZXIgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3RlZEZyYW1lcyB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIC8vIHNlbmRNZXNzYWdlKE1TR19FVkVOVFMuUkVOREVSLCB7IGlkczogc2VsZWN0ZWRGcmFtZXMgfSk7XG4gICAgcG9zdE1hblxuICAgICAgLnNlbmQoeyB3b3JrbG9hZDogTVNHX0VWRU5UUy5SRU5ERVIsIGRhdGE6IHNlbGVjdGVkRnJhbWVzIH0pXG4gICAgICAudGhlbih0aGlzLmhhbmRsZVJlbmRlck1lc3NhZ2UpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiZXJyb3IgZ2V0dGluZyByZW5kZXJcIiwgZXJyKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIHRvZ2dsZUZyYW1lU2VsZWN0ID0gKGlkOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdGVkRnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWxlY3RlZEZyYW1lczogc2VsZWN0ZWRGcmFtZXMuaW5jbHVkZXMoaWQpXG4gICAgICAgID8gc2VsZWN0ZWRGcmFtZXMuZmlsdGVyKChmcmFtZUlkKSA9PiBpZCAhPT0gZnJhbWVJZClcbiAgICAgICAgOiBbLi4uc2VsZWN0ZWRGcmFtZXMsIGlkXSxcbiAgICB9KTtcbiAgfTtcblxuICB0b2dnbGVTZWxlY3RBbGwgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3RlZEZyYW1lcywgZnJhbWVzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmIChzZWxlY3RlZEZyYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRGcmFtZXM6IFtdIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRGcmFtZXM6IE9iamVjdC52YWx1ZXMoZnJhbWVzKS5tYXAoKGYpID0+IGYuaWQpIH0pO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVGb3JtVXBkYXRlID0gKHByb3BzOiBIZWFkbGluZXNJbnRlcmZhY2UpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgLi4ucHJvcHMgfSk7XG4gICAgcG9zdE1hblxuICAgICAgLnNlbmQoeyB3b3JrbG9hZDogTVNHX0VWRU5UUy5VUERBVEVfSEVBRExJTkVTLCBkYXRhOiBwcm9wcyB9KVxuICAgICAgLmNhdGNoKCgpID0+IHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogXCJGb3JtIHVwZGF0ZSBmYWlsZWRcIiB9KSk7XG4gIH07XG5cbiAgZ2V0U2VsZWN0ZWRGcmFtZXMgPSAoKTogRnJhbWVEYXRhSW50ZXJmYWNlW10gPT4ge1xuICAgIGNvbnN0IHsgZnJhbWVzLCBzZWxlY3RlZEZyYW1lcyB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKGZyYW1lcykuZmlsdGVyKChmKSA9PiBzZWxlY3RlZEZyYW1lcy5pbmNsdWRlcyhmLmlkKSk7XG4gIH07XG5cbiAgdG9nZ2xlUmVzcG9uc2l2ZSA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgcmVzcG9uc2l2ZTogIXRoaXMuc3RhdGUucmVzcG9uc2l2ZSB9KTtcbiAgfTtcblxuICByZW5kZXIoKTogaC5KU1guRWxlbWVudCB7XG4gICAgY29uc3QgeyB2ZXJzaW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtcbiAgICAgIGVycm9yLFxuICAgICAgc3RhZ2UsXG4gICAgICBsb2FkaW5nLFxuICAgICAgc3ZnTWFya3VwLFxuICAgICAgaGVhZGxpbmUsXG4gICAgICBzdWJoZWFkLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZWN0ZWRGcmFtZXMsXG4gICAgICBmcmFtZXMsXG4gICAgICByZXNwb25zaXZlLFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZSk7XG4gICAgY29uc3QgZnJhbWVXaWR0aHMgPSB0aGlzLmdldFNlbGVjdGVkRnJhbWVzKClcbiAgICAgIC5tYXAoKGYpID0+IGYud2lkdGgpXG4gICAgICAuc29ydCgpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZjJoXCI+XG4gICAgICAgIHshZXJyb3IgJiYgKFxuICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZjJoX19oZWFkZXJcIj5cbiAgICAgICAgICAgIDxIZWFkZXJUaXRsZSBzdGFnZT17c3RhZ2V9IC8+XG5cbiAgICAgICAgICAgIHtzdGFnZSA9PT0gU1RBR0VTLlJFU1BPTlNJVkVfUFJFVklFVyAmJiAoXG4gICAgICAgICAgICAgIDxTdmdJbmZvcm1hdGlvbiBzdmdNYXJrdXA9e3N2Z01hcmt1cH0gLz5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5nb0JhY2t9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtzdGFnZSA9PT0gU1RBR0VTLkNIT09TRV9GUkFNRVN9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEJhY2tcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi0tcHJpbWFyeVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ29OZXh0fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17c3RhZ2UgPT09IFNUQUdFUy5TQVZFX09VVFBVVH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgTmV4dFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmMmhfX2JvZHlcIj5cbiAgICAgICAgICB7ZXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJlcnJvclwiPntlcnJvcn08L2Rpdj59XG4gICAgICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxvYWRpbmdfX21zZ1wiPk1lcmdpbmcgZnJhbWVzPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsb2FkaW5nX19tc2dcIj5SZW5kZXJpbmcgSFRNTDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibG9hZGluZ19fbXNnXCI+T3B0aW1pc2luZyBpbWFnZXM8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxvYWRpbmdfX21zZ1wiPlNpbXBsaWZ5aW5nIHNoYXBlczwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7IWVycm9yICYmICFsb2FkaW5nICYmIHN0YWdlID09PSBTVEFHRVMuQ0hPT1NFX0ZSQU1FUyAmJiAoXG4gICAgICAgICAgICA8RnJhbWVTZWxlY3Rpb25cbiAgICAgICAgICAgICAgZnJhbWVzPXtmcmFtZXN9XG4gICAgICAgICAgICAgIHNlbGVjdGVkRnJhbWVzPXtzZWxlY3RlZEZyYW1lc31cbiAgICAgICAgICAgICAgaGFuZGxlQ2xpY2s9e3RoaXMudG9nZ2xlRnJhbWVTZWxlY3R9XG4gICAgICAgICAgICAgIHRvZ2dsZVNlbGVjdEFsbD17dGhpcy50b2dnbGVTZWxlY3RBbGx9XG4gICAgICAgICAgICAgIHJlc3BvbnNpdmU9e3Jlc3BvbnNpdmV9XG4gICAgICAgICAgICAgIHRvZ2dsZVJlc3BvbnNpdmU9e3RoaXMudG9nZ2xlUmVzcG9uc2l2ZX1cbiAgICAgICAgICAgICAgaGVhZGxpbmU9e2hlYWRsaW5lfVxuICAgICAgICAgICAgICBzdWJoZWFkPXtzdWJoZWFkfVxuICAgICAgICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgICAgICAgaGFuZGxlRm9ybVVwZGF0ZT17dGhpcy5oYW5kbGVGb3JtVXBkYXRlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHshZXJyb3IgJiYgIWxvYWRpbmcgJiYgc3RhZ2UgPT09IFNUQUdFUy5SRVNQT05TSVZFX1BSRVZJRVcgJiYgKFxuICAgICAgICAgICAgPFJlc3BvbnNpdmVWaWV3IHN2Z01hcmt1cD17c3ZnTWFya3VwfSBmcmFtZVdpZHRocz17ZnJhbWVXaWR0aHN9IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7IWVycm9yICYmICFsb2FkaW5nICYmIHN0YWdlID09PSBTVEFHRVMuU0FWRV9PVVRQVVQgJiYgKFxuICAgICAgICAgICAgPFNhdmUgc3ZnTWFya3VwPXtzdmdNYXJrdXB9IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImYyaF9fdmVyc2lvblwiPlZlcnNpb246IHt2ZXJzaW9ufTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBJcmVzaXplSW1hZ2UgfSBmcm9tIFwidHlwZXNcIjtcbmltcG9ydCBQaWNhIGZyb20gXCJwaWNhXCI7XG5pbXBvcnQgVVBORyBmcm9tIFwidXBuZy1qc1wiO1xuXG5jb25zdCBKUEVHX01BR0lDX0JZVEVTID0gW1xuICBbMHhmZiwgMHhkOCwgMHhmZiwgMHhkYl0sXG4gIFsweGZmLCAweGQ4LCAweGZmLCAweGVlXSxcbiAgWzB4ZmYsIDB4ZDgsIDB4ZmYsIDB4ZTFdLFxuICBbMHhmZiwgMHhkOCwgMHhmZiwgMHhlMCwgMHgwMCwgMHgxMCwgMHg0YSwgMHg0NiwgMHg0OSwgMHg0NiwgMHgwMCwgMHgwMV0sXG5dO1xuY29uc3QgUE5HX01BR0lDX0JZVEVTID0gWzB4ODksIDB4NTAsIDB4NGUsIDB4NDcsIDB4MGQsIDB4MGEsIDB4MWEsIDB4MGFdO1xuY29uc3QgR0lGX01BR0lDX0JZVEVTID0gW1xuICBbMHg0NywgMHg0OSwgMHg0NiwgMHgzOCwgMHgzNywgMHg2MV0sXG4gIFsweDQ3LCAweDQ5LCAweDQ2LCAweDM4LCAweDM5LCAweDYxXSxcbl07XG5cbmV4cG9ydCBlbnVtIElNQUdFX0ZPUk1BVFMge1xuICBQTkcsXG4gIEpQRUcsXG4gIEdJRixcbiAgVU5LTk9XTixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aWZ5SW1hZ2VGb3JtYXQoaW1hZ2VEYXRhOiBVaW50OEFycmF5KTogSU1BR0VfRk9STUFUUyB7XG4gIGNvbnN0IGlzUG5nID0gUE5HX01BR0lDX0JZVEVTLmV2ZXJ5KCh2YWwsIGkpID0+IHZhbCA9PT0gaW1hZ2VEYXRhW2ldKTtcbiAgaWYgKGlzUG5nKSB7XG4gICAgcmV0dXJuIElNQUdFX0ZPUk1BVFMuUE5HO1xuICB9XG5cbiAgY29uc3QgaXNKcGVnID0gSlBFR19NQUdJQ19CWVRFUy5zb21lKChieXRlcykgPT5cbiAgICBieXRlcy5ldmVyeSgodmFsLCBpKSA9PiB2YWwgPT09IGltYWdlRGF0YVtpXSlcbiAgKTtcbiAgaWYgKGlzSnBlZykge1xuICAgIHJldHVybiBJTUFHRV9GT1JNQVRTLkpQRUc7XG4gIH1cblxuICBjb25zdCBpc0dpZiA9IEdJRl9NQUdJQ19CWVRFUy5zb21lKChieXRlcykgPT5cbiAgICBieXRlcy5ldmVyeSgodmFsLCBpKSA9PiB2YWwgPT09IGltYWdlRGF0YVtpXSlcbiAgKTtcbiAgaWYgKGlzR2lmKSB7XG4gICAgcmV0dXJuIElNQUdFX0ZPUk1BVFMuR0lGO1xuICB9XG5cbiAgcmV0dXJuIElNQUdFX0ZPUk1BVFMuVU5LTk9XTjtcbn1cblxuZnVuY3Rpb24gY2FsY1NtYWxsZXN0SW1hZ2VTaXplKFxuICBvcmlnaW5hbFdpZHRoOiBudW1iZXIsXG4gIG9yaWdpbmFsSGVpZ2h0OiBudW1iZXIsXG4gIG5vZGVEaW1lbnNpb25zOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH1bXVxuKTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IHtcbiAgY29uc3QgYXNwZWN0UmF0aW8gPSBvcmlnaW5hbFdpZHRoIC8gb3JpZ2luYWxIZWlnaHQ7XG5cbiAgLy8gV09SSyBPVVQgTUFYIE5PREUgU0laRVxuICBsZXQgd2lkdGggPSAyMDA7XG4gIGxldCBoZWlnaHQgPSAyMDA7XG5cbiAgaWYgKGFzcGVjdFJhdGlvIDwgMSkge1xuICAgIC8vIDIwMHgzMDAgcG9ydHJhaXQgID0gMi8zID0gMC42NlxuICAgIGNvbnN0IG1heEFzcGVjdEhlaWdodCA9IE1hdGgubWF4KFxuICAgICAgLi4ubm9kZURpbWVuc2lvbnMuZmxhdE1hcCgoZCkgPT4gZC53aWR0aCAvIGFzcGVjdFJhdGlvKVxuICAgICk7XG4gICAgY29uc3QgbWF4Tm9kZUhlaWdodCA9IE1hdGgubWF4KC4uLm5vZGVEaW1lbnNpb25zLmZsYXRNYXAoKGQpID0+IGQuaGVpZ2h0KSk7XG4gICAgaGVpZ2h0ID0gTWF0aC5tYXgobWF4Tm9kZUhlaWdodCwgbWF4QXNwZWN0SGVpZ2h0KTtcbiAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuXG4gICAgLy8gd2lkdGggPSBNYXRoLm1heCguLi5ub2RlRGltZW5zaW9ucy5mbGF0TWFwKChkKSA9PiBkLndpZHRoKSk7XG4gICAgLy8gaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgfSBlbHNlIHtcbiAgICAvLyAzMDB4MjAwIHBvcnRyYWl0ICA9IDMvMiA9IDEuNVxuICAgIC8vIExhbmRzY2FwZSBvciBzcXVhcmVcbiAgICBjb25zdCBtYXhBc3BlY3RXaWR0aCA9IE1hdGgubWF4KFxuICAgICAgLi4ubm9kZURpbWVuc2lvbnMuZmxhdE1hcCgoZCkgPT4gZC5oZWlnaHQgKiBhc3BlY3RSYXRpbylcbiAgICApO1xuICAgIGNvbnN0IG1heE5vZGVXaWR0aCA9IE1hdGgubWF4KC4uLm5vZGVEaW1lbnNpb25zLmZsYXRNYXAoKGQpID0+IGQud2lkdGgpKTtcbiAgICB3aWR0aCA9IE1hdGgubWF4KG1heE5vZGVXaWR0aCwgbWF4QXNwZWN0V2lkdGgpO1xuICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gIH1cblxuICAvLyBEb24ndCBzY2FsZSBpbWFnZSB1cCBpZiBub2RlIGlzIGxhcmdlciB0aGFuIGltYWdlXG4gIGlmICh3aWR0aCA+IG9yaWdpbmFsV2lkdGggfHwgaGVpZ2h0ID4gb3JpZ2luYWxIZWlnaHQpIHtcbiAgICB3aWR0aCA9IG9yaWdpbmFsV2lkdGg7XG4gICAgaGVpZ2h0ID0gb3JpZ2luYWxIZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG4gIH1cblxuICByZXR1cm4geyB3aWR0aCwgaGVpZ2h0IH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG9wdGltaXplSW1hZ2UoXG4gIGltZ0RhdGE6IFVpbnQ4QXJyYXksXG4gIGNhbnZhczogT2Zmc2NyZWVuQ2FudmFzXG4pOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgY29uc3QgX0NPTE9VUl9DT1VOVCA9IDY0O1xuICAvLyBPcmlnaW5hbCBpbWFnZSBmb3JtYXRcbiAgY29uc3QgaW1hZ2VGb3JtYXQgPSBpZGVudGlmeUltYWdlRm9ybWF0KGltZ0RhdGEpO1xuXG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gY2FudmFzO1xuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpIGFzIE9mZnNjcmVlbkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICAvLyBPcHRpbWl6ZSBQTkcgYW5kIEdJRiBpbWFnZXMgd2l0aCBhIGxpbWl0ZWQgY29sb3VyIHBhbGxldCBvciBKUEVHIHF1YWxpdHlcbiAgbGV0IHJldHVybkltYWdlRGF0YTogVWludDhBcnJheTtcbiAgaWYgKGltYWdlRm9ybWF0ID09PSBJTUFHRV9GT1JNQVRTLlBORyB8fCBpbWFnZUZvcm1hdCA9PT0gSU1BR0VfRk9STUFUUy5HSUYpIHtcbiAgICBjb25zdCBkYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgIGNvbnN0IHRpbnlQbmcgPSBVUE5HLmVuY29kZShbZGF0YS5idWZmZXJdLCB3aWR0aCwgaGVpZ2h0LCBfQ09MT1VSX0NPVU5UKTtcbiAgICByZXR1cm5JbWFnZURhdGEgPSBuZXcgVWludDhBcnJheSh0aW55UG5nKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBibG9iID0gYXdhaXQgY2FudmFzLmNvbnZlcnRUb0Jsb2Ioe1xuICAgICAgdHlwZTogXCJpbWFnZS9qcGVnXCIsXG4gICAgICBxdWFsaXR5OiAwLjg1LFxuICAgIH0pO1xuICAgIGNvbnN0IGJ1ZmYgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7XG4gICAgcmV0dXJuSW1hZ2VEYXRhID0gbmV3IFVpbnQ4QXJyYXkoYnVmZik7XG4gIH1cblxuICByZXR1cm4gcmV0dXJuSW1hZ2VEYXRhO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzaXplQW5kT3B0aW1pc2VJbWFnZShcbiAgcHJvcHM6IElyZXNpemVJbWFnZVxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHsgaW1nLCBpbWdEYXRhLCBub2RlRGltZW5zaW9ucywgcmVzb2x2ZSwgcmVqZWN0IH0gPSBwcm9wcztcblxuICB0cnkge1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gY2FsY1NtYWxsZXN0SW1hZ2VTaXplKFxuICAgICAgaW1nLndpZHRoLFxuICAgICAgaW1nLmhlaWdodCxcbiAgICAgIG5vZGVEaW1lbnNpb25zXG4gICAgKTtcbiAgICBjb25zdCBjYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgLy8gVXNlIGltYWdlIHJlc2l6aW5nIGxpYnJhcnkgdG8gY3JlYXRlIGEgc2hhcnBlciBkb3duc2NhbGVkIGltYWdlXG4gICAgY29uc3QgcGljYSA9IG5ldyBQaWNhKCk7XG4gICAgYXdhaXQgcGljYS5yZXNpemUoaW1nLCAoY2FudmFzIGFzIHVua25vd24pIGFzIEhUTUxDYW52YXNFbGVtZW50LCB7XG4gICAgICB1bnNoYXJwQW1vdW50OiA1MCxcbiAgICAgIGFscGhhOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgb3B0aW1pc2VkSW1hZ2UgPSBhd2FpdCBvcHRpbWl6ZUltYWdlKGltZ0RhdGEsIGNhbnZhcyk7XG5cbiAgICByZXNvbHZlKG9wdGltaXNlZEltYWdlKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVqZWN0KGVycik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBzZXRIZWFkbGluZXNBbmRTb3VyY2VQcm9wcywgSUZyYW1lRGF0YSB9IGZyb20gXCJ0eXBlc1wiO1xuaW1wb3J0IHsgZ2V0Tm9kZVRleHQsIGdldFRleHROb2Rlc0Zyb21GcmFtZSB9IGZyb20gXCJoZWxwZXJzL2ZpZ21hVGV4dFwiO1xuaW1wb3J0IHsgSEVBRExJTkVfTk9ERV9OQU1FUywgTVNHX0VWRU5UUyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgcG9zdE1hbiB9IGZyb20gXCJ1dGlscy9tZXNzYWdlc1wiO1xuaW1wb3J0IHsgcmVzaXplQW5kT3B0aW1pc2VJbWFnZSB9IGZyb20gXCIuL2hlbHBlcnMvaW1hZ2VIZWxwZXJcIjtcblxuLyoqXG4gKiBDb21wcmVzcyBpbWFnZSB1c2luZyBicm93c2VyJ3MgbmF0aXZlIGltYWdlIGRlY29kaW5nIHN1cHBvcnRcbiAqIEBjb250ZXh0IEJyb3dzZXIgKFVJKVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHJlc3NJbWFnZShwcm9wczoge1xuICBpbWdEYXRhOiBVaW50OEFycmF5O1xuICBub2RlRGltZW5zaW9uczogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9W107XG59KTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgY29uc3QgeyBpbWdEYXRhLCBub2RlRGltZW5zaW9ucyB9ID0gcHJvcHM7XG5cbiAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgcmVzaXplQW5kT3B0aW1pc2VJbWFnZSh7XG4gICAgICAgIGltZyxcbiAgICAgICAgaW1nRGF0YSxcbiAgICAgICAgbm9kZURpbWVuc2lvbnMsXG4gICAgICAgIHJlc29sdmUsXG4gICAgICAgIHJlamVjdCxcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcblxuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgY29tcHJlc3NlZCBpbWFnZVwiKTtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtpbWdEYXRhXSwgeyB0eXBlOiBcImltYWdlL3BuZ1wiIH0pO1xuICAgIGNvbnN0IGltZ1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgaW1nLnNyYyA9IGltZ1VybDtcbiAgfSk7XG59XG5cbi8qKlxuICogVGVzdCBpZiBGaWdtYSBub2RlIHN1cHBvcnRzIGZpbGwgcHJvcGVydHkgdHlwZVxuICovXG5mdW5jdGlvbiBzdXBwb3J0c0ZpbGxzKFxuICBub2RlOiBTY2VuZU5vZGVcbik6IG5vZGUgaXMgRXhjbHVkZTxTY2VuZU5vZGUsIFNsaWNlTm9kZSB8IEdyb3VwTm9kZT4ge1xuICByZXR1cm4gbm9kZS50eXBlICE9PSBcIlNMSUNFXCIgJiYgbm9kZS50eXBlICE9PSBcIkdST1VQXCI7XG59XG5cbi8qKlxuICogUmVuZGVyIGFsbCBzcGVjaWZpZWQgZnJhbWVzIG91dCBhcyBTVkcgZWxlbWVudC5cbiAqIEltYWdlcyBhcmUgb3B0aW1pc2VkIGZvciBzaXplIGFuZCBpbWFnZSB0eXBlIGNvbXByZXNzaW9uIHZpYSB0aGUgZnJvbnRlbmQgVUlcbiAqXG4gKiBAY29udGV4dCBmaWdtYVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuZGVyRnJhbWVzKGZyYW1lSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBvdXRwdXROb2RlID0gZmlnbWEuY3JlYXRlRnJhbWUoKTtcbiAgb3V0cHV0Tm9kZS5uYW1lID0gXCJvdXRwdXRcIjtcblxuICB0cnkge1xuICAgIC8vIENsb25lIGVhY2ggc2VsZWN0ZWQgZnJhbWUgYWRkaW5nIHRoZW0gdG8gdGhlIHRlbXBvcmFyeSBjb250YWluZXIgZnJhbWVcbiAgICBjb25zdCBmcmFtZXMgPSBmaWdtYS5jdXJyZW50UGFnZS5maW5kQWxsKCh7IGlkIH0pID0+IGZyYW1lSWRzLmluY2x1ZGVzKGlkKSk7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIG1heCBkaW1lbnNpb25zIGZvciBvdXRwdXQgY29udGFpbmVyIGZyYW1lXG4gICAgY29uc3QgbWF4V2lkdGggPSBNYXRoLm1heCguLi5mcmFtZXMubWFwKChmKSA9PiBmLndpZHRoKSk7XG4gICAgY29uc3QgbWF4SGVpZ2h0ID0gTWF0aC5tYXgoLi4uZnJhbWVzLm1hcCgoZikgPT4gZi5oZWlnaHQpKTtcbiAgICBvdXRwdXROb2RlLnJlc2l6ZVdpdGhvdXRDb25zdHJhaW50cyhtYXhXaWR0aCwgbWF4SGVpZ2h0KTtcblxuICAgIGZvciAoY29uc3QgZnJhbWUgb2YgZnJhbWVzKSB7XG4gICAgICBjb25zdCBjbG9uZSA9IGZyYW1lPy5jbG9uZSgpIGFzIEZyYW1lTm9kZTtcblxuICAgICAgLy8gTk9URTogUHJldmlvdXNseSB0ZXh0IG5vZGVzIHdlcmUgcmVtb3ZlZCBoZXJlIGJ1dCB0aGlzIGNhdXNlZFxuICAgICAgLy8gd2lkdGggY2hhbmdlcyBpbiBhdXRvLWxheW91dC4gVGV4dCBpcyByZW1vdmVkIGFzIHBhcnQgb2YgdGhlXG4gICAgICAvLyBTVkcgb3B0aW1pc2F0aW9uIHN0ZXAuXG5cbiAgICAgIC8vIEFwcGVuZCBjbG9uZWQgZnJhbWUgdG8gdGVtcCBvdXRwdXQgZnJhbWUgYW5kIHBvc2l0aW9uIGluIHRvcCBsZWZ0XG4gICAgICBvdXRwdXROb2RlLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICAgIGNsb25lLnggPSAwO1xuICAgICAgY2xvbmUueSA9IDA7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBmcmFtZSBJRCBhcyBub2RlIG5hbWUgKGV4cG9ydGVkIGluIFNWRyBwcm9wcylcbiAgICAgIGNsb25lLm5hbWUgPSBmcmFtZS5pZDtcbiAgICB9XG5cbiAgICAvLyBGaW5kIGFsbCBub2RlcyB3aXRoIGltYWdlIGZpbGxzXG4gICAgY29uc3Qgbm9kZXNXaXRoSW1hZ2VzID0gb3V0cHV0Tm9kZS5maW5kQWxsKFxuICAgICAgKG5vZGUpID0+XG4gICAgICAgIHN1cHBvcnRzRmlsbHMobm9kZSkgJiZcbiAgICAgICAgbm9kZS5maWxscyAhPT0gZmlnbWEubWl4ZWQgJiZcbiAgICAgICAgbm9kZS5maWxscy5zb21lKChmaWxsKSA9PiBmaWxsLnR5cGUgPT09IFwiSU1BR0VcIilcbiAgICApO1xuXG4gICAgLy8gQSBzaW5nbGUgaW1hZ2UgY2FuIGJlIHVzZWQgbXVsdGlwbGUgdGltZXMgb24gZGlmZmVyZW50IG5vZGVzIGluIGRpZmZlcmVudFxuICAgIC8vIGZyYW1lcy4gVG8gZW5zdXJlIGltYWdlcyBhcmUgb25seSBvcHRpbWlzZWQgb25jZSBhIGNhY2hlIGlzIGNyZWF0ZWRcbiAgICAvLyBvZiB1bmlxdWUgaW1hZ2VzIGFuZCB1c2VkIHRvIHJlcGxhY2Ugb3JpZ2luYWwgYWZ0ZXIgdGhlIGFzeW5jIHByb2Nlc3NpbmdcbiAgICAvLyBpcyBjb21wbGV0ZWQuXG4gICAgY29uc3QgaW1hZ2VDYWNoZToge1xuICAgICAgW2lkOiBzdHJpbmddOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyOyBpZDogc3RyaW5nIH1bXTtcbiAgICB9ID0ge307XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXNXaXRoSW1hZ2VzKSB7XG4gICAgICBpZiAoc3VwcG9ydHNGaWxscyhub2RlKSAmJiBub2RlLmZpbGxzICE9PSBmaWdtYS5taXhlZCkge1xuICAgICAgICAvLyBUaGUgZnJvbnRlbmQgVUkgd2hpY2ggaGFuZGxlcyB0aGUgaW1hZ2Ugb3B0aW1pc2F0aW9uIG5lZWRzIHRvIGtub3dcbiAgICAgICAgLy8gdGhlIHNpemVzIG9mIGVhY2ggbm9kZSB0aGF0IHVzZXMgdGhlIGltYWdlLiBUaGUgZGltZW5zaW9ucyBhcmUgc3RvcmVkXG4gICAgICAgIC8vIHdpdGggdGhlIGltYWdlIGhhc2ggSUQgaW4gdGhlIGNhY2hlIGZvciBsYXRlciB1c2UuXG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgd2lkdGg6IG5vZGUud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBub2RlLmhlaWdodCxcbiAgICAgICAgICBpZDogbm9kZS5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW1nUGFpbnQgPSBbLi4ubm9kZS5maWxsc10uZmluZCgocCkgPT4gcC50eXBlID09PSBcIklNQUdFXCIpO1xuXG4gICAgICAgIGlmIChpbWdQYWludD8udHlwZSA9PT0gXCJJTUFHRVwiICYmIGltZ1BhaW50LmltYWdlSGFzaCkge1xuICAgICAgICAgIC8vIEFkZCB0aGUgaW1hZ2UgZGltZW5zaW9ucyB0byB0aGUgY2FjaGUsIG9yIHVwZGF0ZSBhbmQgZXhpc3RpbmcgY2FjaGVcbiAgICAgICAgICAvLyBpdGVtIHdpdGggYW5vdGhlciBub2RlcyBkaW1lbnNpb25zXG4gICAgICAgICAgaWYgKGltYWdlQ2FjaGVbaW1nUGFpbnQuaW1hZ2VIYXNoXSkge1xuICAgICAgICAgICAgaW1hZ2VDYWNoZVtpbWdQYWludC5pbWFnZUhhc2hdLnB1c2goZGltZW5zaW9ucyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGltYWdlQ2FjaGVbaW1nUGFpbnQuaW1hZ2VIYXNoXSA9IFtkaW1lbnNpb25zXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZW5kIGVhY2ggaW1hZ2UgZnJvbSB0aGUgaW1hZ2VDYWNoZSB0byB0aGUgZnJvbnRlbmQgZm9yIG9wdGltaXNhdGlvbi5cbiAgICAvLyBUaGUgb3BlcmF0aW9uIGlzIGFzeW5jIGFuZCBjYW4gdGFrZSBzb21lIHRpbWUgaWYgdGhlIGltYWdlcyBhcmUgbGFyZ2UuXG4gICAgZm9yIChjb25zdCBpbWFnZUhhc2ggaW4gaW1hZ2VDYWNoZSkge1xuICAgICAgY29uc3QgYnl0ZXMgPSBhd2FpdCBmaWdtYS5nZXRJbWFnZUJ5SGFzaChpbWFnZUhhc2gpLmdldEJ5dGVzQXN5bmMoKTtcbiAgICAgIGNvbnN0IGNvbXByZXNzZWRJbWFnZTogVWludDhBcnJheSA9IGF3YWl0IHBvc3RNYW4uc2VuZCh7XG4gICAgICAgIHdvcmtsb2FkOiBNU0dfRVZFTlRTLkNPTVBSRVNTX0lNQUdFLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaW1nRGF0YTogYnl0ZXMsXG4gICAgICAgICAgbm9kZURpbWVuc2lvbnM6IGltYWdlQ2FjaGVbaW1hZ2VIYXNoXSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTdG9yZSB0aGUgbmV3IGltYWdlIGluIGZpZ21hIGFuZCBnZXQgdGhlIG5ldyBpbWFnZSBoYXNoXG4gICAgICBjb25zdCBuZXdJbWFnZUhhc2ggPSBmaWdtYS5jcmVhdGVJbWFnZShjb21wcmVzc2VkSW1hZ2UpLmhhc2g7XG5cbiAgICAgIC8vIFVwZGF0ZSBub2RlcyB3aXRoIG5ldyBpbWFnZSBwYWludCBmaWxsXG4gICAgICBub2Rlc1dpdGhJbWFnZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAoc3VwcG9ydHNGaWxscyhub2RlKSAmJiBub2RlLmZpbGxzICE9PSBmaWdtYS5taXhlZCkge1xuICAgICAgICAgIGNvbnN0IGltZ1BhaW50ID0gWy4uLm5vZGUuZmlsbHNdLmZpbmQoXG4gICAgICAgICAgICAocCkgPT4gcC50eXBlID09PSBcIklNQUdFXCIgJiYgcC5pbWFnZUhhc2ggPT09IGltYWdlSGFzaFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoaW1nUGFpbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhaW50ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpbWdQYWludCkpO1xuICAgICAgICAgICAgbmV3UGFpbnQuaW1hZ2VIYXNoID0gbmV3SW1hZ2VIYXNoO1xuICAgICAgICAgICAgbm9kZS5maWxscyA9IFtuZXdQYWludF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBIQUNLISBGaWdtYSB0YWtlcyBzb21lIHRpbWUgdG8gdXBkYXRlIHRoZSBpbWFnZSBmaWxscy4gV2FpdGluZyBzb21lXG4gICAgLy8gYW1vdW50IGlzIHJlcXVpcmVkIG90aGVyd2lzZSB0aGUgaW1hZ2VzIGFwcGVhciBibGFuay5cbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDApKTtcblxuICAgIC8vIFJlbmRlciBvdXRwdXQgY29udGFpbmVyIGZyYW1lcyB0byBTVkcgbWFyay11cCAoaW4gYSB1aW50OCBieXRlIGFycmF5KVxuICAgIGNvbnN0IHN2ZyA9IGF3YWl0IG91dHB1dE5vZGUuZXhwb3J0QXN5bmMoe1xuICAgICAgZm9ybWF0OiBcIlNWR1wiLFxuICAgICAgc3ZnU2ltcGxpZnlTdHJva2U6IHRydWUsXG4gICAgICBzdmdPdXRsaW5lVGV4dDogZmFsc2UsXG4gICAgICBzdmdJZEF0dHJpYnV0ZTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHJldHVybiBzdmc7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIC8vIFJlbW92ZSB0aGUgb3V0cHV0IGZyYW1lIHdoYXRldmVyIGhhcHBlbnNcbiAgICBvdXRwdXROb2RlLnJlbW92ZSgpO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlLCB1cGRhdGUgb3IgZGVsZXRlIGhlYWRsaW5lIHRleHQgaW4gZmlnbWEgZG9jdW1lbnQgZnJvbSBwbHVnaW4gVUlcbiAqXG4gKiBAY29udGV4dCBmaWdtYVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGVhZGxpbmVzQW5kU291cmNlKHByb3BzOiBzZXRIZWFkbGluZXNBbmRTb3VyY2VQcm9wcyk6IHZvaWQge1xuICBjb25zdCBwYWdlTm9kZSA9IGZpZ21hLmN1cnJlbnRQYWdlO1xuICBjb25zdCBtb3N0TGVmdFBvcyA9IE1hdGgubWluKC4uLnBhZ2VOb2RlLmNoaWxkcmVuLm1hcCgobm9kZSkgPT4gbm9kZS54KSk7XG4gIGNvbnN0IG1vc3RUb3BQb3MgPSBNYXRoLm1pbiguLi5wYWdlTm9kZS5jaGlsZHJlbi5tYXAoKG5vZGUpID0+IG5vZGUueSkpO1xuXG4gIC8vIExvb3AgdGhyb3VnaCBlYWNoIGhlYWRsaW5lIG5vZGUgbmFtZXNcbiAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC52YWx1ZXMoSEVBRExJTkVfTk9ERV9OQU1FUykpIHtcbiAgICBsZXQgbm9kZSA9XG4gICAgICAocGFnZU5vZGUuZmluZENoaWxkKFxuICAgICAgICAobm9kZSkgPT4gbm9kZS5uYW1lID09PSBuYW1lICYmIG5vZGUudHlwZSA9PT0gXCJURVhUXCJcbiAgICAgICkgYXMgVGV4dE5vZGUpIHx8IG51bGw7XG4gICAgY29uc3QgdGV4dENvbnRlbnQgPSBwcm9wc1tuYW1lXTtcblxuICAgIC8vIFJlbW92ZSBub2RlIGlmIHRoZXJlJ3Mgbm8gdGV4dCBjb250ZW50XG4gICAgaWYgKG5vZGUgJiYgIXRleHRDb250ZW50KSB7XG4gICAgICBub2RlLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERvIG5vdGhpbmcgaXMgdGhlcmUncyBubyB0ZXh0IGNvbnRlbnRcbiAgICBpZiAoIXRleHRDb250ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5vZGUgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICBub2RlID0gZmlnbWEuY3JlYXRlVGV4dCgpO1xuICAgICAgbm9kZS5uYW1lID0gbmFtZTtcblxuICAgICAgLy8gUG9zaXRpb24gbmV3IHRleHQgbm9kZSB0b3AtbGVmdCBvZiB0aGUgZmlyc3QgZnJhbWUgaW4gdGhlIHBhZ2VcbiAgICAgIGxldCB5ID0gbW9zdFRvcFBvcyAtIDYwO1xuICAgICAgaWYgKG5hbWUgPT09IEhFQURMSU5FX05PREVfTkFNRVMuSEVBRExJTkUpIHtcbiAgICAgICAgeSAtPSA2MDtcbiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gSEVBRExJTkVfTk9ERV9OQU1FUy5TVUJIRUFEKSB7XG4gICAgICAgIHkgLT0gMzA7XG4gICAgICB9XG5cbiAgICAgIG5vZGUucmVsYXRpdmVUcmFuc2Zvcm0gPSBbXG4gICAgICAgIFsxLCAwLCBtb3N0TGVmdFBvc10sXG4gICAgICAgIFswLCAxLCB5XSxcbiAgICAgIF07XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIHRleHQgbm9kZSBpcyBsb2NrZWRcbiAgICBub2RlLmxvY2tlZCA9IHRydWU7XG5cbiAgICAvLyBMb2FkIGZvbnRcbiAgICBjb25zdCBmb250TmFtZSA9XG4gICAgICBub2RlLmZvbnROYW1lICE9PSBmaWdtYS5taXhlZCA/IG5vZGUuZm9udE5hbWUuZmFtaWx5IDogXCJSb2JvdG9cIjtcbiAgICBjb25zdCBmb250U3R5bGUgPVxuICAgICAgbm9kZS5mb250TmFtZSAhPT0gZmlnbWEubWl4ZWQgPyBub2RlLmZvbnROYW1lLnN0eWxlIDogXCJSZWd1bGFyXCI7XG4gICAgZmlnbWFcbiAgICAgIC5sb2FkRm9udEFzeW5jKHsgZmFtaWx5OiBmb250TmFtZSwgc3R5bGU6IGZvbnRTdHlsZSB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyBTZXQgdGV4dCBub2RlIGNvbnRlbnRcbiAgICAgICAgbm9kZS5jaGFyYWN0ZXJzID0gcHJvcHNbbmFtZV0gfHwgXCJcIjtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgZm9udFwiLCBlcnIpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvb3RGcmFtZXMoKTogSUZyYW1lRGF0YSB7XG4gIGNvbnN0IHsgY3VycmVudFBhZ2UgfSA9IGZpZ21hO1xuXG4gIGxldCBzZWxlY3RlZEZyYW1lcyA9IGN1cnJlbnRQYWdlLnNlbGVjdGlvbi5maWx0ZXIoXG4gICAgKG5vZGUpID0+IG5vZGUudHlwZSA9PT0gXCJGUkFNRVwiXG4gICkgYXMgRnJhbWVOb2RlW107XG5cbiAgaWYgKHNlbGVjdGVkRnJhbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHNlbGVjdGVkRnJhbWVzID0gY3VycmVudFBhZ2UuY2hpbGRyZW4uZmlsdGVyKFxuICAgICAgKG5vZGUpID0+IG5vZGUudHlwZSA9PT0gXCJGUkFNRVwiXG4gICAgKSBhcyBGcmFtZU5vZGVbXTtcbiAgfVxuXG4gIGNvbnN0IGZyYW1lc0RhdGEgPSBzZWxlY3RlZEZyYW1lcy5tYXAoKGZyYW1lKSA9PiB7XG4gICAgY29uc3QgeyBuYW1lLCB3aWR0aCwgaGVpZ2h0LCBpZCB9ID0gZnJhbWU7XG4gICAgY29uc3QgdGV4dE5vZGVzID0gZ2V0VGV4dE5vZGVzRnJvbUZyYW1lKGZyYW1lKTtcblxuICAgIGNvbnN0IGZpeGVkUG9zaXRpb25Ob2RlcyA9IGZyYW1lLmNoaWxkcmVuXG4gICAgICAuc2xpY2UoZnJhbWUuY2hpbGRyZW4ubGVuZ3RoIC0gZnJhbWUubnVtYmVyT2ZGaXhlZENoaWxkcmVuKVxuICAgICAgLm1hcCgobm9kZSkgPT4gbm9kZS5pZCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZSxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgaWQsXG4gICAgICB0ZXh0Tm9kZXMsXG4gICAgICBmaXhlZFBvc2l0aW9uTm9kZXMsXG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBmcmFtZXM6IGZyYW1lc0RhdGEsXG4gICAgaGVhZGxpbmU6IGdldE5vZGVUZXh0KGN1cnJlbnRQYWdlLCBIRUFETElORV9OT0RFX05BTUVTLkhFQURMSU5FKSxcbiAgICBzdWJoZWFkOiBnZXROb2RlVGV4dChjdXJyZW50UGFnZSwgSEVBRExJTkVfTk9ERV9OQU1FUy5IRUFETElORSksXG4gICAgc291cmNlOiBnZXROb2RlVGV4dChjdXJyZW50UGFnZSwgSEVBRExJTkVfTk9ERV9OQU1FUy5IRUFETElORSksXG4gIH07XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50ICovXG5pbXBvcnQgeyBoLCByZW5kZXIgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBpbmplY3RDc3MgfSBmcm9tIFwiLi91dGlscy9jc3NcIjtcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2NvbXBvbmVudHMvQXBwXCI7XG5pbXBvcnQgeyBwb3N0TWFuIH0gZnJvbSBcInV0aWxzL21lc3NhZ2VzXCI7XG5pbXBvcnQgeyBNU0dfRVZFTlRTIH0gZnJvbSBcImNvbnN0YW50c1wiO1xuaW1wb3J0IHsgY29tcHJlc3NJbWFnZSB9IGZyb20gXCJoZWxwZXJzXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uL3BhY2thZ2UuanNvblwiO1xuXG4vLyBJbXBvcnQgQ1NTIGZpbGVzIGFzIHBsYWluIHRleHQgdmlhIGVzYnVpbGQgbG9hZGVyIG9wdGlvblxuLy8gQHRzLWV4cGVjdC1lcnJvclxuaW1wb3J0IHVpQ3NzIGZyb20gXCIuL3VpLmNzc1wiO1xuLy8gQHRzLWV4cGVjdC1lcnJvclxuaW1wb3J0IGZvbnRzQ3NzIGZyb20gXCIuL2ZvbnRzLmNzc1wiO1xuLy8gQHRzLWV4cGVjdC1lcnJvclxuaW1wb3J0IGVtYmVkQ3NzIGZyb20gXCIuL2VtYmVkLmNzc1wiO1xuXG5pbmplY3RDc3ModWlDc3MpO1xuaW5qZWN0Q3NzKGVtYmVkQ3NzKTtcbmluamVjdENzcyhmb250c0Nzcyk7XG5cbi8vIFJlZ2lzdGVyIHBvc3QgbWVzc2FnZSB3b3JrZXJzXG5wb3N0TWFuLnJlZ2lzdGVyV29ya2VyKE1TR19FVkVOVFMuQ09NUFJFU1NfSU1BR0UsIGNvbXByZXNzSW1hZ2UpO1xuXG4vLyBSZW5kZXIgYXBwXG5yZW5kZXIoPEFwcCB2ZXJzaW9uPXt2ZXJz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O0FBQUEsTUFBRztBQUFBO0FBRy9ELFFBQUksT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUM1RDtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUE7QUFHMUQsUUFBSSxRQUFRO0FBQUEsTUFDVjtBQUFBLE1BQUc7QUFBQSxNQUFHO0FBQUEsTUFBRztBQUFBLE1BQUc7QUFBQSxNQUFHO0FBQUEsTUFBRztBQUFBLE1BQUc7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSztBQUFBLE1BQ3REO0FBQUEsTUFBSztBQUFBLE1BQUs7QUFBQSxNQUFLO0FBQUEsTUFBSztBQUFBLE1BQU07QUFBQSxNQUFNO0FBQUEsTUFBTTtBQUFBLE1BQU07QUFBQSxNQUFNO0FBQUEsTUFDbEQ7QUFBQSxNQUFNO0FBQUEsTUFBTztBQUFBLE1BQU87QUFBQSxNQUFPO0FBQUEsTUFBRztBQUFBO0FBR2hDLFFBQUksT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUFJO0FBQUEsTUFBSTtBQUFBLE1BQUk7QUFBQSxNQUM1RDtBQUFBLE1BQUk7QUFBQSxNQUFJO0FB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LEdBQUc7QUFBSyxtQkFBRyxHQUFHO0FBQUssbUJBQUcsR0FBRztBQUFBO0FBQ3RDLGdCQUFHLFNBQVE7QUFBRyx1QkFBUSxLQUFFLEdBQUcsS0FBRSxNQUFNO0FBQVEsb0JBQUksS0FBRyxNQUFHLEdBQUcsS0FBRyxLQUFFO0FBQUksbUJBQUcsTUFBTSxLQUFLO0FBQU0sbUJBQUcsS0FBRyxLQUFLLEtBQUssS0FBRztBQUFLLG1CQUFHLEtBQUcsS0FBSyxLQUFLLEtBQUc7QUFBSyxtQkFBRyxLQUFHLEtBQUs7QUFDL0ksb0JBQUcsTUFBSSxNQUFNLEtBQUssT0FBUSxNQUFNLEtBQUssS0FBRyxNQUFPLE1BQU0sS0FBSyxLQUFHLE1BQU87QUFBSSxxQkFBRyxLQUFHLEtBQUs7QUFBQTtBQUNwRixnQkFBRyxTQUFPO0FBQUksdUJBQVEsS0FBRSxHQUFHLEtBQUUsTUFBTTtBQUFRLG9CQUFJLEtBQUcsTUFBRyxHQUFHLEtBQUcsS0FBRTtBQUFJLG1CQUFHLE1BQU0sS0FBSztBQUFNLG1CQUFHLEtBQUcsS0FBSyxLQUFLLEtBQUc7QUFBSyxtQkFBRyxLQUFHLEtBQUssS0FBSyxLQUFHO0FBQUssbUJBQUcsS0FBRyxLQUFLO0FBQy9JLG9CQUFHLE1BQUksTUFBTSxHQUFHLE1BQUssT0FBSyxNQUFNLEdBQUcsTUFBSyxLQUFHLE1BQUksTUFBTSxHQUFHLE1BQUssS0FBRyxNQUFJO0FBQUkscUJBQUcsS0FBRyxLQUFLO0FBQUE7QUFBQSxxQkFFN0UsU0FBTztBQUNkLGdCQUFJLEtBQUUsSUFBSSxLQUFLLFNBQVMsS0FBRyxJQUFJLEtBQUssU0FBUyxLQUFHLEtBQUcsR0FBRyxTQUFPO0FBRTdELGdCQUFHLFNBQU87QUFBRyx1QkFBUSxLQUFFLEdBQUcsS0FBRSxJQUFHO0FBQVEsb0JBQUksS0FBSyxLQUFFLEtBQUssS0FBSyxLQUFFO0FBQzdELHlCQUFRLEtBQUUsR0FBRyxLQUFFLElBQUc7QUFBTyxzQkFBSSxLQUFJLEtBQUcsTUFBSSxHQUFHLEtBQUksS0FBSyxLQUFJLE9BQUcsT0FBTSxJQUFJLE9BQUUs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QUFLLG1CQUFLLEtBQUcsTUFBTSxJQUFJLEtBQUU7QUFDL0MscUJBQVEsS0FBRSxLQUFLLEtBQUUsS0FBSztBQUFLLG1CQUFLLEtBQUcsTUFBTSxJQUFJLEtBQUUsTUFBRyxJQUFJLEtBQUUsS0FBRSxPQUFLLE1BQUs7QUFBQSxxQkFFN0QsTUFBRztBQUNWLHFCQUFRLEtBQUksR0FBRyxLQUFFLEtBQUs7QUFBSyxtQkFBSyxLQUFHLE1BQUssSUFBSSxLQUFFO0FBRTlDLGdCQUFHLFFBQU07QUFBRyx1QkFBUSxLQUFFLEtBQUssS0FBRSxLQUFLO0FBQUsscUJBQUssS0FBRyxNQUFLLElBQUksS0FBRTtBQUMxRCxnQkFBRyxRQUFNO0FBQUcsdUJBQVEsS0FBRSxLQUFLLEtBQUUsS0FBSztBQUFLLHFCQUFLLEtBQUcsTUFBTSxJQUFJLEtBQUUsTUFBTSxLQUFJLEtBQUUsS0FBRSxRQUFNLEtBQUksTUFBSztBQUN4RixnQkFBRyxRQUFNO0FBQUcsdUJBQVEsS0FBRSxLQUFLLEtBQUUsS0FBSztBQUFLLHFCQUFLLEtBQUcsTUFBTSxJQUFJLEtBQUUsTUFBSyxNQUFNLElBQUksS0FBRSxLQUFFLE1BQU0sR0FBRyxLQUFJLE1BQUs7QUFBQTtBQUdoRyxnQkFBRyxRQUFNO0FBQUssdUJBQVEsS0FBSSxHQUFHLEtBQUUsS0FBSztBQUFLLHFCQUFLLEtBQUcsTUFBTSxJQUFJLEtBQUUsTUFBRyxNQUFNLElBQUksS0FBRSxLQUFFLE9BQU07QUFBQTtBQUNwRixnQkFBRyxRQUFNO0FBQUssdUJBQVEsS0FBSSxHQUFHLEtBQUUsS0FBSztBQUFLLHFCQUFLLEtBQUcsTUFBTSxJQUFJLEtBQUUsTUFBRyxNQUFPLEtBQUksS0FBRSxLQUFFLFFBQU0sS0FBSTtBQUNwRix1QkFBUSxLQUFFLEtBQUssS0FBRSxLQUFLO0FBQUsscUJBQUssS0FBRyxNQUFNLElBQUksS0FBRSxNQUFHLE1BQVEsS0FBSSxLQUFFLEtBQUUsT0FBSyxJQUFJLEtBQUUsS0FBRSxRQUFPLEtBQUk7QUFBQTtBQUMvRixnQkFBRyxRQUFNO0FBQUssdUJB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</script>
